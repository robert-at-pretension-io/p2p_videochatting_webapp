{
  "version": 3,
  "sources": ["../../home/robert/p2p_videochatting_webapp/.netlify/server/chunks/index-08869495.js", "../../home/robert/p2p_videochatting_webapp/node_modules/cookie/index.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/app.js", "../../home/robert/p2p_videochatting_webapp/.netlify/multipart-parser-e24c3004.js", "../../home/robert/p2p_videochatting_webapp/.netlify/handler-a3623ede.js", "../../home/robert/p2p_videochatting_webapp/.netlify/handler.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/chunks/load_user_data-ba355a80.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/pages/__layout.svelte.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/nodes/0.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/pages/error.svelte.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/nodes/1.js", "../../home/robert/p2p_videochatting_webapp/node_modules/@sindresorhus/is/dist/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/p-cancelable/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/defer-to-connect/dist/source/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/@szmarczak/http-timer/dist/source/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/cacheable-lookup/source/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/normalize-url/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/wrappy/wrappy.js", "../../home/robert/p2p_videochatting_webapp/node_modules/once/once.js", "../../home/robert/p2p_videochatting_webapp/node_modules/end-of-stream/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/pump/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/get-stream/buffer-stream.js", "../../home/robert/p2p_videochatting_webapp/node_modules/get-stream/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http-cache-semantics/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/lowercase-keys/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/responselike/src/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/mimic-response/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/clone-response/src/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/json-buffer/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/keyv/src/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/cacheable-request/src/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/decompress-response/node_modules/mimic-response/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/decompress-response/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/quick-lru/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/agent.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/incoming-message.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/utils/url-to-options.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/utils/proxy-events.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/utils/errors.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/client-request.js", "../../home/robert/p2p_videochatting_webapp/node_modules/resolve-alpn/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/utils/calculate-server-name.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/auto.js", "../../home/robert/p2p_videochatting_webapp/node_modules/http2-wrapper/source/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/is-form-data.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/get-body-size.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/proxy-events.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/unhandle.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/timed-out.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/url-to-options.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/options-to-url.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/weakable-map.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/get-buffer.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/dns-ip-version.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/utils/is-response-ok.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/utils/deprecation-warning.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/as-promise/normalize-arguments.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/calculate-retry-delay.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/core/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/as-promise/types.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/as-promise/parse-body.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/as-promise/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/as-promise/create-rejection.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/utils/deep-freeze.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/types.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/create.js", "../../home/robert/p2p_videochatting_webapp/node_modules/got/dist/source/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/async-limiter/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/buffer-util.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/constants.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/permessage-deflate.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/event-target.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/extension.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/validation.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/receiver.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/sender.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/websocket.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/lib/websocket-server.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ws/index.js", "../../home/robert/p2p_videochatting_webapp/node_modules/ably/browser/static/ably-node.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/pages/index.svelte.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/nodes/2.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/pages/account.svelte.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/nodes/3.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/endpoints/ably_auth.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/endpoints/callback.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/endpoints/logout.js", "../../home/robert/p2p_videochatting_webapp/.netlify/server/entries/endpoints/login.js", "../../home/robert/p2p_videochatting_webapp/.netlify/functions-internal/render.js"],
  "sourceRoot": "/tmp/tmp-20305-ZFIk6rikMXbE",
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n__export(exports, {\n  a: () => safe_not_equal,\n  b: () => subscribe,\n  c: () => create_ssr_component,\n  d: () => add_attribute,\n  e: () => escape,\n  m: () => missing_component,\n  n: () => noop,\n  s: () => setContext,\n  v: () => validate_component\n});\nfunction noop() {\n}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || (a && typeof a === \"object\" || typeof a === \"function\");\n}\nfunction subscribe(store, ...callbacks) {\n  if (store == null) {\n    return noop;\n  }\n  const unsub = store.subscribe(...callbacks);\n  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component)\n    throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction setContext(key, context) {\n  get_current_component().$$.context.set(key, context);\n}\nPromise.resolve();\nconst boolean_attributes = new Set([\n  \"allowfullscreen\",\n  \"allowpaymentrequest\",\n  \"async\",\n  \"autofocus\",\n  \"autoplay\",\n  \"checked\",\n  \"controls\",\n  \"default\",\n  \"defer\",\n  \"disabled\",\n  \"formnovalidate\",\n  \"hidden\",\n  \"ismap\",\n  \"loop\",\n  \"multiple\",\n  \"muted\",\n  \"nomodule\",\n  \"novalidate\",\n  \"open\",\n  \"playsinline\",\n  \"readonly\",\n  \"required\",\n  \"reversed\",\n  \"selected\"\n]);\nconst escaped = {\n  '\"': \"&quot;\",\n  \"'\": \"&#39;\",\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\"\n};\nfunction escape(html) {\n  return String(html).replace(/[\"'&<>]/g, (match) => escaped[match]);\n}\nconst missing_component = {\n  $$render: () => \"\"\n};\nfunction validate_component(component, name) {\n  if (!component || !component.$$render) {\n    if (name === \"svelte:component\")\n      name += \" this={...}\";\n    throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n  }\n  return component;\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n  function $$render(result, props, bindings, slots, context) {\n    const parent_component = current_component;\n    const $$ = {\n      on_destroy,\n      context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n      on_mount: [],\n      before_update: [],\n      after_update: [],\n      callbacks: blank_object()\n    };\n    set_current_component({ $$ });\n    const html = fn(result, props, bindings, slots);\n    set_current_component(parent_component);\n    return html;\n  }\n  return {\n    render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n      on_destroy = [];\n      const result = { title: \"\", head: \"\", css: new Set() };\n      const html = $$render(result, props, {}, $$slots, context);\n      run_all(on_destroy);\n      return {\n        html,\n        css: {\n          code: Array.from(result.css).map((css) => css.code).join(\"\\n\"),\n          map: null\n        },\n        head: result.title + result.head\n      };\n    },\n    $$render\n  };\n}\nfunction add_attribute(name, value, boolean) {\n  if (value == null || boolean && !value)\n    return \"\";\n  return ` ${name}${value === true && boolean_attributes.has(name) ? \"\" : `=${typeof value === \"string\" ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\n", "/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  App: () => App,\n  override: () => override\n});\nvar import_index_08869495 = __toModule(require(\"./chunks/index-08869495.js\"));\nvar import_cookie = __toModule(require(\"cookie\"));\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _map;\nfunction get_single_valued_header(headers, key) {\n  const value = headers[key];\n  if (Array.isArray(value)) {\n    if (value.length === 0) {\n      return void 0;\n    }\n    if (value.length > 1) {\n      throw new Error(`Multiple headers provided for ${key}. Multiple may be provided only for set-cookie`);\n    }\n    return value[0];\n  }\n  return value;\n}\nfunction lowercase_keys(obj) {\n  const clone = {};\n  for (const key in obj) {\n    clone[key.toLowerCase()] = obj[key];\n  }\n  return clone;\n}\nfunction decode_params(params) {\n  for (const key in params) {\n    params[key] = params[key].replace(/%23/g, \"#\").replace(/%3[Bb]/g, \";\").replace(/%2[Cc]/g, \",\").replace(/%2[Ff]/g, \"/\").replace(/%3[Ff]/g, \"?\").replace(/%3[Aa]/g, \":\").replace(/%40/g, \"@\").replace(/%26/g, \"&\").replace(/%3[Dd]/g, \"=\").replace(/%2[Bb]/g, \"+\").replace(/%24/g, \"$\");\n  }\n  return params;\n}\nfunction error(body) {\n  return {\n    status: 500,\n    body,\n    headers: {}\n  };\n}\nfunction is_string(s2) {\n  return typeof s2 === \"string\" || s2 instanceof String;\n}\nconst text_types = new Set([\n  \"application/xml\",\n  \"application/json\",\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\"\n]);\nfunction is_text(content_type) {\n  if (!content_type)\n    return true;\n  const type = content_type.split(\";\")[0].toLowerCase();\n  return type.startsWith(\"text/\") || type.endsWith(\"+xml\") || text_types.has(type);\n}\nasync function render_endpoint(request, route, match) {\n  const mod = await route.load();\n  const handler = mod[request.method.toLowerCase().replace(\"delete\", \"del\")];\n  if (!handler) {\n    return;\n  }\n  request.params = route.params ? decode_params(route.params(match)) : {};\n  const response = await handler(request);\n  const preface = `Invalid response from route ${request.url.pathname}`;\n  if (!response) {\n    return;\n  }\n  if (typeof response !== \"object\") {\n    return error(`${preface}: expected an object, got ${typeof response}`);\n  }\n  let { status = 200, body, headers = {} } = response;\n  headers = lowercase_keys(headers);\n  const type = get_single_valued_header(headers, \"content-type\");\n  if (!is_text(type) && !(body instanceof Uint8Array || is_string(body))) {\n    return error(`${preface}: body must be an instance of string or Uint8Array if content-type is not a supported textual content-type`);\n  }\n  let normalized_body;\n  if ((typeof body === \"object\" || typeof body === \"undefined\") && !(body instanceof Uint8Array) && (!type || type.startsWith(\"application/json\"))) {\n    headers = __spreadProps(__spreadValues({}, headers), { \"content-type\": \"application/json; charset=utf-8\" });\n    normalized_body = JSON.stringify(typeof body === \"undefined\" ? {} : body);\n  } else {\n    normalized_body = body;\n  }\n  return { status, body: normalized_body, headers };\n}\nvar chars = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$\";\nvar unsafeChars = /[<>\\b\\f\\n\\r\\t\\0\\u2028\\u2029]/g;\nvar reserved = /^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;\nvar escaped = {\n  \"<\": \"\\\\u003C\",\n  \">\": \"\\\\u003E\",\n  \"/\": \"\\\\u002F\",\n  \"\\\\\": \"\\\\\\\\\",\n  \"\\b\": \"\\\\b\",\n  \"\\f\": \"\\\\f\",\n  \"\\n\": \"\\\\n\",\n  \"\\r\": \"\\\\r\",\n  \"\t\": \"\\\\t\",\n  \"\\0\": \"\\\\0\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nvar objectProtoOwnPropertyNames = Object.getOwnPropertyNames(Object.prototype).sort().join(\"\\0\");\nfunction devalue(value) {\n  var counts = new Map();\n  function walk(thing) {\n    if (typeof thing === \"function\") {\n      throw new Error(\"Cannot stringify a function\");\n    }\n    if (counts.has(thing)) {\n      counts.set(thing, counts.get(thing) + 1);\n      return;\n    }\n    counts.set(thing, 1);\n    if (!isPrimitive(thing)) {\n      var type = getType(thing);\n      switch (type) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n        case \"Date\":\n        case \"RegExp\":\n          return;\n        case \"Array\":\n          thing.forEach(walk);\n          break;\n        case \"Set\":\n        case \"Map\":\n          Array.from(thing).forEach(walk);\n          break;\n        default:\n          var proto = Object.getPrototypeOf(thing);\n          if (proto !== Object.prototype && proto !== null && Object.getOwnPropertyNames(proto).sort().join(\"\\0\") !== objectProtoOwnPropertyNames) {\n            throw new Error(\"Cannot stringify arbitrary non-POJOs\");\n          }\n          if (Object.getOwnPropertySymbols(thing).length > 0) {\n            throw new Error(\"Cannot stringify POJOs with symbolic keys\");\n          }\n          Object.keys(thing).forEach(function(key) {\n            return walk(thing[key]);\n          });\n      }\n    }\n  }\n  walk(value);\n  var names = new Map();\n  Array.from(counts).filter(function(entry) {\n    return entry[1] > 1;\n  }).sort(function(a, b) {\n    return b[1] - a[1];\n  }).forEach(function(entry, i) {\n    names.set(entry[0], getName(i));\n  });\n  function stringify(thing) {\n    if (names.has(thing)) {\n      return names.get(thing);\n    }\n    if (isPrimitive(thing)) {\n      return stringifyPrimitive(thing);\n    }\n    var type = getType(thing);\n    switch (type) {\n      case \"Number\":\n      case \"String\":\n      case \"Boolean\":\n        return \"Object(\" + stringify(thing.valueOf()) + \")\";\n      case \"RegExp\":\n        return \"new RegExp(\" + stringifyString(thing.source) + ', \"' + thing.flags + '\")';\n      case \"Date\":\n        return \"new Date(\" + thing.getTime() + \")\";\n      case \"Array\":\n        var members = thing.map(function(v, i) {\n          return i in thing ? stringify(v) : \"\";\n        });\n        var tail = thing.length === 0 || thing.length - 1 in thing ? \"\" : \",\";\n        return \"[\" + members.join(\",\") + tail + \"]\";\n      case \"Set\":\n      case \"Map\":\n        return \"new \" + type + \"([\" + Array.from(thing).map(stringify).join(\",\") + \"])\";\n      default:\n        var obj = \"{\" + Object.keys(thing).map(function(key) {\n          return safeKey(key) + \":\" + stringify(thing[key]);\n        }).join(\",\") + \"}\";\n        var proto = Object.getPrototypeOf(thing);\n        if (proto === null) {\n          return Object.keys(thing).length > 0 ? \"Object.assign(Object.create(null),\" + obj + \")\" : \"Object.create(null)\";\n        }\n        return obj;\n    }\n  }\n  var str = stringify(value);\n  if (names.size) {\n    var params_1 = [];\n    var statements_1 = [];\n    var values_1 = [];\n    names.forEach(function(name, thing) {\n      params_1.push(name);\n      if (isPrimitive(thing)) {\n        values_1.push(stringifyPrimitive(thing));\n        return;\n      }\n      var type = getType(thing);\n      switch (type) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n          values_1.push(\"Object(\" + stringify(thing.valueOf()) + \")\");\n          break;\n        case \"RegExp\":\n          values_1.push(thing.toString());\n          break;\n        case \"Date\":\n          values_1.push(\"new Date(\" + thing.getTime() + \")\");\n          break;\n        case \"Array\":\n          values_1.push(\"Array(\" + thing.length + \")\");\n          thing.forEach(function(v, i) {\n            statements_1.push(name + \"[\" + i + \"]=\" + stringify(v));\n          });\n          break;\n        case \"Set\":\n          values_1.push(\"new Set\");\n          statements_1.push(name + \".\" + Array.from(thing).map(function(v) {\n            return \"add(\" + stringify(v) + \")\";\n          }).join(\".\"));\n          break;\n        case \"Map\":\n          values_1.push(\"new Map\");\n          statements_1.push(name + \".\" + Array.from(thing).map(function(_a) {\n            var k = _a[0], v = _a[1];\n            return \"set(\" + stringify(k) + \", \" + stringify(v) + \")\";\n          }).join(\".\"));\n          break;\n        default:\n          values_1.push(Object.getPrototypeOf(thing) === null ? \"Object.create(null)\" : \"{}\");\n          Object.keys(thing).forEach(function(key) {\n            statements_1.push(\"\" + name + safeProp(key) + \"=\" + stringify(thing[key]));\n          });\n      }\n    });\n    statements_1.push(\"return \" + str);\n    return \"(function(\" + params_1.join(\",\") + \"){\" + statements_1.join(\";\") + \"}(\" + values_1.join(\",\") + \"))\";\n  } else {\n    return str;\n  }\n}\nfunction getName(num) {\n  var name = \"\";\n  do {\n    name = chars[num % chars.length] + name;\n    num = ~~(num / chars.length) - 1;\n  } while (num >= 0);\n  return reserved.test(name) ? name + \"_\" : name;\n}\nfunction isPrimitive(thing) {\n  return Object(thing) !== thing;\n}\nfunction stringifyPrimitive(thing) {\n  if (typeof thing === \"string\")\n    return stringifyString(thing);\n  if (thing === void 0)\n    return \"void 0\";\n  if (thing === 0 && 1 / thing < 0)\n    return \"-0\";\n  var str = String(thing);\n  if (typeof thing === \"number\")\n    return str.replace(/^(-)?0\\./, \"$1.\");\n  return str;\n}\nfunction getType(thing) {\n  return Object.prototype.toString.call(thing).slice(8, -1);\n}\nfunction escapeUnsafeChar(c) {\n  return escaped[c] || c;\n}\nfunction escapeUnsafeChars(str) {\n  return str.replace(unsafeChars, escapeUnsafeChar);\n}\nfunction safeKey(key) {\n  return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key) ? key : escapeUnsafeChars(JSON.stringify(key));\n}\nfunction safeProp(key) {\n  return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key) ? \".\" + key : \"[\" + escapeUnsafeChars(JSON.stringify(key)) + \"]\";\n}\nfunction stringifyString(str) {\n  var result = '\"';\n  for (var i = 0; i < str.length; i += 1) {\n    var char = str.charAt(i);\n    var code = char.charCodeAt(0);\n    if (char === '\"') {\n      result += '\\\\\"';\n    } else if (char in escaped) {\n      result += escaped[char];\n    } else if (code >= 55296 && code <= 57343) {\n      var next = str.charCodeAt(i + 1);\n      if (code <= 56319 && (next >= 56320 && next <= 57343)) {\n        result += char + str[++i];\n      } else {\n        result += \"\\\\u\" + code.toString(16).toUpperCase();\n      }\n    } else {\n      result += char;\n    }\n  }\n  result += '\"';\n  return result;\n}\nfunction noop() {\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || (a && typeof a === \"object\" || typeof a === \"function\");\n}\nPromise.resolve();\nconst subscriber_queue = [];\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = new Set();\n  function set(new_value) {\n    if (safe_not_equal(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        const run_queue = !subscriber_queue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriber_queue.push(subscriber, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n  function update(fn) {\n    set(fn(value));\n  }\n  function subscribe(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n  return { set, update, subscribe };\n}\nfunction coalesce_to_error(err) {\n  return err instanceof Error || err && err.name && err.message ? err : new Error(JSON.stringify(err));\n}\nfunction hash(value) {\n  let hash2 = 5381;\n  let i = value.length;\n  if (typeof value === \"string\") {\n    while (i)\n      hash2 = hash2 * 33 ^ value.charCodeAt(--i);\n  } else {\n    while (i)\n      hash2 = hash2 * 33 ^ value[--i];\n  }\n  return (hash2 >>> 0).toString(36);\n}\nconst escape_json_string_in_html_dict = {\n  '\"': '\\\\\"',\n  \"<\": \"\\\\u003C\",\n  \">\": \"\\\\u003E\",\n  \"/\": \"\\\\u002F\",\n  \"\\\\\": \"\\\\\\\\\",\n  \"\\b\": \"\\\\b\",\n  \"\\f\": \"\\\\f\",\n  \"\\n\": \"\\\\n\",\n  \"\\r\": \"\\\\r\",\n  \"\t\": \"\\\\t\",\n  \"\\0\": \"\\\\0\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nfunction escape_json_string_in_html(str) {\n  return escape(str, escape_json_string_in_html_dict, (code) => `\\\\u${code.toString(16).toUpperCase()}`);\n}\nconst escape_html_attr_dict = {\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\"\n};\nfunction escape_html_attr(str) {\n  return '\"' + escape(str, escape_html_attr_dict, (code) => `&#${code};`) + '\"';\n}\nfunction escape(str, dict, unicode_encoder) {\n  let result = \"\";\n  for (let i = 0; i < str.length; i += 1) {\n    const char = str.charAt(i);\n    const code = char.charCodeAt(0);\n    if (char in dict) {\n      result += dict[char];\n    } else if (code >= 55296 && code <= 57343) {\n      const next = str.charCodeAt(i + 1);\n      if (code <= 56319 && next >= 56320 && next <= 57343) {\n        result += char + str[++i];\n      } else {\n        result += unicode_encoder(code);\n      }\n    } else {\n      result += char;\n    }\n  }\n  return result;\n}\nconst s = JSON.stringify;\nasync function render_response({\n  branch,\n  options,\n  $session,\n  page_config,\n  status,\n  error: error2,\n  url,\n  params\n}) {\n  const css2 = new Set(options.manifest._.entry.css);\n  const js = new Set(options.manifest._.entry.js);\n  const styles = new Set();\n  const serialized_data = [];\n  let rendered;\n  let is_private = false;\n  let maxage;\n  if (error2) {\n    error2.stack = options.get_stack(error2);\n  }\n  if (page_config.ssr) {\n    branch.forEach(({ node, loaded, fetched, uses_credentials }) => {\n      if (node.css)\n        node.css.forEach((url2) => css2.add(url2));\n      if (node.js)\n        node.js.forEach((url2) => js.add(url2));\n      if (node.styles)\n        node.styles.forEach((content) => styles.add(content));\n      if (fetched && page_config.hydrate)\n        serialized_data.push(...fetched);\n      if (uses_credentials)\n        is_private = true;\n      maxage = loaded.maxage;\n    });\n    const session = writable($session);\n    const props = {\n      stores: {\n        page: writable(null),\n        navigating: writable(null),\n        session\n      },\n      page: { url, params, status, error: error2 },\n      components: branch.map(({ node }) => node.module.default)\n    };\n    const print_error = (property, replacement) => {\n      Object.defineProperty(props.page, property, {\n        get: () => {\n          throw new Error(`$page.${property} has been replaced by $page.url.${replacement}`);\n        }\n      });\n    };\n    print_error(\"origin\", \"origin\");\n    print_error(\"path\", \"pathname\");\n    print_error(\"query\", \"searchParams\");\n    for (let i = 0; i < branch.length; i += 1) {\n      props[`props_${i}`] = await branch[i].loaded.props;\n    }\n    let session_tracking_active = false;\n    const unsubscribe = session.subscribe(() => {\n      if (session_tracking_active)\n        is_private = true;\n    });\n    session_tracking_active = true;\n    try {\n      rendered = options.root.render(props);\n    } finally {\n      unsubscribe();\n    }\n  } else {\n    rendered = { head: \"\", html: \"\", css: { code: \"\", map: null } };\n  }\n  const include_js = page_config.router || page_config.hydrate;\n  if (!include_js)\n    js.clear();\n  const links = options.amp ? styles.size > 0 || rendered.css.code.length > 0 ? `<style amp-custom>${Array.from(styles).concat(rendered.css.code).join(\"\\n\")}</style>` : \"\" : [\n    ...Array.from(css2).map((dep) => `<link rel=\"stylesheet\" href=\"${options.prefix}${dep}\">`),\n    ...Array.from(js).map((dep) => `<link rel=\"modulepreload\" href=\"${options.prefix}${dep}\">`)\n  ].join(\"\\n\t\t\");\n  let init = \"\";\n  if (options.amp) {\n    init = `\n\t\t<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>\n\t\t<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\t\t<script async src=\"https://cdn.ampproject.org/v0.js\"><\\/script>`;\n    init += options.service_worker ? '<script async custom-element=\"amp-install-serviceworker\" src=\"https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js\"><\\/script>' : \"\";\n  } else if (include_js) {\n    init = `<script type=\"module\">\n\t\t\timport { start } from ${s(options.prefix + options.manifest._.entry.file)};\n\t\t\tstart({\n\t\t\t\ttarget: ${options.target ? `document.querySelector(${s(options.target)})` : \"document.body\"},\n\t\t\t\tpaths: ${s(options.paths)},\n\t\t\t\tsession: ${try_serialize($session, (error3) => {\n      throw new Error(`Failed to serialize session data: ${error3.message}`);\n    })},\n\t\t\t\troute: ${!!page_config.router},\n\t\t\t\tspa: ${!page_config.ssr},\n\t\t\t\ttrailing_slash: ${s(options.trailing_slash)},\n\t\t\t\thydrate: ${page_config.ssr && page_config.hydrate ? `{\n\t\t\t\t\tstatus: ${status},\n\t\t\t\t\terror: ${serialize_error(error2)},\n\t\t\t\t\tnodes: [\n\t\t\t\t\t\t${(branch || []).map(({ node }) => `import(${s(options.prefix + node.entry)})`).join(\",\\n\t\t\t\t\t\t\")}\n\t\t\t\t\t],\n\t\t\t\t\turl: new URL(${s(url.href)}),\n\t\t\t\t\tparams: ${devalue(params)}\n\t\t\t\t}` : \"null\"}\n\t\t\t});\n\t\t<\\/script>`;\n  }\n  if (options.service_worker && !options.amp) {\n    init += `<script>\n\t\t\tif ('serviceWorker' in navigator) {\n\t\t\t\tnavigator.serviceWorker.register('${options.service_worker}');\n\t\t\t}\n\t\t<\\/script>`;\n  }\n  const head = [\n    rendered.head,\n    styles.size && !options.amp ? `<style data-svelte>${Array.from(styles).join(\"\\n\")}</style>` : \"\",\n    links,\n    init\n  ].join(\"\\n\\n\t\t\");\n  let body = rendered.html;\n  if (options.amp) {\n    if (options.service_worker) {\n      body += `<amp-install-serviceworker src=\"${options.service_worker}\" layout=\"nodisplay\"></amp-install-serviceworker>`;\n    }\n  } else {\n    body += serialized_data.map(({ url: url2, body: body2, json }) => {\n      let attributes = `type=\"application/json\" data-type=\"svelte-data\" data-url=${escape_html_attr(url2)}`;\n      if (body2)\n        attributes += ` data-body=\"${hash(body2)}\"`;\n      return `<script ${attributes}>${json}<\\/script>`;\n    }).join(\"\\n\\n\t\");\n  }\n  const headers = {\n    \"content-type\": \"text/html\"\n  };\n  if (maxage) {\n    headers[\"cache-control\"] = `${is_private ? \"private\" : \"public\"}, max-age=${maxage}`;\n  }\n  if (!options.floc) {\n    headers[\"permissions-policy\"] = \"interest-cohort=()\";\n  }\n  const segments = url.pathname.slice(options.paths.base.length).split(\"/\").slice(2);\n  const assets2 = options.paths.assets || (segments.length > 0 ? segments.map(() => \"..\").join(\"/\") : \".\");\n  return {\n    status,\n    headers,\n    body: options.template({\n      head,\n      body,\n      assets: assets2\n    })\n  };\n}\nfunction try_serialize(data, fail) {\n  try {\n    return devalue(data);\n  } catch (err) {\n    if (fail)\n      fail(coalesce_to_error(err));\n    return null;\n  }\n}\nfunction serialize_error(error2) {\n  if (!error2)\n    return null;\n  let serialized = try_serialize(error2);\n  if (!serialized) {\n    const { name, message, stack } = error2;\n    serialized = try_serialize(__spreadProps(__spreadValues({}, error2), { name, message, stack }));\n  }\n  if (!serialized) {\n    serialized = \"{}\";\n  }\n  return serialized;\n}\nfunction normalize(loaded) {\n  const has_error_status = loaded.status && loaded.status >= 400 && loaded.status <= 599 && !loaded.redirect;\n  if (loaded.error || has_error_status) {\n    const status = loaded.status;\n    if (!loaded.error && has_error_status) {\n      return {\n        status: status || 500,\n        error: new Error()\n      };\n    }\n    const error2 = typeof loaded.error === \"string\" ? new Error(loaded.error) : loaded.error;\n    if (!(error2 instanceof Error)) {\n      return {\n        status: 500,\n        error: new Error(`\"error\" property returned from load() must be a string or instance of Error, received type \"${typeof error2}\"`)\n      };\n    }\n    if (!status || status < 400 || status > 599) {\n      console.warn('\"error\" returned from load() without a valid status code \\u2014 defaulting to 500');\n      return { status: 500, error: error2 };\n    }\n    return { status, error: error2 };\n  }\n  if (loaded.redirect) {\n    if (!loaded.status || Math.floor(loaded.status / 100) !== 3) {\n      return {\n        status: 500,\n        error: new Error('\"redirect\" property returned from load() must be accompanied by a 3xx status code')\n      };\n    }\n    if (typeof loaded.redirect !== \"string\") {\n      return {\n        status: 500,\n        error: new Error('\"redirect\" property returned from load() must be a string')\n      };\n    }\n  }\n  if (loaded.context) {\n    throw new Error('You are returning \"context\" from a load function. \"context\" was renamed to \"stuff\", please adjust your code accordingly.');\n  }\n  return loaded;\n}\nconst absolute = /^([a-z]+:)?\\/?\\//;\nconst scheme = /^[a-z]+:/;\nfunction resolve(base2, path) {\n  if (scheme.test(path))\n    return path;\n  const base_match = absolute.exec(base2);\n  const path_match = absolute.exec(path);\n  if (!base_match) {\n    throw new Error(`bad base path: \"${base2}\"`);\n  }\n  const baseparts = path_match ? [] : base2.slice(base_match[0].length).split(\"/\");\n  const pathparts = path_match ? path.slice(path_match[0].length).split(\"/\") : path.split(\"/\");\n  baseparts.pop();\n  for (let i = 0; i < pathparts.length; i += 1) {\n    const part = pathparts[i];\n    if (part === \".\")\n      continue;\n    else if (part === \"..\")\n      baseparts.pop();\n    else\n      baseparts.push(part);\n  }\n  const prefix = path_match && path_match[0] || base_match && base_match[0] || \"\";\n  return `${prefix}${baseparts.join(\"/\")}`;\n}\nfunction is_root_relative(path) {\n  return path[0] === \"/\" && path[1] !== \"/\";\n}\nasync function load_node({\n  request,\n  options,\n  state,\n  route,\n  url,\n  params,\n  node,\n  $session,\n  stuff,\n  prerender_enabled,\n  is_leaf,\n  is_error,\n  status,\n  error: error2\n}) {\n  const { module: module2 } = node;\n  let uses_credentials = false;\n  const fetched = [];\n  let set_cookie_headers = [];\n  let loaded;\n  const url_proxy = new Proxy(url, {\n    get: (target, prop, receiver) => {\n      if (prerender_enabled && (prop === \"search\" || prop === \"searchParams\")) {\n        throw new Error(\"Cannot access query on a page with prerendering enabled\");\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n  if (module2.load) {\n    const load_input = {\n      url: url_proxy,\n      params,\n      get session() {\n        uses_credentials = true;\n        return $session;\n      },\n      fetch: async (resource, opts = {}) => {\n        let requested;\n        if (typeof resource === \"string\") {\n          requested = resource;\n        } else {\n          requested = resource.url;\n          opts = __spreadValues({\n            method: resource.method,\n            headers: resource.headers,\n            body: resource.body,\n            mode: resource.mode,\n            credentials: resource.credentials,\n            cache: resource.cache,\n            redirect: resource.redirect,\n            referrer: resource.referrer,\n            integrity: resource.integrity\n          }, opts);\n        }\n        opts.headers = new Headers(opts.headers);\n        const resolved = resolve(request.url.pathname, requested.split(\"?\")[0]);\n        let response;\n        const prefix = options.paths.assets || options.paths.base;\n        const filename = (resolved.startsWith(prefix) ? resolved.slice(prefix.length) : resolved).slice(1);\n        const filename_html = `${filename}/index.html`;\n        const is_asset = options.manifest.assets.has(filename);\n        const is_asset_html = options.manifest.assets.has(filename_html);\n        if (is_asset || is_asset_html) {\n          const file = is_asset ? filename : filename_html;\n          if (options.read) {\n            const type = is_asset ? options.manifest._.mime[filename.slice(filename.lastIndexOf(\".\"))] : \"text/html\";\n            response = new Response(options.read(file), {\n              headers: type ? { \"content-type\": type } : {}\n            });\n          } else {\n            response = await fetch(`${url.origin}/${file}`, opts);\n          }\n        } else if (is_root_relative(resolved)) {\n          const relative = resolved;\n          if (opts.credentials !== \"omit\") {\n            uses_credentials = true;\n            if (request.headers.cookie) {\n              opts.headers.set(\"cookie\", request.headers.cookie);\n            }\n            if (request.headers.authorization && !opts.headers.has(\"authorization\")) {\n              opts.headers.set(\"authorization\", request.headers.authorization);\n            }\n          }\n          if (opts.body && typeof opts.body !== \"string\") {\n            throw new Error(\"Request body must be a string\");\n          }\n          const rendered = await respond({\n            url: new URL(requested, request.url),\n            method: opts.method || \"GET\",\n            headers: Object.fromEntries(opts.headers),\n            rawBody: opts.body == null ? null : new TextEncoder().encode(opts.body)\n          }, options, {\n            fetched: requested,\n            initiator: route\n          });\n          if (rendered) {\n            if (state.prerender) {\n              state.prerender.dependencies.set(relative, rendered);\n            }\n            response = new Response(rendered.body, {\n              status: rendered.status,\n              headers: rendered.headers\n            });\n          } else {\n            return fetch(new URL(requested, request.url).href, {\n              method: opts.method || \"GET\",\n              headers: opts.headers\n            });\n          }\n        } else {\n          if (resolved.startsWith(\"//\")) {\n            throw new Error(`Cannot request protocol-relative URL (${requested}) in server-side fetch`);\n          }\n          if (`.${new URL(requested).hostname}`.endsWith(`.${request.url.hostname}`) && opts.credentials !== \"omit\") {\n            uses_credentials = true;\n            opts.headers.set(\"cookie\", request.headers.cookie);\n          }\n          const external_request = new Request(requested, opts);\n          response = await options.hooks.externalFetch.call(null, external_request);\n        }\n        if (response) {\n          const proxy = new Proxy(response, {\n            get(response2, key, _receiver) {\n              async function text() {\n                const body = await response2.text();\n                const headers = {};\n                for (const [key2, value] of response2.headers) {\n                  if (key2 === \"set-cookie\") {\n                    set_cookie_headers = set_cookie_headers.concat(value);\n                  } else if (key2 !== \"etag\") {\n                    headers[key2] = value;\n                  }\n                }\n                if (!opts.body || typeof opts.body === \"string\") {\n                  fetched.push({\n                    url: requested,\n                    body: opts.body,\n                    json: `{\"status\":${response2.status},\"statusText\":${s(response2.statusText)},\"headers\":${s(headers)},\"body\":\"${escape_json_string_in_html(body)}\"}`\n                  });\n                }\n                return body;\n              }\n              if (key === \"text\") {\n                return text;\n              }\n              if (key === \"json\") {\n                return async () => {\n                  return JSON.parse(await text());\n                };\n              }\n              return Reflect.get(response2, key, response2);\n            }\n          });\n          return proxy;\n        }\n        return response || new Response(\"Not found\", {\n          status: 404\n        });\n      },\n      stuff: __spreadValues({}, stuff)\n    };\n    if (options.dev) {\n      Object.defineProperty(load_input, \"page\", {\n        get: () => {\n          throw new Error(\"`page` in `load` functions has been replaced by `url` and `params`\");\n        }\n      });\n    }\n    if (is_error) {\n      load_input.status = status;\n      load_input.error = error2;\n    }\n    loaded = await module2.load.call(null, load_input);\n  } else {\n    loaded = {};\n  }\n  if (!loaded && is_leaf && !is_error)\n    return;\n  if (!loaded) {\n    throw new Error(`${node.entry} - load must return a value except for page fall through`);\n  }\n  return {\n    node,\n    loaded: normalize(loaded),\n    stuff: loaded.stuff || stuff,\n    fetched,\n    set_cookie_headers,\n    uses_credentials\n  };\n}\nasync function respond_with_error({ request, options, state, $session, status, error: error2 }) {\n  const default_layout = await options.manifest._.nodes[0]();\n  const default_error = await options.manifest._.nodes[1]();\n  const params = {};\n  const loaded = await load_node({\n    request,\n    options,\n    state,\n    route: null,\n    url: request.url,\n    params,\n    node: default_layout,\n    $session,\n    stuff: {},\n    prerender_enabled: is_prerender_enabled(options, default_error, state),\n    is_leaf: false,\n    is_error: false\n  });\n  const branch = [\n    loaded,\n    await load_node({\n      request,\n      options,\n      state,\n      route: null,\n      url: request.url,\n      params,\n      node: default_error,\n      $session,\n      stuff: loaded ? loaded.stuff : {},\n      prerender_enabled: is_prerender_enabled(options, default_error, state),\n      is_leaf: false,\n      is_error: true,\n      status,\n      error: error2\n    })\n  ];\n  try {\n    return await render_response({\n      options,\n      $session,\n      page_config: {\n        hydrate: options.hydrate,\n        router: options.router,\n        ssr: options.ssr\n      },\n      status,\n      error: error2,\n      branch,\n      url: request.url,\n      params\n    });\n  } catch (err) {\n    const error3 = coalesce_to_error(err);\n    options.handle_error(error3, request);\n    return {\n      status: 500,\n      headers: {},\n      body: error3.stack\n    };\n  }\n}\nfunction is_prerender_enabled(options, node, state) {\n  return options.prerender && (!!node.module.prerender || !!state.prerender && state.prerender.all);\n}\nasync function respond$1(opts) {\n  const { request, options, state, $session, route } = opts;\n  let nodes;\n  try {\n    nodes = await Promise.all(route.a.map((n) => options.manifest._.nodes[n] && options.manifest._.nodes[n]()));\n  } catch (err) {\n    const error3 = coalesce_to_error(err);\n    options.handle_error(error3, request);\n    return await respond_with_error({\n      request,\n      options,\n      state,\n      $session,\n      status: 500,\n      error: error3\n    });\n  }\n  const leaf = nodes[nodes.length - 1].module;\n  let page_config = get_page_config(leaf, options);\n  if (!leaf.prerender && state.prerender && !state.prerender.all) {\n    return {\n      status: 204,\n      headers: {}\n    };\n  }\n  let branch = [];\n  let status = 200;\n  let error2;\n  let set_cookie_headers = [];\n  ssr:\n    if (page_config.ssr) {\n      let stuff = {};\n      for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        let loaded;\n        if (node) {\n          try {\n            loaded = await load_node(__spreadProps(__spreadValues({}, opts), {\n              url: request.url,\n              node,\n              stuff,\n              prerender_enabled: is_prerender_enabled(options, node, state),\n              is_leaf: i === nodes.length - 1,\n              is_error: false\n            }));\n            if (!loaded)\n              return;\n            set_cookie_headers = set_cookie_headers.concat(loaded.set_cookie_headers);\n            if (loaded.loaded.redirect) {\n              return with_cookies({\n                status: loaded.loaded.status,\n                headers: {\n                  location: encodeURI(loaded.loaded.redirect)\n                }\n              }, set_cookie_headers);\n            }\n            if (loaded.loaded.error) {\n              ({ status, error: error2 } = loaded.loaded);\n            }\n          } catch (err) {\n            const e = coalesce_to_error(err);\n            options.handle_error(e, request);\n            status = 500;\n            error2 = e;\n          }\n          if (loaded && !error2) {\n            branch.push(loaded);\n          }\n          if (error2) {\n            while (i--) {\n              if (route.b[i]) {\n                const error_node = await options.manifest._.nodes[route.b[i]]();\n                let node_loaded;\n                let j = i;\n                while (!(node_loaded = branch[j])) {\n                  j -= 1;\n                }\n                try {\n                  const error_loaded = await load_node(__spreadProps(__spreadValues({}, opts), {\n                    url: request.url,\n                    node: error_node,\n                    stuff: node_loaded.stuff,\n                    prerender_enabled: is_prerender_enabled(options, error_node, state),\n                    is_leaf: false,\n                    is_error: true,\n                    status,\n                    error: error2\n                  }));\n                  if (error_loaded.loaded.error) {\n                    continue;\n                  }\n                  page_config = get_page_config(error_node.module, options);\n                  branch = branch.slice(0, j + 1).concat(error_loaded);\n                  break ssr;\n                } catch (err) {\n                  const e = coalesce_to_error(err);\n                  options.handle_error(e, request);\n                  continue;\n                }\n              }\n            }\n            return with_cookies(await respond_with_error({\n              request,\n              options,\n              state,\n              $session,\n              status,\n              error: error2\n            }), set_cookie_headers);\n          }\n        }\n        if (loaded && loaded.loaded.stuff) {\n          stuff = __spreadValues(__spreadValues({}, stuff), loaded.loaded.stuff);\n        }\n      }\n    }\n  try {\n    return with_cookies(await render_response(__spreadProps(__spreadValues({}, opts), {\n      url: request.url,\n      page_config,\n      status,\n      error: error2,\n      branch: branch.filter(Boolean)\n    })), set_cookie_headers);\n  } catch (err) {\n    const error3 = coalesce_to_error(err);\n    options.handle_error(error3, request);\n    return with_cookies(await respond_with_error(__spreadProps(__spreadValues({}, opts), {\n      status: 500,\n      error: error3\n    })), set_cookie_headers);\n  }\n}\nfunction get_page_config(leaf, options) {\n  return {\n    ssr: \"ssr\" in leaf ? !!leaf.ssr : options.ssr,\n    router: \"router\" in leaf ? !!leaf.router : options.router,\n    hydrate: \"hydrate\" in leaf ? !!leaf.hydrate : options.hydrate\n  };\n}\nfunction with_cookies(response, set_cookie_headers) {\n  if (set_cookie_headers.length) {\n    response.headers[\"set-cookie\"] = set_cookie_headers;\n  }\n  return response;\n}\nasync function render_page(request, route, match, options, state) {\n  if (state.initiator === route) {\n    return {\n      status: 404,\n      headers: {},\n      body: `Not found: ${request.url.pathname}`\n    };\n  }\n  const params = route.params ? decode_params(route.params(match)) : {};\n  const $session = await options.hooks.getSession(request);\n  const response = await respond$1({\n    request,\n    options,\n    state,\n    $session,\n    route,\n    params\n  });\n  if (response) {\n    return response;\n  }\n  if (state.fetched) {\n    return {\n      status: 500,\n      headers: {},\n      body: `Bad request in load function: failed to fetch ${state.fetched}`\n    };\n  }\n}\nfunction read_only_form_data() {\n  const map = new Map();\n  return {\n    append(key, value) {\n      if (map.has(key)) {\n        (map.get(key) || []).push(value);\n      } else {\n        map.set(key, [value]);\n      }\n    },\n    data: new ReadOnlyFormData(map)\n  };\n}\nclass ReadOnlyFormData {\n  constructor(map) {\n    __privateAdd(this, _map, void 0);\n    __privateSet(this, _map, map);\n  }\n  get(key) {\n    const value = __privateGet(this, _map).get(key);\n    return value && value[0];\n  }\n  getAll(key) {\n    return __privateGet(this, _map).get(key);\n  }\n  has(key) {\n    return __privateGet(this, _map).has(key);\n  }\n  *[Symbol.iterator]() {\n    for (const [key, value] of __privateGet(this, _map)) {\n      for (let i = 0; i < value.length; i += 1) {\n        yield [key, value[i]];\n      }\n    }\n  }\n  *entries() {\n    for (const [key, value] of __privateGet(this, _map)) {\n      for (let i = 0; i < value.length; i += 1) {\n        yield [key, value[i]];\n      }\n    }\n  }\n  *keys() {\n    for (const [key] of __privateGet(this, _map))\n      yield key;\n  }\n  *values() {\n    for (const [, value] of __privateGet(this, _map)) {\n      for (let i = 0; i < value.length; i += 1) {\n        yield value[i];\n      }\n    }\n  }\n}\n_map = new WeakMap();\nfunction parse_body(raw, headers) {\n  if (!raw)\n    return raw;\n  const content_type = headers[\"content-type\"];\n  const [type, ...directives] = content_type ? content_type.split(/;\\s*/) : [];\n  const text = () => new TextDecoder(headers[\"content-encoding\"] || \"utf-8\").decode(raw);\n  switch (type) {\n    case \"text/plain\":\n      return text();\n    case \"application/json\":\n      return JSON.parse(text());\n    case \"application/x-www-form-urlencoded\":\n      return get_urlencoded(text());\n    case \"multipart/form-data\": {\n      const boundary = directives.find((directive) => directive.startsWith(\"boundary=\"));\n      if (!boundary)\n        throw new Error(\"Missing boundary\");\n      return get_multipart(text(), boundary.slice(\"boundary=\".length));\n    }\n    default:\n      return raw;\n  }\n}\nfunction get_urlencoded(text) {\n  const { data, append } = read_only_form_data();\n  text.replace(/\\+/g, \" \").split(\"&\").forEach((str) => {\n    const [key, value] = str.split(\"=\");\n    append(decodeURIComponent(key), decodeURIComponent(value));\n  });\n  return data;\n}\nfunction get_multipart(text, boundary) {\n  const parts = text.split(`--${boundary}`);\n  if (parts[0] !== \"\" || parts[parts.length - 1].trim() !== \"--\") {\n    throw new Error(\"Malformed form data\");\n  }\n  const { data, append } = read_only_form_data();\n  parts.slice(1, -1).forEach((part) => {\n    const match = /\\s*([\\s\\S]+?)\\r\\n\\r\\n([\\s\\S]*)\\s*/.exec(part);\n    if (!match) {\n      throw new Error(\"Malformed form data\");\n    }\n    const raw_headers = match[1];\n    const body = match[2].trim();\n    let key;\n    const headers = {};\n    raw_headers.split(\"\\r\\n\").forEach((str) => {\n      const [raw_header, ...raw_directives] = str.split(\"; \");\n      let [name, value] = raw_header.split(\": \");\n      name = name.toLowerCase();\n      headers[name] = value;\n      const directives = {};\n      raw_directives.forEach((raw_directive) => {\n        const [name2, value2] = raw_directive.split(\"=\");\n        directives[name2] = JSON.parse(value2);\n      });\n      if (name === \"content-disposition\") {\n        if (value !== \"form-data\")\n          throw new Error(\"Malformed form data\");\n        if (directives.filename) {\n          throw new Error(\"File upload is not yet implemented\");\n        }\n        if (directives.name) {\n          key = directives.name;\n        }\n      }\n    });\n    if (!key)\n      throw new Error(\"Malformed form data\");\n    append(key, body);\n  });\n  return data;\n}\nasync function respond(incoming, options, state = {}) {\n  if (incoming.url.pathname !== \"/\" && options.trailing_slash !== \"ignore\") {\n    const has_trailing_slash = incoming.url.pathname.endsWith(\"/\");\n    if (has_trailing_slash && options.trailing_slash === \"never\" || !has_trailing_slash && options.trailing_slash === \"always\" && !(incoming.url.pathname.split(\"/\").pop() || \"\").includes(\".\")) {\n      incoming.url.pathname = has_trailing_slash ? incoming.url.pathname.slice(0, -1) : incoming.url.pathname + \"/\";\n      if (incoming.url.search === \"?\")\n        incoming.url.search = \"\";\n      return {\n        status: 301,\n        headers: {\n          location: incoming.url.pathname + incoming.url.search\n        }\n      };\n    }\n  }\n  const headers = lowercase_keys(incoming.headers);\n  const request = __spreadProps(__spreadValues({}, incoming), {\n    headers,\n    body: parse_body(incoming.rawBody, headers),\n    params: {},\n    locals: {}\n  });\n  const print_error = (property, replacement) => {\n    Object.defineProperty(request, property, {\n      get: () => {\n        throw new Error(`request.${property} has been replaced by request.url.${replacement}`);\n      }\n    });\n  };\n  print_error(\"origin\", \"origin\");\n  print_error(\"path\", \"pathname\");\n  print_error(\"query\", \"searchParams\");\n  try {\n    return await options.hooks.handle({\n      request,\n      resolve: async (request2) => {\n        if (state.prerender && state.prerender.fallback) {\n          return await render_response({\n            url: request2.url,\n            params: request2.params,\n            options,\n            $session: await options.hooks.getSession(request2),\n            page_config: { ssr: false, router: true, hydrate: true },\n            status: 200,\n            branch: []\n          });\n        }\n        const decoded = decodeURI(request2.url.pathname).replace(options.paths.base, \"\");\n        for (const route of options.manifest._.routes) {\n          const match = route.pattern.exec(decoded);\n          if (!match)\n            continue;\n          const response = route.type === \"endpoint\" ? await render_endpoint(request2, route, match) : await render_page(request2, route, match, options, state);\n          if (response) {\n            if (response.status === 200) {\n              const cache_control = get_single_valued_header(response.headers, \"cache-control\");\n              if (!cache_control || !/(no-store|immutable)/.test(cache_control)) {\n                let if_none_match_value = request2.headers[\"if-none-match\"];\n                if (if_none_match_value == null ? void 0 : if_none_match_value.startsWith('W/\"')) {\n                  if_none_match_value = if_none_match_value.substring(2);\n                }\n                const etag = `\"${hash(response.body || \"\")}\"`;\n                if (if_none_match_value === etag) {\n                  return {\n                    status: 304,\n                    headers: {}\n                  };\n                }\n                response.headers[\"etag\"] = etag;\n              }\n            }\n            return response;\n          }\n        }\n        if (!state.initiator) {\n          const $session = await options.hooks.getSession(request2);\n          return await respond_with_error({\n            request: request2,\n            options,\n            state,\n            $session,\n            status: 404,\n            error: new Error(`Not found: ${request2.url.pathname}`)\n          });\n        }\n      }\n    });\n  } catch (err) {\n    const e = coalesce_to_error(err);\n    options.handle_error(e, request);\n    return {\n      status: 500,\n      headers: {},\n      body: options.dev ? e.stack : e.message\n    };\n  }\n}\nfunction afterUpdate() {\n}\nvar root_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}\",\n  map: null\n};\nconst Root = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let { stores } = $$props;\n  let { page } = $$props;\n  let { components } = $$props;\n  let { props_0 = null } = $$props;\n  let { props_1 = null } = $$props;\n  let { props_2 = null } = $$props;\n  (0, import_index_08869495.s)(\"__svelte__\", stores);\n  afterUpdate(stores.page.notify);\n  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)\n    $$bindings.stores(stores);\n  if ($$props.page === void 0 && $$bindings.page && page !== void 0)\n    $$bindings.page(page);\n  if ($$props.components === void 0 && $$bindings.components && components !== void 0)\n    $$bindings.components(components);\n  if ($$props.props_0 === void 0 && $$bindings.props_0 && props_0 !== void 0)\n    $$bindings.props_0(props_0);\n  if ($$props.props_1 === void 0 && $$bindings.props_1 && props_1 !== void 0)\n    $$bindings.props_1(props_1);\n  if ($$props.props_2 === void 0 && $$bindings.props_2 && props_2 !== void 0)\n    $$bindings.props_2(props_2);\n  $$result.css.add(css);\n  {\n    stores.page.set(page);\n  }\n  return `\n\n\n${components[1] ? `${(0, import_index_08869495.v)(components[0] || import_index_08869495.m, \"svelte:component\").$$render($$result, Object.assign(props_0 || {}), {}, {\n    default: () => `${components[2] ? `${(0, import_index_08869495.v)(components[1] || import_index_08869495.m, \"svelte:component\").$$render($$result, Object.assign(props_1 || {}), {}, {\n      default: () => `${(0, import_index_08869495.v)(components[2] || import_index_08869495.m, \"svelte:component\").$$render($$result, Object.assign(props_2 || {}), {}, {})}`\n    })}` : `${(0, import_index_08869495.v)(components[1] || import_index_08869495.m, \"svelte:component\").$$render($$result, Object.assign(props_1 || {}), {}, {})}`}`\n  })}` : `${(0, import_index_08869495.v)(components[0] || import_index_08869495.m, \"svelte:component\").$$render($$result, Object.assign(props_0 || {}), {}, {})}`}\n\n${``}`;\n});\nlet base = \"\";\nlet assets = \"\";\nfunction set_paths(paths) {\n  base = paths.base;\n  assets = paths.assets || base;\n}\nfunction set_prerendering(value) {\n}\nasync function handle({ request, resolve: resolve2 }) {\n  var cookies = import_cookie.default.parse(request.headers.cookie || \"\");\n  if (request.url.pathname === \"/logout\") {\n    console.log(\"attemtping to logout\");\n    cookies = {};\n    request.locals = {};\n  }\n  console.log(\"cookies before resolve function: \", JSON.stringify(cookies, null, 2));\n  try {\n    request.locals = JSON.parse(cookies.data);\n  } catch (e) {\n    console.log(\"error parsing cookie user\");\n    request.locals = {};\n  }\n  console.log(\"before resolve function: \" + JSON.stringify(request.locals, null, 2));\n  const response = await resolve2(request);\n  console.log(\"after resolve function: \" + JSON.stringify(request.locals, null, 2));\n  response.headers[\"set-cookie\"] = `data=${JSON.stringify(request.locals) || \"\"}; Path=/; HttpOnly`;\n  return response;\n}\nasync function getSession(request) {\n  console.log(\"getSession function: \" + JSON.stringify(request, null, 2));\n  return request.locals ? {\n    data: request.locals\n  } : { data: {} };\n}\nvar user_hooks = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  [Symbol.toStringTag]: \"Module\",\n  handle,\n  getSession\n});\nconst template = ({ head, body, assets: assets2 }) => '<!DOCTYPE html>\\n<html lang=\"en\">\\n\t<head>\\n\t\t<meta charset=\"utf-8\" />\\n\t\t<meta name=\"description\" content=\"\" />\\n\t\t<link rel=\"icon\" href=\"' + assets2 + '/favicon.png\" />\\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\\n\t\t' + head + '\\n\t</head>\\n\t<body>\\n\t\t<div id=\"svelte\">' + body + \"</div>\\n\t</body>\\n</html>\\n\";\nlet read = null;\nset_paths({ \"base\": \"\", \"assets\": \"\" });\nconst get_hooks = (hooks) => ({\n  getSession: hooks.getSession || (() => ({})),\n  handle: hooks.handle || (({ request, resolve: resolve2 }) => resolve2(request)),\n  handleError: hooks.handleError || (({ error: error2 }) => console.error(error2.stack)),\n  externalFetch: hooks.externalFetch || fetch\n});\nlet default_protocol = \"https\";\nfunction override(settings) {\n  default_protocol = settings.protocol || default_protocol;\n  set_paths(settings.paths);\n  set_prerendering(settings.prerendering);\n  read = settings.read;\n}\nclass App {\n  constructor(manifest) {\n    const hooks = get_hooks(user_hooks);\n    this.options = {\n      amp: false,\n      dev: false,\n      floc: false,\n      get_stack: (error2) => String(error2),\n      handle_error: (error2, request) => {\n        hooks.handleError({ error: error2, request });\n        error2.stack = this.options.get_stack(error2);\n      },\n      hooks,\n      hydrate: true,\n      manifest,\n      paths: { base, assets },\n      prefix: assets + \"/_app/\",\n      prerender: true,\n      read,\n      root: Root,\n      service_worker: null,\n      router: true,\n      ssr: true,\n      target: \"#svelte\",\n      template,\n      trailing_slash: \"never\"\n    };\n  }\n  render(request, {\n    prerender\n  } = {}) {\n    if (Object.keys(request).sort().join() !== \"headers,method,rawBody,url\") {\n      throw new Error(\"Adapters should call app.render({ url, method, headers, rawBody })\");\n    }\n    const host = request.headers[\"host\"];\n    const protocol = default_protocol;\n    return respond(__spreadProps(__spreadValues({}, request), { url: new URL(request.url, protocol + \"://\" + host) }), this.options, { prerender });\n  }\n}\n", "'use strict';\n\nrequire('node:fs');\nrequire('node:path');\nvar node_worker_threads = require('node:worker_threads');\nvar handler = require('./handler-a3623ede.js');\nrequire('node:http');\nrequire('node:https');\nrequire('node:zlib');\nrequire('node:stream');\nrequire('node:util');\nrequire('node:url');\nrequire('net');\nrequire('./server/app.js');\n\nglobalThis.DOMException || (() => {\n  const port = new node_worker_threads.MessageChannel().port1;\n  const ab = new ArrayBuffer(0);\n  try { port.postMessage(ab, [ab, ab]); } catch (err) { return err.constructor }\n})();\n\nlet s = 0;\nconst S = {\n\tSTART_BOUNDARY: s++,\n\tHEADER_FIELD_START: s++,\n\tHEADER_FIELD: s++,\n\tHEADER_VALUE_START: s++,\n\tHEADER_VALUE: s++,\n\tHEADER_VALUE_ALMOST_DONE: s++,\n\tHEADERS_ALMOST_DONE: s++,\n\tPART_DATA_START: s++,\n\tPART_DATA: s++,\n\tEND: s++\n};\n\nlet f = 1;\nconst F = {\n\tPART_BOUNDARY: f,\n\tLAST_BOUNDARY: f *= 2\n};\n\nconst LF = 10;\nconst CR = 13;\nconst SPACE = 32;\nconst HYPHEN = 45;\nconst COLON = 58;\nconst A = 97;\nconst Z = 122;\n\nconst lower = c => c | 0x20;\n\nconst noop = () => {};\n\nclass MultipartParser {\n\t/**\n\t * @param {string} boundary\n\t */\n\tconstructor(boundary) {\n\t\tthis.index = 0;\n\t\tthis.flags = 0;\n\n\t\tthis.onHeaderEnd = noop;\n\t\tthis.onHeaderField = noop;\n\t\tthis.onHeadersEnd = noop;\n\t\tthis.onHeaderValue = noop;\n\t\tthis.onPartBegin = noop;\n\t\tthis.onPartData = noop;\n\t\tthis.onPartEnd = noop;\n\n\t\tthis.boundaryChars = {};\n\n\t\tboundary = '\\r\\n--' + boundary;\n\t\tconst ui8a = new Uint8Array(boundary.length);\n\t\tfor (let i = 0; i < boundary.length; i++) {\n\t\t\tui8a[i] = boundary.charCodeAt(i);\n\t\t\tthis.boundaryChars[ui8a[i]] = true;\n\t\t}\n\n\t\tthis.boundary = ui8a;\n\t\tthis.lookbehind = new Uint8Array(this.boundary.length + 8);\n\t\tthis.state = S.START_BOUNDARY;\n\t}\n\n\t/**\n\t * @param {Uint8Array} data\n\t */\n\twrite(data) {\n\t\tlet i = 0;\n\t\tconst length_ = data.length;\n\t\tlet previousIndex = this.index;\n\t\tlet {lookbehind, boundary, boundaryChars, index, state, flags} = this;\n\t\tconst boundaryLength = this.boundary.length;\n\t\tconst boundaryEnd = boundaryLength - 1;\n\t\tconst bufferLength = data.length;\n\t\tlet c;\n\t\tlet cl;\n\n\t\tconst mark = name => {\n\t\t\tthis[name + 'Mark'] = i;\n\t\t};\n\n\t\tconst clear = name => {\n\t\t\tdelete this[name + 'Mark'];\n\t\t};\n\n\t\tconst callback = (callbackSymbol, start, end, ui8a) => {\n\t\t\tif (start === undefined || start !== end) {\n\t\t\t\tthis[callbackSymbol](ui8a && ui8a.subarray(start, end));\n\t\t\t}\n\t\t};\n\n\t\tconst dataCallback = (name, clear) => {\n\t\t\tconst markSymbol = name + 'Mark';\n\t\t\tif (!(markSymbol in this)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (clear) {\n\t\t\t\tcallback(name, this[markSymbol], i, data);\n\t\t\t\tdelete this[markSymbol];\n\t\t\t} else {\n\t\t\t\tcallback(name, this[markSymbol], data.length, data);\n\t\t\t\tthis[markSymbol] = 0;\n\t\t\t}\n\t\t};\n\n\t\tfor (i = 0; i < length_; i++) {\n\t\t\tc = data[i];\n\n\t\t\tswitch (state) {\n\t\t\t\tcase S.START_BOUNDARY:\n\t\t\t\t\tif (index === boundary.length - 2) {\n\t\t\t\t\t\tif (c === HYPHEN) {\n\t\t\t\t\t\t\tflags |= F.LAST_BOUNDARY;\n\t\t\t\t\t\t} else if (c !== CR) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (index - 1 === boundary.length - 2) {\n\t\t\t\t\t\tif (flags & F.LAST_BOUNDARY && c === HYPHEN) {\n\t\t\t\t\t\t\tstate = S.END;\n\t\t\t\t\t\t\tflags = 0;\n\t\t\t\t\t\t} else if (!(flags & F.LAST_BOUNDARY) && c === LF) {\n\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\tcallback('onPartBegin');\n\t\t\t\t\t\t\tstate = S.HEADER_FIELD_START;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (c !== boundary[index + 2]) {\n\t\t\t\t\t\tindex = -2;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (c === boundary[index + 2]) {\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase S.HEADER_FIELD_START:\n\t\t\t\t\tstate = S.HEADER_FIELD;\n\t\t\t\t\tmark('onHeaderField');\n\t\t\t\t\tindex = 0;\n\t\t\t\t\t// falls through\n\t\t\t\tcase S.HEADER_FIELD:\n\t\t\t\t\tif (c === CR) {\n\t\t\t\t\t\tclear('onHeaderField');\n\t\t\t\t\t\tstate = S.HEADERS_ALMOST_DONE;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tindex++;\n\t\t\t\t\tif (c === HYPHEN) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (c === COLON) {\n\t\t\t\t\t\tif (index === 1) {\n\t\t\t\t\t\t\t// empty header field\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdataCallback('onHeaderField', true);\n\t\t\t\t\t\tstate = S.HEADER_VALUE_START;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcl = lower(c);\n\t\t\t\t\tif (cl < A || cl > Z) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase S.HEADER_VALUE_START:\n\t\t\t\t\tif (c === SPACE) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tmark('onHeaderValue');\n\t\t\t\t\tstate = S.HEADER_VALUE;\n\t\t\t\t\t// falls through\n\t\t\t\tcase S.HEADER_VALUE:\n\t\t\t\t\tif (c === CR) {\n\t\t\t\t\t\tdataCallback('onHeaderValue', true);\n\t\t\t\t\t\tcallback('onHeaderEnd');\n\t\t\t\t\t\tstate = S.HEADER_VALUE_ALMOST_DONE;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase S.HEADER_VALUE_ALMOST_DONE:\n\t\t\t\t\tif (c !== LF) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate = S.HEADER_FIELD_START;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S.HEADERS_ALMOST_DONE:\n\t\t\t\t\tif (c !== LF) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback('onHeadersEnd');\n\t\t\t\t\tstate = S.PART_DATA_START;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S.PART_DATA_START:\n\t\t\t\t\tstate = S.PART_DATA;\n\t\t\t\t\tmark('onPartData');\n\t\t\t\t\t// falls through\n\t\t\t\tcase S.PART_DATA:\n\t\t\t\t\tpreviousIndex = index;\n\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\t// boyer-moore derrived algorithm to safely skip non-boundary data\n\t\t\t\t\t\ti += boundaryEnd;\n\t\t\t\t\t\twhile (i < bufferLength && !(data[i] in boundaryChars)) {\n\t\t\t\t\t\t\ti += boundaryLength;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ti -= boundaryEnd;\n\t\t\t\t\t\tc = data[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index < boundary.length) {\n\t\t\t\t\t\tif (boundary[index] === c) {\n\t\t\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\t\t\tdataCallback('onPartData', true);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index === boundary.length) {\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\tif (c === CR) {\n\t\t\t\t\t\t\t// CR = part boundary\n\t\t\t\t\t\t\tflags |= F.PART_BOUNDARY;\n\t\t\t\t\t\t} else if (c === HYPHEN) {\n\t\t\t\t\t\t\t// HYPHEN = end boundary\n\t\t\t\t\t\t\tflags |= F.LAST_BOUNDARY;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index - 1 === boundary.length) {\n\t\t\t\t\t\tif (flags & F.PART_BOUNDARY) {\n\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\tif (c === LF) {\n\t\t\t\t\t\t\t\t// unset the PART_BOUNDARY flag\n\t\t\t\t\t\t\t\tflags &= ~F.PART_BOUNDARY;\n\t\t\t\t\t\t\t\tcallback('onPartEnd');\n\t\t\t\t\t\t\t\tcallback('onPartBegin');\n\t\t\t\t\t\t\t\tstate = S.HEADER_FIELD_START;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (flags & F.LAST_BOUNDARY) {\n\t\t\t\t\t\t\tif (c === HYPHEN) {\n\t\t\t\t\t\t\t\tcallback('onPartEnd');\n\t\t\t\t\t\t\t\tstate = S.END;\n\t\t\t\t\t\t\t\tflags = 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t// when matching a possible boundary, keep a lookbehind reference\n\t\t\t\t\t\t// in case it turns out to be a false lead\n\t\t\t\t\t\tlookbehind[index - 1] = c;\n\t\t\t\t\t} else if (previousIndex > 0) {\n\t\t\t\t\t\t// if our boundary turned out to be rubbish, the captured lookbehind\n\t\t\t\t\t\t// belongs to partData\n\t\t\t\t\t\tconst _lookbehind = new Uint8Array(lookbehind.buffer, lookbehind.byteOffset, lookbehind.byteLength);\n\t\t\t\t\t\tcallback('onPartData', 0, previousIndex, _lookbehind);\n\t\t\t\t\t\tpreviousIndex = 0;\n\t\t\t\t\t\tmark('onPartData');\n\n\t\t\t\t\t\t// reconsider the current character even so it interrupted the sequence\n\t\t\t\t\t\t// it could be the beginning of a new sequence\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase S.END:\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unexpected state entered: ${state}`);\n\t\t\t}\n\t\t}\n\n\t\tdataCallback('onHeaderField');\n\t\tdataCallback('onHeaderValue');\n\t\tdataCallback('onPartData');\n\n\t\t// Update properties for the next call\n\t\tthis.index = index;\n\t\tthis.state = state;\n\t\tthis.flags = flags;\n\t}\n\n\tend() {\n\t\tif ((this.state === S.HEADER_FIELD_START && this.index === 0) ||\n\t\t\t(this.state === S.PART_DATA && this.index === this.boundary.length)) {\n\t\t\tthis.onPartEnd();\n\t\t} else if (this.state !== S.END) {\n\t\t\tthrow new Error('MultipartParser.end(): stream ended unexpectedly');\n\t\t}\n\t}\n}\n\nfunction _fileName(headerValue) {\n\t// matches either a quoted-string or a token (RFC 2616 section 19.5.1)\n\tconst m = headerValue.match(/\\bfilename=(\"(.*?)\"|([^()<>@,;:\\\\\"/[\\]?={}\\s\\t]+))($|;\\s)/i);\n\tif (!m) {\n\t\treturn;\n\t}\n\n\tconst match = m[2] || m[3] || '';\n\tlet filename = match.slice(match.lastIndexOf('\\\\') + 1);\n\tfilename = filename.replace(/%22/g, '\"');\n\tfilename = filename.replace(/&#(\\d{4});/g, (m, code) => {\n\t\treturn String.fromCharCode(code);\n\t});\n\treturn filename;\n}\n\nasync function toFormData(Body, ct) {\n\tif (!/multipart/i.test(ct)) {\n\t\tthrow new TypeError('Failed to fetch');\n\t}\n\n\tconst m = ct.match(/boundary=(?:\"([^\"]+)\"|([^;]+))/i);\n\n\tif (!m) {\n\t\tthrow new TypeError('no or bad content-type header, no multipart boundary');\n\t}\n\n\tconst parser = new MultipartParser(m[1] || m[2]);\n\n\tlet headerField;\n\tlet headerValue;\n\tlet entryValue;\n\tlet entryName;\n\tlet contentType;\n\tlet filename;\n\tconst entryChunks = [];\n\tconst formData = new handler.FormData();\n\n\tconst onPartData = ui8a => {\n\t\tentryValue += decoder.decode(ui8a, {stream: true});\n\t};\n\n\tconst appendToFile = ui8a => {\n\t\tentryChunks.push(ui8a);\n\t};\n\n\tconst appendFileToFormData = () => {\n\t\tconst file = new handler.File(entryChunks, filename, {type: contentType});\n\t\tformData.append(entryName, file);\n\t};\n\n\tconst appendEntryToFormData = () => {\n\t\tformData.append(entryName, entryValue);\n\t};\n\n\tconst decoder = new TextDecoder('utf-8');\n\tdecoder.decode();\n\n\tparser.onPartBegin = function () {\n\t\tparser.onPartData = onPartData;\n\t\tparser.onPartEnd = appendEntryToFormData;\n\n\t\theaderField = '';\n\t\theaderValue = '';\n\t\tentryValue = '';\n\t\tentryName = '';\n\t\tcontentType = '';\n\t\tfilename = null;\n\t\tentryChunks.length = 0;\n\t};\n\n\tparser.onHeaderField = function (ui8a) {\n\t\theaderField += decoder.decode(ui8a, {stream: true});\n\t};\n\n\tparser.onHeaderValue = function (ui8a) {\n\t\theaderValue += decoder.decode(ui8a, {stream: true});\n\t};\n\n\tparser.onHeaderEnd = function () {\n\t\theaderValue += decoder.decode();\n\t\theaderField = headerField.toLowerCase();\n\n\t\tif (headerField === 'content-disposition') {\n\t\t\t// matches either a quoted-string or a token (RFC 2616 section 19.5.1)\n\t\t\tconst m = headerValue.match(/\\bname=(\"([^\"]*)\"|([^()<>@,;:\\\\\"/[\\]?={}\\s\\t]+))/i);\n\n\t\t\tif (m) {\n\t\t\t\tentryName = m[2] || m[3] || '';\n\t\t\t}\n\n\t\t\tfilename = _fileName(headerValue);\n\n\t\t\tif (filename) {\n\t\t\t\tparser.onPartData = appendToFile;\n\t\t\t\tparser.onPartEnd = appendFileToFormData;\n\t\t\t}\n\t\t} else if (headerField === 'content-type') {\n\t\t\tcontentType = headerValue;\n\t\t}\n\n\t\theaderValue = '';\n\t\theaderField = '';\n\t};\n\n\tfor await (const chunk of Body) {\n\t\tparser.write(chunk);\n\t}\n\n\tparser.end();\n\n\treturn formData;\n}\n\nexports.toFormData = toFormData;\n", "'use strict';\n\nvar http = require('node:http');\nvar https = require('node:https');\nvar zlib = require('node:zlib');\nvar Stream = require('node:stream');\nvar node_util = require('node:util');\nvar node_url = require('node:url');\nvar net = require('net');\nvar app_js = require('./server/app.js');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nvar https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nvar zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nvar Stream__default = /*#__PURE__*/_interopDefaultLegacy(Stream);\n\n/**\n * Returns a `Buffer` instance from the given data URI `uri`.\n *\n * @param {String} uri Data URI to turn into a Buffer instance\n * @returns {Buffer} Buffer instance from Data URI\n * @api public\n */\nfunction dataUriToBuffer(uri) {\n    if (!/^data:/i.test(uri)) {\n        throw new TypeError('`uri` does not appear to be a Data URI (must begin with \"data:\")');\n    }\n    // strip newlines\n    uri = uri.replace(/\\r?\\n/g, '');\n    // split the URI up into the \"metadata\" and the \"data\" portions\n    const firstComma = uri.indexOf(',');\n    if (firstComma === -1 || firstComma <= 4) {\n        throw new TypeError('malformed data: URI');\n    }\n    // remove the \"data:\" scheme and parse the metadata\n    const meta = uri.substring(5, firstComma).split(';');\n    let charset = '';\n    let base64 = false;\n    const type = meta[0] || 'text/plain';\n    let typeFull = type;\n    for (let i = 1; i < meta.length; i++) {\n        if (meta[i] === 'base64') {\n            base64 = true;\n        }\n        else {\n            typeFull += `;${meta[i]}`;\n            if (meta[i].indexOf('charset=') === 0) {\n                charset = meta[i].substring(8);\n            }\n        }\n    }\n    // defaults to US-ASCII only if type is not provided\n    if (!meta[0] && !charset.length) {\n        typeFull += ';charset=US-ASCII';\n        charset = 'US-ASCII';\n    }\n    // get the encoded data portion and decode URI-encoded chars\n    const encoding = base64 ? 'base64' : 'ascii';\n    const data = unescape(uri.substring(firstComma + 1));\n    const buffer = Buffer.from(data, encoding);\n    // set `.type` and `.typeFull` properties to MIME type\n    buffer.type = type;\n    buffer.typeFull = typeFull;\n    // set the `.charset` property\n    buffer.charset = charset;\n    return buffer;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar ponyfill_es2018 = {exports: {}};\n\n/**\n * web-streams-polyfill v3.2.0\n */\n\n(function (module, exports) {\n(function (global, factory) {\n    factory(exports) ;\n}(commonjsGlobal, (function (exports) {\n    /// <reference lib=\"es2015.symbol\" />\n    const SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n        Symbol :\n        description => `Symbol(${description})`;\n\n    /// <reference lib=\"dom\" />\n    function noop() {\n        return undefined;\n    }\n    function getGlobals() {\n        if (typeof self !== 'undefined') {\n            return self;\n        }\n        else if (typeof window !== 'undefined') {\n            return window;\n        }\n        else if (typeof commonjsGlobal !== 'undefined') {\n            return commonjsGlobal;\n        }\n        return undefined;\n    }\n    const globals = getGlobals();\n\n    function typeIsObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    const rethrowAssertionErrorRejection = noop;\n\n    const originalPromise = Promise;\n    const originalPromiseThen = Promise.prototype.then;\n    const originalPromiseResolve = Promise.resolve.bind(originalPromise);\n    const originalPromiseReject = Promise.reject.bind(originalPromise);\n    function newPromise(executor) {\n        return new originalPromise(executor);\n    }\n    function promiseResolvedWith(value) {\n        return originalPromiseResolve(value);\n    }\n    function promiseRejectedWith(reason) {\n        return originalPromiseReject(reason);\n    }\n    function PerformPromiseThen(promise, onFulfilled, onRejected) {\n        // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\n        // approximation.\n        return originalPromiseThen.call(promise, onFulfilled, onRejected);\n    }\n    function uponPromise(promise, onFulfilled, onRejected) {\n        PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), undefined, rethrowAssertionErrorRejection);\n    }\n    function uponFulfillment(promise, onFulfilled) {\n        uponPromise(promise, onFulfilled);\n    }\n    function uponRejection(promise, onRejected) {\n        uponPromise(promise, undefined, onRejected);\n    }\n    function transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n        return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n    }\n    function setPromiseIsHandledToTrue(promise) {\n        PerformPromiseThen(promise, undefined, rethrowAssertionErrorRejection);\n    }\n    const queueMicrotask = (() => {\n        const globalQueueMicrotask = globals && globals.queueMicrotask;\n        if (typeof globalQueueMicrotask === 'function') {\n            return globalQueueMicrotask;\n        }\n        const resolvedPromise = promiseResolvedWith(undefined);\n        return (fn) => PerformPromiseThen(resolvedPromise, fn);\n    })();\n    function reflectCall(F, V, args) {\n        if (typeof F !== 'function') {\n            throw new TypeError('Argument is not a function');\n        }\n        return Function.prototype.apply.call(F, V, args);\n    }\n    function promiseCall(F, V, args) {\n        try {\n            return promiseResolvedWith(reflectCall(F, V, args));\n        }\n        catch (value) {\n            return promiseRejectedWith(value);\n        }\n    }\n\n    // Original from Chromium\n    // https://chromium.googlesource.com/chromium/src/+/0aee4434a4dba42a42abaea9bfbc0cd196a63bc1/third_party/blink/renderer/core/streams/SimpleQueue.js\n    const QUEUE_MAX_ARRAY_SIZE = 16384;\n    /**\n     * Simple queue structure.\n     *\n     * Avoids scalability issues with using a packed array directly by using\n     * multiple arrays in a linked list and keeping the array size bounded.\n     */\n    class SimpleQueue {\n        constructor() {\n            this._cursor = 0;\n            this._size = 0;\n            // _front and _back are always defined.\n            this._front = {\n                _elements: [],\n                _next: undefined\n            };\n            this._back = this._front;\n            // The cursor is used to avoid calling Array.shift().\n            // It contains the index of the front element of the array inside the\n            // front-most node. It is always in the range [0, QUEUE_MAX_ARRAY_SIZE).\n            this._cursor = 0;\n            // When there is only one node, size === elements.length - cursor.\n            this._size = 0;\n        }\n        get length() {\n            return this._size;\n        }\n        // For exception safety, this method is structured in order:\n        // 1. Read state\n        // 2. Calculate required state mutations\n        // 3. Perform state mutations\n        push(element) {\n            const oldBack = this._back;\n            let newBack = oldBack;\n            if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n                newBack = {\n                    _elements: [],\n                    _next: undefined\n                };\n            }\n            // push() is the mutation most likely to throw an exception, so it\n            // goes first.\n            oldBack._elements.push(element);\n            if (newBack !== oldBack) {\n                this._back = newBack;\n                oldBack._next = newBack;\n            }\n            ++this._size;\n        }\n        // Like push(), shift() follows the read -> calculate -> mutate pattern for\n        // exception safety.\n        shift() { // must not be called on an empty queue\n            const oldFront = this._front;\n            let newFront = oldFront;\n            const oldCursor = this._cursor;\n            let newCursor = oldCursor + 1;\n            const elements = oldFront._elements;\n            const element = elements[oldCursor];\n            if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n                newFront = oldFront._next;\n                newCursor = 0;\n            }\n            // No mutations before this point.\n            --this._size;\n            this._cursor = newCursor;\n            if (oldFront !== newFront) {\n                this._front = newFront;\n            }\n            // Permit shifted element to be garbage collected.\n            elements[oldCursor] = undefined;\n            return element;\n        }\n        // The tricky thing about forEach() is that it can be called\n        // re-entrantly. The queue may be mutated inside the callback. It is easy to\n        // see that push() within the callback has no negative effects since the end\n        // of the queue is checked for on every iteration. If shift() is called\n        // repeatedly within the callback then the next iteration may return an\n        // element that has been removed. In this case the callback will be called\n        // with undefined values until we either \"catch up\" with elements that still\n        // exist or reach the back of the queue.\n        forEach(callback) {\n            let i = this._cursor;\n            let node = this._front;\n            let elements = node._elements;\n            while (i !== elements.length || node._next !== undefined) {\n                if (i === elements.length) {\n                    node = node._next;\n                    elements = node._elements;\n                    i = 0;\n                    if (elements.length === 0) {\n                        break;\n                    }\n                }\n                callback(elements[i]);\n                ++i;\n            }\n        }\n        // Return the element that would be returned if shift() was called now,\n        // without modifying the queue.\n        peek() { // must not be called on an empty queue\n            const front = this._front;\n            const cursor = this._cursor;\n            return front._elements[cursor];\n        }\n    }\n\n    function ReadableStreamReaderGenericInitialize(reader, stream) {\n        reader._ownerReadableStream = stream;\n        stream._reader = reader;\n        if (stream._state === 'readable') {\n            defaultReaderClosedPromiseInitialize(reader);\n        }\n        else if (stream._state === 'closed') {\n            defaultReaderClosedPromiseInitializeAsResolved(reader);\n        }\n        else {\n            defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n        }\n    }\n    // A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n    // check.\n    function ReadableStreamReaderGenericCancel(reader, reason) {\n        const stream = reader._ownerReadableStream;\n        return ReadableStreamCancel(stream, reason);\n    }\n    function ReadableStreamReaderGenericRelease(reader) {\n        if (reader._ownerReadableStream._state === 'readable') {\n            defaultReaderClosedPromiseReject(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        else {\n            defaultReaderClosedPromiseResetToRejected(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        reader._ownerReadableStream._reader = undefined;\n        reader._ownerReadableStream = undefined;\n    }\n    // Helper functions for the readers.\n    function readerLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released reader');\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderClosedPromiseInitialize(reader) {\n        reader._closedPromise = newPromise((resolve, reject) => {\n            reader._closedPromise_resolve = resolve;\n            reader._closedPromise_reject = reject;\n        });\n    }\n    function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseReject(reader, reason);\n    }\n    function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseResolve(reader);\n    }\n    function defaultReaderClosedPromiseReject(reader, reason) {\n        if (reader._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(reader._closedPromise);\n        reader._closedPromise_reject(reason);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n    function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n    }\n    function defaultReaderClosedPromiseResolve(reader) {\n        if (reader._closedPromise_resolve === undefined) {\n            return;\n        }\n        reader._closedPromise_resolve(undefined);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n\n    const AbortSteps = SymbolPolyfill('[[AbortSteps]]');\n    const ErrorSteps = SymbolPolyfill('[[ErrorSteps]]');\n    const CancelSteps = SymbolPolyfill('[[CancelSteps]]');\n    const PullSteps = SymbolPolyfill('[[PullSteps]]');\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\n    const NumberIsFinite = Number.isFinite || function (x) {\n        return typeof x === 'number' && isFinite(x);\n    };\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc#Polyfill\n    const MathTrunc = Math.trunc || function (v) {\n        return v < 0 ? Math.ceil(v) : Math.floor(v);\n    };\n\n    // https://heycam.github.io/webidl/#idl-dictionaries\n    function isDictionary(x) {\n        return typeof x === 'object' || typeof x === 'function';\n    }\n    function assertDictionary(obj, context) {\n        if (obj !== undefined && !isDictionary(obj)) {\n            throw new TypeError(`${context} is not an object.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-callback-functions\n    function assertFunction(x, context) {\n        if (typeof x !== 'function') {\n            throw new TypeError(`${context} is not a function.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-object\n    function isObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    function assertObject(x, context) {\n        if (!isObject(x)) {\n            throw new TypeError(`${context} is not an object.`);\n        }\n    }\n    function assertRequiredArgument(x, position, context) {\n        if (x === undefined) {\n            throw new TypeError(`Parameter ${position} is required in '${context}'.`);\n        }\n    }\n    function assertRequiredField(x, field, context) {\n        if (x === undefined) {\n            throw new TypeError(`${field} is required in '${context}'.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-unrestricted-double\n    function convertUnrestrictedDouble(value) {\n        return Number(value);\n    }\n    function censorNegativeZero(x) {\n        return x === 0 ? 0 : x;\n    }\n    function integerPart(x) {\n        return censorNegativeZero(MathTrunc(x));\n    }\n    // https://heycam.github.io/webidl/#idl-unsigned-long-long\n    function convertUnsignedLongLongWithEnforceRange(value, context) {\n        const lowerBound = 0;\n        const upperBound = Number.MAX_SAFE_INTEGER;\n        let x = Number(value);\n        x = censorNegativeZero(x);\n        if (!NumberIsFinite(x)) {\n            throw new TypeError(`${context} is not a finite number`);\n        }\n        x = integerPart(x);\n        if (x < lowerBound || x > upperBound) {\n            throw new TypeError(`${context} is outside the accepted range of ${lowerBound} to ${upperBound}, inclusive`);\n        }\n        if (!NumberIsFinite(x) || x === 0) {\n            return 0;\n        }\n        // TODO Use BigInt if supported?\n        // let xBigInt = BigInt(integerPart(x));\n        // xBigInt = BigInt.asUintN(64, xBigInt);\n        // return Number(xBigInt);\n        return x;\n    }\n\n    function assertReadableStream(x, context) {\n        if (!IsReadableStream(x)) {\n            throw new TypeError(`${context} is not a ReadableStream.`);\n        }\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamDefaultReader(stream) {\n        return new ReadableStreamDefaultReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadRequest(stream, readRequest) {\n        stream._reader._readRequests.push(readRequest);\n    }\n    function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readRequest = reader._readRequests.shift();\n        if (done) {\n            readRequest._closeSteps();\n        }\n        else {\n            readRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadRequests(stream) {\n        return stream._reader._readRequests.length;\n    }\n    function ReadableStreamHasDefaultReader(stream) {\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamDefaultReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A default reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    class ReadableStreamDefaultReader {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamDefaultReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readRequests = new SimpleQueue();\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed,\n         * or rejected if the stream ever errors or the reader's lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        /**\n         * Returns a promise that allows access to the next chunk from the stream's internal queue, if available.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        read() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('read'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readRequest = {\n                _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n                _closeSteps: () => resolvePromise({ value: undefined, done: true }),\n                _errorSteps: e => rejectPromise(e)\n            };\n            ReadableStreamDefaultReaderRead(this, readRequest);\n            return promise;\n        }\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamDefaultReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        releaseLock() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                throw defaultReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            if (this._readRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n            }\n            ReadableStreamReaderGenericRelease(this);\n        }\n    }\n    Object.defineProperties(ReadableStreamDefaultReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamDefaultReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultReader;\n    }\n    function ReadableStreamDefaultReaderRead(reader, readRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            readRequest._closeSteps();\n        }\n        else if (stream._state === 'errored') {\n            readRequest._errorSteps(stream._storedError);\n        }\n        else {\n            stream._readableStreamController[PullSteps](readRequest);\n        }\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamDefaultReader.prototype.${name} can only be used on a ReadableStreamDefaultReader`);\n    }\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    const AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () { }).prototype);\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    class ReadableStreamAsyncIteratorImpl {\n        constructor(reader, preventCancel) {\n            this._ongoingPromise = undefined;\n            this._isFinished = false;\n            this._reader = reader;\n            this._preventCancel = preventCancel;\n        }\n        next() {\n            const nextSteps = () => this._nextSteps();\n            this._ongoingPromise = this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) :\n                nextSteps();\n            return this._ongoingPromise;\n        }\n        return(value) {\n            const returnSteps = () => this._returnSteps(value);\n            return this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) :\n                returnSteps();\n        }\n        _nextSteps() {\n            if (this._isFinished) {\n                return Promise.resolve({ value: undefined, done: true });\n            }\n            const reader = this._reader;\n            if (reader._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('iterate'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    this._ongoingPromise = undefined;\n                    // This needs to be delayed by one microtask, otherwise we stop pulling too early which breaks a test.\n                    // FIXME Is this a bug in the specification, or in the test?\n                    queueMicrotask(() => resolvePromise({ value: chunk, done: false }));\n                },\n                _closeSteps: () => {\n                    this._ongoingPromise = undefined;\n                    this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    resolvePromise({ value: undefined, done: true });\n                },\n                _errorSteps: reason => {\n                    this._ongoingPromise = undefined;\n                    this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    rejectPromise(reason);\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promise;\n        }\n        _returnSteps(value) {\n            if (this._isFinished) {\n                return Promise.resolve({ value, done: true });\n            }\n            this._isFinished = true;\n            const reader = this._reader;\n            if (reader._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('finish iterating'));\n            }\n            if (!this._preventCancel) {\n                const result = ReadableStreamReaderGenericCancel(reader, value);\n                ReadableStreamReaderGenericRelease(reader);\n                return transformPromiseWith(result, () => ({ value, done: true }));\n            }\n            ReadableStreamReaderGenericRelease(reader);\n            return promiseResolvedWith({ value, done: true });\n        }\n    }\n    const ReadableStreamAsyncIteratorPrototype = {\n        next() {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('next'));\n            }\n            return this._asyncIteratorImpl.next();\n        },\n        return(value) {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('return'));\n            }\n            return this._asyncIteratorImpl.return(value);\n        }\n    };\n    if (AsyncIteratorPrototype !== undefined) {\n        Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n    }\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        const impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n        const iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n        iterator._asyncIteratorImpl = impl;\n        return iterator;\n    }\n    function IsReadableStreamAsyncIterator(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_asyncIteratorImpl')) {\n            return false;\n        }\n        try {\n            // noinspection SuspiciousTypeOfGuard\n            return x._asyncIteratorImpl instanceof\n                ReadableStreamAsyncIteratorImpl;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamAsyncIteratorBrandCheckException(name) {\n        return new TypeError(`ReadableStreamAsyncIterator.${name} can only be used on a ReadableSteamAsyncIterator`);\n    }\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\n    const NumberIsNaN = Number.isNaN || function (x) {\n        // eslint-disable-next-line no-self-compare\n        return x !== x;\n    };\n\n    function CreateArrayFromList(elements) {\n        // We use arrays to represent lists, so this is basically a no-op.\n        // Do a slice though just in case we happen to depend on the unique-ness.\n        return elements.slice();\n    }\n    function CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n        new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n    }\n    // Not implemented correctly\n    function TransferArrayBuffer(O) {\n        return O;\n    }\n    // Not implemented correctly\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function IsDetachedBuffer(O) {\n        return false;\n    }\n    function ArrayBufferSlice(buffer, begin, end) {\n        // ArrayBuffer.prototype.slice is not available on IE10\n        // https://www.caniuse.com/mdn-javascript_builtins_arraybuffer_slice\n        if (buffer.slice) {\n            return buffer.slice(begin, end);\n        }\n        const length = end - begin;\n        const slice = new ArrayBuffer(length);\n        CopyDataBlockBytes(slice, 0, buffer, begin, length);\n        return slice;\n    }\n\n    function IsNonNegativeNumber(v) {\n        if (typeof v !== 'number') {\n            return false;\n        }\n        if (NumberIsNaN(v)) {\n            return false;\n        }\n        if (v < 0) {\n            return false;\n        }\n        return true;\n    }\n    function CloneAsUint8Array(O) {\n        const buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n        return new Uint8Array(buffer);\n    }\n\n    function DequeueValue(container) {\n        const pair = container._queue.shift();\n        container._queueTotalSize -= pair.size;\n        if (container._queueTotalSize < 0) {\n            container._queueTotalSize = 0;\n        }\n        return pair.value;\n    }\n    function EnqueueValueWithSize(container, value, size) {\n        if (!IsNonNegativeNumber(size) || size === Infinity) {\n            throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n        }\n        container._queue.push({ value, size });\n        container._queueTotalSize += size;\n    }\n    function PeekQueueValue(container) {\n        const pair = container._queue.peek();\n        return pair.value;\n    }\n    function ResetQueue(container) {\n        container._queue = new SimpleQueue();\n        container._queueTotalSize = 0;\n    }\n\n    /**\n     * A pull-into request in a {@link ReadableByteStreamController}.\n     *\n     * @public\n     */\n    class ReadableStreamBYOBRequest {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the view for writing in to, or `null` if the BYOB request has already been responded to.\n         */\n        get view() {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('view');\n            }\n            return this._view;\n        }\n        respond(bytesWritten) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respond');\n            }\n            assertRequiredArgument(bytesWritten, 1, 'respond');\n            bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, 'First parameter');\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(this._view.buffer)) ;\n            ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n        }\n        respondWithNewView(view) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respondWithNewView');\n            }\n            assertRequiredArgument(view, 1, 'respondWithNewView');\n            if (!ArrayBuffer.isView(view)) {\n                throw new TypeError('You can only respond with array buffer views');\n            }\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(view.buffer)) ;\n            ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n        }\n    }\n    Object.defineProperties(ReadableStreamBYOBRequest.prototype, {\n        respond: { enumerable: true },\n        respondWithNewView: { enumerable: true },\n        view: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBRequest',\n            configurable: true\n        });\n    }\n    /**\n     * Allows control of a {@link ReadableStream | readable byte stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class ReadableByteStreamController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the current BYOB pull request, or `null` if there isn't one.\n         */\n        get byobRequest() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('byobRequest');\n            }\n            return ReadableByteStreamControllerGetBYOBRequest(this);\n        }\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying byte source ought to use this information to determine when and how to apply backpressure.\n         */\n        get desiredSize() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('desiredSize');\n            }\n            return ReadableByteStreamControllerGetDesiredSize(this);\n        }\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        close() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('close');\n            }\n            if (this._closeRequested) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n            }\n            const state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be closed`);\n            }\n            ReadableByteStreamControllerClose(this);\n        }\n        enqueue(chunk) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('enqueue');\n            }\n            assertRequiredArgument(chunk, 1, 'enqueue');\n            if (!ArrayBuffer.isView(chunk)) {\n                throw new TypeError('chunk must be an array buffer view');\n            }\n            if (chunk.byteLength === 0) {\n                throw new TypeError('chunk must have non-zero byteLength');\n            }\n            if (chunk.buffer.byteLength === 0) {\n                throw new TypeError(`chunk's buffer must have non-zero byteLength`);\n            }\n            if (this._closeRequested) {\n                throw new TypeError('stream is closed or draining');\n            }\n            const state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be enqueued to`);\n            }\n            ReadableByteStreamControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        error(e = undefined) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('error');\n            }\n            ReadableByteStreamControllerError(this, e);\n        }\n        /** @internal */\n        [CancelSteps](reason) {\n            ReadableByteStreamControllerClearPendingPullIntos(this);\n            ResetQueue(this);\n            const result = this._cancelAlgorithm(reason);\n            ReadableByteStreamControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [PullSteps](readRequest) {\n            const stream = this._controlledReadableByteStream;\n            if (this._queueTotalSize > 0) {\n                const entry = this._queue.shift();\n                this._queueTotalSize -= entry.byteLength;\n                ReadableByteStreamControllerHandleQueueDrain(this);\n                const view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n                readRequest._chunkSteps(view);\n                return;\n            }\n            const autoAllocateChunkSize = this._autoAllocateChunkSize;\n            if (autoAllocateChunkSize !== undefined) {\n                let buffer;\n                try {\n                    buffer = new ArrayBuffer(autoAllocateChunkSize);\n                }\n                catch (bufferE) {\n                    readRequest._errorSteps(bufferE);\n                    return;\n                }\n                const pullIntoDescriptor = {\n                    buffer,\n                    bufferByteLength: autoAllocateChunkSize,\n                    byteOffset: 0,\n                    byteLength: autoAllocateChunkSize,\n                    bytesFilled: 0,\n                    elementSize: 1,\n                    viewConstructor: Uint8Array,\n                    readerType: 'default'\n                };\n                this._pendingPullIntos.push(pullIntoDescriptor);\n            }\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableByteStreamControllerCallPullIfNeeded(this);\n        }\n    }\n    Object.defineProperties(ReadableByteStreamController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        byobRequest: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableByteStreamController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableByteStreamController.\n    function IsReadableByteStreamController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n            return false;\n        }\n        return x instanceof ReadableByteStreamController;\n    }\n    function IsReadableStreamBYOBRequest(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBRequest;\n    }\n    function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        // TODO: Test controller argument\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }\n        }, e => {\n            ReadableByteStreamControllerError(controller, e);\n        });\n    }\n    function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        controller._pendingPullIntos = new SimpleQueue();\n    }\n    function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n        let done = false;\n        if (stream._state === 'closed') {\n            done = true;\n        }\n        const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n        if (pullIntoDescriptor.readerType === 'default') {\n            ReadableStreamFulfillReadRequest(stream, filledView, done);\n        }\n        else {\n            ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n        }\n    }\n    function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n        const bytesFilled = pullIntoDescriptor.bytesFilled;\n        const elementSize = pullIntoDescriptor.elementSize;\n        return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n    }\n    function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n        controller._queue.push({ buffer, byteOffset, byteLength });\n        controller._queueTotalSize += byteLength;\n    }\n    function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n        const elementSize = pullIntoDescriptor.elementSize;\n        const currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n        const maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n        const maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n        const maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n        let totalBytesToCopyRemaining = maxBytesToCopy;\n        let ready = false;\n        if (maxAlignedBytes > currentAlignedBytes) {\n            totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n            ready = true;\n        }\n        const queue = controller._queue;\n        while (totalBytesToCopyRemaining > 0) {\n            const headOfQueue = queue.peek();\n            const bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n            const destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n            if (headOfQueue.byteLength === bytesToCopy) {\n                queue.shift();\n            }\n            else {\n                headOfQueue.byteOffset += bytesToCopy;\n                headOfQueue.byteLength -= bytesToCopy;\n            }\n            controller._queueTotalSize -= bytesToCopy;\n            ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n            totalBytesToCopyRemaining -= bytesToCopy;\n        }\n        return ready;\n    }\n    function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n        pullIntoDescriptor.bytesFilled += size;\n    }\n    function ReadableByteStreamControllerHandleQueueDrain(controller) {\n        if (controller._queueTotalSize === 0 && controller._closeRequested) {\n            ReadableByteStreamControllerClearAlgorithms(controller);\n            ReadableStreamClose(controller._controlledReadableByteStream);\n        }\n        else {\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n    }\n    function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n        if (controller._byobRequest === null) {\n            return;\n        }\n        controller._byobRequest._associatedReadableByteStreamController = undefined;\n        controller._byobRequest._view = null;\n        controller._byobRequest = null;\n    }\n    function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n        while (controller._pendingPullIntos.length > 0) {\n            if (controller._queueTotalSize === 0) {\n                return;\n            }\n            const pullIntoDescriptor = controller._pendingPullIntos.peek();\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerPullInto(controller, view, readIntoRequest) {\n        const stream = controller._controlledReadableByteStream;\n        let elementSize = 1;\n        if (view.constructor !== DataView) {\n            elementSize = view.constructor.BYTES_PER_ELEMENT;\n        }\n        const ctor = view.constructor;\n        // try {\n        const buffer = TransferArrayBuffer(view.buffer);\n        // } catch (e) {\n        //   readIntoRequest._errorSteps(e);\n        //   return;\n        // }\n        const pullIntoDescriptor = {\n            buffer,\n            bufferByteLength: buffer.byteLength,\n            byteOffset: view.byteOffset,\n            byteLength: view.byteLength,\n            bytesFilled: 0,\n            elementSize,\n            viewConstructor: ctor,\n            readerType: 'byob'\n        };\n        if (controller._pendingPullIntos.length > 0) {\n            controller._pendingPullIntos.push(pullIntoDescriptor);\n            // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n            // - No change happens on desiredSize\n            // - The source has already been notified of that there's at least 1 pending read(view)\n            ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n            return;\n        }\n        if (stream._state === 'closed') {\n            const emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n            readIntoRequest._closeSteps(emptyView);\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n                ReadableByteStreamControllerHandleQueueDrain(controller);\n                readIntoRequest._chunkSteps(filledView);\n                return;\n            }\n            if (controller._closeRequested) {\n                const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                readIntoRequest._errorSteps(e);\n                return;\n            }\n        }\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n        const stream = controller._controlledReadableByteStream;\n        if (ReadableStreamHasBYOBReader(stream)) {\n            while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n                const pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n        if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n            return;\n        }\n        ReadableByteStreamControllerShiftPendingPullInto(controller);\n        const remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n        if (remainderSize > 0) {\n            const end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            const remainder = ArrayBufferSlice(pullIntoDescriptor.buffer, end - remainderSize, end);\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n        }\n        pullIntoDescriptor.bytesFilled -= remainderSize;\n        ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n    }\n    function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            ReadableByteStreamControllerRespondInClosedState(controller);\n        }\n        else {\n            ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n        const descriptor = controller._pendingPullIntos.shift();\n        return descriptor;\n    }\n    function ReadableByteStreamControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return false;\n        }\n        if (controller._closeRequested) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            return true;\n        }\n        const desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableByteStreamControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n    }\n    // A client of ReadableByteStreamController may use these functions directly to bypass state check.\n    function ReadableByteStreamControllerClose(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            controller._closeRequested = true;\n            return;\n        }\n        if (controller._pendingPullIntos.length > 0) {\n            const firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (firstPendingPullInto.bytesFilled > 0) {\n                const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                throw e;\n            }\n        }\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n    }\n    function ReadableByteStreamControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        const buffer = chunk.buffer;\n        const byteOffset = chunk.byteOffset;\n        const byteLength = chunk.byteLength;\n        const transferredBuffer = TransferArrayBuffer(buffer);\n        if (controller._pendingPullIntos.length > 0) {\n            const firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (IsDetachedBuffer(firstPendingPullInto.buffer)) ;\n            firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n        }\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        if (ReadableStreamHasDefaultReader(stream)) {\n            if (ReadableStreamGetNumReadRequests(stream) === 0) {\n                ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            }\n            else {\n                if (controller._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerShiftPendingPullInto(controller);\n                }\n                const transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n                ReadableStreamFulfillReadRequest(stream, transferredView, false);\n            }\n        }\n        else if (ReadableStreamHasBYOBReader(stream)) {\n            // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        }\n        else {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerError(controller, e) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ReadableByteStreamControllerClearPendingPullIntos(controller);\n        ResetQueue(controller);\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableByteStreamControllerGetBYOBRequest(controller) {\n        if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n            const firstDescriptor = controller._pendingPullIntos.peek();\n            const view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n            const byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n            SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n            controller._byobRequest = byobRequest;\n        }\n        return controller._byobRequest;\n    }\n    function ReadableByteStreamControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (bytesWritten !== 0) {\n                throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n            }\n        }\n        else {\n            if (bytesWritten === 0) {\n                throw new TypeError('bytesWritten must be greater than 0 when calling respond() on a readable stream');\n            }\n            if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n                throw new RangeError('bytesWritten out of range');\n            }\n        }\n        firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n    }\n    function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (view.byteLength !== 0) {\n                throw new TypeError('The view\\'s length must be 0 when calling respondWithNewView() on a closed stream');\n            }\n        }\n        else {\n            if (view.byteLength === 0) {\n                throw new TypeError('The view\\'s length must be greater than 0 when calling respondWithNewView() on a readable stream');\n            }\n        }\n        if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n            throw new RangeError('The region specified by view does not match byobRequest');\n        }\n        if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n            throw new RangeError('The buffer of view has different capacity than byobRequest');\n        }\n        if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n            throw new RangeError('The region specified by view is larger than byobRequest');\n        }\n        const viewByteLength = view.byteLength;\n        firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n    }\n    function SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n        controller._controlledReadableByteStream = stream;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._byobRequest = null;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._closeRequested = false;\n        controller._started = false;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        controller._autoAllocateChunkSize = autoAllocateChunkSize;\n        controller._pendingPullIntos = new SimpleQueue();\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n            controller._started = true;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }, r => {\n            ReadableByteStreamControllerError(controller, r);\n        });\n    }\n    function SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        let startAlgorithm = () => undefined;\n        let pullAlgorithm = () => promiseResolvedWith(undefined);\n        let cancelAlgorithm = () => promiseResolvedWith(undefined);\n        if (underlyingByteSource.start !== undefined) {\n            startAlgorithm = () => underlyingByteSource.start(controller);\n        }\n        if (underlyingByteSource.pull !== undefined) {\n            pullAlgorithm = () => underlyingByteSource.pull(controller);\n        }\n        if (underlyingByteSource.cancel !== undefined) {\n            cancelAlgorithm = reason => underlyingByteSource.cancel(reason);\n        }\n        const autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n        if (autoAllocateChunkSize === 0) {\n            throw new TypeError('autoAllocateChunkSize must be greater than 0');\n        }\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n    }\n    function SetUpReadableStreamBYOBRequest(request, controller, view) {\n        request._associatedReadableByteStreamController = controller;\n        request._view = view;\n    }\n    // Helper functions for the ReadableStreamBYOBRequest.\n    function byobRequestBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBRequest.prototype.${name} can only be used on a ReadableStreamBYOBRequest`);\n    }\n    // Helper functions for the ReadableByteStreamController.\n    function byteStreamControllerBrandCheckException(name) {\n        return new TypeError(`ReadableByteStreamController.prototype.${name} can only be used on a ReadableByteStreamController`);\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamBYOBReader(stream) {\n        return new ReadableStreamBYOBReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n        stream._reader._readIntoRequests.push(readIntoRequest);\n    }\n    function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readIntoRequest = reader._readIntoRequests.shift();\n        if (done) {\n            readIntoRequest._closeSteps(chunk);\n        }\n        else {\n            readIntoRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadIntoRequests(stream) {\n        return stream._reader._readIntoRequests.length;\n    }\n    function ReadableStreamHasBYOBReader(stream) {\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamBYOBReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A BYOB reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    class ReadableStreamBYOBReader {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamBYOBReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            if (!IsReadableByteStreamController(stream._readableStreamController)) {\n                throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n                    'source');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readIntoRequests = new SimpleQueue();\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the reader's lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        /**\n         * Attempts to reads bytes into view, and returns a promise resolved with the result.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        read(view) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('read'));\n            }\n            if (!ArrayBuffer.isView(view)) {\n                return promiseRejectedWith(new TypeError('view must be an array buffer view'));\n            }\n            if (view.byteLength === 0) {\n                return promiseRejectedWith(new TypeError('view must have non-zero byteLength'));\n            }\n            if (view.buffer.byteLength === 0) {\n                return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`));\n            }\n            if (IsDetachedBuffer(view.buffer)) ;\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readIntoRequest = {\n                _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n                _closeSteps: chunk => resolvePromise({ value: chunk, done: true }),\n                _errorSteps: e => rejectPromise(e)\n            };\n            ReadableStreamBYOBReaderRead(this, view, readIntoRequest);\n            return promise;\n        }\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamBYOBReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        releaseLock() {\n            if (!IsReadableStreamBYOBReader(this)) {\n                throw byobReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            if (this._readIntoRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n            }\n            ReadableStreamReaderGenericRelease(this);\n        }\n    }\n    Object.defineProperties(ReadableStreamBYOBReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamBYOBReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBReader;\n    }\n    function ReadableStreamBYOBReaderRead(reader, view, readIntoRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'errored') {\n            readIntoRequest._errorSteps(stream._storedError);\n        }\n        else {\n            ReadableByteStreamControllerPullInto(stream._readableStreamController, view, readIntoRequest);\n        }\n    }\n    // Helper functions for the ReadableStreamBYOBReader.\n    function byobReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBReader.prototype.${name} can only be used on a ReadableStreamBYOBReader`);\n    }\n\n    function ExtractHighWaterMark(strategy, defaultHWM) {\n        const { highWaterMark } = strategy;\n        if (highWaterMark === undefined) {\n            return defaultHWM;\n        }\n        if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n            throw new RangeError('Invalid highWaterMark');\n        }\n        return highWaterMark;\n    }\n    function ExtractSizeAlgorithm(strategy) {\n        const { size } = strategy;\n        if (!size) {\n            return () => 1;\n        }\n        return size;\n    }\n\n    function convertQueuingStrategy(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        const size = init === null || init === void 0 ? void 0 : init.size;\n        return {\n            highWaterMark: highWaterMark === undefined ? undefined : convertUnrestrictedDouble(highWaterMark),\n            size: size === undefined ? undefined : convertQueuingStrategySize(size, `${context} has member 'size' that`)\n        };\n    }\n    function convertQueuingStrategySize(fn, context) {\n        assertFunction(fn, context);\n        return chunk => convertUnrestrictedDouble(fn(chunk));\n    }\n\n    function convertUnderlyingSink(original, context) {\n        assertDictionary(original, context);\n        const abort = original === null || original === void 0 ? void 0 : original.abort;\n        const close = original === null || original === void 0 ? void 0 : original.close;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        const write = original === null || original === void 0 ? void 0 : original.write;\n        return {\n            abort: abort === undefined ?\n                undefined :\n                convertUnderlyingSinkAbortCallback(abort, original, `${context} has member 'abort' that`),\n            close: close === undefined ?\n                undefined :\n                convertUnderlyingSinkCloseCallback(close, original, `${context} has member 'close' that`),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSinkStartCallback(start, original, `${context} has member 'start' that`),\n            write: write === undefined ?\n                undefined :\n                convertUnderlyingSinkWriteCallback(write, original, `${context} has member 'write' that`),\n            type\n        };\n    }\n    function convertUnderlyingSinkAbortCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n    function convertUnderlyingSinkCloseCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return () => promiseCall(fn, original, []);\n    }\n    function convertUnderlyingSinkStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertUnderlyingSinkWriteCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n    }\n\n    function assertWritableStream(x, context) {\n        if (!IsWritableStream(x)) {\n            throw new TypeError(`${context} is not a WritableStream.`);\n        }\n    }\n\n    function isAbortSignal(value) {\n        if (typeof value !== 'object' || value === null) {\n            return false;\n        }\n        try {\n            return typeof value.aborted === 'boolean';\n        }\n        catch (_a) {\n            // AbortSignal.prototype.aborted throws if its brand check fails\n            return false;\n        }\n    }\n    const supportsAbortController = typeof AbortController === 'function';\n    /**\n     * Construct a new AbortController, if supported by the platform.\n     *\n     * @internal\n     */\n    function createAbortController() {\n        if (supportsAbortController) {\n            return new AbortController();\n        }\n        return undefined;\n    }\n\n    /**\n     * A writable stream represents a destination for data, into which you can write.\n     *\n     * @public\n     */\n    class WritableStream {\n        constructor(rawUnderlyingSink = {}, rawStrategy = {}) {\n            if (rawUnderlyingSink === undefined) {\n                rawUnderlyingSink = null;\n            }\n            else {\n                assertObject(rawUnderlyingSink, 'First parameter');\n            }\n            const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            const underlyingSink = convertUnderlyingSink(rawUnderlyingSink, 'First parameter');\n            InitializeWritableStream(this);\n            const type = underlyingSink.type;\n            if (type !== undefined) {\n                throw new RangeError('Invalid type is specified');\n            }\n            const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            const highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n        }\n        /**\n         * Returns whether or not the writable stream is locked to a writer.\n         */\n        get locked() {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('locked');\n            }\n            return IsWritableStreamLocked(this);\n        }\n        /**\n         * Aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be\n         * immediately moved to an errored state, with any queued-up writes discarded. This will also execute any abort\n         * mechanism of the underlying sink.\n         *\n         * The returned promise will fulfill if the stream shuts down successfully, or reject if the underlying sink signaled\n         * that there was an error doing so. Additionally, it will reject with a `TypeError` (without attempting to cancel\n         * the stream) if the stream is currently locked.\n         */\n        abort(reason = undefined) {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('abort'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot abort a stream that already has a writer'));\n            }\n            return WritableStreamAbort(this, reason);\n        }\n        /**\n         * Closes the stream. The underlying sink will finish processing any previously-written chunks, before invoking its\n         * close behavior. During this time any further attempts to write will fail (without erroring the stream).\n         *\n         * The method returns a promise that will fulfill if all remaining chunks are successfully written and the stream\n         * successfully closes, or rejects if an error is encountered during this process. Additionally, it will reject with\n         * a `TypeError` (without attempting to cancel the stream) if the stream is currently locked.\n         */\n        close() {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('close'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close a stream that already has a writer'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamClose(this);\n        }\n        /**\n         * Creates a {@link WritableStreamDefaultWriter | writer} and locks the stream to the new writer. While the stream\n         * is locked, no other writer can be acquired until this one is released.\n         *\n         * This functionality is especially useful for creating abstractions that desire the ability to write to a stream\n         * without interruption or interleaving. By getting a writer for the stream, you can ensure nobody else can write at\n         * the same time, which would cause the resulting written data to be unpredictable and probably useless.\n         */\n        getWriter() {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('getWriter');\n            }\n            return AcquireWritableStreamDefaultWriter(this);\n        }\n    }\n    Object.defineProperties(WritableStream.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        getWriter: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStream',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStream.\n    function AcquireWritableStreamDefaultWriter(stream) {\n        return new WritableStreamDefaultWriter(stream);\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(WritableStream.prototype);\n        InitializeWritableStream(stream);\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    function InitializeWritableStream(stream) {\n        stream._state = 'writable';\n        // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n        // 'erroring' or 'errored'. May be set to an undefined value.\n        stream._storedError = undefined;\n        stream._writer = undefined;\n        // Initialize to undefined first because the constructor of the controller checks this\n        // variable to validate the caller.\n        stream._writableStreamController = undefined;\n        // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n        // producer without waiting for the queued writes to finish.\n        stream._writeRequests = new SimpleQueue();\n        // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n        // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n        stream._inFlightWriteRequest = undefined;\n        // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n        // has been detached.\n        stream._closeRequest = undefined;\n        // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n        // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n        stream._inFlightCloseRequest = undefined;\n        // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n        stream._pendingAbortRequest = undefined;\n        // The backpressure signal set by the controller.\n        stream._backpressure = false;\n    }\n    function IsWritableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n            return false;\n        }\n        return x instanceof WritableStream;\n    }\n    function IsWritableStreamLocked(stream) {\n        if (stream._writer === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamAbort(stream, reason) {\n        var _a;\n        if (stream._state === 'closed' || stream._state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        stream._writableStreamController._abortReason = reason;\n        (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort();\n        // TypeScript narrows the type of `stream._state` down to 'writable' | 'erroring',\n        // but it doesn't know that signaling abort runs author code that might have changed the state.\n        // Widen the type again by casting to WritableStreamState.\n        const state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._pendingAbortRequest !== undefined) {\n            return stream._pendingAbortRequest._promise;\n        }\n        let wasAlreadyErroring = false;\n        if (state === 'erroring') {\n            wasAlreadyErroring = true;\n            // reason will not be used, so don't keep a reference to it.\n            reason = undefined;\n        }\n        const promise = newPromise((resolve, reject) => {\n            stream._pendingAbortRequest = {\n                _promise: undefined,\n                _resolve: resolve,\n                _reject: reject,\n                _reason: reason,\n                _wasAlreadyErroring: wasAlreadyErroring\n            };\n        });\n        stream._pendingAbortRequest._promise = promise;\n        if (!wasAlreadyErroring) {\n            WritableStreamStartErroring(stream, reason);\n        }\n        return promise;\n    }\n    function WritableStreamClose(stream) {\n        const state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseRejectedWith(new TypeError(`The stream (in ${state} state) is not in the writable state and cannot be closed`));\n        }\n        const promise = newPromise((resolve, reject) => {\n            const closeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._closeRequest = closeRequest;\n        });\n        const writer = stream._writer;\n        if (writer !== undefined && stream._backpressure && state === 'writable') {\n            defaultWriterReadyPromiseResolve(writer);\n        }\n        WritableStreamDefaultControllerClose(stream._writableStreamController);\n        return promise;\n    }\n    // WritableStream API exposed for controllers.\n    function WritableStreamAddWriteRequest(stream) {\n        const promise = newPromise((resolve, reject) => {\n            const writeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._writeRequests.push(writeRequest);\n        });\n        return promise;\n    }\n    function WritableStreamDealWithRejection(stream, error) {\n        const state = stream._state;\n        if (state === 'writable') {\n            WritableStreamStartErroring(stream, error);\n            return;\n        }\n        WritableStreamFinishErroring(stream);\n    }\n    function WritableStreamStartErroring(stream, reason) {\n        const controller = stream._writableStreamController;\n        stream._state = 'erroring';\n        stream._storedError = reason;\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n        }\n        if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n            WritableStreamFinishErroring(stream);\n        }\n    }\n    function WritableStreamFinishErroring(stream) {\n        stream._state = 'errored';\n        stream._writableStreamController[ErrorSteps]();\n        const storedError = stream._storedError;\n        stream._writeRequests.forEach(writeRequest => {\n            writeRequest._reject(storedError);\n        });\n        stream._writeRequests = new SimpleQueue();\n        if (stream._pendingAbortRequest === undefined) {\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        const abortRequest = stream._pendingAbortRequest;\n        stream._pendingAbortRequest = undefined;\n        if (abortRequest._wasAlreadyErroring) {\n            abortRequest._reject(storedError);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        const promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n        uponPromise(promise, () => {\n            abortRequest._resolve();\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        }, (reason) => {\n            abortRequest._reject(reason);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        });\n    }\n    function WritableStreamFinishInFlightWrite(stream) {\n        stream._inFlightWriteRequest._resolve(undefined);\n        stream._inFlightWriteRequest = undefined;\n    }\n    function WritableStreamFinishInFlightWriteWithError(stream, error) {\n        stream._inFlightWriteRequest._reject(error);\n        stream._inFlightWriteRequest = undefined;\n        WritableStreamDealWithRejection(stream, error);\n    }\n    function WritableStreamFinishInFlightClose(stream) {\n        stream._inFlightCloseRequest._resolve(undefined);\n        stream._inFlightCloseRequest = undefined;\n        const state = stream._state;\n        if (state === 'erroring') {\n            // The error was too late to do anything, so it is ignored.\n            stream._storedError = undefined;\n            if (stream._pendingAbortRequest !== undefined) {\n                stream._pendingAbortRequest._resolve();\n                stream._pendingAbortRequest = undefined;\n            }\n        }\n        stream._state = 'closed';\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseResolve(writer);\n        }\n    }\n    function WritableStreamFinishInFlightCloseWithError(stream, error) {\n        stream._inFlightCloseRequest._reject(error);\n        stream._inFlightCloseRequest = undefined;\n        // Never execute sink abort() after sink close().\n        if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._reject(error);\n            stream._pendingAbortRequest = undefined;\n        }\n        WritableStreamDealWithRejection(stream, error);\n    }\n    // TODO(ricea): Fix alphabetical order.\n    function WritableStreamCloseQueuedOrInFlight(stream) {\n        if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamHasOperationMarkedInFlight(stream) {\n        if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamMarkCloseRequestInFlight(stream) {\n        stream._inFlightCloseRequest = stream._closeRequest;\n        stream._closeRequest = undefined;\n    }\n    function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n        stream._inFlightWriteRequest = stream._writeRequests.shift();\n    }\n    function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n        if (stream._closeRequest !== undefined) {\n            stream._closeRequest._reject(stream._storedError);\n            stream._closeRequest = undefined;\n        }\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseReject(writer, stream._storedError);\n        }\n    }\n    function WritableStreamUpdateBackpressure(stream, backpressure) {\n        const writer = stream._writer;\n        if (writer !== undefined && backpressure !== stream._backpressure) {\n            if (backpressure) {\n                defaultWriterReadyPromiseReset(writer);\n            }\n            else {\n                defaultWriterReadyPromiseResolve(writer);\n            }\n        }\n        stream._backpressure = backpressure;\n    }\n    /**\n     * A default writer vended by a {@link WritableStream}.\n     *\n     * @public\n     */\n    class WritableStreamDefaultWriter {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'WritableStreamDefaultWriter');\n            assertWritableStream(stream, 'First parameter');\n            if (IsWritableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n            }\n            this._ownerWritableStream = stream;\n            stream._writer = this;\n            const state = stream._state;\n            if (state === 'writable') {\n                if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n                    defaultWriterReadyPromiseInitialize(this);\n                }\n                else {\n                    defaultWriterReadyPromiseInitializeAsResolved(this);\n                }\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'erroring') {\n                defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'closed') {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n                defaultWriterClosedPromiseInitializeAsResolved(this);\n            }\n            else {\n                const storedError = stream._storedError;\n                defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n                defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n            }\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the writer\u2019s lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * Returns the desired size to fill the stream\u2019s internal queue. It can be negative, if the queue is over-full.\n         * A producer can use this information to determine the right amount of data to write.\n         *\n         * It will be `null` if the stream cannot be successfully written to (due to either being errored, or having an abort\n         * queued up). It will return zero if the stream is closed. And the getter will throw an exception if invoked when\n         * the writer\u2019s lock is released.\n         */\n        get desiredSize() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('desiredSize');\n            }\n            if (this._ownerWritableStream === undefined) {\n                throw defaultWriterLockException('desiredSize');\n            }\n            return WritableStreamDefaultWriterGetDesiredSize(this);\n        }\n        /**\n         * Returns a promise that will be fulfilled when the desired size to fill the stream\u2019s internal queue transitions\n         * from non-positive to positive, signaling that it is no longer applying backpressure. Once the desired size dips\n         * back to zero or below, the getter will return a new promise that stays pending until the next transition.\n         *\n         * If the stream becomes errored or aborted, or the writer\u2019s lock is released, the returned promise will become\n         * rejected.\n         */\n        get ready() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('ready'));\n            }\n            return this._readyPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.abort | stream.abort(reason)}.\n         */\n        abort(reason = undefined) {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('abort'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('abort'));\n            }\n            return WritableStreamDefaultWriterAbort(this, reason);\n        }\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.close | stream.close()}.\n         */\n        close() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('close'));\n            }\n            const stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('close'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(stream)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamDefaultWriterClose(this);\n        }\n        /**\n         * Releases the writer\u2019s lock on the corresponding stream. After the lock is released, the writer is no longer active.\n         * If the associated stream is errored when the lock is released, the writer will appear errored in the same way from\n         * now on; otherwise, the writer will appear closed.\n         *\n         * Note that the lock can still be released even if some ongoing writes have not yet finished (i.e. even if the\n         * promises returned from previous calls to {@link WritableStreamDefaultWriter.write | write()} have not yet settled).\n         * It\u2019s not necessary to hold the lock on the writer for the duration of the write; the lock instead simply prevents\n         * other producers from writing in an interleaved manner.\n         */\n        releaseLock() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('releaseLock');\n            }\n            const stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return;\n            }\n            WritableStreamDefaultWriterRelease(this);\n        }\n        write(chunk = undefined) {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('write'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('write to'));\n            }\n            return WritableStreamDefaultWriterWrite(this, chunk);\n        }\n    }\n    Object.defineProperties(WritableStreamDefaultWriter.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        releaseLock: { enumerable: true },\n        write: { enumerable: true },\n        closed: { enumerable: true },\n        desiredSize: { enumerable: true },\n        ready: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultWriter',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStreamDefaultWriter.\n    function IsWritableStreamDefaultWriter(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultWriter;\n    }\n    // A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n    function WritableStreamDefaultWriterAbort(writer, reason) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamAbort(stream, reason);\n    }\n    function WritableStreamDefaultWriterClose(writer) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamClose(stream);\n    }\n    function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        return WritableStreamDefaultWriterClose(writer);\n    }\n    function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n        if (writer._closedPromiseState === 'pending') {\n            defaultWriterClosedPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterClosedPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n        if (writer._readyPromiseState === 'pending') {\n            defaultWriterReadyPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterReadyPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterGetDesiredSize(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (state === 'errored' || state === 'erroring') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n    }\n    function WritableStreamDefaultWriterRelease(writer) {\n        const stream = writer._ownerWritableStream;\n        const releasedError = new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n        // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n        // rejected until afterwards. This means that simply testing state will not work.\n        WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n        stream._writer = undefined;\n        writer._ownerWritableStream = undefined;\n    }\n    function WritableStreamDefaultWriterWrite(writer, chunk) {\n        const stream = writer._ownerWritableStream;\n        const controller = stream._writableStreamController;\n        const chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n        if (stream !== writer._ownerWritableStream) {\n            return promiseRejectedWith(defaultWriterLockException('write to'));\n        }\n        const state = stream._state;\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseRejectedWith(new TypeError('The stream is closing or closed and cannot be written to'));\n        }\n        if (state === 'erroring') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        const promise = WritableStreamAddWriteRequest(stream);\n        WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n        return promise;\n    }\n    const closeSentinel = {};\n    /**\n     * Allows control of a {@link WritableStream | writable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class WritableStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * The reason which was passed to `WritableStream.abort(reason)` when the stream was aborted.\n         *\n         * @deprecated\n         *  This property has been removed from the specification, see https://github.com/whatwg/streams/pull/1177.\n         *  Use {@link WritableStreamDefaultController.signal}'s `reason` instead.\n         */\n        get abortReason() {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('abortReason');\n            }\n            return this._abortReason;\n        }\n        /**\n         * An `AbortSignal` that can be used to abort the pending write or close operation when the stream is aborted.\n         */\n        get signal() {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('signal');\n            }\n            if (this._abortController === undefined) {\n                // Older browsers or older Node versions may not support `AbortController` or `AbortSignal`.\n                // We don't want to bundle and ship an `AbortController` polyfill together with our polyfill,\n                // so instead we only implement support for `signal` if we find a global `AbortController` constructor.\n                throw new TypeError('WritableStreamDefaultController.prototype.signal is not supported');\n            }\n            return this._abortController.signal;\n        }\n        /**\n         * Closes the controlled writable stream, making all future interactions with it fail with the given error `e`.\n         *\n         * This method is rarely used, since usually it suffices to return a rejected promise from one of the underlying\n         * sink's methods. However, it can be useful for suddenly shutting down a stream in response to an event outside the\n         * normal lifecycle of interactions with the underlying sink.\n         */\n        error(e = undefined) {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('error');\n            }\n            const state = this._controlledWritableStream._state;\n            if (state !== 'writable') {\n                // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n                // just treat it as a no-op.\n                return;\n            }\n            WritableStreamDefaultControllerError(this, e);\n        }\n        /** @internal */\n        [AbortSteps](reason) {\n            const result = this._abortAlgorithm(reason);\n            WritableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [ErrorSteps]() {\n            ResetQueue(this);\n        }\n    }\n    Object.defineProperties(WritableStreamDefaultController.prototype, {\n        abortReason: { enumerable: true },\n        signal: { enumerable: true },\n        error: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations implementing interface required by the WritableStream.\n    function IsWritableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultController;\n    }\n    function SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledWritableStream = stream;\n        stream._writableStreamController = controller;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._abortReason = undefined;\n        controller._abortController = createAbortController();\n        controller._started = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._writeAlgorithm = writeAlgorithm;\n        controller._closeAlgorithm = closeAlgorithm;\n        controller._abortAlgorithm = abortAlgorithm;\n        const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n        const startResult = startAlgorithm();\n        const startPromise = promiseResolvedWith(startResult);\n        uponPromise(startPromise, () => {\n            controller._started = true;\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, r => {\n            controller._started = true;\n            WritableStreamDealWithRejection(stream, r);\n        });\n    }\n    function SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        let startAlgorithm = () => undefined;\n        let writeAlgorithm = () => promiseResolvedWith(undefined);\n        let closeAlgorithm = () => promiseResolvedWith(undefined);\n        let abortAlgorithm = () => promiseResolvedWith(undefined);\n        if (underlyingSink.start !== undefined) {\n            startAlgorithm = () => underlyingSink.start(controller);\n        }\n        if (underlyingSink.write !== undefined) {\n            writeAlgorithm = chunk => underlyingSink.write(chunk, controller);\n        }\n        if (underlyingSink.close !== undefined) {\n            closeAlgorithm = () => underlyingSink.close();\n        }\n        if (underlyingSink.abort !== undefined) {\n            abortAlgorithm = reason => underlyingSink.abort(reason);\n        }\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\n    function WritableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._writeAlgorithm = undefined;\n        controller._closeAlgorithm = undefined;\n        controller._abortAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    function WritableStreamDefaultControllerClose(controller) {\n        EnqueueValueWithSize(controller, closeSentinel, 0);\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n        try {\n            return controller._strategySizeAlgorithm(chunk);\n        }\n        catch (chunkSizeE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n            return 1;\n        }\n    }\n    function WritableStreamDefaultControllerGetDesiredSize(controller) {\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n        try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n        }\n        catch (enqueueE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n            return;\n        }\n        const stream = controller._controlledWritableStream;\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === 'writable') {\n            const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    // Abstract operations for the WritableStreamDefaultController.\n    function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n        const stream = controller._controlledWritableStream;\n        if (!controller._started) {\n            return;\n        }\n        if (stream._inFlightWriteRequest !== undefined) {\n            return;\n        }\n        const state = stream._state;\n        if (state === 'erroring') {\n            WritableStreamFinishErroring(stream);\n            return;\n        }\n        if (controller._queue.length === 0) {\n            return;\n        }\n        const value = PeekQueueValue(controller);\n        if (value === closeSentinel) {\n            WritableStreamDefaultControllerProcessClose(controller);\n        }\n        else {\n            WritableStreamDefaultControllerProcessWrite(controller, value);\n        }\n    }\n    function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n        if (controller._controlledWritableStream._state === 'writable') {\n            WritableStreamDefaultControllerError(controller, error);\n        }\n    }\n    function WritableStreamDefaultControllerProcessClose(controller) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkCloseRequestInFlight(stream);\n        DequeueValue(controller);\n        const sinkClosePromise = controller._closeAlgorithm();\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(sinkClosePromise, () => {\n            WritableStreamFinishInFlightClose(stream);\n        }, reason => {\n            WritableStreamFinishInFlightCloseWithError(stream, reason);\n        });\n    }\n    function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkFirstWriteRequestInFlight(stream);\n        const sinkWritePromise = controller._writeAlgorithm(chunk);\n        uponPromise(sinkWritePromise, () => {\n            WritableStreamFinishInFlightWrite(stream);\n            const state = stream._state;\n            DequeueValue(controller);\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && state === 'writable') {\n                const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n                WritableStreamUpdateBackpressure(stream, backpressure);\n            }\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, reason => {\n            if (stream._state === 'writable') {\n                WritableStreamDefaultControllerClearAlgorithms(controller);\n            }\n            WritableStreamFinishInFlightWriteWithError(stream, reason);\n        });\n    }\n    function WritableStreamDefaultControllerGetBackpressure(controller) {\n        const desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n        return desiredSize <= 0;\n    }\n    // A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n    function WritableStreamDefaultControllerError(controller, error) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        WritableStreamStartErroring(stream, error);\n    }\n    // Helper functions for the WritableStream.\n    function streamBrandCheckException$2(name) {\n        return new TypeError(`WritableStream.prototype.${name} can only be used on a WritableStream`);\n    }\n    // Helper functions for the WritableStreamDefaultController.\n    function defaultControllerBrandCheckException$2(name) {\n        return new TypeError(`WritableStreamDefaultController.prototype.${name} can only be used on a WritableStreamDefaultController`);\n    }\n    // Helper functions for the WritableStreamDefaultWriter.\n    function defaultWriterBrandCheckException(name) {\n        return new TypeError(`WritableStreamDefaultWriter.prototype.${name} can only be used on a WritableStreamDefaultWriter`);\n    }\n    function defaultWriterLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released writer');\n    }\n    function defaultWriterClosedPromiseInitialize(writer) {\n        writer._closedPromise = newPromise((resolve, reject) => {\n            writer._closedPromise_resolve = resolve;\n            writer._closedPromise_reject = reject;\n            writer._closedPromiseState = 'pending';\n        });\n    }\n    function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseReject(writer, reason);\n    }\n    function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseResolve(writer);\n    }\n    function defaultWriterClosedPromiseReject(writer, reason) {\n        if (writer._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._closedPromise);\n        writer._closedPromise_reject(reason);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'rejected';\n    }\n    function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n        defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterClosedPromiseResolve(writer) {\n        if (writer._closedPromise_resolve === undefined) {\n            return;\n        }\n        writer._closedPromise_resolve(undefined);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'resolved';\n    }\n    function defaultWriterReadyPromiseInitialize(writer) {\n        writer._readyPromise = newPromise((resolve, reject) => {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n        });\n        writer._readyPromiseState = 'pending';\n    }\n    function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseReject(writer, reason);\n    }\n    function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseResolve(writer);\n    }\n    function defaultWriterReadyPromiseReject(writer, reason) {\n        if (writer._readyPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._readyPromise);\n        writer._readyPromise_reject(reason);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'rejected';\n    }\n    function defaultWriterReadyPromiseReset(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n    }\n    function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n        defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterReadyPromiseResolve(writer) {\n        if (writer._readyPromise_resolve === undefined) {\n            return;\n        }\n        writer._readyPromise_resolve(undefined);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'fulfilled';\n    }\n\n    /// <reference lib=\"dom\" />\n    const NativeDOMException = typeof DOMException !== 'undefined' ? DOMException : undefined;\n\n    /// <reference types=\"node\" />\n    function isDOMExceptionConstructor(ctor) {\n        if (!(typeof ctor === 'function' || typeof ctor === 'object')) {\n            return false;\n        }\n        try {\n            new ctor();\n            return true;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    function createDOMExceptionPolyfill() {\n        // eslint-disable-next-line no-shadow\n        const ctor = function DOMException(message, name) {\n            this.message = message || '';\n            this.name = name || 'Error';\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, this.constructor);\n            }\n        };\n        ctor.prototype = Object.create(Error.prototype);\n        Object.defineProperty(ctor.prototype, 'constructor', { value: ctor, writable: true, configurable: true });\n        return ctor;\n    }\n    // eslint-disable-next-line no-redeclare\n    const DOMException$1 = isDOMExceptionConstructor(NativeDOMException) ? NativeDOMException : createDOMExceptionPolyfill();\n\n    function ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n        const reader = AcquireReadableStreamDefaultReader(source);\n        const writer = AcquireWritableStreamDefaultWriter(dest);\n        source._disturbed = true;\n        let shuttingDown = false;\n        // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n        let currentWrite = promiseResolvedWith(undefined);\n        return newPromise((resolve, reject) => {\n            let abortAlgorithm;\n            if (signal !== undefined) {\n                abortAlgorithm = () => {\n                    const error = new DOMException$1('Aborted', 'AbortError');\n                    const actions = [];\n                    if (!preventAbort) {\n                        actions.push(() => {\n                            if (dest._state === 'writable') {\n                                return WritableStreamAbort(dest, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    if (!preventCancel) {\n                        actions.push(() => {\n                            if (source._state === 'readable') {\n                                return ReadableStreamCancel(source, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    shutdownWithAction(() => Promise.all(actions.map(action => action())), true, error);\n                };\n                if (signal.aborted) {\n                    abortAlgorithm();\n                    return;\n                }\n                signal.addEventListener('abort', abortAlgorithm);\n            }\n            // Using reader and writer, read all chunks from this and write them to dest\n            // - Backpressure must be enforced\n            // - Shutdown must stop all activity\n            function pipeLoop() {\n                return newPromise((resolveLoop, rejectLoop) => {\n                    function next(done) {\n                        if (done) {\n                            resolveLoop();\n                        }\n                        else {\n                            // Use `PerformPromiseThen` instead of `uponPromise` to avoid\n                            // adding unnecessary `.catch(rethrowAssertionErrorRejection)` handlers\n                            PerformPromiseThen(pipeStep(), next, rejectLoop);\n                        }\n                    }\n                    next(false);\n                });\n            }\n            function pipeStep() {\n                if (shuttingDown) {\n                    return promiseResolvedWith(true);\n                }\n                return PerformPromiseThen(writer._readyPromise, () => {\n                    return newPromise((resolveRead, rejectRead) => {\n                        ReadableStreamDefaultReaderRead(reader, {\n                            _chunkSteps: chunk => {\n                                currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), undefined, noop);\n                                resolveRead(false);\n                            },\n                            _closeSteps: () => resolveRead(true),\n                            _errorSteps: rejectRead\n                        });\n                    });\n                });\n            }\n            // Errors must be propagated forward\n            isOrBecomesErrored(source, reader._closedPromise, storedError => {\n                if (!preventAbort) {\n                    shutdownWithAction(() => WritableStreamAbort(dest, storedError), true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n            });\n            // Errors must be propagated backward\n            isOrBecomesErrored(dest, writer._closedPromise, storedError => {\n                if (!preventCancel) {\n                    shutdownWithAction(() => ReadableStreamCancel(source, storedError), true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n            });\n            // Closing must be propagated forward\n            isOrBecomesClosed(source, reader._closedPromise, () => {\n                if (!preventClose) {\n                    shutdownWithAction(() => WritableStreamDefaultWriterCloseWithErrorPropagation(writer));\n                }\n                else {\n                    shutdown();\n                }\n            });\n            // Closing must be propagated backward\n            if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === 'closed') {\n                const destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n                if (!preventCancel) {\n                    shutdownWithAction(() => ReadableStreamCancel(source, destClosed), true, destClosed);\n                }\n                else {\n                    shutdown(true, destClosed);\n                }\n            }\n            setPromiseIsHandledToTrue(pipeLoop());\n            function waitForWritesToFinish() {\n                // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n                // for that too.\n                const oldCurrentWrite = currentWrite;\n                return PerformPromiseThen(currentWrite, () => oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined);\n            }\n            function isOrBecomesErrored(stream, promise, action) {\n                if (stream._state === 'errored') {\n                    action(stream._storedError);\n                }\n                else {\n                    uponRejection(promise, action);\n                }\n            }\n            function isOrBecomesClosed(stream, promise, action) {\n                if (stream._state === 'closed') {\n                    action();\n                }\n                else {\n                    uponFulfillment(promise, action);\n                }\n            }\n            function shutdownWithAction(action, originalIsError, originalError) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), doTheRest);\n                }\n                else {\n                    doTheRest();\n                }\n                function doTheRest() {\n                    uponPromise(action(), () => finalize(originalIsError, originalError), newError => finalize(true, newError));\n                }\n            }\n            function shutdown(isError, error) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), () => finalize(isError, error));\n                }\n                else {\n                    finalize(isError, error);\n                }\n            }\n            function finalize(isError, error) {\n                WritableStreamDefaultWriterRelease(writer);\n                ReadableStreamReaderGenericRelease(reader);\n                if (signal !== undefined) {\n                    signal.removeEventListener('abort', abortAlgorithm);\n                }\n                if (isError) {\n                    reject(error);\n                }\n                else {\n                    resolve(undefined);\n                }\n            }\n        });\n    }\n\n    /**\n     * Allows control of a {@link ReadableStream | readable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class ReadableStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying source ought to use this information to determine when and how to apply backpressure.\n         */\n        get desiredSize() {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('desiredSize');\n            }\n            return ReadableStreamDefaultControllerGetDesiredSize(this);\n        }\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        close() {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('close');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits close');\n            }\n            ReadableStreamDefaultControllerClose(this);\n        }\n        enqueue(chunk = undefined) {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('enqueue');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits enqueue');\n            }\n            return ReadableStreamDefaultControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        error(e = undefined) {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('error');\n            }\n            ReadableStreamDefaultControllerError(this, e);\n        }\n        /** @internal */\n        [CancelSteps](reason) {\n            ResetQueue(this);\n            const result = this._cancelAlgorithm(reason);\n            ReadableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [PullSteps](readRequest) {\n            const stream = this._controlledReadableStream;\n            if (this._queue.length > 0) {\n                const chunk = DequeueValue(this);\n                if (this._closeRequested && this._queue.length === 0) {\n                    ReadableStreamDefaultControllerClearAlgorithms(this);\n                    ReadableStreamClose(stream);\n                }\n                else {\n                    ReadableStreamDefaultControllerCallPullIfNeeded(this);\n                }\n                readRequest._chunkSteps(chunk);\n            }\n            else {\n                ReadableStreamAddReadRequest(stream, readRequest);\n                ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n        }\n    }\n    Object.defineProperties(ReadableStreamDefaultController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStreamDefaultController.\n    function IsReadableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultController;\n    }\n    function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }\n        }, e => {\n            ReadableStreamDefaultControllerError(controller, e);\n        });\n    }\n    function ReadableStreamDefaultControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableStream;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        const desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    // A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n    function ReadableStreamDefaultControllerClose(controller) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        const stream = controller._controlledReadableStream;\n        controller._closeRequested = true;\n        if (controller._queue.length === 0) {\n            ReadableStreamDefaultControllerClearAlgorithms(controller);\n            ReadableStreamClose(stream);\n        }\n    }\n    function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        const stream = controller._controlledReadableStream;\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            ReadableStreamFulfillReadRequest(stream, chunk, false);\n        }\n        else {\n            let chunkSize;\n            try {\n                chunkSize = controller._strategySizeAlgorithm(chunk);\n            }\n            catch (chunkSizeE) {\n                ReadableStreamDefaultControllerError(controller, chunkSizeE);\n                throw chunkSizeE;\n            }\n            try {\n                EnqueueValueWithSize(controller, chunk, chunkSize);\n            }\n            catch (enqueueE) {\n                ReadableStreamDefaultControllerError(controller, enqueueE);\n                throw enqueueE;\n            }\n        }\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }\n    function ReadableStreamDefaultControllerError(controller, e) {\n        const stream = controller._controlledReadableStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ResetQueue(controller);\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    // This is used in the implementation of TransformStream.\n    function ReadableStreamDefaultControllerHasBackpressure(controller) {\n        if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n            return false;\n        }\n        return true;\n    }\n    function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (!controller._closeRequested && state === 'readable') {\n            return true;\n        }\n        return false;\n    }\n    function SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledReadableStream = stream;\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._started = false;\n        controller._closeRequested = false;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n            controller._started = true;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n        }, r => {\n            ReadableStreamDefaultControllerError(controller, r);\n        });\n    }\n    function SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        let startAlgorithm = () => undefined;\n        let pullAlgorithm = () => promiseResolvedWith(undefined);\n        let cancelAlgorithm = () => promiseResolvedWith(undefined);\n        if (underlyingSource.start !== undefined) {\n            startAlgorithm = () => underlyingSource.start(controller);\n        }\n        if (underlyingSource.pull !== undefined) {\n            pullAlgorithm = () => underlyingSource.pull(controller);\n        }\n        if (underlyingSource.cancel !== undefined) {\n            cancelAlgorithm = reason => underlyingSource.cancel(reason);\n        }\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // Helper functions for the ReadableStreamDefaultController.\n    function defaultControllerBrandCheckException$1(name) {\n        return new TypeError(`ReadableStreamDefaultController.prototype.${name} can only be used on a ReadableStreamDefaultController`);\n    }\n\n    function ReadableStreamTee(stream, cloneForBranch2) {\n        if (IsReadableByteStreamController(stream._readableStreamController)) {\n            return ReadableByteStreamTee(stream);\n        }\n        return ReadableStreamDefaultTee(stream);\n    }\n    function ReadableStreamDefaultTee(stream, cloneForBranch2) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgain = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise(resolve => {\n            resolveCancelPromise = resolve;\n        });\n        function pullAlgorithm() {\n            if (reading) {\n                readAgain = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(() => {\n                        readAgain = false;\n                        const chunk1 = chunk;\n                        const chunk2 = chunk;\n                        // There is no way to access the cloning code right now in the reference implementation.\n                        // If we add one then we'll need an implementation for serializable objects.\n                        // if (!canceled2 && cloneForBranch2) {\n                        //   chunk2 = StructuredDeserialize(StructuredSerialize(chunk2));\n                        // }\n                        if (!canceled1) {\n                            ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgain) {\n                            pullAlgorithm();\n                        }\n                    });\n                },\n                _closeSteps: () => {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            // do nothing\n        }\n        branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n        branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n        uponRejection(reader._closedPromise, (r) => {\n            ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n            ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n            if (!canceled1 || !canceled2) {\n                resolveCancelPromise(undefined);\n            }\n        });\n        return [branch1, branch2];\n    }\n    function ReadableByteStreamTee(stream) {\n        let reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgainForBranch1 = false;\n        let readAgainForBranch2 = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise(resolve => {\n            resolveCancelPromise = resolve;\n        });\n        function forwardReaderError(thisReader) {\n            uponRejection(thisReader._closedPromise, r => {\n                if (thisReader !== reader) {\n                    return;\n                }\n                ReadableByteStreamControllerError(branch1._readableStreamController, r);\n                ReadableByteStreamControllerError(branch2._readableStreamController, r);\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            });\n        }\n        function pullWithDefaultReader() {\n            if (IsReadableStreamBYOBReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamDefaultReader(stream);\n                forwardReaderError(reader);\n            }\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(() => {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        const chunk1 = chunk;\n                        let chunk2 = chunk;\n                        if (!canceled1 && !canceled2) {\n                            try {\n                                chunk2 = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                        }\n                        if (!canceled1) {\n                            ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: () => {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableByteStreamControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableByteStreamControllerClose(branch2._readableStreamController);\n                    }\n                    if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n                    }\n                    if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n        }\n        function pullWithBYOBReader(view, forBranch2) {\n            if (IsReadableStreamDefaultReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamBYOBReader(stream);\n                forwardReaderError(reader);\n            }\n            const byobBranch = forBranch2 ? branch2 : branch1;\n            const otherBranch = forBranch2 ? branch1 : branch2;\n            const readIntoRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(() => {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                        const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                        if (!otherCanceled) {\n                            let clonedChunk;\n                            try {\n                                clonedChunk = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                            if (!byobCanceled) {\n                                ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                            }\n                            ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                        }\n                        else if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: chunk => {\n                    reading = false;\n                    const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                    const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                    if (!byobCanceled) {\n                        ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n                    }\n                    if (!otherCanceled) {\n                        ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n                    }\n                    if (chunk !== undefined) {\n                        if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                            ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                        }\n                    }\n                    if (!byobCanceled || !otherCanceled) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamBYOBReaderRead(reader, view, readIntoRequest);\n        }\n        function pull1Algorithm() {\n            if (reading) {\n                readAgainForBranch1 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, false);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function pull2Algorithm() {\n            if (reading) {\n                readAgainForBranch2 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, true);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            return;\n        }\n        branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n        branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n        forwardReaderError(reader);\n        return [branch1, branch2];\n    }\n\n    function convertUnderlyingDefaultOrByteSource(source, context) {\n        assertDictionary(source, context);\n        const original = source;\n        const autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n        const cancel = original === null || original === void 0 ? void 0 : original.cancel;\n        const pull = original === null || original === void 0 ? void 0 : original.pull;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        return {\n            autoAllocateChunkSize: autoAllocateChunkSize === undefined ?\n                undefined :\n                convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, `${context} has member 'autoAllocateChunkSize' that`),\n            cancel: cancel === undefined ?\n                undefined :\n                convertUnderlyingSourceCancelCallback(cancel, original, `${context} has member 'cancel' that`),\n            pull: pull === undefined ?\n                undefined :\n                convertUnderlyingSourcePullCallback(pull, original, `${context} has member 'pull' that`),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSourceStartCallback(start, original, `${context} has member 'start' that`),\n            type: type === undefined ? undefined : convertReadableStreamType(type, `${context} has member 'type' that`)\n        };\n    }\n    function convertUnderlyingSourceCancelCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n    function convertUnderlyingSourcePullCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n    }\n    function convertUnderlyingSourceStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertReadableStreamType(type, context) {\n        type = `${type}`;\n        if (type !== 'bytes') {\n            throw new TypeError(`${context} '${type}' is not a valid enumeration value for ReadableStreamType`);\n        }\n        return type;\n    }\n\n    function convertReaderOptions(options, context) {\n        assertDictionary(options, context);\n        const mode = options === null || options === void 0 ? void 0 : options.mode;\n        return {\n            mode: mode === undefined ? undefined : convertReadableStreamReaderMode(mode, `${context} has member 'mode' that`)\n        };\n    }\n    function convertReadableStreamReaderMode(mode, context) {\n        mode = `${mode}`;\n        if (mode !== 'byob') {\n            throw new TypeError(`${context} '${mode}' is not a valid enumeration value for ReadableStreamReaderMode`);\n        }\n        return mode;\n    }\n\n    function convertIteratorOptions(options, context) {\n        assertDictionary(options, context);\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        return { preventCancel: Boolean(preventCancel) };\n    }\n\n    function convertPipeOptions(options, context) {\n        assertDictionary(options, context);\n        const preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        const preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n        const signal = options === null || options === void 0 ? void 0 : options.signal;\n        if (signal !== undefined) {\n            assertAbortSignal(signal, `${context} has member 'signal' that`);\n        }\n        return {\n            preventAbort: Boolean(preventAbort),\n            preventCancel: Boolean(preventCancel),\n            preventClose: Boolean(preventClose),\n            signal\n        };\n    }\n    function assertAbortSignal(signal, context) {\n        if (!isAbortSignal(signal)) {\n            throw new TypeError(`${context} is not an AbortSignal.`);\n        }\n    }\n\n    function convertReadableWritablePair(pair, context) {\n        assertDictionary(pair, context);\n        const readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n        assertRequiredField(readable, 'readable', 'ReadableWritablePair');\n        assertReadableStream(readable, `${context} has member 'readable' that`);\n        const writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n        assertRequiredField(writable, 'writable', 'ReadableWritablePair');\n        assertWritableStream(writable, `${context} has member 'writable' that`);\n        return { readable, writable };\n    }\n\n    /**\n     * A readable stream represents a source of data, from which you can read.\n     *\n     * @public\n     */\n    class ReadableStream {\n        constructor(rawUnderlyingSource = {}, rawStrategy = {}) {\n            if (rawUnderlyingSource === undefined) {\n                rawUnderlyingSource = null;\n            }\n            else {\n                assertObject(rawUnderlyingSource, 'First parameter');\n            }\n            const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            const underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, 'First parameter');\n            InitializeReadableStream(this);\n            if (underlyingSource.type === 'bytes') {\n                if (strategy.size !== undefined) {\n                    throw new RangeError('The strategy for a byte stream cannot have a size function');\n                }\n                const highWaterMark = ExtractHighWaterMark(strategy, 0);\n                SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n            }\n            else {\n                const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n                const highWaterMark = ExtractHighWaterMark(strategy, 1);\n                SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n            }\n        }\n        /**\n         * Whether or not the readable stream is locked to a {@link ReadableStreamDefaultReader | reader}.\n         */\n        get locked() {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('locked');\n            }\n            return IsReadableStreamLocked(this);\n        }\n        /**\n         * Cancels the stream, signaling a loss of interest in the stream by a consumer.\n         *\n         * The supplied `reason` argument will be given to the underlying source's {@link UnderlyingSource.cancel | cancel()}\n         * method, which might or might not use it.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('cancel'));\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot cancel a stream that already has a reader'));\n            }\n            return ReadableStreamCancel(this, reason);\n        }\n        getReader(rawOptions = undefined) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('getReader');\n            }\n            const options = convertReaderOptions(rawOptions, 'First parameter');\n            if (options.mode === undefined) {\n                return AcquireReadableStreamDefaultReader(this);\n            }\n            return AcquireReadableStreamBYOBReader(this);\n        }\n        pipeThrough(rawTransform, rawOptions = {}) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('pipeThrough');\n            }\n            assertRequiredArgument(rawTransform, 1, 'pipeThrough');\n            const transform = convertReadableWritablePair(rawTransform, 'First parameter');\n            const options = convertPipeOptions(rawOptions, 'Second parameter');\n            if (IsReadableStreamLocked(this)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n            }\n            if (IsWritableStreamLocked(transform.writable)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n            }\n            const promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n            setPromiseIsHandledToTrue(promise);\n            return transform.readable;\n        }\n        pipeTo(destination, rawOptions = {}) {\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('pipeTo'));\n            }\n            if (destination === undefined) {\n                return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`);\n            }\n            if (!IsWritableStream(destination)) {\n                return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`));\n            }\n            let options;\n            try {\n                options = convertPipeOptions(rawOptions, 'Second parameter');\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n            }\n            if (IsWritableStreamLocked(destination)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n            }\n            return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        }\n        /**\n         * Tees this readable stream, returning a two-element array containing the two resulting branches as\n         * new {@link ReadableStream} instances.\n         *\n         * Teeing a stream will lock it, preventing any other consumer from acquiring a reader.\n         * To cancel the stream, cancel both of the resulting branches; a composite cancellation reason will then be\n         * propagated to the stream's underlying source.\n         *\n         * Note that the chunks seen in each branch will be the same object. If the chunks are not immutable,\n         * this could allow interference between the two branches.\n         */\n        tee() {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('tee');\n            }\n            const branches = ReadableStreamTee(this);\n            return CreateArrayFromList(branches);\n        }\n        values(rawOptions = undefined) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('values');\n            }\n            const options = convertIteratorOptions(rawOptions, 'First parameter');\n            return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n        }\n    }\n    Object.defineProperties(ReadableStream.prototype, {\n        cancel: { enumerable: true },\n        getReader: { enumerable: true },\n        pipeThrough: { enumerable: true },\n        pipeTo: { enumerable: true },\n        tee: { enumerable: true },\n        values: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStream',\n            configurable: true\n        });\n    }\n    if (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.asyncIterator, {\n            value: ReadableStream.prototype.values,\n            writable: true,\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStream.\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n        const stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, undefined);\n        return stream;\n    }\n    function InitializeReadableStream(stream) {\n        stream._state = 'readable';\n        stream._reader = undefined;\n        stream._storedError = undefined;\n        stream._disturbed = false;\n    }\n    function IsReadableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStream;\n    }\n    function IsReadableStreamLocked(stream) {\n        if (stream._reader === undefined) {\n            return false;\n        }\n        return true;\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamCancel(stream, reason) {\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        ReadableStreamClose(stream);\n        const reader = stream._reader;\n        if (reader !== undefined && IsReadableStreamBYOBReader(reader)) {\n            reader._readIntoRequests.forEach(readIntoRequest => {\n                readIntoRequest._closeSteps(undefined);\n            });\n            reader._readIntoRequests = new SimpleQueue();\n        }\n        const sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n        return transformPromiseWith(sourceCancelPromise, noop);\n    }\n    function ReadableStreamClose(stream) {\n        stream._state = 'closed';\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseResolve(reader);\n        if (IsReadableStreamDefaultReader(reader)) {\n            reader._readRequests.forEach(readRequest => {\n                readRequest._closeSteps();\n            });\n            reader._readRequests = new SimpleQueue();\n        }\n    }\n    function ReadableStreamError(stream, e) {\n        stream._state = 'errored';\n        stream._storedError = e;\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseReject(reader, e);\n        if (IsReadableStreamDefaultReader(reader)) {\n            reader._readRequests.forEach(readRequest => {\n                readRequest._errorSteps(e);\n            });\n            reader._readRequests = new SimpleQueue();\n        }\n        else {\n            reader._readIntoRequests.forEach(readIntoRequest => {\n                readIntoRequest._errorSteps(e);\n            });\n            reader._readIntoRequests = new SimpleQueue();\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamBrandCheckException$1(name) {\n        return new TypeError(`ReadableStream.prototype.${name} can only be used on a ReadableStream`);\n    }\n\n    function convertQueuingStrategyInit(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        assertRequiredField(highWaterMark, 'highWaterMark', 'QueuingStrategyInit');\n        return {\n            highWaterMark: convertUnrestrictedDouble(highWaterMark)\n        };\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    const byteLengthSizeFunction = (chunk) => {\n        return chunk.byteLength;\n    };\n    Object.defineProperty(byteLengthSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n    /**\n     * A queuing strategy that counts the number of bytes in each chunk.\n     *\n     * @public\n     */\n    class ByteLengthQueuingStrategy {\n        constructor(options) {\n            assertRequiredArgument(options, 1, 'ByteLengthQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get highWaterMark() {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('highWaterMark');\n            }\n            return this._byteLengthQueuingStrategyHighWaterMark;\n        }\n        /**\n         * Measures the size of `chunk` by returning the value of its `byteLength` property.\n         */\n        get size() {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('size');\n            }\n            return byteLengthSizeFunction;\n        }\n    }\n    Object.defineProperties(ByteLengthQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ByteLengthQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the ByteLengthQueuingStrategy.\n    function byteLengthBrandCheckException(name) {\n        return new TypeError(`ByteLengthQueuingStrategy.prototype.${name} can only be used on a ByteLengthQueuingStrategy`);\n    }\n    function IsByteLengthQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_byteLengthQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof ByteLengthQueuingStrategy;\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    const countSizeFunction = () => {\n        return 1;\n    };\n    Object.defineProperty(countSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n    /**\n     * A queuing strategy that counts the number of chunks.\n     *\n     * @public\n     */\n    class CountQueuingStrategy {\n        constructor(options) {\n            assertRequiredArgument(options, 1, 'CountQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get highWaterMark() {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('highWaterMark');\n            }\n            return this._countQueuingStrategyHighWaterMark;\n        }\n        /**\n         * Measures the size of `chunk` by always returning 1.\n         * This ensures that the total queue size is a count of the number of chunks in the queue.\n         */\n        get size() {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('size');\n            }\n            return countSizeFunction;\n        }\n    }\n    Object.defineProperties(CountQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'CountQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the CountQueuingStrategy.\n    function countBrandCheckException(name) {\n        return new TypeError(`CountQueuingStrategy.prototype.${name} can only be used on a CountQueuingStrategy`);\n    }\n    function IsCountQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_countQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof CountQueuingStrategy;\n    }\n\n    function convertTransformer(original, context) {\n        assertDictionary(original, context);\n        const flush = original === null || original === void 0 ? void 0 : original.flush;\n        const readableType = original === null || original === void 0 ? void 0 : original.readableType;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const transform = original === null || original === void 0 ? void 0 : original.transform;\n        const writableType = original === null || original === void 0 ? void 0 : original.writableType;\n        return {\n            flush: flush === undefined ?\n                undefined :\n                convertTransformerFlushCallback(flush, original, `${context} has member 'flush' that`),\n            readableType,\n            start: start === undefined ?\n                undefined :\n                convertTransformerStartCallback(start, original, `${context} has member 'start' that`),\n            transform: transform === undefined ?\n                undefined :\n                convertTransformerTransformCallback(transform, original, `${context} has member 'transform' that`),\n            writableType\n        };\n    }\n    function convertTransformerFlushCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n    }\n    function convertTransformerStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertTransformerTransformCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n    }\n\n    // Class TransformStream\n    /**\n     * A transform stream consists of a pair of streams: a {@link WritableStream | writable stream},\n     * known as its writable side, and a {@link ReadableStream | readable stream}, known as its readable side.\n     * In a manner specific to the transform stream in question, writes to the writable side result in new data being\n     * made available for reading from the readable side.\n     *\n     * @public\n     */\n    class TransformStream {\n        constructor(rawTransformer = {}, rawWritableStrategy = {}, rawReadableStrategy = {}) {\n            if (rawTransformer === undefined) {\n                rawTransformer = null;\n            }\n            const writableStrategy = convertQueuingStrategy(rawWritableStrategy, 'Second parameter');\n            const readableStrategy = convertQueuingStrategy(rawReadableStrategy, 'Third parameter');\n            const transformer = convertTransformer(rawTransformer, 'First parameter');\n            if (transformer.readableType !== undefined) {\n                throw new RangeError('Invalid readableType specified');\n            }\n            if (transformer.writableType !== undefined) {\n                throw new RangeError('Invalid writableType specified');\n            }\n            const readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n            const readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n            const writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n            const writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n            let startPromise_resolve;\n            const startPromise = newPromise(resolve => {\n                startPromise_resolve = resolve;\n            });\n            InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n            SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n            if (transformer.start !== undefined) {\n                startPromise_resolve(transformer.start(this._transformStreamController));\n            }\n            else {\n                startPromise_resolve(undefined);\n            }\n        }\n        /**\n         * The readable side of the transform stream.\n         */\n        get readable() {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('readable');\n            }\n            return this._readable;\n        }\n        /**\n         * The writable side of the transform stream.\n         */\n        get writable() {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('writable');\n            }\n            return this._writable;\n        }\n    }\n    Object.defineProperties(TransformStream.prototype, {\n        readable: { enumerable: true },\n        writable: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStream',\n            configurable: true\n        });\n    }\n    function InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n        function startAlgorithm() {\n            return startPromise;\n        }\n        function writeAlgorithm(chunk) {\n            return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n        }\n        function abortAlgorithm(reason) {\n            return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n        }\n        function closeAlgorithm() {\n            return TransformStreamDefaultSinkCloseAlgorithm(stream);\n        }\n        stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n        function pullAlgorithm() {\n            return TransformStreamDefaultSourcePullAlgorithm(stream);\n        }\n        function cancelAlgorithm(reason) {\n            TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n            return promiseResolvedWith(undefined);\n        }\n        stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n        stream._backpressure = undefined;\n        stream._backpressureChangePromise = undefined;\n        stream._backpressureChangePromise_resolve = undefined;\n        TransformStreamSetBackpressure(stream, true);\n        stream._transformStreamController = undefined;\n    }\n    function IsTransformStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n            return false;\n        }\n        return x instanceof TransformStream;\n    }\n    // This is a no-op if both sides are already errored.\n    function TransformStreamError(stream, e) {\n        ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n        TransformStreamErrorWritableAndUnblockWrite(stream, e);\n    }\n    function TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n        TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n        WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n        if (stream._backpressure) {\n            // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n            // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n            // _backpressure is set.\n            TransformStreamSetBackpressure(stream, false);\n        }\n    }\n    function TransformStreamSetBackpressure(stream, backpressure) {\n        // Passes also when called during construction.\n        if (stream._backpressureChangePromise !== undefined) {\n            stream._backpressureChangePromise_resolve();\n        }\n        stream._backpressureChangePromise = newPromise(resolve => {\n            stream._backpressureChangePromise_resolve = resolve;\n        });\n        stream._backpressure = backpressure;\n    }\n    // Class TransformStreamDefaultController\n    /**\n     * Allows control of the {@link ReadableStream} and {@link WritableStream} of the associated {@link TransformStream}.\n     *\n     * @public\n     */\n    class TransformStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the desired size to fill the readable side\u2019s internal queue. It can be negative, if the queue is over-full.\n         */\n        get desiredSize() {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('desiredSize');\n            }\n            const readableController = this._controlledTransformStream._readable._readableStreamController;\n            return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n        }\n        enqueue(chunk = undefined) {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('enqueue');\n            }\n            TransformStreamDefaultControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors both the readable side and the writable side of the controlled transform stream, making all future\n         * interactions with it fail with the given error `e`. Any chunks queued for transformation will be discarded.\n         */\n        error(reason = undefined) {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('error');\n            }\n            TransformStreamDefaultControllerError(this, reason);\n        }\n        /**\n         * Closes the readable side and errors the writable side of the controlled transform stream. This is useful when the\n         * transformer only needs to consume a portion of the chunks written to the writable side.\n         */\n        terminate() {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('terminate');\n            }\n            TransformStreamDefaultControllerTerminate(this);\n        }\n    }\n    Object.defineProperties(TransformStreamDefaultController.prototype, {\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        terminate: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Transform Stream Default Controller Abstract Operations\n    function IsTransformStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n            return false;\n        }\n        return x instanceof TransformStreamDefaultController;\n    }\n    function SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n        controller._controlledTransformStream = stream;\n        stream._transformStreamController = controller;\n        controller._transformAlgorithm = transformAlgorithm;\n        controller._flushAlgorithm = flushAlgorithm;\n    }\n    function SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n        const controller = Object.create(TransformStreamDefaultController.prototype);\n        let transformAlgorithm = (chunk) => {\n            try {\n                TransformStreamDefaultControllerEnqueue(controller, chunk);\n                return promiseResolvedWith(undefined);\n            }\n            catch (transformResultE) {\n                return promiseRejectedWith(transformResultE);\n            }\n        };\n        let flushAlgorithm = () => promiseResolvedWith(undefined);\n        if (transformer.transform !== undefined) {\n            transformAlgorithm = chunk => transformer.transform(chunk, controller);\n        }\n        if (transformer.flush !== undefined) {\n            flushAlgorithm = () => transformer.flush(controller);\n        }\n        SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n    }\n    function TransformStreamDefaultControllerClearAlgorithms(controller) {\n        controller._transformAlgorithm = undefined;\n        controller._flushAlgorithm = undefined;\n    }\n    function TransformStreamDefaultControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n            throw new TypeError('Readable side is not in a state that permits enqueue');\n        }\n        // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n        // accept TransformStreamDefaultControllerEnqueue() calls.\n        try {\n            ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n        }\n        catch (e) {\n            // This happens when readableStrategy.size() throws.\n            TransformStreamErrorWritableAndUnblockWrite(stream, e);\n            throw stream._readable._storedError;\n        }\n        const backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n        if (backpressure !== stream._backpressure) {\n            TransformStreamSetBackpressure(stream, true);\n        }\n    }\n    function TransformStreamDefaultControllerError(controller, e) {\n        TransformStreamError(controller._controlledTransformStream, e);\n    }\n    function TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n        const transformPromise = controller._transformAlgorithm(chunk);\n        return transformPromiseWith(transformPromise, undefined, r => {\n            TransformStreamError(controller._controlledTransformStream, r);\n            throw r;\n        });\n    }\n    function TransformStreamDefaultControllerTerminate(controller) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        ReadableStreamDefaultControllerClose(readableController);\n        const error = new TypeError('TransformStream terminated');\n        TransformStreamErrorWritableAndUnblockWrite(stream, error);\n    }\n    // TransformStreamDefaultSink Algorithms\n    function TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n        const controller = stream._transformStreamController;\n        if (stream._backpressure) {\n            const backpressureChangePromise = stream._backpressureChangePromise;\n            return transformPromiseWith(backpressureChangePromise, () => {\n                const writable = stream._writable;\n                const state = writable._state;\n                if (state === 'erroring') {\n                    throw writable._storedError;\n                }\n                return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n            });\n        }\n        return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n    }\n    function TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n        // abort() is not called synchronously, so it is possible for abort() to be called when the stream is already\n        // errored.\n        TransformStreamError(stream, reason);\n        return promiseResolvedWith(undefined);\n    }\n    function TransformStreamDefaultSinkCloseAlgorithm(stream) {\n        // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n        const readable = stream._readable;\n        const controller = stream._transformStreamController;\n        const flushPromise = controller._flushAlgorithm();\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        // Return a promise that is fulfilled with undefined on success.\n        return transformPromiseWith(flushPromise, () => {\n            if (readable._state === 'errored') {\n                throw readable._storedError;\n            }\n            ReadableStreamDefaultControllerClose(readable._readableStreamController);\n        }, r => {\n            TransformStreamError(stream, r);\n            throw readable._storedError;\n        });\n    }\n    // TransformStreamDefaultSource Algorithms\n    function TransformStreamDefaultSourcePullAlgorithm(stream) {\n        // Invariant. Enforced by the promises returned by start() and pull().\n        TransformStreamSetBackpressure(stream, false);\n        // Prevent the next pull() call until there is backpressure.\n        return stream._backpressureChangePromise;\n    }\n    // Helper functions for the TransformStreamDefaultController.\n    function defaultControllerBrandCheckException(name) {\n        return new TypeError(`TransformStreamDefaultController.prototype.${name} can only be used on a TransformStreamDefaultController`);\n    }\n    // Helper functions for the TransformStream.\n    function streamBrandCheckException(name) {\n        return new TypeError(`TransformStream.prototype.${name} can only be used on a TransformStream`);\n    }\n\n    exports.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy;\n    exports.CountQueuingStrategy = CountQueuingStrategy;\n    exports.ReadableByteStreamController = ReadableByteStreamController;\n    exports.ReadableStream = ReadableStream;\n    exports.ReadableStreamBYOBReader = ReadableStreamBYOBReader;\n    exports.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest;\n    exports.ReadableStreamDefaultController = ReadableStreamDefaultController;\n    exports.ReadableStreamDefaultReader = ReadableStreamDefaultReader;\n    exports.TransformStream = TransformStream;\n    exports.TransformStreamDefaultController = TransformStreamDefaultController;\n    exports.WritableStream = WritableStream;\n    exports.WritableStreamDefaultController = WritableStreamDefaultController;\n    exports.WritableStreamDefaultWriter = WritableStreamDefaultWriter;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n}(ponyfill_es2018, ponyfill_es2018.exports));\n\n/* c8 ignore start */\n\n// 64 KiB (same size chrome slice theirs blob into Uint8array's)\nconst POOL_SIZE$1 = 65536;\n\nif (!globalThis.ReadableStream) {\n  // `node:stream/web` got introduced in v16.5.0 as experimental\n  // and it's preferred over the polyfilled version. So we also\n  // suppress the warning that gets emitted by NodeJS for using it.\n  try {\n    const process = require('node:process');\n    const { emitWarning } = process;\n    try {\n      process.emitWarning = () => {};\n      Object.assign(globalThis, require('node:stream/web'));\n      process.emitWarning = emitWarning;\n    } catch (error) {\n      process.emitWarning = emitWarning;\n      throw error\n    }\n  } catch (error) {\n    // fallback to polyfill implementation\n    Object.assign(globalThis, ponyfill_es2018.exports);\n  }\n}\n\ntry {\n  // Don't use node: prefix for this, require+node: is not supported until node v14.14\n  // Only `import()` can use prefix in 12.20 and later\n  const { Blob } = require('buffer');\n  if (Blob && !Blob.prototype.stream) {\n    Blob.prototype.stream = function name (params) {\n      let position = 0;\n      const blob = this;\n\n      return new ReadableStream({\n        type: 'bytes',\n        async pull (ctrl) {\n          const chunk = blob.slice(position, Math.min(blob.size, position + POOL_SIZE$1));\n          const buffer = await chunk.arrayBuffer();\n          position += buffer.byteLength;\n          ctrl.enqueue(new Uint8Array(buffer));\n\n          if (position === blob.size) {\n            ctrl.close();\n          }\n        }\n      })\n    };\n  }\n} catch (error) {}\n\n/*! fetch-blob. MIT License. Jimmy W\u00E4rting <https://jimmy.warting.se/opensource> */\n\n/** @typedef {import('buffer').Blob} NodeBlob} */\n\n// 64 KiB (same size chrome slice theirs blob into Uint8array's)\nconst POOL_SIZE = 65536;\n\n/** @param {(Blob | NodeBlob | Uint8Array)[]} parts */\nasync function * toIterator (parts, clone = true) {\n  for (const part of parts) {\n    if ('stream' in part) {\n      yield * part.stream();\n    } else if (ArrayBuffer.isView(part)) {\n      if (clone) {\n        let position = part.byteOffset;\n        const end = part.byteOffset + part.byteLength;\n        while (position !== end) {\n          const size = Math.min(end - position, POOL_SIZE);\n          const chunk = part.buffer.slice(position, position + size);\n          position += chunk.byteLength;\n          yield new Uint8Array(chunk);\n        }\n      } else {\n        yield part;\n      }\n    } else {\n      /* c8 ignore start */\n      // For blobs that have arrayBuffer but no stream method (nodes buffer.Blob)\n      let position = 0;\n      while (position !== part.size) {\n        const chunk = part.slice(position, Math.min(part.size, position + POOL_SIZE));\n        const buffer = await chunk.arrayBuffer();\n        position += buffer.byteLength;\n        yield new Uint8Array(buffer);\n      }\n      /* c8 ignore end */\n    }\n  }\n}\n\nconst _Blob = class Blob {\n  /** @type {Array.<(Blob|Uint8Array)>} */\n  #parts = []\n  #type = ''\n  #size = 0\n\n  /**\n   * The Blob() constructor returns a new Blob object. The content\n   * of the blob consists of the concatenation of the values given\n   * in the parameter array.\n   *\n   * @param {*} blobParts\n   * @param {{ type?: string }} [options]\n   */\n  constructor (blobParts = [], options = {}) {\n    if (typeof blobParts !== 'object' || blobParts === null) {\n      throw new TypeError('Failed to construct \\'Blob\\': The provided value cannot be converted to a sequence.')\n    }\n\n    if (typeof blobParts[Symbol.iterator] !== 'function') {\n      throw new TypeError('Failed to construct \\'Blob\\': The object must have a callable @@iterator property.')\n    }\n\n    if (typeof options !== 'object' && typeof options !== 'function') {\n      throw new TypeError('Failed to construct \\'Blob\\': parameter 2 cannot convert to dictionary.')\n    }\n\n    if (options === null) options = {};\n\n    const encoder = new TextEncoder();\n    for (const element of blobParts) {\n      let part;\n      if (ArrayBuffer.isView(element)) {\n        part = new Uint8Array(element.buffer.slice(element.byteOffset, element.byteOffset + element.byteLength));\n      } else if (element instanceof ArrayBuffer) {\n        part = new Uint8Array(element.slice(0));\n      } else if (element instanceof Blob) {\n        part = element;\n      } else {\n        part = encoder.encode(element);\n      }\n\n      this.#size += ArrayBuffer.isView(part) ? part.byteLength : part.size;\n      this.#parts.push(part);\n    }\n\n    const type = options.type === undefined ? '' : String(options.type);\n\n    this.#type = /^[\\x20-\\x7E]*$/.test(type) ? type : '';\n  }\n\n  /**\n   * The Blob interface's size property returns the\n   * size of the Blob in bytes.\n   */\n  get size () {\n    return this.#size\n  }\n\n  /**\n   * The type property of a Blob object returns the MIME type of the file.\n   */\n  get type () {\n    return this.#type\n  }\n\n  /**\n   * The text() method in the Blob interface returns a Promise\n   * that resolves with a string containing the contents of\n   * the blob, interpreted as UTF-8.\n   *\n   * @return {Promise<string>}\n   */\n  async text () {\n    // More optimized than using this.arrayBuffer()\n    // that requires twice as much ram\n    const decoder = new TextDecoder();\n    let str = '';\n    for await (const part of toIterator(this.#parts, false)) {\n      str += decoder.decode(part, { stream: true });\n    }\n    // Remaining\n    str += decoder.decode();\n    return str\n  }\n\n  /**\n   * The arrayBuffer() method in the Blob interface returns a\n   * Promise that resolves with the contents of the blob as\n   * binary data contained in an ArrayBuffer.\n   *\n   * @return {Promise<ArrayBuffer>}\n   */\n  async arrayBuffer () {\n    // Easier way... Just a unnecessary overhead\n    // const view = new Uint8Array(this.size);\n    // await this.stream().getReader({mode: 'byob'}).read(view);\n    // return view.buffer;\n\n    const data = new Uint8Array(this.size);\n    let offset = 0;\n    for await (const chunk of toIterator(this.#parts, false)) {\n      data.set(chunk, offset);\n      offset += chunk.length;\n    }\n\n    return data.buffer\n  }\n\n  stream () {\n    const it = toIterator(this.#parts, true);\n\n    return new globalThis.ReadableStream({\n      type: 'bytes',\n      async pull (ctrl) {\n        const chunk = await it.next();\n        chunk.done ? ctrl.close() : ctrl.enqueue(chunk.value);\n      },\n\n      async cancel () {\n        await it.return();\n      }\n    })\n  }\n\n  /**\n   * The Blob interface's slice() method creates and returns a\n   * new Blob object which contains data from a subset of the\n   * blob on which it's called.\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @param {string} [type]\n   */\n  slice (start = 0, end = this.size, type = '') {\n    const { size } = this;\n\n    let relativeStart = start < 0 ? Math.max(size + start, 0) : Math.min(start, size);\n    let relativeEnd = end < 0 ? Math.max(size + end, 0) : Math.min(end, size);\n\n    const span = Math.max(relativeEnd - relativeStart, 0);\n    const parts = this.#parts;\n    const blobParts = [];\n    let added = 0;\n\n    for (const part of parts) {\n      // don't add the overflow to new blobParts\n      if (added >= span) {\n        break\n      }\n\n      const size = ArrayBuffer.isView(part) ? part.byteLength : part.size;\n      if (relativeStart && size <= relativeStart) {\n        // Skip the beginning and change the relative\n        // start & end position as we skip the unwanted parts\n        relativeStart -= size;\n        relativeEnd -= size;\n      } else {\n        let chunk;\n        if (ArrayBuffer.isView(part)) {\n          chunk = part.subarray(relativeStart, Math.min(size, relativeEnd));\n          added += chunk.byteLength;\n        } else {\n          chunk = part.slice(relativeStart, Math.min(size, relativeEnd));\n          added += chunk.size;\n        }\n        relativeEnd -= size;\n        blobParts.push(chunk);\n        relativeStart = 0; // All next sequential parts should start at 0\n      }\n    }\n\n    const blob = new Blob([], { type: String(type).toLowerCase() });\n    blob.#size = span;\n    blob.#parts = blobParts;\n\n    return blob\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'Blob'\n  }\n\n  static [Symbol.hasInstance] (object) {\n    return (\n      object &&\n      typeof object === 'object' &&\n      typeof object.constructor === 'function' &&\n      (\n        typeof object.stream === 'function' ||\n        typeof object.arrayBuffer === 'function'\n      ) &&\n      /^(Blob|File)$/.test(object[Symbol.toStringTag])\n    )\n  }\n};\n\nObject.defineProperties(_Blob.prototype, {\n  size: { enumerable: true },\n  type: { enumerable: true },\n  slice: { enumerable: true }\n});\n\n/** @type {typeof globalThis.Blob} */\nconst Blob = _Blob;\nvar Blob$1 = Blob;\n\nconst _File = class File extends Blob$1 {\n  #lastModified = 0\n  #name = ''\n\n  /**\n   * @param {*[]} fileBits\n   * @param {string} fileName\n   * @param {{lastModified?: number, type?: string}} options\n   */// @ts-ignore\n  constructor (fileBits, fileName, options = {}) {\n    if (arguments.length < 2) {\n      throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`)\n    }\n    super(fileBits, options);\n\n    if (options === null) options = {};\n\n    // Simulate WebIDL type casting for NaN value in lastModified option.\n    const lastModified = options.lastModified === undefined ? Date.now() : Number(options.lastModified);\n    if (!Number.isNaN(lastModified)) {\n      this.#lastModified = lastModified;\n    }\n\n    this.#name = String(fileName);\n  }\n\n  get name () {\n    return this.#name\n  }\n\n  get lastModified () {\n    return this.#lastModified\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'File'\n  }\n};\n\n/** @type {typeof globalThis.File} */// @ts-ignore\nconst File = _File;\n\n/*! formdata-polyfill. MIT License. Jimmy W\u00E4rting <https://jimmy.warting.se/opensource> */\n\nvar {toStringTag:t,iterator:i,hasInstance:h}=Symbol,\nr=Math.random,\nm='append,set,get,getAll,delete,keys,values,entries,forEach,constructor'.split(','),\nf=(a,b,c)=>(a+='',/^(Blob|File)$/.test(b && b[t])?[(c=c!==void 0?c+'':b[t]=='File'?b.name:'blob',a),b.name!==c||b[t]=='blob'?new File([b],c,b):b]:[a,b+'']),\ne=(c,f)=>(f?c:c.replace(/\\r?\\n|\\r/g,'\\r\\n')).replace(/\\n/g,'%0A').replace(/\\r/g,'%0D').replace(/\"/g,'%22'),\nx=(n, a, e)=>{if(a.length<e){throw new TypeError(`Failed to execute '${n}' on 'FormData': ${e} arguments required, but only ${a.length} present.`)}};\n\n/** @type {typeof globalThis.FormData} */\nconst FormData = class FormData {\n#d=[];\nconstructor(...a){if(a.length)throw new TypeError(`Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.`)}\nget [t]() {return 'FormData'}\n[i](){return this.entries()}\nstatic [h](o) {return o&&typeof o==='object'&&o[t]==='FormData'&&!m.some(m=>typeof o[m]!='function')}\nappend(...a){x('append',arguments,2);this.#d.push(f(...a));}\ndelete(a){x('delete',arguments,1);a+='';this.#d=this.#d.filter(([b])=>b!==a);}\nget(a){x('get',arguments,1);a+='';for(var b=this.#d,l=b.length,c=0;c<l;c++)if(b[c][0]===a)return b[c][1];return null}\ngetAll(a,b){x('getAll',arguments,1);b=[];a+='';this.#d.forEach(c=>c[0]===a&&b.push(c[1]));return b}\nhas(a){x('has',arguments,1);a+='';return this.#d.some(b=>b[0]===a)}\nforEach(a,b){x('forEach',arguments,1);for(var [c,d]of this)a.call(b,d,c,this);}\nset(...a){x('set',arguments,2);var b=[],c=!0;a=f(...a);this.#d.forEach(d=>{d[0]===a[0]?c&&(c=!b.push(a)):b.push(d);});c&&b.push(a);this.#d=b;}\n*entries(){yield*this.#d;}\n*keys(){for(var[a]of this)yield a;}\n*values(){for(var[,a]of this)yield a;}};\n\n/** @param {FormData} F */\nfunction formDataToBlob (F,B=Blob$1){\nvar b=`${r()}${r()}`.replace(/\\./g, '').slice(-28).padStart(32, '-'),c=[],p=`--${b}\\r\\nContent-Disposition: form-data; name=\"`;\nF.forEach((v,n)=>typeof v=='string'\n?c.push(p+e(n)+`\"\\r\\n\\r\\n${v.replace(/\\r(?!\\n)|(?<!\\r)\\n/g, '\\r\\n')}\\r\\n`)\n:c.push(p+e(n)+`\"; filename=\"${e(v.name, 1)}\"\\r\\nContent-Type: ${v.type||\"application/octet-stream\"}\\r\\n\\r\\n`, v, '\\r\\n'));\nc.push(`--${b}--`);\nreturn new B(c,{type:\"multipart/form-data; boundary=\"+b})}\n\nclass FetchBaseError extends Error {\n\tconstructor(message, type) {\n\t\tsuper(message);\n\t\t// Hide custom error implementation details from end-users\n\t\tError.captureStackTrace(this, this.constructor);\n\n\t\tthis.type = type;\n\t}\n\n\tget name() {\n\t\treturn this.constructor.name;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n}\n\n/**\n * @typedef {{ address?: string, code: string, dest?: string, errno: number, info?: object, message: string, path?: string, port?: number, syscall: string}} SystemError\n*/\n\n/**\n * FetchError interface for operational errors\n */\nclass FetchError extends FetchBaseError {\n\t/**\n\t * @param  {string} message -      Error message for human\n\t * @param  {string} [type] -        Error type for machine\n\t * @param  {SystemError} [systemError] - For Node.js system error\n\t */\n\tconstructor(message, type, systemError) {\n\t\tsuper(message, type);\n\t\t// When err.type is `system`, err.erroredSysCall contains system error and err.code contains system error code\n\t\tif (systemError) {\n\t\t\t// eslint-disable-next-line no-multi-assign\n\t\t\tthis.code = this.errno = systemError.code;\n\t\t\tthis.erroredSysCall = systemError.syscall;\n\t\t}\n\t}\n}\n\n/**\n * Is.js\n *\n * Object type checks.\n */\n\nconst NAME = Symbol.toStringTag;\n\n/**\n * Check if `obj` is a URLSearchParams object\n * ref: https://github.com/node-fetch/node-fetch/issues/296#issuecomment-307598143\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nconst isURLSearchParameters = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.append === 'function' &&\n\t\ttypeof object.delete === 'function' &&\n\t\ttypeof object.get === 'function' &&\n\t\ttypeof object.getAll === 'function' &&\n\t\ttypeof object.has === 'function' &&\n\t\ttypeof object.set === 'function' &&\n\t\ttypeof object.sort === 'function' &&\n\t\tobject[NAME] === 'URLSearchParams'\n\t);\n};\n\n/**\n * Check if `object` is a W3C `Blob` object (which `File` inherits from)\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nconst isBlob = object => {\n\treturn (\n\t\tobject &&\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.arrayBuffer === 'function' &&\n\t\ttypeof object.type === 'string' &&\n\t\ttypeof object.stream === 'function' &&\n\t\ttypeof object.constructor === 'function' &&\n\t\t/^(Blob|File)$/.test(object[NAME])\n\t);\n};\n\n/**\n * Check if `obj` is an instance of AbortSignal.\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nconst isAbortSignal = object => {\n\treturn (\n\t\ttypeof object === 'object' && (\n\t\t\tobject[NAME] === 'AbortSignal' ||\n\t\t\tobject[NAME] === 'EventTarget'\n\t\t)\n\t);\n};\n\nconst INTERNALS$2 = Symbol('Body internals');\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Body {\n\tconstructor(body, {\n\t\tsize = 0\n\t} = {}) {\n\t\tlet boundary = null;\n\n\t\tif (body === null) {\n\t\t\t// Body is undefined or null\n\t\t\tbody = null;\n\t\t} else if (isURLSearchParameters(body)) {\n\t\t\t// Body is a URLSearchParams\n\t\t\tbody = Buffer.from(body.toString());\n\t\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (node_util.types.isAnyArrayBuffer(body)) {\n\t\t\t// Body is ArrayBuffer\n\t\t\tbody = Buffer.from(body);\n\t\t} else if (ArrayBuffer.isView(body)) {\n\t\t\t// Body is ArrayBufferView\n\t\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t\t} else if (body instanceof Stream__default[\"default\"]) ; else if (body instanceof FormData) {\n\t\t\t// Body is FormData\n\t\t\tbody = formDataToBlob(body);\n\t\t\tboundary = body.type.split('=')[1];\n\t\t} else {\n\t\t\t// None of the above\n\t\t\t// coerce to string then buffer\n\t\t\tbody = Buffer.from(String(body));\n\t\t}\n\n\t\tlet stream = body;\n\n\t\tif (Buffer.isBuffer(body)) {\n\t\t\tstream = Stream__default[\"default\"].Readable.from(body);\n\t\t} else if (isBlob(body)) {\n\t\t\tstream = Stream__default[\"default\"].Readable.from(body.stream());\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tbody,\n\t\t\tstream,\n\t\t\tboundary,\n\t\t\tdisturbed: false,\n\t\t\terror: null\n\t\t};\n\t\tthis.size = size;\n\n\t\tif (body instanceof Stream__default[\"default\"]) {\n\t\t\tbody.on('error', error_ => {\n\t\t\t\tconst error = error_ instanceof FetchBaseError ?\n\t\t\t\t\terror_ :\n\t\t\t\t\tnew FetchError(`Invalid response body while trying to fetch ${this.url}: ${error_.message}`, 'system', error_);\n\t\t\t\tthis[INTERNALS$2].error = error;\n\t\t\t});\n\t\t}\n\t}\n\n\tget body() {\n\t\treturn this[INTERNALS$2].stream;\n\t}\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS$2].disturbed;\n\t}\n\n\t/**\n\t * Decode response as ArrayBuffer\n\t *\n\t * @return  Promise\n\t */\n\tasync arrayBuffer() {\n\t\tconst {buffer, byteOffset, byteLength} = await consumeBody(this);\n\t\treturn buffer.slice(byteOffset, byteOffset + byteLength);\n\t}\n\n\tasync formData() {\n\t\tconst ct = this.headers.get('content-type');\n\n\t\tif (ct.startsWith('application/x-www-form-urlencoded')) {\n\t\t\tconst formData = new FormData();\n\t\t\tconst parameters = new URLSearchParams(await this.text());\n\n\t\t\tfor (const [name, value] of parameters) {\n\t\t\t\tformData.append(name, value);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\n\t\tconst {toFormData} = await Promise.resolve().then(function () { return require('./multipart-parser-e24c3004.js'); });\n\t\treturn toFormData(this.body, ct);\n\t}\n\n\t/**\n\t * Return raw response as Blob\n\t *\n\t * @return Promise\n\t */\n\tasync blob() {\n\t\tconst ct = (this.headers && this.headers.get('content-type')) || (this[INTERNALS$2].body && this[INTERNALS$2].body.type) || '';\n\t\tconst buf = await this.buffer();\n\n\t\treturn new Blob$1([buf], {\n\t\t\ttype: ct\n\t\t});\n\t}\n\n\t/**\n\t * Decode response as json\n\t *\n\t * @return  Promise\n\t */\n\tasync json() {\n\t\tconst buffer = await consumeBody(this);\n\t\treturn JSON.parse(buffer.toString());\n\t}\n\n\t/**\n\t * Decode response as text\n\t *\n\t * @return  Promise\n\t */\n\tasync text() {\n\t\tconst buffer = await consumeBody(this);\n\t\treturn buffer.toString();\n\t}\n\n\t/**\n\t * Decode response as buffer (non-spec api)\n\t *\n\t * @return  Promise\n\t */\n\tbuffer() {\n\t\treturn consumeBody(this);\n\t}\n}\n\nBody.prototype.buffer = node_util.deprecate(Body.prototype.buffer, 'Please use \\'response.arrayBuffer()\\' instead of \\'response.buffer()\\'', 'node-fetch#buffer');\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: {enumerable: true},\n\tbodyUsed: {enumerable: true},\n\tarrayBuffer: {enumerable: true},\n\tblob: {enumerable: true},\n\tjson: {enumerable: true},\n\ttext: {enumerable: true}\n});\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return Promise\n */\nasync function consumeBody(data) {\n\tif (data[INTERNALS$2].disturbed) {\n\t\tthrow new TypeError(`body used already for: ${data.url}`);\n\t}\n\n\tdata[INTERNALS$2].disturbed = true;\n\n\tif (data[INTERNALS$2].error) {\n\t\tthrow data[INTERNALS$2].error;\n\t}\n\n\tconst {body} = data;\n\n\t// Body is null\n\tif (body === null) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t/* c8 ignore next 3 */\n\tif (!(body instanceof Stream__default[\"default\"])) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t// Body is stream\n\t// get ready to actually consume the body\n\tconst accum = [];\n\tlet accumBytes = 0;\n\n\ttry {\n\t\tfor await (const chunk of body) {\n\t\t\tif (data.size > 0 && accumBytes + chunk.length > data.size) {\n\t\t\t\tconst error = new FetchError(`content size at ${data.url} over limit: ${data.size}`, 'max-size');\n\t\t\t\tbody.destroy(error);\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t}\n\t} catch (error) {\n\t\tconst error_ = error instanceof FetchBaseError ? error : new FetchError(`Invalid response body while trying to fetch ${data.url}: ${error.message}`, 'system', error);\n\t\tthrow error_;\n\t}\n\n\tif (body.readableEnded === true || body._readableState.ended === true) {\n\t\ttry {\n\t\t\tif (accum.every(c => typeof c === 'string')) {\n\t\t\t\treturn Buffer.from(accum.join(''));\n\t\t\t}\n\n\t\t\treturn Buffer.concat(accum, accumBytes);\n\t\t} catch (error) {\n\t\t\tthrow new FetchError(`Could not create Buffer from response body for ${data.url}: ${error.message}`, 'system', error);\n\t\t}\n\t} else {\n\t\tthrow new FetchError(`Premature close of server response while trying to fetch ${data.url}`);\n\t}\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed   instance       Response or Request instance\n * @param   String  highWaterMark  highWaterMark for both PassThrough body streams\n * @return  Mixed\n */\nconst clone = (instance, highWaterMark) => {\n\tlet p1;\n\tlet p2;\n\tlet {body} = instance[INTERNALS$2];\n\n\t// Don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// Check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif ((body instanceof Stream__default[\"default\"]) && (typeof body.getBoundary !== 'function')) {\n\t\t// Tee instance body\n\t\tp1 = new Stream.PassThrough({highWaterMark});\n\t\tp2 = new Stream.PassThrough({highWaterMark});\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// Set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS$2].stream = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n};\n\nconst getNonSpecFormDataBoundary = node_util.deprecate(\n\tbody => body.getBoundary(),\n\t'form-data doesn\\'t follow the spec and requires special treatment. Use alternative package',\n\t'https://github.com/node-fetch/node-fetch/issues/1167'\n);\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param {any} body Any options.body input\n * @returns {string | null}\n */\nconst extractContentType = (body, request) => {\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn null;\n\t}\n\n\t// Body is string\n\tif (typeof body === 'string') {\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n\n\t// Body is a URLSearchParams\n\tif (isURLSearchParameters(body)) {\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t}\n\n\t// Body is blob\n\tif (isBlob(body)) {\n\t\treturn body.type || null;\n\t}\n\n\t// Body is a Buffer (Buffer, ArrayBuffer or ArrayBufferView)\n\tif (Buffer.isBuffer(body) || node_util.types.isAnyArrayBuffer(body) || ArrayBuffer.isView(body)) {\n\t\treturn null;\n\t}\n\n\tif (body instanceof FormData) {\n\t\treturn `multipart/form-data; boundary=${request[INTERNALS$2].boundary}`;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getBoundary === 'function') {\n\t\treturn `multipart/form-data;boundary=${getNonSpecFormDataBoundary(body)}`;\n\t}\n\n\t// Body is stream - can't really do much about this\n\tif (body instanceof Stream__default[\"default\"]) {\n\t\treturn null;\n\t}\n\n\t// Body constructor defaults other things to string\n\treturn 'text/plain;charset=UTF-8';\n};\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param {any} obj.body Body object from the Body instance.\n * @returns {number | null}\n */\nconst getTotalBytes = request => {\n\tconst {body} = request[INTERNALS$2];\n\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn 0;\n\t}\n\n\t// Body is Blob\n\tif (isBlob(body)) {\n\t\treturn body.size;\n\t}\n\n\t// Body is Buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn body.length;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getLengthSync === 'function') {\n\t\treturn body.hasKnownLength && body.hasKnownLength() ? body.getLengthSync() : null;\n\t}\n\n\t// Body is stream\n\treturn null;\n};\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param {Stream.Writable} dest The stream to write to.\n * @param obj.body Body object from the Body instance.\n * @returns {void}\n */\nconst writeToStream = (dest, {body}) => {\n\tif (body === null) {\n\t\t// Body is null\n\t\tdest.end();\n\t} else {\n\t\t// Body is stream\n\t\tbody.pipe(dest);\n\t}\n};\n\n/**\n * Headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst validateHeaderName = typeof http__default[\"default\"].validateHeaderName === 'function' ?\n\thttp__default[\"default\"].validateHeaderName :\n\tname => {\n\t\tif (!/^[\\^`\\-\\w!#$%&'*+.|~]+$/.test(name)) {\n\t\t\tconst error = new TypeError(`Header name must be a valid HTTP token [${name}]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_HTTP_TOKEN'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\nconst validateHeaderValue = typeof http__default[\"default\"].validateHeaderValue === 'function' ?\n\thttp__default[\"default\"].validateHeaderValue :\n\t(name, value) => {\n\t\tif (/[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/.test(value)) {\n\t\t\tconst error = new TypeError(`Invalid character in header content [\"${name}\"]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_CHAR'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/**\n * @typedef {Headers | Record<string, string> | Iterable<readonly [string, string]> | Iterable<Iterable<string>>} HeadersInit\n */\n\n/**\n * This Fetch API interface allows you to perform various actions on HTTP request and response headers.\n * These actions include retrieving, setting, adding to, and removing.\n * A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.\n * You can add to this using methods like append() (see Examples.)\n * In all methods of this interface, header names are matched by case-insensitive byte sequence.\n *\n */\nclass Headers extends URLSearchParams {\n\t/**\n\t * Headers class\n\t *\n\t * @constructor\n\t * @param {HeadersInit} [init] - Response headers\n\t */\n\tconstructor(init) {\n\t\t// Validate and normalize init object in [name, value(s)][]\n\t\t/** @type {string[][]} */\n\t\tlet result = [];\n\t\tif (init instanceof Headers) {\n\t\t\tconst raw = init.raw();\n\t\t\tfor (const [name, values] of Object.entries(raw)) {\n\t\t\t\tresult.push(...values.map(value => [name, value]));\n\t\t\t}\n\t\t} else if (init == null) ; else if (typeof init === 'object' && !node_util.types.isBoxedPrimitive(init)) {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\t\tif (method == null) {\n\t\t\t\t// Record<ByteString, ByteString>\n\t\t\t\tresult.push(...Object.entries(init));\n\t\t\t} else {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// Sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tresult = [...init]\n\t\t\t\t\t.map(pair => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof pair !== 'object' || node_util.types.isBoxedPrimitive(pair)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be an iterable object');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t}).map(pair => {\n\t\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Failed to construct \\'Headers\\': The provided value is not of type \\'(sequence<sequence<ByteString>> or record<ByteString, ByteString>)');\n\t\t}\n\n\t\t// Validate and lowercase\n\t\tresult =\n\t\t\tresult.length > 0 ?\n\t\t\t\tresult.map(([name, value]) => {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn [String(name).toLowerCase(), String(value)];\n\t\t\t\t}) :\n\t\t\t\tundefined;\n\n\t\tsuper(result);\n\n\t\t// Returning a Proxy that will lowercase key names, validate parameters and sort keys\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn new Proxy(this, {\n\t\t\tget(target, p, receiver) {\n\t\t\t\tswitch (p) {\n\t\t\t\t\tcase 'append':\n\t\t\t\t\tcase 'set':\n\t\t\t\t\t\treturn (name, value) => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase(),\n\t\t\t\t\t\t\t\tString(value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'delete':\n\t\t\t\t\tcase 'has':\n\t\t\t\t\tcase 'getAll':\n\t\t\t\t\t\treturn name => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase()\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'keys':\n\t\t\t\t\t\treturn () => {\n\t\t\t\t\t\t\ttarget.sort();\n\t\t\t\t\t\t\treturn new Set(URLSearchParams.prototype.keys.call(target)).keys();\n\t\t\t\t\t\t};\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn Reflect.get(target, p, receiver);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* c8 ignore next */\n\t\t});\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n\n\ttoString() {\n\t\treturn Object.prototype.toString.call(this);\n\t}\n\n\tget(name) {\n\t\tconst values = this.getAll(name);\n\t\tif (values.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet value = values.join(', ');\n\t\tif (/^content-encoding$/i.test(name)) {\n\t\t\tvalue = value.toLowerCase();\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tforEach(callback, thisArg = undefined) {\n\t\tfor (const name of this.keys()) {\n\t\t\tReflect.apply(callback, thisArg, [this.get(name), name, this]);\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield this.get(name);\n\t\t}\n\t}\n\n\t/**\n\t * @type {() => IterableIterator<[string, string]>}\n\t */\n\t* entries() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield [name, this.get(name)];\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.entries();\n\t}\n\n\t/**\n\t * Node-fetch non-spec method\n\t * returning all headers and their values as array\n\t * @returns {Record<string, string[]>}\n\t */\n\traw() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tresult[key] = this.getAll(key);\n\t\t\treturn result;\n\t\t}, {});\n\t}\n\n\t/**\n\t * For better console.log(headers) and also to convert Headers into Node.js Request compatible format\n\t */\n\t[Symbol.for('nodejs.util.inspect.custom')]() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tconst values = this.getAll(key);\n\t\t\t// Http.request() only supports string as Host header.\n\t\t\t// This hack makes specifying custom Host header possible.\n\t\t\tif (key === 'host') {\n\t\t\t\tresult[key] = values[0];\n\t\t\t} else {\n\t\t\t\tresult[key] = values.length > 1 ? values : values[0];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, {});\n\t}\n}\n\n/**\n * Re-shaping object for Web IDL tests\n * Only need to do it for overridden methods\n */\nObject.defineProperties(\n\tHeaders.prototype,\n\t['get', 'entries', 'forEach', 'values'].reduce((result, property) => {\n\t\tresult[property] = {enumerable: true};\n\t\treturn result;\n\t}, {})\n);\n\n/**\n * Create a Headers object from an http.IncomingMessage.rawHeaders, ignoring those that do\n * not conform to HTTP grammar productions.\n * @param {import('http').IncomingMessage['rawHeaders']} headers\n */\nfunction fromRawHeaders(headers = []) {\n\treturn new Headers(\n\t\theaders\n\t\t\t// Split into pairs\n\t\t\t.reduce((result, value, index, array) => {\n\t\t\t\tif (index % 2 === 0) {\n\t\t\t\t\tresult.push(array.slice(index, index + 2));\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, [])\n\t\t\t.filter(([name, value]) => {\n\t\t\t\ttry {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn true;\n\t\t\t\t} catch {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\n\t);\n}\n\nconst redirectStatus = new Set([301, 302, 303, 307, 308]);\n\n/**\n * Redirect code matching\n *\n * @param {number} code - Status code\n * @return {boolean}\n */\nconst isRedirect = code => {\n\treturn redirectStatus.has(code);\n};\n\n/**\n * Response.js\n *\n * Response class provides content decoding\n */\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n/**\n * Response class\n *\n * Ref: https://fetch.spec.whatwg.org/#response-class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response extends Body {\n\tconstructor(body = null, options = {}) {\n\t\tsuper(body, options);\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq, no-negated-condition\n\t\tconst status = options.status != null ? options.status : 200;\n\n\t\tconst headers = new Headers(options.headers);\n\n\t\tif (body !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\ttype: 'default',\n\t\t\turl: options.url,\n\t\t\tstatus,\n\t\t\tstatusText: options.statusText || '',\n\t\t\theaders,\n\t\t\tcounter: options.counter,\n\t\t\thighWaterMark: options.highWaterMark\n\t\t};\n\t}\n\n\tget type() {\n\t\treturn this[INTERNALS$1].type;\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n\t * Convenience property representing if the request ended normally\n\t */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\tget highWaterMark() {\n\t\treturn this[INTERNALS$1].highWaterMark;\n\t}\n\n\t/**\n\t * Clone this response\n\t *\n\t * @return  Response\n\t */\n\tclone() {\n\t\treturn new Response(clone(this, this.highWaterMark), {\n\t\t\ttype: this.type,\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected,\n\t\t\tsize: this.size,\n\t\t\thighWaterMark: this.highWaterMark\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} url    The URL that the new response is to originate from.\n\t * @param {number} status An optional status code for the response (e.g., 302.)\n\t * @returns {Response}    A Response object.\n\t */\n\tstatic redirect(url, status = 302) {\n\t\tif (!isRedirect(status)) {\n\t\t\tthrow new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n\t\t}\n\n\t\treturn new Response(null, {\n\t\t\theaders: {\n\t\t\t\tlocation: new URL(url).toString()\n\t\t\t},\n\t\t\tstatus\n\t\t});\n\t}\n\n\tstatic error() {\n\t\tconst response = new Response(null, {status: 0, statusText: ''});\n\t\tresponse[INTERNALS$1].type = 'error';\n\t\treturn response;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Response';\n\t}\n}\n\nObject.defineProperties(Response.prototype, {\n\ttype: {enumerable: true},\n\turl: {enumerable: true},\n\tstatus: {enumerable: true},\n\tok: {enumerable: true},\n\tredirected: {enumerable: true},\n\tstatusText: {enumerable: true},\n\theaders: {enumerable: true},\n\tclone: {enumerable: true}\n});\n\nconst getSearch = parsedURL => {\n\tif (parsedURL.search) {\n\t\treturn parsedURL.search;\n\t}\n\n\tconst lastOffset = parsedURL.href.length - 1;\n\tconst hash = parsedURL.hash || (parsedURL.href[lastOffset] === '#' ? '#' : '');\n\treturn parsedURL.href[lastOffset - hash.length] === '?' ? '?' : '';\n};\n\n/**\n * @external URL\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/URL|URL}\n */\n\n/**\n * @module utils/referrer\n * @private\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#strip-url|Referrer Policy \u00A78.4. Strip url for use as a referrer}\n * @param {string} URL\n * @param {boolean} [originOnly=false]\n */\nfunction stripURLForUseAsAReferrer(url, originOnly = false) {\n\t// 1. If url is null, return no referrer.\n\tif (url == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\treturn 'no-referrer';\n\t}\n\n\turl = new URL(url);\n\n\t// 2. If url's scheme is a local scheme, then return no referrer.\n\tif (/^(about|blob|data):$/.test(url.protocol)) {\n\t\treturn 'no-referrer';\n\t}\n\n\t// 3. Set url's username to the empty string.\n\turl.username = '';\n\n\t// 4. Set url's password to null.\n\t// Note: `null` appears to be a mistake as this actually results in the password being `\"null\"`.\n\turl.password = '';\n\n\t// 5. Set url's fragment to null.\n\t// Note: `null` appears to be a mistake as this actually results in the fragment being `\"#null\"`.\n\turl.hash = '';\n\n\t// 6. If the origin-only flag is true, then:\n\tif (originOnly) {\n\t\t// 6.1. Set url's path to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the path being `\"/null\"`.\n\t\turl.pathname = '';\n\n\t\t// 6.2. Set url's query to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the query being `\"?null\"`.\n\t\turl.search = '';\n\t}\n\n\t// 7. Return url.\n\treturn url;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#enumdef-referrerpolicy|enum ReferrerPolicy}\n */\nconst ReferrerPolicy = new Set([\n\t'',\n\t'no-referrer',\n\t'no-referrer-when-downgrade',\n\t'same-origin',\n\t'origin',\n\t'strict-origin',\n\t'origin-when-cross-origin',\n\t'strict-origin-when-cross-origin',\n\t'unsafe-url'\n]);\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#default-referrer-policy|default referrer policy}\n */\nconst DEFAULT_REFERRER_POLICY = 'strict-origin-when-cross-origin';\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#referrer-policies|Referrer Policy \u00A73. Referrer Policies}\n * @param {string} referrerPolicy\n * @returns {string} referrerPolicy\n */\nfunction validateReferrerPolicy(referrerPolicy) {\n\tif (!ReferrerPolicy.has(referrerPolicy)) {\n\t\tthrow new TypeError(`Invalid referrerPolicy: ${referrerPolicy}`);\n\t}\n\n\treturn referrerPolicy;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-origin-trustworthy|Referrer Policy \u00A73.2. Is origin potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nfunction isOriginPotentiallyTrustworthy(url) {\n\t// 1. If origin is an opaque origin, return \"Not Trustworthy\".\n\t// Not applicable\n\n\t// 2. Assert: origin is a tuple origin.\n\t// Not for implementations\n\n\t// 3. If origin's scheme is either \"https\" or \"wss\", return \"Potentially Trustworthy\".\n\tif (/^(http|ws)s:$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 4. If origin's host component matches one of the CIDR notations 127.0.0.0/8 or ::1/128 [RFC4632], return \"Potentially Trustworthy\".\n\tconst hostIp = url.host.replace(/(^\\[)|(]$)/g, '');\n\tconst hostIPVersion = net.isIP(hostIp);\n\n\tif (hostIPVersion === 4 && /^127\\./.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\tif (hostIPVersion === 6 && /^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\t// 5. If origin's host component is \"localhost\" or falls within \".localhost\", and the user agent conforms to the name resolution rules in [let-localhost-be-localhost], return \"Potentially Trustworthy\".\n\t// We are returning FALSE here because we cannot ensure conformance to\n\t// let-localhost-be-loalhost (https://tools.ietf.org/html/draft-west-let-localhost-be-localhost)\n\tif (/^(.+\\.)*localhost$/.test(url.host)) {\n\t\treturn false;\n\t}\n\n\t// 6. If origin's scheme component is file, return \"Potentially Trustworthy\".\n\tif (url.protocol === 'file:') {\n\t\treturn true;\n\t}\n\n\t// 7. If origin's scheme component is one which the user agent considers to be authenticated, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 8. If origin has been configured as a trustworthy origin, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 9. Return \"Not Trustworthy\".\n\treturn false;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-url-trustworthy|Referrer Policy \u00A73.3. Is url potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nfunction isUrlPotentiallyTrustworthy(url) {\n\t// 1. If url is \"about:blank\" or \"about:srcdoc\", return \"Potentially Trustworthy\".\n\tif (/^about:(blank|srcdoc)$/.test(url)) {\n\t\treturn true;\n\t}\n\n\t// 2. If url's scheme is \"data\", return \"Potentially Trustworthy\".\n\tif (url.protocol === 'data:') {\n\t\treturn true;\n\t}\n\n\t// Note: The origin of blob: and filesystem: URLs is the origin of the context in which they were\n\t// created. Therefore, blobs created in a trustworthy origin will themselves be potentially\n\t// trustworthy.\n\tif (/^(blob|filesystem):$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 3. Return the result of executing \u00A73.2 Is origin potentially trustworthy? on url's origin.\n\treturn isOriginPotentiallyTrustworthy(url);\n}\n\n/**\n * Modifies the referrerURL to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy \u00A78.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerURLCallback\n * @param {external:URL} referrerURL\n * @returns {external:URL} modified referrerURL\n */\n\n/**\n * Modifies the referrerOrigin to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy \u00A78.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerOriginCallback\n * @param {external:URL} referrerOrigin\n * @returns {external:URL} modified referrerOrigin\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy \u00A78.3. Determine request's Referrer}\n * @param {Request} request\n * @param {object} o\n * @param {module:utils/referrer~referrerURLCallback} o.referrerURLCallback\n * @param {module:utils/referrer~referrerOriginCallback} o.referrerOriginCallback\n * @returns {external:URL} Request's referrer\n */\nfunction determineRequestsReferrer(request, {referrerURLCallback, referrerOriginCallback} = {}) {\n\t// There are 2 notes in the specification about invalid pre-conditions.  We return null, here, for\n\t// these cases:\n\t// > Note: If request's referrer is \"no-referrer\", Fetch will not call into this algorithm.\n\t// > Note: If request's referrer policy is the empty string, Fetch will not call into this\n\t// > algorithm.\n\tif (request.referrer === 'no-referrer' || request.referrerPolicy === '') {\n\t\treturn null;\n\t}\n\n\t// 1. Let policy be request's associated referrer policy.\n\tconst policy = request.referrerPolicy;\n\n\t// 2. Let environment be request's client.\n\t// not applicable to node.js\n\n\t// 3. Switch on request's referrer:\n\tif (request.referrer === 'about:client') {\n\t\treturn 'no-referrer';\n\t}\n\n\t// \"a URL\": Let referrerSource be request's referrer.\n\tconst referrerSource = request.referrer;\n\n\t// 4. Let request's referrerURL be the result of stripping referrerSource for use as a referrer.\n\tlet referrerURL = stripURLForUseAsAReferrer(referrerSource);\n\n\t// 5. Let referrerOrigin be the result of stripping referrerSource for use as a referrer, with the\n\t//    origin-only flag set to true.\n\tlet referrerOrigin = stripURLForUseAsAReferrer(referrerSource, true);\n\n\t// 6. If the result of serializing referrerURL is a string whose length is greater than 4096, set\n\t//    referrerURL to referrerOrigin.\n\tif (referrerURL.toString().length > 4096) {\n\t\treferrerURL = referrerOrigin;\n\t}\n\n\t// 7. The user agent MAY alter referrerURL or referrerOrigin at this point to enforce arbitrary\n\t//    policy considerations in the interests of minimizing data leakage. For example, the user\n\t//    agent could strip the URL down to an origin, modify its host, replace it with an empty\n\t//    string, etc.\n\tif (referrerURLCallback) {\n\t\treferrerURL = referrerURLCallback(referrerURL);\n\t}\n\n\tif (referrerOriginCallback) {\n\t\treferrerOrigin = referrerOriginCallback(referrerOrigin);\n\t}\n\n\t// 8.Execute the statements corresponding to the value of policy:\n\tconst currentURL = new URL(request.url);\n\n\tswitch (policy) {\n\t\tcase 'no-referrer':\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin':\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'unsafe-url':\n\t\t\treturn referrerURL;\n\n\t\tcase 'strict-origin':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerOrigin.\n\t\t\treturn referrerOrigin.toString();\n\n\t\tcase 'strict-origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 3. Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'same-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. Return no referrer.\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'no-referrer-when-downgrade':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerURL.\n\t\t\treturn referrerURL;\n\n\t\tdefault:\n\t\t\tthrow new TypeError(`Invalid referrerPolicy: ${policy}`);\n\t}\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#parse-referrer-policy-from-header|Referrer Policy \u00A78.1. Parse a referrer policy from a Referrer-Policy header}\n * @param {Headers} headers Response headers\n * @returns {string} policy\n */\nfunction parseReferrerPolicyFromHeader(headers) {\n\t// 1. Let policy-tokens be the result of extracting header list values given `Referrer-Policy`\n\t//    and response\u2019s header list.\n\tconst policyTokens = (headers.get('referrer-policy') || '').split(/[,\\s]+/);\n\n\t// 2. Let policy be the empty string.\n\tlet policy = '';\n\n\t// 3. For each token in policy-tokens, if token is a referrer policy and token is not the empty\n\t//    string, then set policy to token.\n\t// Note: This algorithm loops over multiple policy values to allow deployment of new policy\n\t// values with fallbacks for older user agents, as described in \u00A7 11.1 Unknown Policy Values.\n\tfor (const token of policyTokens) {\n\t\tif (token && ReferrerPolicy.has(token)) {\n\t\t\tpolicy = token;\n\t\t}\n\t}\n\n\t// 4. Return policy.\n\treturn policy;\n}\n\nconst INTERNALS = Symbol('Request internals');\n\n/**\n * Check if `obj` is an instance of Request.\n *\n * @param  {*} obj\n * @return {boolean}\n */\nconst isRequest = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object[INTERNALS] === 'object'\n\t);\n};\n\n/**\n * Request class\n *\n * Ref: https://fetch.spec.whatwg.org/#request-class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request extends Body {\n\tconstructor(input, init = {}) {\n\t\tlet parsedURL;\n\n\t\t// Normalize input and force URL to be encoded as UTF-8 (https://github.com/node-fetch/node-fetch/issues/245)\n\t\tif (isRequest(input)) {\n\t\t\tparsedURL = new URL(input.url);\n\t\t} else {\n\t\t\tparsedURL = new URL(input);\n\t\t\tinput = {};\n\t\t}\n\n\t\tif (parsedURL.username !== '' || parsedURL.password !== '') {\n\t\t\tthrow new TypeError(`${parsedURL} is an url with embedded credentails.`);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif (((init.body != null || isRequest(input)) && input.body !== null) &&\n\t\t\t(method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tconst inputBody = init.body ?\n\t\t\tinit.body :\n\t\t\t(isRequest(input) && input.body !== null ?\n\t\t\t\tclone(input) :\n\t\t\t\tnull);\n\n\t\tsuper(inputBody, {\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.set('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ?\n\t\t\tinput.signal :\n\t\t\tnull;\n\t\tif ('signal' in init) {\n\t\t\tsignal = init.signal;\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal or EventTarget');\n\t\t}\n\n\t\t// \u00A75.4, Request constructor steps, step 15.1\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tlet referrer = init.referrer == null ? input.referrer : init.referrer;\n\t\tif (referrer === '') {\n\t\t\t// \u00A75.4, Request constructor steps, step 15.2\n\t\t\treferrer = 'no-referrer';\n\t\t} else if (referrer) {\n\t\t\t// \u00A75.4, Request constructor steps, step 15.3.1, 15.3.2\n\t\t\tconst parsedReferrer = new URL(referrer);\n\t\t\t// \u00A75.4, Request constructor steps, step 15.3.3, 15.3.4\n\t\t\treferrer = /^about:(\\/\\/)?client$/.test(parsedReferrer) ? 'client' : parsedReferrer;\n\t\t} else {\n\t\t\treferrer = undefined;\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal,\n\t\t\treferrer\n\t\t};\n\n\t\t// Node-fetch-only options\n\t\tthis.follow = init.follow === undefined ? (input.follow === undefined ? 20 : input.follow) : init.follow;\n\t\tthis.compress = init.compress === undefined ? (input.compress === undefined ? true : input.compress) : init.compress;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t\tthis.highWaterMark = init.highWaterMark || input.highWaterMark || 16384;\n\t\tthis.insecureHTTPParser = init.insecureHTTPParser || input.insecureHTTPParser || false;\n\n\t\t// \u00A75.4, Request constructor steps, step 16.\n\t\t// Default is empty string per https://fetch.spec.whatwg.org/#concept-request-referrer-policy\n\t\tthis.referrerPolicy = init.referrerPolicy || input.referrerPolicy || '';\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS].method;\n\t}\n\n\tget url() {\n\t\treturn node_url.format(this[INTERNALS].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS].signal;\n\t}\n\n\t// https://fetch.spec.whatwg.org/#dom-request-referrer\n\tget referrer() {\n\t\tif (this[INTERNALS].referrer === 'no-referrer') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer === 'client') {\n\t\t\treturn 'about:client';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer) {\n\t\t\treturn this[INTERNALS].referrer.toString();\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget referrerPolicy() {\n\t\treturn this[INTERNALS].referrerPolicy;\n\t}\n\n\tset referrerPolicy(referrerPolicy) {\n\t\tthis[INTERNALS].referrerPolicy = validateReferrerPolicy(referrerPolicy);\n\t}\n\n\t/**\n\t * Clone this request\n\t *\n\t * @return  Request\n\t */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Request';\n\t}\n}\n\nObject.defineProperties(Request.prototype, {\n\tmethod: {enumerable: true},\n\turl: {enumerable: true},\n\theaders: {enumerable: true},\n\tredirect: {enumerable: true},\n\tclone: {enumerable: true},\n\tsignal: {enumerable: true},\n\treferrer: {enumerable: true},\n\treferrerPolicy: {enumerable: true}\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nconst getNodeRequestOptions = request => {\n\tconst {parsedURL} = request[INTERNALS];\n\tconst headers = new Headers(request[INTERNALS].headers);\n\n\t// Fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body === null && /^(post|put)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\n\tif (request.body !== null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\t// Set Content-Length if totalBytes is a number (that is not NaN)\n\t\tif (typeof totalBytes === 'number' && !Number.isNaN(totalBytes)) {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// 4.1. Main fetch, step 2.6\n\t// > If request's referrer policy is the empty string, then set request's referrer policy to the\n\t// > default referrer policy.\n\tif (request.referrerPolicy === '') {\n\t\trequest.referrerPolicy = DEFAULT_REFERRER_POLICY;\n\t}\n\n\t// 4.1. Main fetch, step 2.7\n\t// > If request's referrer is not \"no-referrer\", set request's referrer to the result of invoking\n\t// > determine request's referrer.\n\tif (request.referrer && request.referrer !== 'no-referrer') {\n\t\trequest[INTERNALS].referrer = determineRequestsReferrer(request);\n\t} else {\n\t\trequest[INTERNALS].referrer = 'no-referrer';\n\t}\n\n\t// 4.5. HTTP-network-or-cache fetch, step 6.9\n\t// > If httpRequest's referrer is a URL, then append `Referer`/httpRequest's referrer, serialized\n\t// >  and isomorphic encoded, to httpRequest's header list.\n\tif (request[INTERNALS].referrer instanceof URL) {\n\t\theaders.set('Referer', request.referrer);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate,br');\n\t}\n\n\tlet {agent} = request;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\tconst search = getSearch(parsedURL);\n\n\t// Pass the full URL directly to request(), but overwrite the following\n\t// options:\n\tconst options = {\n\t\t// Overwrite search to retain trailing ? (issue #776)\n\t\tpath: parsedURL.pathname + search,\n\t\t// The following options are not expressed in the URL\n\t\tmethod: request.method,\n\t\theaders: headers[Symbol.for('nodejs.util.inspect.custom')](),\n\t\tinsecureHTTPParser: request.insecureHTTPParser,\n\t\tagent\n\t};\n\n\treturn {\n\t\tparsedURL,\n\t\toptions\n\t};\n};\n\n/**\n * AbortError interface for cancelled requests\n */\nclass AbortError extends FetchBaseError {\n\tconstructor(message, type = 'aborted') {\n\t\tsuper(message, type);\n\t}\n}\n\n/**\n * Index.js\n *\n * a request API compatible with window.fetch\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nconst supportedSchemas = new Set(['data:', 'http:', 'https:']);\n\n/**\n * Fetch function\n *\n * @param   {string | URL | import('./request').default} url - Absolute url or Request instance\n * @param   {*} [options_] - Fetch options\n * @return  {Promise<import('./response').default>}\n */\nasync function fetch(url, options_) {\n\treturn new Promise((resolve, reject) => {\n\t\t// Build request object\n\t\tconst request = new Request(url, options_);\n\t\tconst {parsedURL, options} = getNodeRequestOptions(request);\n\t\tif (!supportedSchemas.has(parsedURL.protocol)) {\n\t\t\tthrow new TypeError(`node-fetch cannot load ${url}. URL scheme \"${parsedURL.protocol.replace(/:$/, '')}\" is not supported.`);\n\t\t}\n\n\t\tif (parsedURL.protocol === 'data:') {\n\t\t\tconst data = dataUriToBuffer(request.url);\n\t\t\tconst response = new Response(data, {headers: {'Content-Type': data.typeFull}});\n\t\t\tresolve(response);\n\t\t\treturn;\n\t\t}\n\n\t\t// Wrap http.request into fetch\n\t\tconst send = (parsedURL.protocol === 'https:' ? https__default[\"default\"] : http__default[\"default\"]).request;\n\t\tconst {signal} = request;\n\t\tlet response = null;\n\n\t\tconst abort = () => {\n\t\t\tconst error = new AbortError('The operation was aborted.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream__default[\"default\"].Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\n\t\t\tif (!response || !response.body) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = () => {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// Send request\n\t\tconst request_ = send(parsedURL, options);\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tconst finalize = () => {\n\t\t\trequest_.abort();\n\t\t\tif (signal) {\n\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t}\n\t\t};\n\n\t\trequest_.on('error', error => {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${error.message}`, 'system', error));\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(request_, error => {\n\t\t\tresponse.body.destroy(error);\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (process.version < 'v14') {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\trequest_.on('socket', s => {\n\t\t\t\tlet endedWithEventsCount;\n\t\t\t\ts.prependListener('end', () => {\n\t\t\t\t\tendedWithEventsCount = s._eventsCount;\n\t\t\t\t});\n\t\t\t\ts.prependListener('close', hadError => {\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && endedWithEventsCount < s._eventsCount && !hadError) {\n\t\t\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\trequest_.on('response', response_ => {\n\t\t\trequest_.setTimeout(0);\n\t\t\tconst headers = fromRawHeaders(response_.rawHeaders);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (isRedirect(response_.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : new URL(location, request.url);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// Node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow': {\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOptions = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: clone(request),\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\tsize: request.size,\n\t\t\t\t\t\t\treferrer: request.referrer,\n\t\t\t\t\t\t\treferrerPolicy: request.referrerPolicy\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (response_.statusCode !== 303 && request.body && options_.body instanceof Stream__default[\"default\"].Readable) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (response_.statusCode === 303 || ((response_.statusCode === 301 || response_.statusCode === 302) && request.method === 'POST')) {\n\t\t\t\t\t\t\trequestOptions.method = 'GET';\n\t\t\t\t\t\t\trequestOptions.body = undefined;\n\t\t\t\t\t\t\trequestOptions.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 14\n\t\t\t\t\t\tconst responseReferrerPolicy = parseReferrerPolicyFromHeader(headers);\n\t\t\t\t\t\tif (responseReferrerPolicy) {\n\t\t\t\t\t\t\trequestOptions.referrerPolicy = responseReferrerPolicy;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOptions)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn reject(new TypeError(`Redirect option '${request.redirect}' is not a valid value of RequestRedirect`));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Prepare response\n\t\t\tif (signal) {\n\t\t\t\tresponse_.once('end', () => {\n\t\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet body = Stream.pipeline(response_, new Stream.PassThrough(), reject);\n\t\t\t// see https://github.com/nodejs/node/pull/29376\n\t\t\tif (process.version < 'v12.10') {\n\t\t\t\tresponse_.on('aborted', abortAndFinalize);\n\t\t\t}\n\n\t\t\tconst responseOptions = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: response_.statusCode,\n\t\t\t\tstatusText: response_.statusMessage,\n\t\t\t\theaders,\n\t\t\t\tsize: request.size,\n\t\t\t\tcounter: request.counter,\n\t\t\t\thighWaterMark: request.highWaterMark\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || response_.statusCode === 204 || response_.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib__default[\"default\"].Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib__default[\"default\"].Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// For gzip\n\t\t\tif (codings === 'gzip' || codings === 'x-gzip') {\n\t\t\t\tbody = Stream.pipeline(body, zlib__default[\"default\"].createGunzip(zlibOptions), reject);\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For deflate\n\t\t\tif (codings === 'deflate' || codings === 'x-deflate') {\n\t\t\t\t// Handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = Stream.pipeline(response_, new Stream.PassThrough(), reject);\n\t\t\t\traw.once('data', chunk => {\n\t\t\t\t\t// See http://stackoverflow.com/questions/37519828\n\t\t\t\t\tbody = (chunk[0] & 0x0F) === 0x08 ? Stream.pipeline(body, zlib__default[\"default\"].createInflate(), reject) : Stream.pipeline(body, zlib__default[\"default\"].createInflateRaw(), reject);\n\n\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For br\n\t\t\tif (codings === 'br') {\n\t\t\t\tbody = Stream.pipeline(body, zlib__default[\"default\"].createBrotliDecompress(), reject);\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, use response as-is\n\t\t\tresponse = new Response(body, responseOptions);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(request_, request);\n\t});\n}\n\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tconst LAST_CHUNK = Buffer.from('0\\r\\n\\r\\n');\n\n\tlet isChunkedTransfer = false;\n\tlet properLastChunkReceived = false;\n\tlet previousChunk;\n\n\trequest.on('response', response => {\n\t\tconst {headers} = response;\n\t\tisChunkedTransfer = headers['transfer-encoding'] === 'chunked' && !headers['content-length'];\n\t});\n\n\trequest.on('socket', socket => {\n\t\tconst onSocketClose = () => {\n\t\t\tif (isChunkedTransfer && !properLastChunkReceived) {\n\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\terrorCallback(error);\n\t\t\t}\n\t\t};\n\n\t\tsocket.prependListener('close', onSocketClose);\n\n\t\trequest.on('abort', () => {\n\t\t\tsocket.removeListener('close', onSocketClose);\n\t\t});\n\n\t\tsocket.on('data', buf => {\n\t\t\tproperLastChunkReceived = Buffer.compare(buf.slice(-5), LAST_CHUNK) === 0;\n\n\t\t\t// Sometimes final 0-length chunk and end of message code are in separate packets\n\t\t\tif (!properLastChunkReceived && previousChunk) {\n\t\t\t\tproperLastChunkReceived = (\n\t\t\t\t\tBuffer.compare(previousChunk.slice(-3), LAST_CHUNK.slice(0, 3)) === 0 &&\n\t\t\t\t\tBuffer.compare(buf.slice(-2), LAST_CHUNK.slice(3)) === 0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tpreviousChunk = buf;\n\t\t});\n\t});\n}\n\n// exported for dev, prerender, and preview\nfunction __fetch_polyfill() {\n\tObject.defineProperties(globalThis, {\n\t\tfetch: {\n\t\t\tenumerable: true,\n\t\t\tvalue: fetch\n\t\t},\n\t\tResponse: {\n\t\t\tenumerable: true,\n\t\t\tvalue: Response\n\t\t},\n\t\tRequest: {\n\t\t\tenumerable: true,\n\t\t\tvalue: Request\n\t\t},\n\t\tHeaders: {\n\t\t\tenumerable: true,\n\t\t\tvalue: Headers\n\t\t}\n\t});\n}\n\n__fetch_polyfill();\n\n/**\n *\n * @param {import('@sveltejs/kit').SSRManifest} manifest\n * @returns {import('@netlify/functions').Handler}\n */\nfunction init(manifest) {\n\t/** @type {import('@sveltejs/kit').App} */\n\tconst app = new app_js.App(manifest);\n\n\treturn async (event) => {\n\t\tconst { httpMethod, headers, rawUrl, body, isBase64Encoded } = event;\n\n\t\tconst encoding = isBase64Encoded ? 'base64' : 'utf-8';\n\t\tconst rawBody = typeof body === 'string' ? Buffer.from(body, encoding) : body;\n\n\t\tconst rendered = await app.render({\n\t\t\turl: rawUrl,\n\t\t\tmethod: httpMethod,\n\t\t\theaders,\n\t\t\trawBody\n\t\t});\n\n\t\tif (!rendered) {\n\t\t\treturn {\n\t\t\t\tstatusCode: 404,\n\t\t\t\tbody: 'Not found'\n\t\t\t};\n\t\t}\n\n\t\tconst partial_response = {\n\t\t\tstatusCode: rendered.status,\n\t\t\t...split_headers(rendered.headers)\n\t\t};\n\n\t\tif (rendered.body instanceof Uint8Array) {\n\t\t\t// Function responses should be strings (or undefined), and responses with binary\n\t\t\t// content should be base64 encoded and set isBase64Encoded to true.\n\t\t\t// https://github.com/netlify/functions/blob/main/src/function/response.ts\n\t\t\treturn {\n\t\t\t\t...partial_response,\n\t\t\t\tisBase64Encoded: true,\n\t\t\t\tbody: Buffer.from(rendered.body).toString('base64')\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t...partial_response,\n\t\t\tbody: rendered.body\n\t\t};\n\t};\n}\n\n/**\n * Splits headers into two categories: single value and multi value\n * @param {Record<string, string | string[]>} headers\n * @returns {{\n *   headers: Record<string, string>,\n *   multiValueHeaders: Record<string, string[]>\n * }}\n */\nfunction split_headers(headers) {\n\t/** @type {Record<string, string>} */\n\tconst h = {};\n\n\t/** @type {Record<string, string[]>} */\n\tconst m = {};\n\n\tfor (const key in headers) {\n\t\tconst value = headers[key];\n\t\tconst target = Array.isArray(value) ? m : h;\n\t\ttarget[key] = value;\n\t}\n\treturn {\n\t\theaders: h,\n\t\tmultiValueHeaders: m\n\t};\n}\n\nexports.File = File;\nexports.FormData = FormData;\nexports.init = init;\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar handler = require('./handler-a3623ede.js');\nrequire('./server/app.js');\nrequire('node:http');\nrequire('node:https');\nrequire('node:zlib');\nrequire('node:stream');\nrequire('node:util');\nrequire('node:url');\nrequire('net');\n\n\n\nexports.init = handler.init;\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n__export(exports, {\n  l: () => load_user_data\n});\nfunction load_user_data(session, file_location) {\n  console.log(`Loading session from ${file_location}: ` + JSON.stringify(session, null, 2));\n  if (session !== void 0) {\n    return {\n      props: __spreadValues({}, session.data)\n    };\n  } else {\n    return {\n      props: {\n        user: null,\n        ably_token: null\n      }\n    };\n  }\n}\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  default: () => _layout,\n  load: () => load\n});\nvar import_index_08869495 = __toModule(require(\"../../chunks/index-08869495.js\"));\nvar import_load_user_data_ba355a80 = __toModule(require(\"../../chunks/load_user_data-ba355a80.js\"));\nconst Login_header = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let { user } = $$props;\n  if ($$props.user === void 0 && $$bindings.user && user !== void 0)\n    $$bindings.user(user);\n  return `<div class=\"${\"navbar-item navbar-end\"}\"><div class=\"${\"buttons\"}\">${user ? `<a class=\"${\"button is-light is-outlined is-fullwidth\"}\" rel=\"${\"external\"}\" href=\"${\"/logout\"}\"><span class=\"${\"icon\"}\"><i class=\"${\"fa fa-sign-out\"}\"></i></span>\n\t\t\t\t<span>Logout</span></a>` : ``}\n\n\t\t${!user ? `<a class=\"${\"button is-primary is-outlined\"}\" rel=\"${\"external\"}\" href=\"${\"/login\"}\"><span class=\"${\"icon\"}\"><i class=\"${\"fa fa-sign-in\"}\"></i></span>\n\t\t\t\t<span>Login</span></a>\n\t\t\t<a class=\"${\"button is-warning is-outlined\"}\" rel=\"${\"external\"}\" href=\"${\"/login?screen_hint=signup\"}\"><span class=\"${\"icon\"}\"><i class=\"${\"fa fa-user-plus\"}\"></i></span>\n\t\t\t\t<span>Register</span></a>` : ``}</div></div>`;\n});\nvar __layout_svelte_svelte_type_style_lang = \"\";\nconst css = { code: \"@import '../app.css';\", map: null };\nasync function load({ session }) {\n  return (0, import_load_user_data_ba355a80.l)(session, \"__layout.svelte\");\n}\nconst _layout = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let { user } = $$props;\n  if ($$props.user === void 0 && $$bindings.user && user !== void 0)\n    $$bindings.user(user);\n  $$result.css.add(css);\n  return `<nav class=\"${\"navbar is-info\"}\" aria-label=\"${\"main navigation\"}\"><div class=\"${\"navbar-brand\"}\"><a href=\"${\"/\"}\" class=\"${\"icon is-large has-text-primary\"}\"><i class=\"${\"fas fa-2x fa-code-branch\"}\"></i></a></div>\n\n\t<div class=\"${\"navbar-end\"}\">\n\n\t\t\n    ${user ? `<div class=\"${\"navbar-item\"}\"><button class=\"${\"button is-warning is-fullwidth is-outlined\"}\" href=\"${\"/account\"}\"><span class=\"${\"icon-text\"}\"><span class=\"${\"icon\"}\"><i class=\"${\"fas fa-user\"}\"></i></span>\n\t\t\t\t\t<span>Account</span></span></button></div>` : ``}\n\t\t${(0, import_index_08869495.v)(Login_header, \"LoginHeader\").$$render($$result, { user }, {}, {})}</div></nav>\n\n${slots.default ? slots.default({}) : ``}`;\n});\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module3, desc) => {\n  if (module3 && typeof module3 === \"object\" || typeof module3 === \"function\") {\n    for (let key of __getOwnPropNames(module3))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module3[key], enumerable: !(desc = __getOwnPropDesc(module3, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module3) => {\n  return __reExport(__markAsModule(__defProp(module3 != null ? __create(__getProtoOf(module3)) : {}, \"default\", module3 && module3.__esModule && \"default\" in module3 ? { get: () => module3.default, enumerable: true } : { value: module3, enumerable: true })), module3);\n};\n__export(exports, {\n  css: () => css,\n  entry: () => entry,\n  js: () => js,\n  module: () => module2\n});\nvar module2 = __toModule(require(\"../entries/pages/__layout.svelte.js\"));\nconst entry = \"pages/__layout.svelte-57e6f933.js\";\nconst js = [\"pages/__layout.svelte-57e6f933.js\", \"chunks/vendor-1860a60a.js\", \"chunks/load_user_data-ba355a80.js\", \"chunks/singletons-a42a5e91.js\"];\nconst css = [\"assets/pages/__layout.svelte-7c9d89d8.css\"];\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  default: () => Error2,\n  load: () => load\n});\nvar import_index_08869495 = __toModule(require(\"../../chunks/index-08869495.js\"));\nfunction load({ error, status }) {\n  return { props: { error, status } };\n}\nconst Error2 = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let { status } = $$props;\n  let { error } = $$props;\n  if ($$props.status === void 0 && $$bindings.status && status !== void 0)\n    $$bindings.status(status);\n  if ($$props.error === void 0 && $$bindings.error && error !== void 0)\n    $$bindings.error(error);\n  return `<h1>${(0, import_index_08869495.e)(status)}</h1>\n\n<pre>${(0, import_index_08869495.e)(error.message)}</pre>\n\n\n\n${error.frame ? `<pre>${(0, import_index_08869495.e)(error.frame)}</pre>` : ``}\n${error.stack ? `<pre>${(0, import_index_08869495.e)(error.stack)}</pre>` : ``}`;\n});\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module3, desc) => {\n  if (module3 && typeof module3 === \"object\" || typeof module3 === \"function\") {\n    for (let key of __getOwnPropNames(module3))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module3[key], enumerable: !(desc = __getOwnPropDesc(module3, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module3) => {\n  return __reExport(__markAsModule(__defProp(module3 != null ? __create(__getProtoOf(module3)) : {}, \"default\", module3 && module3.__esModule && \"default\" in module3 ? { get: () => module3.default, enumerable: true } : { value: module3, enumerable: true })), module3);\n};\n__export(exports, {\n  css: () => css,\n  entry: () => entry,\n  js: () => js,\n  module: () => module2\n});\nvar module2 = __toModule(require(\"../entries/pages/error.svelte.js\"));\nconst entry = \"error.svelte-d6011770.js\";\nconst js = [\"error.svelte-d6011770.js\", \"chunks/vendor-1860a60a.js\"];\nconst css = [];\n", "\"use strict\";\n/// <reference lib=\"es2018\"/>\n/// <reference lib=\"dom\"/>\n/// <reference types=\"node\"/>\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst typedArrayTypeNames = [\n    'Int8Array',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Int16Array',\n    'Uint16Array',\n    'Int32Array',\n    'Uint32Array',\n    'Float32Array',\n    'Float64Array',\n    'BigInt64Array',\n    'BigUint64Array'\n];\nfunction isTypedArrayName(name) {\n    return typedArrayTypeNames.includes(name);\n}\nconst objectTypeNames = [\n    'Function',\n    'Generator',\n    'AsyncGenerator',\n    'GeneratorFunction',\n    'AsyncGeneratorFunction',\n    'AsyncFunction',\n    'Observable',\n    'Array',\n    'Buffer',\n    'Object',\n    'RegExp',\n    'Date',\n    'Error',\n    'Map',\n    'Set',\n    'WeakMap',\n    'WeakSet',\n    'ArrayBuffer',\n    'SharedArrayBuffer',\n    'DataView',\n    'Promise',\n    'URL',\n    'FormData',\n    'URLSearchParams',\n    'HTMLElement',\n    ...typedArrayTypeNames\n];\nfunction isObjectTypeName(name) {\n    return objectTypeNames.includes(name);\n}\nconst primitiveTypeNames = [\n    'null',\n    'undefined',\n    'string',\n    'number',\n    'bigint',\n    'boolean',\n    'symbol'\n];\nfunction isPrimitiveTypeName(name) {\n    return primitiveTypeNames.includes(name);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isOfType(type) {\n    return (value) => typeof value === type;\n}\nconst { toString } = Object.prototype;\nconst getObjectType = (value) => {\n    const objectTypeName = toString.call(value).slice(8, -1);\n    if (/HTML\\w+Element/.test(objectTypeName) && is.domElement(value)) {\n        return 'HTMLElement';\n    }\n    if (isObjectTypeName(objectTypeName)) {\n        return objectTypeName;\n    }\n    return undefined;\n};\nconst isObjectOfType = (type) => (value) => getObjectType(value) === type;\nfunction is(value) {\n    if (value === null) {\n        return 'null';\n    }\n    switch (typeof value) {\n        case 'undefined':\n            return 'undefined';\n        case 'string':\n            return 'string';\n        case 'number':\n            return 'number';\n        case 'boolean':\n            return 'boolean';\n        case 'function':\n            return 'Function';\n        case 'bigint':\n            return 'bigint';\n        case 'symbol':\n            return 'symbol';\n        default:\n    }\n    if (is.observable(value)) {\n        return 'Observable';\n    }\n    if (is.array(value)) {\n        return 'Array';\n    }\n    if (is.buffer(value)) {\n        return 'Buffer';\n    }\n    const tagType = getObjectType(value);\n    if (tagType) {\n        return tagType;\n    }\n    if (value instanceof String || value instanceof Boolean || value instanceof Number) {\n        throw new TypeError('Please don\\'t use object wrappers for primitive types');\n    }\n    return 'Object';\n}\nis.undefined = isOfType('undefined');\nis.string = isOfType('string');\nconst isNumberType = isOfType('number');\nis.number = (value) => isNumberType(value) && !is.nan(value);\nis.bigint = isOfType('bigint');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.function_ = isOfType('function');\nis.null_ = (value) => value === null;\nis.class_ = (value) => is.function_(value) && value.toString().startsWith('class ');\nis.boolean = (value) => value === true || value === false;\nis.symbol = isOfType('symbol');\nis.numericString = (value) => is.string(value) && !is.emptyStringOrWhitespace(value) && !Number.isNaN(Number(value));\nis.array = (value, assertion) => {\n    if (!Array.isArray(value)) {\n        return false;\n    }\n    if (!is.function_(assertion)) {\n        return true;\n    }\n    return value.every(assertion);\n};\nis.buffer = (value) => { var _a, _b, _c, _d; return (_d = (_c = (_b = (_a = value) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.isBuffer) === null || _c === void 0 ? void 0 : _c.call(_b, value)) !== null && _d !== void 0 ? _d : false; };\nis.nullOrUndefined = (value) => is.null_(value) || is.undefined(value);\nis.object = (value) => !is.null_(value) && (typeof value === 'object' || is.function_(value));\nis.iterable = (value) => { var _a; return is.function_((_a = value) === null || _a === void 0 ? void 0 : _a[Symbol.iterator]); };\nis.asyncIterable = (value) => { var _a; return is.function_((_a = value) === null || _a === void 0 ? void 0 : _a[Symbol.asyncIterator]); };\nis.generator = (value) => { var _a, _b; return is.iterable(value) && is.function_((_a = value) === null || _a === void 0 ? void 0 : _a.next) && is.function_((_b = value) === null || _b === void 0 ? void 0 : _b.throw); };\nis.asyncGenerator = (value) => is.asyncIterable(value) && is.function_(value.next) && is.function_(value.throw);\nis.nativePromise = (value) => isObjectOfType('Promise')(value);\nconst hasPromiseAPI = (value) => {\n    var _a, _b;\n    return is.function_((_a = value) === null || _a === void 0 ? void 0 : _a.then) &&\n        is.function_((_b = value) === null || _b === void 0 ? void 0 : _b.catch);\n};\nis.promise = (value) => is.nativePromise(value) || hasPromiseAPI(value);\nis.generatorFunction = isObjectOfType('GeneratorFunction');\nis.asyncGeneratorFunction = (value) => getObjectType(value) === 'AsyncGeneratorFunction';\nis.asyncFunction = (value) => getObjectType(value) === 'AsyncFunction';\n// eslint-disable-next-line no-prototype-builtins, @typescript-eslint/ban-types\nis.boundFunction = (value) => is.function_(value) && !value.hasOwnProperty('prototype');\nis.regExp = isObjectOfType('RegExp');\nis.date = isObjectOfType('Date');\nis.error = isObjectOfType('Error');\nis.map = (value) => isObjectOfType('Map')(value);\nis.set = (value) => isObjectOfType('Set')(value);\nis.weakMap = (value) => isObjectOfType('WeakMap')(value);\nis.weakSet = (value) => isObjectOfType('WeakSet')(value);\nis.int8Array = isObjectOfType('Int8Array');\nis.uint8Array = isObjectOfType('Uint8Array');\nis.uint8ClampedArray = isObjectOfType('Uint8ClampedArray');\nis.int16Array = isObjectOfType('Int16Array');\nis.uint16Array = isObjectOfType('Uint16Array');\nis.int32Array = isObjectOfType('Int32Array');\nis.uint32Array = isObjectOfType('Uint32Array');\nis.float32Array = isObjectOfType('Float32Array');\nis.float64Array = isObjectOfType('Float64Array');\nis.bigInt64Array = isObjectOfType('BigInt64Array');\nis.bigUint64Array = isObjectOfType('BigUint64Array');\nis.arrayBuffer = isObjectOfType('ArrayBuffer');\nis.sharedArrayBuffer = isObjectOfType('SharedArrayBuffer');\nis.dataView = isObjectOfType('DataView');\nis.directInstanceOf = (instance, class_) => Object.getPrototypeOf(instance) === class_.prototype;\nis.urlInstance = (value) => isObjectOfType('URL')(value);\nis.urlString = (value) => {\n    if (!is.string(value)) {\n        return false;\n    }\n    try {\n        new URL(value); // eslint-disable-line no-new\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n};\n// TODO: Use the `not` operator with a type guard here when it's available.\n// Example: `is.truthy = (value: unknown): value is (not false | not 0 | not '' | not undefined | not null) => Boolean(value);`\nis.truthy = (value) => Boolean(value);\n// Example: `is.falsy = (value: unknown): value is (not true | 0 | '' | undefined | null) => Boolean(value);`\nis.falsy = (value) => !value;\nis.nan = (value) => Number.isNaN(value);\nis.primitive = (value) => is.null_(value) || isPrimitiveTypeName(typeof value);\nis.integer = (value) => Number.isInteger(value);\nis.safeInteger = (value) => Number.isSafeInteger(value);\nis.plainObject = (value) => {\n    // From: https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n    if (toString.call(value) !== '[object Object]') {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(value);\n    return prototype === null || prototype === Object.getPrototypeOf({});\n};\nis.typedArray = (value) => isTypedArrayName(getObjectType(value));\nconst isValidLength = (value) => is.safeInteger(value) && value >= 0;\nis.arrayLike = (value) => !is.nullOrUndefined(value) && !is.function_(value) && isValidLength(value.length);\nis.inRange = (value, range) => {\n    if (is.number(range)) {\n        return value >= Math.min(0, range) && value <= Math.max(range, 0);\n    }\n    if (is.array(range) && range.length === 2) {\n        return value >= Math.min(...range) && value <= Math.max(...range);\n    }\n    throw new TypeError(`Invalid range: ${JSON.stringify(range)}`);\n};\nconst NODE_TYPE_ELEMENT = 1;\nconst DOM_PROPERTIES_TO_CHECK = [\n    'innerHTML',\n    'ownerDocument',\n    'style',\n    'attributes',\n    'nodeValue'\n];\nis.domElement = (value) => {\n    return is.object(value) &&\n        value.nodeType === NODE_TYPE_ELEMENT &&\n        is.string(value.nodeName) &&\n        !is.plainObject(value) &&\n        DOM_PROPERTIES_TO_CHECK.every(property => property in value);\n};\nis.observable = (value) => {\n    var _a, _b, _c, _d;\n    if (!value) {\n        return false;\n    }\n    // eslint-disable-next-line no-use-extend-native/no-use-extend-native\n    if (value === ((_b = (_a = value)[Symbol.observable]) === null || _b === void 0 ? void 0 : _b.call(_a))) {\n        return true;\n    }\n    if (value === ((_d = (_c = value)['@@observable']) === null || _d === void 0 ? void 0 : _d.call(_c))) {\n        return true;\n    }\n    return false;\n};\nis.nodeStream = (value) => is.object(value) && is.function_(value.pipe) && !is.observable(value);\nis.infinite = (value) => value === Infinity || value === -Infinity;\nconst isAbsoluteMod2 = (remainder) => (value) => is.integer(value) && Math.abs(value % 2) === remainder;\nis.evenInteger = isAbsoluteMod2(0);\nis.oddInteger = isAbsoluteMod2(1);\nis.emptyArray = (value) => is.array(value) && value.length === 0;\nis.nonEmptyArray = (value) => is.array(value) && value.length > 0;\nis.emptyString = (value) => is.string(value) && value.length === 0;\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyString = (value) => is.string(value) && value.length > 0;\nconst isWhiteSpaceString = (value) => is.string(value) && !/\\S/.test(value);\nis.emptyStringOrWhitespace = (value) => is.emptyString(value) || isWhiteSpaceString(value);\nis.emptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length === 0;\n// TODO: Use `not` operator here to remove `Map` and `Set` from type guard:\n// - https://github.com/Microsoft/TypeScript/pull/29317\nis.nonEmptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length > 0;\nis.emptySet = (value) => is.set(value) && value.size === 0;\nis.nonEmptySet = (value) => is.set(value) && value.size > 0;\nis.emptyMap = (value) => is.map(value) && value.size === 0;\nis.nonEmptyMap = (value) => is.map(value) && value.size > 0;\n// `PropertyKey` is any value that can be used as an object key (string, number, or symbol)\nis.propertyKey = (value) => is.any([is.string, is.number, is.symbol], value);\nis.formData = (value) => isObjectOfType('FormData')(value);\nis.urlSearchParams = (value) => isObjectOfType('URLSearchParams')(value);\nconst predicateOnArray = (method, predicate, values) => {\n    if (!is.function_(predicate)) {\n        throw new TypeError(`Invalid predicate: ${JSON.stringify(predicate)}`);\n    }\n    if (values.length === 0) {\n        throw new TypeError('Invalid number of values');\n    }\n    return method.call(values, predicate);\n};\nis.any = (predicate, ...values) => {\n    const predicates = is.array(predicate) ? predicate : [predicate];\n    return predicates.some(singlePredicate => predicateOnArray(Array.prototype.some, singlePredicate, values));\n};\nis.all = (predicate, ...values) => predicateOnArray(Array.prototype.every, predicate, values);\nconst assertType = (condition, description, value, options = {}) => {\n    if (!condition) {\n        const { multipleValues } = options;\n        const valuesMessage = multipleValues ?\n            `received values of types ${[\n                ...new Set(value.map(singleValue => `\\`${is(singleValue)}\\``))\n            ].join(', ')}` :\n            `received value of type \\`${is(value)}\\``;\n        throw new TypeError(`Expected value which is \\`${description}\\`, ${valuesMessage}.`);\n    }\n};\nexports.assert = {\n    // Unknowns.\n    undefined: (value) => assertType(is.undefined(value), 'undefined', value),\n    string: (value) => assertType(is.string(value), 'string', value),\n    number: (value) => assertType(is.number(value), 'number', value),\n    bigint: (value) => assertType(is.bigint(value), 'bigint', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function_: (value) => assertType(is.function_(value), 'Function', value),\n    null_: (value) => assertType(is.null_(value), 'null', value),\n    class_: (value) => assertType(is.class_(value), \"Class\" /* class_ */, value),\n    boolean: (value) => assertType(is.boolean(value), 'boolean', value),\n    symbol: (value) => assertType(is.symbol(value), 'symbol', value),\n    numericString: (value) => assertType(is.numericString(value), \"string with a number\" /* numericString */, value),\n    array: (value, assertion) => {\n        const assert = assertType;\n        assert(is.array(value), 'Array', value);\n        if (assertion) {\n            value.forEach(assertion);\n        }\n    },\n    buffer: (value) => assertType(is.buffer(value), 'Buffer', value),\n    nullOrUndefined: (value) => assertType(is.nullOrUndefined(value), \"null or undefined\" /* nullOrUndefined */, value),\n    object: (value) => assertType(is.object(value), 'Object', value),\n    iterable: (value) => assertType(is.iterable(value), \"Iterable\" /* iterable */, value),\n    asyncIterable: (value) => assertType(is.asyncIterable(value), \"AsyncIterable\" /* asyncIterable */, value),\n    generator: (value) => assertType(is.generator(value), 'Generator', value),\n    asyncGenerator: (value) => assertType(is.asyncGenerator(value), 'AsyncGenerator', value),\n    nativePromise: (value) => assertType(is.nativePromise(value), \"native Promise\" /* nativePromise */, value),\n    promise: (value) => assertType(is.promise(value), 'Promise', value),\n    generatorFunction: (value) => assertType(is.generatorFunction(value), 'GeneratorFunction', value),\n    asyncGeneratorFunction: (value) => assertType(is.asyncGeneratorFunction(value), 'AsyncGeneratorFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    asyncFunction: (value) => assertType(is.asyncFunction(value), 'AsyncFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    boundFunction: (value) => assertType(is.boundFunction(value), 'Function', value),\n    regExp: (value) => assertType(is.regExp(value), 'RegExp', value),\n    date: (value) => assertType(is.date(value), 'Date', value),\n    error: (value) => assertType(is.error(value), 'Error', value),\n    map: (value) => assertType(is.map(value), 'Map', value),\n    set: (value) => assertType(is.set(value), 'Set', value),\n    weakMap: (value) => assertType(is.weakMap(value), 'WeakMap', value),\n    weakSet: (value) => assertType(is.weakSet(value), 'WeakSet', value),\n    int8Array: (value) => assertType(is.int8Array(value), 'Int8Array', value),\n    uint8Array: (value) => assertType(is.uint8Array(value), 'Uint8Array', value),\n    uint8ClampedArray: (value) => assertType(is.uint8ClampedArray(value), 'Uint8ClampedArray', value),\n    int16Array: (value) => assertType(is.int16Array(value), 'Int16Array', value),\n    uint16Array: (value) => assertType(is.uint16Array(value), 'Uint16Array', value),\n    int32Array: (value) => assertType(is.int32Array(value), 'Int32Array', value),\n    uint32Array: (value) => assertType(is.uint32Array(value), 'Uint32Array', value),\n    float32Array: (value) => assertType(is.float32Array(value), 'Float32Array', value),\n    float64Array: (value) => assertType(is.float64Array(value), 'Float64Array', value),\n    bigInt64Array: (value) => assertType(is.bigInt64Array(value), 'BigInt64Array', value),\n    bigUint64Array: (value) => assertType(is.bigUint64Array(value), 'BigUint64Array', value),\n    arrayBuffer: (value) => assertType(is.arrayBuffer(value), 'ArrayBuffer', value),\n    sharedArrayBuffer: (value) => assertType(is.sharedArrayBuffer(value), 'SharedArrayBuffer', value),\n    dataView: (value) => assertType(is.dataView(value), 'DataView', value),\n    urlInstance: (value) => assertType(is.urlInstance(value), 'URL', value),\n    urlString: (value) => assertType(is.urlString(value), \"string with a URL\" /* urlString */, value),\n    truthy: (value) => assertType(is.truthy(value), \"truthy\" /* truthy */, value),\n    falsy: (value) => assertType(is.falsy(value), \"falsy\" /* falsy */, value),\n    nan: (value) => assertType(is.nan(value), \"NaN\" /* nan */, value),\n    primitive: (value) => assertType(is.primitive(value), \"primitive\" /* primitive */, value),\n    integer: (value) => assertType(is.integer(value), \"integer\" /* integer */, value),\n    safeInteger: (value) => assertType(is.safeInteger(value), \"integer\" /* safeInteger */, value),\n    plainObject: (value) => assertType(is.plainObject(value), \"plain object\" /* plainObject */, value),\n    typedArray: (value) => assertType(is.typedArray(value), \"TypedArray\" /* typedArray */, value),\n    arrayLike: (value) => assertType(is.arrayLike(value), \"array-like\" /* arrayLike */, value),\n    domElement: (value) => assertType(is.domElement(value), \"HTMLElement\" /* domElement */, value),\n    observable: (value) => assertType(is.observable(value), 'Observable', value),\n    nodeStream: (value) => assertType(is.nodeStream(value), \"Node.js Stream\" /* nodeStream */, value),\n    infinite: (value) => assertType(is.infinite(value), \"infinite number\" /* infinite */, value),\n    emptyArray: (value) => assertType(is.emptyArray(value), \"empty array\" /* emptyArray */, value),\n    nonEmptyArray: (value) => assertType(is.nonEmptyArray(value), \"non-empty array\" /* nonEmptyArray */, value),\n    emptyString: (value) => assertType(is.emptyString(value), \"empty string\" /* emptyString */, value),\n    nonEmptyString: (value) => assertType(is.nonEmptyString(value), \"non-empty string\" /* nonEmptyString */, value),\n    emptyStringOrWhitespace: (value) => assertType(is.emptyStringOrWhitespace(value), \"empty string or whitespace\" /* emptyStringOrWhitespace */, value),\n    emptyObject: (value) => assertType(is.emptyObject(value), \"empty object\" /* emptyObject */, value),\n    nonEmptyObject: (value) => assertType(is.nonEmptyObject(value), \"non-empty object\" /* nonEmptyObject */, value),\n    emptySet: (value) => assertType(is.emptySet(value), \"empty set\" /* emptySet */, value),\n    nonEmptySet: (value) => assertType(is.nonEmptySet(value), \"non-empty set\" /* nonEmptySet */, value),\n    emptyMap: (value) => assertType(is.emptyMap(value), \"empty map\" /* emptyMap */, value),\n    nonEmptyMap: (value) => assertType(is.nonEmptyMap(value), \"non-empty map\" /* nonEmptyMap */, value),\n    propertyKey: (value) => assertType(is.propertyKey(value), 'PropertyKey', value),\n    formData: (value) => assertType(is.formData(value), 'FormData', value),\n    urlSearchParams: (value) => assertType(is.urlSearchParams(value), 'URLSearchParams', value),\n    // Numbers.\n    evenInteger: (value) => assertType(is.evenInteger(value), \"even integer\" /* evenInteger */, value),\n    oddInteger: (value) => assertType(is.oddInteger(value), \"odd integer\" /* oddInteger */, value),\n    // Two arguments.\n    directInstanceOf: (instance, class_) => assertType(is.directInstanceOf(instance, class_), \"T\" /* directInstanceOf */, instance),\n    inRange: (value, range) => assertType(is.inRange(value, range), \"in range\" /* inRange */, value),\n    // Variadic functions.\n    any: (predicate, ...values) => {\n        return assertType(is.any(predicate, ...values), \"predicate returns truthy for any value\" /* any */, values, { multipleValues: true });\n    },\n    all: (predicate, ...values) => assertType(is.all(predicate, ...values), \"predicate returns truthy for all values\" /* all */, values, { multipleValues: true })\n};\n// Some few keywords are reserved, but we'll populate them for Node.js users\n// See https://github.com/Microsoft/TypeScript/issues/2536\nObject.defineProperties(is, {\n    class: {\n        value: is.class_\n    },\n    function: {\n        value: is.function_\n    },\n    null: {\n        value: is.null_\n    }\n});\nObject.defineProperties(exports.assert, {\n    class: {\n        value: exports.assert.class_\n    },\n    function: {\n        value: exports.assert.function_\n    },\n    null: {\n        value: exports.assert.null_\n    }\n});\nexports.default = is;\n// For CommonJS default export support\nmodule.exports = is;\nmodule.exports.default = is;\nmodule.exports.assert = exports.assert;\n", "'use strict';\n\nclass CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\nclass PCancelable {\n\tstatic fn(userFn) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFn(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn executor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isTLSSocket(socket) {\n    return socket.encrypted;\n}\nconst deferToConnect = (socket, fn) => {\n    let listeners;\n    if (typeof fn === 'function') {\n        const connect = fn;\n        listeners = { connect };\n    }\n    else {\n        listeners = fn;\n    }\n    const hasConnectListener = typeof listeners.connect === 'function';\n    const hasSecureConnectListener = typeof listeners.secureConnect === 'function';\n    const hasCloseListener = typeof listeners.close === 'function';\n    const onConnect = () => {\n        if (hasConnectListener) {\n            listeners.connect();\n        }\n        if (isTLSSocket(socket) && hasSecureConnectListener) {\n            if (socket.authorized) {\n                listeners.secureConnect();\n            }\n            else if (!socket.authorizationError) {\n                socket.once('secureConnect', listeners.secureConnect);\n            }\n        }\n        if (hasCloseListener) {\n            socket.once('close', listeners.close);\n        }\n    };\n    if (socket.writable && !socket.connecting) {\n        onConnect();\n    }\n    else if (socket.connecting) {\n        socket.once('connect', onConnect);\n    }\n    else if (socket.destroyed && hasCloseListener) {\n        listeners.close(socket._hadError);\n    }\n};\nexports.default = deferToConnect;\n// For CommonJS default export support\nmodule.exports = deferToConnect;\nmodule.exports.default = deferToConnect;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst defer_to_connect_1 = require(\"defer-to-connect\");\nconst util_1 = require(\"util\");\nconst nodejsMajorVersion = Number(process.versions.node.split('.')[0]);\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined\n        }\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        const emit = origin.emit.bind(origin);\n        origin.emit = (event, ...args) => {\n            // Catches the `error` event\n            if (event === 'error') {\n                timings.error = Date.now();\n                timings.phases.total = timings.error - timings.start;\n                origin.emit = emit;\n            }\n            // Saves the original behavior\n            return emit(event, ...args);\n        };\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        // Let the `end` response event be responsible for setting the total phase,\n        // unless the Node.js major version is >= 13.\n        if (!timings.response || nodejsMajorVersion >= 13) {\n            timings.phases.total = Date.now() - timings.start;\n        }\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (util_1.types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        defer_to_connect_1.default(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n                // This callback is called before flushing any data,\n                // so we don't need to set `timings.phases.request` here.\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            }\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        var _a;\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - ((_a = timings.secureConnect) !== null && _a !== void 0 ? _a : timings.connect);\n    };\n    const writableFinished = () => {\n        if (typeof request.writableFinished === 'boolean') {\n            return request.writableFinished;\n        }\n        // Node.js doesn't have `request.writableFinished` property\n        return request.finished && request.outputSize === 0 && (!request.socket || request.socket.writableLength === 0);\n    };\n    if (writableFinished()) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexports.default = timer;\n// For CommonJS default export support\nmodule.exports = timer;\nmodule.exports.default = timer;\n", "'use strict';\nconst {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises: {\n\t\tResolver: AsyncResolver\n\t},\n\tlookup: dnsLookup\n} = require('dns');\nconst {promisify} = require('util');\nconst os = require('os');\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\n\nclass CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = promisify(lookup);\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tif (fallbackDuration < 1) {\n\t\t\tthis._fallback = false;\n\t\t} else {\n\t\t\tthis._fallback = true;\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\n\t\t\tif (pending) {\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\tconst wrap = async promise => {\n\t\t\ttry {\n\t\t\t\treturn await promise;\n\t\t\t} catch (error) {\n\t\t\t\tif (error.code === 'ENODATA' || error.code === 'ENOTFOUND') {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t};\n\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tthis._resolve4(hostname, ttl),\n\t\t\tthis._resolve6(hostname, ttl)\n\t\t].map(promise => wrap(promise)));\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst entries = await this._dnsLookup(hostname, {\n\t\t\t\tall: true\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tentries,\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch (_) {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._fallback) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n\nmodule.exports = CacheableLookup;\nmodule.exports.default = CacheableLookup;\n", "'use strict';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => {\n\treturn filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = (mediaType.shift() || '').toLowerCase();\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length !== 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nconst normalizeUrl = (urlString, options) => {\n\toptions = {\n\t\tdefaultProtocol: 'http:',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tsortQueryParameters: true,\n\t\t...options\n\t};\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (/^view-source:/i.test(urlString)) {\n\t\tthrow new Error('`view-source:` is not supported as it is a non-standard protocol');\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObj = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObj.protocol === 'https:') {\n\t\turlObj.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObj.protocol === 'http:') {\n\t\turlObj.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObj.username = '';\n\t\turlObj.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObj.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObj.hash = urlObj.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\tif (urlObj.pathname) {\n\t\turlObj.pathname = urlObj.pathname.replace(/(?<!\\b(?:[a-z][a-z\\d+\\-.]{1,50}:))\\/{2,}/g, '/');\n\t}\n\n\t// Decode URI octets\n\tif (urlObj.pathname) {\n\t\ttry {\n\t\t\turlObj.pathname = decodeURI(urlObj.pathname);\n\t\t} catch (_) {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObj.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, pathComponents.length - 1);\n\t\t\turlObj.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\tif (urlObj.hostname) {\n\t\t// Remove trailing dot\n\t\turlObj.hostname = urlObj.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)(?:[a-z\\-\\d]{1,63})\\.(?:[a-z.\\-\\d]{2,63})$/.test(urlObj.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObj.hostname = urlObj.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\tfor (const key of [...urlObj.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObj.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (options.removeQueryParameters === true) {\n\t\turlObj.search = '';\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\turlObj.searchParams.sort();\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObj.pathname = urlObj.pathname.replace(/\\/$/, '');\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObj.toString();\n\n\tif (!options.removeSingleSlash && urlObj.pathname === '/' && !oldUrlString.endsWith('/') && urlObj.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObj.pathname === '/') && urlObj.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n};\n\nmodule.exports = normalizeUrl;\n", "// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n", "var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n", "var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n", "var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n", "'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n", "'use strict';\nconst {constants: BufferConstants} = require('buffer');\nconst pump = require('pump');\nconst bufferStream = require('./buffer-stream');\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\n\tlet stream;\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\tstream = pump(inputStream, bufferStream(options), error => {\n\t\t\tif (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\n// TODO: Remove this for the next major release\nmodule.exports.default = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n", "'use strict';\n// rfc7231 6.1\nconst statusCodeCacheableByDefault = new Set([\n    200,\n    203,\n    204,\n    206,\n    300,\n    301,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n// This implementation does not understand partial responses (206)\nconst understoodStatuses = new Set([\n    200,\n    203,\n    204,\n    300,\n    301,\n    302,\n    303,\n    307,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\nconst errorStatusCodes = new Set([\n    500,\n    502,\n    503, \n    504,\n]);\n\nconst hopByHopHeaders = {\n    date: true, // included, because we add Age update Date\n    connection: true,\n    'keep-alive': true,\n    'proxy-authenticate': true,\n    'proxy-authorization': true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n};\n\nconst excludedFromRevalidationUpdate = {\n    // Since the old body is reused, it doesn't make sense to change properties of the body\n    'content-length': true,\n    'content-encoding': true,\n    'transfer-encoding': true,\n    'content-range': true,\n};\n\nfunction toNumberOrZero(s) {\n    const n = parseInt(s, 10);\n    return isFinite(n) ? n : 0;\n}\n\n// RFC 5861\nfunction isErrorResponse(response) {\n    // consider undefined response as faulty\n    if(!response) {\n        return true\n    }\n    return errorStatusCodes.has(response.status);\n}\n\nfunction parseCacheControl(header) {\n    const cc = {};\n    if (!header) return cc;\n\n    // TODO: When there is more than one value present for a given directive (e.g., two Expires header fields, multiple Cache-Control: max-age directives),\n    // the directive's value is considered invalid. Caches are encouraged to consider responses that have invalid freshness information to be stale\n    const parts = header.trim().split(/\\s*,\\s*/); // TODO: lame parsing\n    for (const part of parts) {\n        const [k, v] = part.split(/\\s*=\\s*/, 2);\n        cc[k] = v === undefined ? true : v.replace(/^\"|\"$/g, ''); // TODO: lame unquoting\n    }\n\n    return cc;\n}\n\nfunction formatCacheControl(cc) {\n    let parts = [];\n    for (const k in cc) {\n        const v = cc[k];\n        parts.push(v === true ? k : k + '=' + v);\n    }\n    if (!parts.length) {\n        return undefined;\n    }\n    return parts.join(', ');\n}\n\nmodule.exports = class CachePolicy {\n    constructor(\n        req,\n        res,\n        {\n            shared,\n            cacheHeuristic,\n            immutableMinTimeToLive,\n            ignoreCargoCult,\n            _fromObject,\n        } = {}\n    ) {\n        if (_fromObject) {\n            this._fromObject(_fromObject);\n            return;\n        }\n\n        if (!res || !res.headers) {\n            throw Error('Response headers missing');\n        }\n        this._assertRequestHasHeaders(req);\n\n        this._responseTime = this.now();\n        this._isShared = shared !== false;\n        this._cacheHeuristic =\n            undefined !== cacheHeuristic ? cacheHeuristic : 0.1; // 10% matches IE\n        this._immutableMinTtl =\n            undefined !== immutableMinTimeToLive\n                ? immutableMinTimeToLive\n                : 24 * 3600 * 1000;\n\n        this._status = 'status' in res ? res.status : 200;\n        this._resHeaders = res.headers;\n        this._rescc = parseCacheControl(res.headers['cache-control']);\n        this._method = 'method' in req ? req.method : 'GET';\n        this._url = req.url;\n        this._host = req.headers.host;\n        this._noAuthorization = !req.headers.authorization;\n        this._reqHeaders = res.headers.vary ? req.headers : null; // Don't keep all request headers if they won't be used\n        this._reqcc = parseCacheControl(req.headers['cache-control']);\n\n        // Assume that if someone uses legacy, non-standard uncecessary options they don't understand caching,\n        // so there's no point stricly adhering to the blindly copy&pasted directives.\n        if (\n            ignoreCargoCult &&\n            'pre-check' in this._rescc &&\n            'post-check' in this._rescc\n        ) {\n            delete this._rescc['pre-check'];\n            delete this._rescc['post-check'];\n            delete this._rescc['no-cache'];\n            delete this._rescc['no-store'];\n            delete this._rescc['must-revalidate'];\n            this._resHeaders = Object.assign({}, this._resHeaders, {\n                'cache-control': formatCacheControl(this._rescc),\n            });\n            delete this._resHeaders.expires;\n            delete this._resHeaders.pragma;\n        }\n\n        // When the Cache-Control header field is not present in a request, caches MUST consider the no-cache request pragma-directive\n        // as having the same effect as if \"Cache-Control: no-cache\" were present (see Section 5.2.1).\n        if (\n            res.headers['cache-control'] == null &&\n            /no-cache/.test(res.headers.pragma)\n        ) {\n            this._rescc['no-cache'] = true;\n        }\n    }\n\n    now() {\n        return Date.now();\n    }\n\n    storable() {\n        // The \"no-store\" request directive indicates that a cache MUST NOT store any part of either this request or any response to it.\n        return !!(\n            !this._reqcc['no-store'] &&\n            // A cache MUST NOT store a response to any request, unless:\n            // The request method is understood by the cache and defined as being cacheable, and\n            ('GET' === this._method ||\n                'HEAD' === this._method ||\n                ('POST' === this._method && this._hasExplicitExpiration())) &&\n            // the response status code is understood by the cache, and\n            understoodStatuses.has(this._status) &&\n            // the \"no-store\" cache directive does not appear in request or response header fields, and\n            !this._rescc['no-store'] &&\n            // the \"private\" response directive does not appear in the response, if the cache is shared, and\n            (!this._isShared || !this._rescc.private) &&\n            // the Authorization header field does not appear in the request, if the cache is shared,\n            (!this._isShared ||\n                this._noAuthorization ||\n                this._allowsStoringAuthenticated()) &&\n            // the response either:\n            // contains an Expires header field, or\n            (this._resHeaders.expires ||\n                // contains a max-age response directive, or\n                // contains a s-maxage response directive and the cache is shared, or\n                // contains a public response directive.\n                this._rescc['max-age'] ||\n                (this._isShared && this._rescc['s-maxage']) ||\n                this._rescc.public ||\n                // has a status code that is defined as cacheable by default\n                statusCodeCacheableByDefault.has(this._status))\n        );\n    }\n\n    _hasExplicitExpiration() {\n        // 4.2.1 Calculating Freshness Lifetime\n        return (\n            (this._isShared && this._rescc['s-maxage']) ||\n            this._rescc['max-age'] ||\n            this._resHeaders.expires\n        );\n    }\n\n    _assertRequestHasHeaders(req) {\n        if (!req || !req.headers) {\n            throw Error('Request headers missing');\n        }\n    }\n\n    satisfiesWithoutRevalidation(req) {\n        this._assertRequestHasHeaders(req);\n\n        // When presented with a request, a cache MUST NOT reuse a stored response, unless:\n        // the presented request does not contain the no-cache pragma (Section 5.4), nor the no-cache cache directive,\n        // unless the stored response is successfully validated (Section 4.3), and\n        const requestCC = parseCacheControl(req.headers['cache-control']);\n        if (requestCC['no-cache'] || /no-cache/.test(req.headers.pragma)) {\n            return false;\n        }\n\n        if (requestCC['max-age'] && this.age() > requestCC['max-age']) {\n            return false;\n        }\n\n        if (\n            requestCC['min-fresh'] &&\n            this.timeToLive() < 1000 * requestCC['min-fresh']\n        ) {\n            return false;\n        }\n\n        // the stored response is either:\n        // fresh, or allowed to be served stale\n        if (this.stale()) {\n            const allowsStale =\n                requestCC['max-stale'] &&\n                !this._rescc['must-revalidate'] &&\n                (true === requestCC['max-stale'] ||\n                    requestCC['max-stale'] > this.age() - this.maxAge());\n            if (!allowsStale) {\n                return false;\n            }\n        }\n\n        return this._requestMatches(req, false);\n    }\n\n    _requestMatches(req, allowHeadMethod) {\n        // The presented effective request URI and that of the stored response match, and\n        return (\n            (!this._url || this._url === req.url) &&\n            this._host === req.headers.host &&\n            // the request method associated with the stored response allows it to be used for the presented request, and\n            (!req.method ||\n                this._method === req.method ||\n                (allowHeadMethod && 'HEAD' === req.method)) &&\n            // selecting header fields nominated by the stored response (if any) match those presented, and\n            this._varyMatches(req)\n        );\n    }\n\n    _allowsStoringAuthenticated() {\n        //  following Cache-Control response directives (Section 5.2.2) have such an effect: must-revalidate, public, and s-maxage.\n        return (\n            this._rescc['must-revalidate'] ||\n            this._rescc.public ||\n            this._rescc['s-maxage']\n        );\n    }\n\n    _varyMatches(req) {\n        if (!this._resHeaders.vary) {\n            return true;\n        }\n\n        // A Vary header field-value of \"*\" always fails to match\n        if (this._resHeaders.vary === '*') {\n            return false;\n        }\n\n        const fields = this._resHeaders.vary\n            .trim()\n            .toLowerCase()\n            .split(/\\s*,\\s*/);\n        for (const name of fields) {\n            if (req.headers[name] !== this._reqHeaders[name]) return false;\n        }\n        return true;\n    }\n\n    _copyWithoutHopByHopHeaders(inHeaders) {\n        const headers = {};\n        for (const name in inHeaders) {\n            if (hopByHopHeaders[name]) continue;\n            headers[name] = inHeaders[name];\n        }\n        // 9.1.  Connection\n        if (inHeaders.connection) {\n            const tokens = inHeaders.connection.trim().split(/\\s*,\\s*/);\n            for (const name of tokens) {\n                delete headers[name];\n            }\n        }\n        if (headers.warning) {\n            const warnings = headers.warning.split(/,/).filter(warning => {\n                return !/^\\s*1[0-9][0-9]/.test(warning);\n            });\n            if (!warnings.length) {\n                delete headers.warning;\n            } else {\n                headers.warning = warnings.join(',').trim();\n            }\n        }\n        return headers;\n    }\n\n    responseHeaders() {\n        const headers = this._copyWithoutHopByHopHeaders(this._resHeaders);\n        const age = this.age();\n\n        // A cache SHOULD generate 113 warning if it heuristically chose a freshness\n        // lifetime greater than 24 hours and the response's age is greater than 24 hours.\n        if (\n            age > 3600 * 24 &&\n            !this._hasExplicitExpiration() &&\n            this.maxAge() > 3600 * 24\n        ) {\n            headers.warning =\n                (headers.warning ? `${headers.warning}, ` : '') +\n                '113 - \"rfc7234 5.5.4\"';\n        }\n        headers.age = `${Math.round(age)}`;\n        headers.date = new Date(this.now()).toUTCString();\n        return headers;\n    }\n\n    /**\n     * Value of the Date response header or current time if Date was invalid\n     * @return timestamp\n     */\n    date() {\n        const serverDate = Date.parse(this._resHeaders.date);\n        if (isFinite(serverDate)) {\n            return serverDate;\n        }\n        return this._responseTime;\n    }\n\n    /**\n     * Value of the Age header, in seconds, updated for the current time.\n     * May be fractional.\n     *\n     * @return Number\n     */\n    age() {\n        let age = this._ageValue();\n\n        const residentTime = (this.now() - this._responseTime) / 1000;\n        return age + residentTime;\n    }\n\n    _ageValue() {\n        return toNumberOrZero(this._resHeaders.age);\n    }\n\n    /**\n     * Value of applicable max-age (or heuristic equivalent) in seconds. This counts since response's `Date`.\n     *\n     * For an up-to-date value, see `timeToLive()`.\n     *\n     * @return Number\n     */\n    maxAge() {\n        if (!this.storable() || this._rescc['no-cache']) {\n            return 0;\n        }\n\n        // Shared responses with cookies are cacheable according to the RFC, but IMHO it'd be unwise to do so by default\n        // so this implementation requires explicit opt-in via public header\n        if (\n            this._isShared &&\n            (this._resHeaders['set-cookie'] &&\n                !this._rescc.public &&\n                !this._rescc.immutable)\n        ) {\n            return 0;\n        }\n\n        if (this._resHeaders.vary === '*') {\n            return 0;\n        }\n\n        if (this._isShared) {\n            if (this._rescc['proxy-revalidate']) {\n                return 0;\n            }\n            // if a response includes the s-maxage directive, a shared cache recipient MUST ignore the Expires field.\n            if (this._rescc['s-maxage']) {\n                return toNumberOrZero(this._rescc['s-maxage']);\n            }\n        }\n\n        // If a response includes a Cache-Control field with the max-age directive, a recipient MUST ignore the Expires field.\n        if (this._rescc['max-age']) {\n            return toNumberOrZero(this._rescc['max-age']);\n        }\n\n        const defaultMinTtl = this._rescc.immutable ? this._immutableMinTtl : 0;\n\n        const serverDate = this.date();\n        if (this._resHeaders.expires) {\n            const expires = Date.parse(this._resHeaders.expires);\n            // A cache recipient MUST interpret invalid date formats, especially the value \"0\", as representing a time in the past (i.e., \"already expired\").\n            if (Number.isNaN(expires) || expires < serverDate) {\n                return 0;\n            }\n            return Math.max(defaultMinTtl, (expires - serverDate) / 1000);\n        }\n\n        if (this._resHeaders['last-modified']) {\n            const lastModified = Date.parse(this._resHeaders['last-modified']);\n            if (isFinite(lastModified) && serverDate > lastModified) {\n                return Math.max(\n                    defaultMinTtl,\n                    ((serverDate - lastModified) / 1000) * this._cacheHeuristic\n                );\n            }\n        }\n\n        return defaultMinTtl;\n    }\n\n    timeToLive() {\n        const age = this.maxAge() - this.age();\n        const staleIfErrorAge = age + toNumberOrZero(this._rescc['stale-if-error']);\n        const staleWhileRevalidateAge = age + toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return Math.max(0, age, staleIfErrorAge, staleWhileRevalidateAge) * 1000;\n    }\n\n    stale() {\n        return this.maxAge() <= this.age();\n    }\n\n    _useStaleIfError() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-if-error']) > this.age();\n    }\n\n    useStaleWhileRevalidate() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-while-revalidate']) > this.age();\n    }\n\n    static fromObject(obj) {\n        return new this(undefined, undefined, { _fromObject: obj });\n    }\n\n    _fromObject(obj) {\n        if (this._responseTime) throw Error('Reinitialized');\n        if (!obj || obj.v !== 1) throw Error('Invalid serialization');\n\n        this._responseTime = obj.t;\n        this._isShared = obj.sh;\n        this._cacheHeuristic = obj.ch;\n        this._immutableMinTtl =\n            obj.imm !== undefined ? obj.imm : 24 * 3600 * 1000;\n        this._status = obj.st;\n        this._resHeaders = obj.resh;\n        this._rescc = obj.rescc;\n        this._method = obj.m;\n        this._url = obj.u;\n        this._host = obj.h;\n        this._noAuthorization = obj.a;\n        this._reqHeaders = obj.reqh;\n        this._reqcc = obj.reqcc;\n    }\n\n    toObject() {\n        return {\n            v: 1,\n            t: this._responseTime,\n            sh: this._isShared,\n            ch: this._cacheHeuristic,\n            imm: this._immutableMinTtl,\n            st: this._status,\n            resh: this._resHeaders,\n            rescc: this._rescc,\n            m: this._method,\n            u: this._url,\n            h: this._host,\n            a: this._noAuthorization,\n            reqh: this._reqHeaders,\n            reqcc: this._reqcc,\n        };\n    }\n\n    /**\n     * Headers for sending to the origin server to revalidate stale response.\n     * Allows server to return 304 to allow reuse of the previous response.\n     *\n     * Hop by hop headers are always stripped.\n     * Revalidation headers may be added or removed, depending on request.\n     */\n    revalidationHeaders(incomingReq) {\n        this._assertRequestHasHeaders(incomingReq);\n        const headers = this._copyWithoutHopByHopHeaders(incomingReq.headers);\n\n        // This implementation does not understand range requests\n        delete headers['if-range'];\n\n        if (!this._requestMatches(incomingReq, true) || !this.storable()) {\n            // revalidation allowed via HEAD\n            // not for the same resource, or wasn't allowed to be cached anyway\n            delete headers['if-none-match'];\n            delete headers['if-modified-since'];\n            return headers;\n        }\n\n        /* MUST send that entity-tag in any cache validation request (using If-Match or If-None-Match) if an entity-tag has been provided by the origin server. */\n        if (this._resHeaders.etag) {\n            headers['if-none-match'] = headers['if-none-match']\n                ? `${headers['if-none-match']}, ${this._resHeaders.etag}`\n                : this._resHeaders.etag;\n        }\n\n        // Clients MAY issue simple (non-subrange) GET requests with either weak validators or strong validators. Clients MUST NOT use weak validators in other forms of request.\n        const forbidsWeakValidators =\n            headers['accept-ranges'] ||\n            headers['if-match'] ||\n            headers['if-unmodified-since'] ||\n            (this._method && this._method != 'GET');\n\n        /* SHOULD send the Last-Modified value in non-subrange cache validation requests (using If-Modified-Since) if only a Last-Modified value has been provided by the origin server.\n        Note: This implementation does not understand partial responses (206) */\n        if (forbidsWeakValidators) {\n            delete headers['if-modified-since'];\n\n            if (headers['if-none-match']) {\n                const etags = headers['if-none-match']\n                    .split(/,/)\n                    .filter(etag => {\n                        return !/^\\s*W\\//.test(etag);\n                    });\n                if (!etags.length) {\n                    delete headers['if-none-match'];\n                } else {\n                    headers['if-none-match'] = etags.join(',').trim();\n                }\n            }\n        } else if (\n            this._resHeaders['last-modified'] &&\n            !headers['if-modified-since']\n        ) {\n            headers['if-modified-since'] = this._resHeaders['last-modified'];\n        }\n\n        return headers;\n    }\n\n    /**\n     * Creates new CachePolicy with information combined from the previews response,\n     * and the new revalidation response.\n     *\n     * Returns {policy, modified} where modified is a boolean indicating\n     * whether the response body has been modified, and old cached body can't be used.\n     *\n     * @return {Object} {policy: CachePolicy, modified: Boolean}\n     */\n    revalidatedPolicy(request, response) {\n        this._assertRequestHasHeaders(request);\n        if(this._useStaleIfError() && isErrorResponse(response)) {  // I consider the revalidation request unsuccessful\n          return {\n            modified: false,\n            matches: false,\n            policy: this,\n          };\n        }\n        if (!response || !response.headers) {\n            throw Error('Response headers missing');\n        }\n\n        // These aren't going to be supported exactly, since one CachePolicy object\n        // doesn't know about all the other cached objects.\n        let matches = false;\n        if (response.status !== undefined && response.status != 304) {\n            matches = false;\n        } else if (\n            response.headers.etag &&\n            !/^\\s*W\\//.test(response.headers.etag)\n        ) {\n            // \"All of the stored responses with the same strong validator are selected.\n            // If none of the stored responses contain the same strong validator,\n            // then the cache MUST NOT use the new response to update any stored responses.\"\n            matches =\n                this._resHeaders.etag &&\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                    response.headers.etag;\n        } else if (this._resHeaders.etag && response.headers.etag) {\n            // \"If the new response contains a weak validator and that validator corresponds\n            // to one of the cache's stored responses,\n            // then the most recent of those matching stored responses is selected for update.\"\n            matches =\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                response.headers.etag.replace(/^\\s*W\\//, '');\n        } else if (this._resHeaders['last-modified']) {\n            matches =\n                this._resHeaders['last-modified'] ===\n                response.headers['last-modified'];\n        } else {\n            // If the new response does not include any form of validator (such as in the case where\n            // a client generates an If-Modified-Since request from a source other than the Last-Modified\n            // response header field), and there is only one stored response, and that stored response also\n            // lacks a validator, then that stored response is selected for update.\n            if (\n                !this._resHeaders.etag &&\n                !this._resHeaders['last-modified'] &&\n                !response.headers.etag &&\n                !response.headers['last-modified']\n            ) {\n                matches = true;\n            }\n        }\n\n        if (!matches) {\n            return {\n                policy: new this.constructor(request, response),\n                // Client receiving 304 without body, even if it's invalid/mismatched has no option\n                // but to reuse a cached body. We don't have a good way to tell clients to do\n                // error recovery in such case.\n                modified: response.status != 304,\n                matches: false,\n            };\n        }\n\n        // use other header fields provided in the 304 (Not Modified) response to replace all instances\n        // of the corresponding header fields in the stored response.\n        const headers = {};\n        for (const k in this._resHeaders) {\n            headers[k] =\n                k in response.headers && !excludedFromRevalidationUpdate[k]\n                    ? response.headers[k]\n                    : this._resHeaders[k];\n        }\n\n        const newResponse = Object.assign({}, response, {\n            status: this._status,\n            method: this._method,\n            headers,\n        });\n        return {\n            policy: new this.constructor(request, newResponse, {\n                shared: this._isShared,\n                cacheHeuristic: this._cacheHeuristic,\n                immutableMinTimeToLive: this._immutableMinTtl,\n            }),\n            modified: false,\n            matches: true,\n        };\n    }\n};\n", "'use strict';\nmodule.exports = object => {\n\tconst result = {};\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tresult[key.toLowerCase()] = value;\n\t}\n\n\treturn result;\n};\n", "'use strict';\n\nconst Readable = require('stream').Readable;\nconst lowercaseKeys = require('lowercase-keys');\n\nclass Response extends Readable {\n\tconstructor(statusCode, headers, body, url) {\n\t\tif (typeof statusCode !== 'number') {\n\t\t\tthrow new TypeError('Argument `statusCode` should be a number');\n\t\t}\n\t\tif (typeof headers !== 'object') {\n\t\t\tthrow new TypeError('Argument `headers` should be an object');\n\t\t}\n\t\tif (!(body instanceof Buffer)) {\n\t\t\tthrow new TypeError('Argument `body` should be a buffer');\n\t\t}\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new TypeError('Argument `url` should be a string');\n\t\t}\n\n\t\tsuper();\n\t\tthis.statusCode = statusCode;\n\t\tthis.headers = lowercaseKeys(headers);\n\t\tthis.body = body;\n\t\tthis.url = url;\n\t}\n\n\t_read() {\n\t\tthis.push(this.body);\n\t\tthis.push(null);\n\t}\n}\n\nmodule.exports = Response;\n", "'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProps = [\n\t'destroy',\n\t'setTimeout',\n\t'socket',\n\t'headers',\n\t'trailers',\n\t'rawHeaders',\n\t'statusCode',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'rawTrailers',\n\t'statusMessage'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tconst fromProps = new Set(Object.keys(fromStream).concat(knownProps));\n\n\tfor (const prop of fromProps) {\n\t\t// Don't overwrite existing properties\n\t\tif (prop in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\ttoStream[prop] = typeof fromStream[prop] === 'function' ? fromStream[prop].bind(fromStream) : fromStream[prop];\n\t}\n};\n", "'use strict';\n\nconst PassThrough = require('stream').PassThrough;\nconst mimicResponse = require('mimic-response');\n\nconst cloneResponse = response => {\n\tif (!(response && response.pipe)) {\n\t\tthrow new TypeError('Parameter `response` must be a response stream.');\n\t}\n\n\tconst clone = new PassThrough();\n\tmimicResponse(response, clone);\n\n\treturn response.pipe(clone);\n};\n\nmodule.exports = cloneResponse;\n", "//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, options) {\n\t\tsuper();\n\t\tthis.opts = Object.assign(\n\t\t\t{\n\t\t\t\tnamespace: 'keyv',\n\t\t\t\tserialize: JSONB.stringify,\n\t\t\t\tdeserialize: JSONB.parse,\n\t\t\t},\n\t\t\t(typeof uri === 'string') ? { uri } : uri,\n\t\t\toptions,\n\t\t);\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = Object.assign({}, this.opts);\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function') {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\tget(key, options) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst { store } = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : data)\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst { store } = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tvalue = { value, expires };\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst { store } = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst { store } = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n}\n\nmodule.exports = Keyv;\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst urlLib = require('url');\nconst normalizeUrl = require('normalize-url');\nconst getStream = require('get-stream');\nconst CachePolicy = require('http-cache-semantics');\nconst Response = require('responselike');\nconst lowercaseKeys = require('lowercase-keys');\nconst cloneResponse = require('clone-response');\nconst Keyv = require('keyv');\n\nclass CacheableRequest {\n\tconstructor(request, cacheAdapter) {\n\t\tif (typeof request !== 'function') {\n\t\t\tthrow new TypeError('Parameter `request` must be a function');\n\t\t}\n\n\t\tthis.cache = new Keyv({\n\t\t\turi: typeof cacheAdapter === 'string' && cacheAdapter,\n\t\t\tstore: typeof cacheAdapter !== 'string' && cacheAdapter,\n\t\t\tnamespace: 'cacheable-request'\n\t\t});\n\n\t\treturn this.createCacheableRequest(request);\n\t}\n\n\tcreateCacheableRequest(request) {\n\t\treturn (opts, cb) => {\n\t\t\tlet url;\n\t\t\tif (typeof opts === 'string') {\n\t\t\t\turl = normalizeUrlObject(urlLib.parse(opts));\n\t\t\t\topts = {};\n\t\t\t} else if (opts instanceof urlLib.URL) {\n\t\t\t\turl = normalizeUrlObject(urlLib.parse(opts.toString()));\n\t\t\t\topts = {};\n\t\t\t} else {\n\t\t\t\tconst [pathname, ...searchParts] = (opts.path || '').split('?');\n\t\t\t\tconst search = searchParts.length > 0 ?\n\t\t\t\t\t`?${searchParts.join('?')}` :\n\t\t\t\t\t'';\n\t\t\t\turl = normalizeUrlObject({ ...opts, pathname, search });\n\t\t\t}\n\n\t\t\topts = {\n\t\t\t\theaders: {},\n\t\t\t\tmethod: 'GET',\n\t\t\t\tcache: true,\n\t\t\t\tstrictTtl: false,\n\t\t\t\tautomaticFailover: false,\n\t\t\t\t...opts,\n\t\t\t\t...urlObjectToRequestOptions(url)\n\t\t\t};\n\t\t\topts.headers = lowercaseKeys(opts.headers);\n\n\t\t\tconst ee = new EventEmitter();\n\t\t\tconst normalizedUrlString = normalizeUrl(\n\t\t\t\turlLib.format(url),\n\t\t\t\t{\n\t\t\t\t\tstripWWW: false,\n\t\t\t\t\tremoveTrailingSlash: false,\n\t\t\t\t\tstripAuthentication: false\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst key = `${opts.method}:${normalizedUrlString}`;\n\t\t\tlet revalidate = false;\n\t\t\tlet madeRequest = false;\n\n\t\t\tconst makeRequest = opts => {\n\t\t\t\tmadeRequest = true;\n\t\t\t\tlet requestErrored = false;\n\t\t\t\tlet requestErrorCallback;\n\n\t\t\t\tconst requestErrorPromise = new Promise(resolve => {\n\t\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tconst handler = response => {\n\t\t\t\t\tif (revalidate && !opts.forceRefresh) {\n\t\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\t\tconst revalidatedPolicy = CachePolicy.fromObject(revalidate.cachePolicy).revalidatedPolicy(opts, response);\n\t\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\t\tconst headers = revalidatedPolicy.policy.responseHeaders();\n\t\t\t\t\t\t\tresponse = new Response(revalidate.statusCode, headers, revalidate.body, revalidate.url);\n\t\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\t\tresponse.cachePolicy = new CachePolicy(opts, response, opts);\n\t\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet clonedResponse;\n\t\t\t\t\tif (opts.cache && response.cachePolicy.storable()) {\n\t\t\t\t\t\tclonedResponse = cloneResponse(response);\n\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst bodyPromise = getStream.buffer(response);\n\n\t\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('end', resolve))\n\t\t\t\t\t\t\t\t]);\n\n\t\t\t\t\t\t\t\tif (requestErrored) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst body = await bodyPromise;\n\n\t\t\t\t\t\t\t\tconst value = {\n\t\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\t\tstatusCode: response.fromCache ? revalidate.statusCode : response.statusCode,\n\t\t\t\t\t\t\t\t\tbody\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tlet ttl = opts.strictTtl ? response.cachePolicy.timeToLive() : undefined;\n\t\t\t\t\t\t\t\tif (opts.maxTtl) {\n\t\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, opts.maxTtl) : opts.maxTtl;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t} else if (opts.cache && revalidate) {\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit('response', clonedResponse || response);\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb(clonedResponse || response);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst req = request(opts, handler);\n\t\t\t\t\treq.once('error', requestErrorCallback);\n\t\t\t\t\treq.once('abort', requestErrorCallback);\n\t\t\t\t\tee.emit('request', req);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tee.emit('error', new CacheableRequest.RequestError(error));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t(async () => {\n\t\t\t\tconst get = async opts => {\n\t\t\t\t\tawait Promise.resolve();\n\n\t\t\t\t\tconst cacheEntry = opts.cache ? await this.cache.get(key) : undefined;\n\t\t\t\t\tif (typeof cacheEntry === 'undefined') {\n\t\t\t\t\t\treturn makeRequest(opts);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst policy = CachePolicy.fromObject(cacheEntry.cachePolicy);\n\t\t\t\t\tif (policy.satisfiesWithoutRevalidation(opts) && !opts.forceRefresh) {\n\t\t\t\t\t\tconst headers = policy.responseHeaders();\n\t\t\t\t\t\tconst response = new Response(cacheEntry.statusCode, headers, cacheEntry.body, cacheEntry.url);\n\t\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\n\t\t\t\t\t\tee.emit('response', response);\n\t\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\t\tcb(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\t\topts.headers = policy.revalidationHeaders(opts);\n\t\t\t\t\t\tmakeRequest(opts);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tconst errorHandler = error => ee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\tthis.cache.once('error', errorHandler);\n\t\t\t\tee.on('response', () => this.cache.removeListener('error', errorHandler));\n\n\t\t\t\ttry {\n\t\t\t\t\tawait get(opts);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (opts.automaticFailover && !madeRequest) {\n\t\t\t\t\t\tmakeRequest(opts);\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t}\n\t\t\t})();\n\n\t\t\treturn ee;\n\t\t};\n\t}\n}\n\nfunction urlObjectToRequestOptions(url) {\n\tconst options = { ...url };\n\toptions.path = `${url.pathname || '/'}${url.search || ''}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n}\n\nfunction normalizeUrlObject(url) {\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\treturn {\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || 'localhost',\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search\n\t};\n}\n\nCacheableRequest.RequestError = class extends Error {\n\tconstructor(error) {\n\t\tsuper(error.message);\n\t\tthis.name = 'RequestError';\n\t\tObject.assign(this, error);\n\t}\n};\n\nCacheableRequest.CacheError = class extends Error {\n\tconstructor(error) {\n\t\tsuper(error.message);\n\t\tthis.name = 'CacheError';\n\t\tObject.assign(this, error);\n\t}\n};\n\nmodule.exports = CacheableRequest;\n", "'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set(Object.keys(fromStream).concat(knownProperties));\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n};\n", "'use strict';\nconst {Transform, PassThrough} = require('stream');\nconst zlib = require('zlib');\nconst mimicResponse = require('mimic-response');\n\nmodule.exports = response => {\n\tconst contentEncoding = (response.headers['content-encoding'] || '').toLowerCase();\n\n\tif (!['gzip', 'deflate', 'br'].includes(contentEncoding)) {\n\t\treturn response;\n\t}\n\n\t// TODO: Remove this when targeting Node.js 12.\n\tconst isBrotli = contentEncoding === 'br';\n\tif (isBrotli && typeof zlib.createBrotliDecompress !== 'function') {\n\t\tresponse.destroy(new Error('Brotli is not supported on Node.js < 12'));\n\t\treturn response;\n\t}\n\n\tlet isEmpty = true;\n\n\tconst checker = new Transform({\n\t\ttransform(data, _encoding, callback) {\n\t\t\tisEmpty = false;\n\n\t\t\tcallback(null, data);\n\t\t},\n\n\t\tflush(callback) {\n\t\t\tcallback();\n\t\t}\n\t});\n\n\tconst finalStream = new PassThrough({\n\t\tautoDestroy: false,\n\t\tdestroy(error, callback) {\n\t\t\tresponse.destroy();\n\n\t\t\tcallback(error);\n\t\t}\n\t});\n\n\tconst decompressStream = isBrotli ? zlib.createBrotliDecompress() : zlib.createUnzip();\n\n\tdecompressStream.once('error', error => {\n\t\tif (isEmpty && !response.readable) {\n\t\t\tfinalStream.end();\n\t\t\treturn;\n\t\t}\n\n\t\tfinalStream.destroy(error);\n\t});\n\n\tmimicResponse(response, finalStream);\n\tresponse.pipe(checker).pipe(decompressStream).pipe(finalStream);\n\n\treturn finalStream;\n};\n", "'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n", "'use strict';\nconst EventEmitter = require('events');\nconst tls = require('tls');\nconst http2 = require('http2');\nconst QuickLRU = require('quick-lru');\n\nconst kCurrentStreamsCount = Symbol('currentStreamsCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\n\nconst nameKeys = [\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\n\t// `tls.connect()` options\n\t'localAddress',\n\t'path',\n\t'rejectUnauthorized',\n\t'minDHSize',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'clientCertEngine',\n\t'ciphers',\n\t'key',\n\t'pfx',\n\t'servername',\n\t'minVersion',\n\t'maxVersion',\n\t'secureProtocol',\n\t'crl',\n\t'honorCipherOrder',\n\t'ecdhCurve',\n\t'dhparam',\n\t'secureOptions',\n\t'sessionIdContext'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\t/* istanbul ignore next */\n\t\tif (compare(array[mid], value)) {\n\t\t\t// This never gets called because we use descending sort. Better to have this anyway.\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => {\n\treturn a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n};\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (const coveredSession of where) {\n\t\tif (\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\tcoveredSession[kOriginSet].length < session[kOriginSet].length &&\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\tcoveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin)) &&\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\tcoveredSession[kCurrentStreamsCount] + session[kCurrentStreamsCount] <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (const session of where) {\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length < session[kOriginSet].length &&\n\t\t\tcoveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin)) &&\n\t\t\tcoveredSession[kCurrentStreamsCount] + session[kCurrentStreamsCount] <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\nconst getSessions = ({agent, isFree}) => {\n\tconst result = {};\n\n\t// eslint-disable-next-line guard-for-in\n\tfor (const normalizedOptions in agent.sessions) {\n\t\tconst sessions = agent.sessions[normalizedOptions];\n\n\t\tconst filtered = sessions.filter(session => {\n\t\t\tconst result = session[Agent.kCurrentStreamsCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\treturn isFree ? result : !result;\n\t\t});\n\n\t\tif (filtered.length !== 0) {\n\t\t\tresult[normalizedOptions] = filtered;\n\t\t}\n\t}\n\n\treturn result;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamsCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 60000, maxSessions = Infinity, maxFreeSessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// A session is considered busy when its current streams count\n\t\t// is equal to or greater than the `maxConcurrentStreams` value.\n\n\t\t// A session is considered free when its current streams count\n\t\t// is less than the `maxConcurrentStreams` value.\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max free sessions in total\n\t\t// TODO: decreasing `maxFreeSessions` should close some sessions\n\t\tthis.maxFreeSessions = maxFreeSessions;\n\n\t\tthis._freeSessionsCount = 0;\n\t\tthis._sessionsCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tstatic normalizeOrigin(url, servername) {\n\t\tif (typeof url === 'string') {\n\t\t\turl = new URL(url);\n\t\t}\n\n\t\tif (servername && url.hostname !== servername) {\n\t\t\turl.hostname = servername;\n\t\t}\n\n\t\treturn url.origin;\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tif (options) {\n\t\t\tfor (const key of nameKeys) {\n\t\t\t\tif (options[key]) {\n\t\t\t\t\tnormalized += `:${options[key]}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_tryToCreateNewSession(normalizedOptions, normalizedOrigin) {\n\t\tif (!(normalizedOptions in this.queue) || !(normalizedOrigin in this.queue[normalizedOptions])) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t// The entry function can be run only once.\n\t\t// BUG: The session may be never created when:\n\t\t// - the first condition is false AND\n\t\t// - this function is never called with the same arguments in the future.\n\t\tif (this._sessionsCount < this.maxSessions && !item.completed) {\n\t\t\titem.completed = true;\n\n\t\t\titem();\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners)) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = Agent.normalizeOrigin(origin, options && options.servername);\n\n\t\t\tif (normalizedOrigin === undefined) {\n\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\treject(new TypeError('The `origin` argument needs to be a string or an URL object'));\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\tfor (const session of sessions) {\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamsCount];\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams ||\n\t\t\t\t\t\t\tsession[kGracefullyClosing] ||\n\t\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t\tsession.destroyed\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We only need set this once.\n\t\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We're looking for the session which has biggest current pending stream count,\n\t\t\t\t\t\t// in order to minimalize the amount of active sessions.\n\t\t\t\t\t\tif (sessionCurrentStreamsCount > currentStreamsCount) {\n\t\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\t/* istanbul ignore next: safety check */\n\t\t\t\t\tif (listeners.length !== 1) {\n\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\tconst error = new Error(\n\t\t\t\t\t\t\t\t`Expected the length of listeners to be 1, got ${listeners.length}.\\n` +\n\t\t\t\t\t\t\t\t'Please report this to https://github.com/szmarczak/http2-wrapper/'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlisteners[0].resolve(optimalSession);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\n\t\t\t\t\t// This shouldn't be executed here.\n\t\t\t\t\t// See the comment inside _tryToCreateNewSession.\n\t\t\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (Object.keys(this.queue[normalizedOptions]).length === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = () => {\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst session = http2.connect(origin, {\n\t\t\t\t\t\tcreateConnection: this.createConnection,\n\t\t\t\t\t\tsettings: this.settings,\n\t\t\t\t\t\tsession: this.tlsSessionCache.get(name),\n\t\t\t\t\t\t...options\n\t\t\t\t\t});\n\t\t\t\t\tsession[kCurrentStreamsCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamsCount] < session.remoteSettings.maxConcurrentStreams;\n\t\t\t\t\tlet wasFree = true;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\t// TODO: Maybe the streams should have a \"Session timed out\" error?\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// 1. If it wasn't free then no need to decrease because\n\t\t\t\t\t\t\t//    it has been decreased already in session.request().\n\t\t\t\t\t\t\t// 2. `stream.once('close')` won't increment the count\n\t\t\t\t\t\t\t//    because the session is already closed.\n\t\t\t\t\t\t\tif (wasFree) {\n\t\t\t\t\t\t\t\tthis._freeSessionsCount--;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis._sessionsCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\n\t\t\t\t\t\t\tif (where.length === 0) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tif (!(normalizedOptions in this.queue) || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (const origin of session[kOriginSet]) {\n\t\t\t\t\t\t\tif (origin in this.queue[normalizedOptions]) {\n\t\t\t\t\t\t\t\tconst {listeners} = this.queue[normalizedOptions][origin];\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (listeners.length !== 0 && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners.shift().resolve(session);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst where = this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\tif (where[origin].listeners.length === 0) {\n\t\t\t\t\t\t\t\t\tdelete where[origin];\n\n\t\t\t\t\t\t\t\t\tif (Object.keys(where).length === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = session.originSet;\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t// The session is full.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// Fix Node.js bug preventing the process from exiting\n\t\t\t\t\t\tsession.ref();\n\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\tthis._sessionsCount++;\n\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (const listener of listeners) {\n\t\t\t\t\t\t\t\tlistener.reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = session.originSet;\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._freeSessionsCount += 1;\n\t\t\t\t\t\treceivedSettings = true;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\n\t\t\t\t\t\tprocessListeners();\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t// TODO: Close last recently used (or least used?) session\n\t\t\t\t\t\tif (session[kCurrentStreamsCount] === 0 && this._freeSessionsCount > this.maxFreeSessions) {\n\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check if we haven't managed to execute all listeners.\n\t\t\t\t\t\tif (listeners.length !== 0) {\n\t\t\t\t\t\t\t// Request for a new session with predefined listeners.\n\t\t\t\t\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\t\t\t\t\tlisteners.length = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\t++session[kCurrentStreamsCount];\n\n\t\t\t\t\t\tif (session[kCurrentStreamsCount] === session.remoteSettings.maxConcurrentStreams) {\n\t\t\t\t\t\t\tthis._freeSessionsCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\twasFree = isFree();\n\n\t\t\t\t\t\t\t--session[kCurrentStreamsCount];\n\n\t\t\t\t\t\t\tif (!session.destroyed && !session.closed) {\n\t\t\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\t\t\tif (isFree() && !session.closed) {\n\t\t\t\t\t\t\t\t\tif (!wasFree) {\n\t\t\t\t\t\t\t\t\t\tthis._freeSessionsCount++;\n\n\t\t\t\t\t\t\t\t\t\twasFree = true;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tconst isEmpty = session[kCurrentStreamsCount] === 0;\n\n\t\t\t\t\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\t\t\t\t\tsession.unref();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tisEmpty &&\n\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\tthis._freeSessionsCount > this.maxFreeSessions ||\n\t\t\t\t\t\t\t\t\t\t\tsession[kGracefullyClosing]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\t\t\tprocessListeners();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tfor (const listener of listeners) {\n\t\t\t\t\t\tlistener.reject(error);\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(session.request(headers, streamOptions));\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tcreateConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname || origin.host;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\treturn tls.connect(port, host, options);\n\t}\n\n\tcloseFreeSessions() {\n\t\tfor (const sessions of Object.values(this.sessions)) {\n\t\t\tfor (const session of sessions) {\n\t\t\t\tif (session[kCurrentStreamsCount] === 0) {\n\t\t\t\t\tsession.close();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdestroy(reason) {\n\t\tfor (const sessions of Object.values(this.sessions)) {\n\t\t\tfor (const session of sessions) {\n\t\t\t\tsession.destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\tfor (const entriesOfAuthority of Object.values(this.queue)) {\n\t\t\tfor (const entry of Object.values(entriesOfAuthority)) {\n\t\t\t\tentry.destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t}\n\n\tget freeSessions() {\n\t\treturn getSessions({agent: this, isFree: true});\n\t}\n\n\tget busySessions() {\n\t\treturn getSessions({agent: this, isFree: false});\n\t}\n}\n\nAgent.kCurrentStreamsCount = kCurrentStreamsCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n", "'use strict';\nconst {Readable} = require('stream');\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\thighWaterMark,\n\t\t\tautoDestroy: false\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\t\tthis.connection = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\t_destroy(error) {\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n", "'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/a91293d4d9ab403046ab5eb022332e4e3d249bd3/lib/internal/url.js#L1257 */\n\nmodule.exports = url => {\n\tconst options = {\n\t\tprotocol: url.protocol,\n\t\thostname: typeof url.hostname === 'string' && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n\t\thost: url.host,\n\t\thash: url.hash,\n\t\tsearch: url.search,\n\t\tpathname: url.pathname,\n\t\thref: url.href,\n\t\tpath: `${url.pathname || ''}${url.search || ''}`\n\t};\n\n\tif (typeof url.port === 'string' && url.port.length !== 0) {\n\t\toptions.port = Number(url.port);\n\t}\n\n\tif (url.username || url.password) {\n\t\toptions.auth = `${url.username || ''}:${url.password || ''}`;\n\t}\n\n\treturn options;\n};\n", "'use strict';\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n", "'use strict';\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n", "'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args => {\n\treturn `Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`;\n});\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args => {\n\treturn `Cannot ${args[0]} headers after they are sent to the client`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args => {\n\treturn `${args[0]} must be a valid HTTP token [${args[1]}]`;\n});\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args => {\n\treturn `Invalid value \"${args[0]} for header \"${args[1]}\"`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args => {\n\treturn `Invalid character in ${args[0]} [${args[1]}]`;\n});\n", "'use strict';\nconst http2 = require('http2');\nconst {Writable} = require('stream');\nconst {Agent, globalAgent} = require('./agent');\nconst IncomingMessage = require('./incoming-message');\nconst urlToOptions = require('./utils/url-to-options');\nconst proxyEvents = require('./utils/proxy-events');\nconst isRequestPseudoHeader = require('./utils/is-request-pseudo-header');\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT,\n\tERR_INVALID_HTTP_TOKEN,\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = require('./utils/errors');\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false\n\t\t});\n\n\t\tconst hasInput = typeof input === 'string' || input instanceof URL;\n\t\tif (hasInput) {\n\t\t\tinput = urlToOptions(input instanceof URL ? input : new URL(input));\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = hasInput ? input : {...input};\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = {...input, ...options};\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxFreeSessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tif (typeof options.createConnection === 'function') {\n\t\t\t\t// This is a workaround - we don't have to create the session on our own.\n\t\t\t\tthis.agent = new Agent({maxFreeSessions: 0});\n\t\t\t\tthis.agent.createConnection = options.createConnection;\n\t\t\t} else {\n\t\t\t\tthis.agent = globalAgent;\n\t\t\t}\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== 'https:') {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, 'https:');\n\t\t}\n\n\t\tconst port = options.port || options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\tconst host = options.hostname || options.host || 'localhost';\n\n\t\t// Don't enforce the origin via options. It may be changed in an Agent.\n\t\tdelete options.hostname;\n\t\tdelete options.host;\n\t\tdelete options.port;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\t\tthis.path = options.path;\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tif (options.headers) {\n\t\t\tfor (const [header, value] of Object.entries(options.headers)) {\n\t\t\t\tthis.setHeader(header, value);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tif (port === 443) {\n\t\t\tthis[kOrigin] = `https://${host}`;\n\n\t\t\tif (!(':authority' in this[kHeaders])) {\n\t\t\t\tthis[kHeaders][':authority'] = host;\n\t\t\t}\n\t\t} else {\n\t\t\tthis[kOrigin] = `https://${host}:${port}`;\n\n\t\t\tif (!(':authority' in this[kHeaders])) {\n\t\t\t\tthis[kHeaders][':authority'] = `${host}:${port}`;\n\t\t\t}\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\treturn this[kHeaders][HTTP2_HEADER_PATH];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_PATH] = value;\n\t\t}\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tif (this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE\n\t\t\tif (this._mustNotHaveABody) {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue', 'close', 'error']);\n\t\t\t}\n\n\t\t\t// Wait for the `finish` event. We don't want to emit the `response` event\n\t\t\t// before `request.end()` is called.\n\t\t\tconst waitForEnd = fn => {\n\t\t\t\treturn (...args) => {\n\t\t\t\t\tif (!this.writable && !this.destroyed) {\n\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.once('finish', () => {\n\t\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', waitForEnd((headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tif (this.aborted) {\n\t\t\t\t\t\tresponse.aborted = true;\n\t\t\t\t\t\tresponse.emit('aborted');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\t\tresponse.connection = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', waitForEnd(\n\t\t\t\theaders => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]})\n\t\t\t));\n\n\t\t\tstream.once('trailers', waitForEnd((trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t}));\n\n\t\t\tconst {socket} = stream.session;\n\t\t\tthis.socket = socket;\n\t\t\tthis.connection = socket;\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.emit('error', error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tonStream(await this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.emit('error', error);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t\t}\n\n\t\tif (typeof value === 'undefined') {\n\t\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t\t}\n\n\t\tif (isInvalidHeaderValue.test(value)) {\n\t\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t\t}\n\n\t\tthis[kHeaders][name.toLowerCase()] = value;\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n", "'use strict';\nconst tls = require('tls');\n\nmodule.exports = (options = {}, connect = tls.connect) => new Promise((resolve, reject) => {\n\tlet timeout = false;\n\n\tlet socket;\n\n\tconst callback = async () => {\n\t\tawait socketPromise;\n\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('error', reject);\n\n\t\tif (options.resolveSocket) {\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, socket, timeout});\n\n\t\t\tif (timeout) {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tsocket.emit('timeout');\n\t\t\t}\n\t\t} else {\n\t\t\tsocket.destroy();\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, timeout});\n\t\t}\n\t};\n\n\tconst onTimeout = async () => {\n\t\ttimeout = true;\n\t\tcallback();\n\t};\n\n\tconst socketPromise = (async () => {\n\t\ttry {\n\t\t\tsocket = await connect(options, callback);\n\n\t\t\tsocket.on('error', reject);\n\t\t\tsocket.once('timeout', onTimeout);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})();\n});\n", "'use strict';\nconst net = require('net');\n/* istanbul ignore file: https://github.com/nodejs/node/blob/v13.0.1/lib/_http_agent.js */\n\nmodule.exports = options => {\n\tlet servername = options.host;\n\tconst hostHeader = options.headers && options.headers.host;\n\n\tif (hostHeader) {\n\t\tif (hostHeader.startsWith('[')) {\n\t\t\tconst index = hostHeader.indexOf(']');\n\t\t\tif (index === -1) {\n\t\t\t\tservername = hostHeader;\n\t\t\t} else {\n\t\t\t\tservername = hostHeader.slice(1, -1);\n\t\t\t}\n\t\t} else {\n\t\t\tservername = hostHeader.split(':', 1)[0];\n\t\t}\n\t}\n\n\tif (net.isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n", "'use strict';\nconst http = require('http');\nconst https = require('https');\nconst resolveALPN = require('resolve-alpn');\nconst QuickLRU = require('quick-lru');\nconst Http2ClientRequest = require('./client-request');\nconst calculateServerName = require('./utils/calculate-server-name');\nconst urlToOptions = require('./utils/url-to-options');\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst resolveProtocol = async options => {\n\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\tif (!cache.has(name)) {\n\t\tif (queue.has(name)) {\n\t\t\tconst result = await queue.get(name);\n\t\t\treturn result.alpnProtocol;\n\t\t}\n\n\t\tconst {path, agent} = options;\n\t\toptions.path = options.socketPath;\n\n\t\tconst resultPromise = resolveALPN(options);\n\t\tqueue.set(name, resultPromise);\n\n\t\ttry {\n\t\t\tconst {socket, alpnProtocol} = await resultPromise;\n\t\t\tcache.set(name, alpnProtocol);\n\n\t\t\toptions.path = path;\n\n\t\t\tif (alpnProtocol === 'h2') {\n\t\t\t\t// https://github.com/nodejs/node/issues/33343\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst {globalAgent} = https;\n\t\t\t\tconst defaultCreateConnection = https.Agent.prototype.createConnection;\n\n\t\t\t\tif (agent) {\n\t\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsocket.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else if (globalAgent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tinstallSocket(globalAgent, socket, options);\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tqueue.delete(name);\n\n\t\t\treturn alpnProtocol;\n\t\t} catch (error) {\n\t\t\tqueue.delete(name);\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\treturn cache.get(name);\n};\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string' || input instanceof URL) {\n\t\tinput = urlToOptions(new URL(input));\n\t}\n\n\tif (typeof options === 'function') {\n\t\tcallback = options;\n\t\toptions = undefined;\n\t}\n\n\toptions = {\n\t\tALPNProtocols: ['h2', 'http/1.1'],\n\t\t...input,\n\t\t...options,\n\t\tresolveSocket: true\n\t};\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName(options);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst agents = options.agent;\n\n\tif (agents) {\n\t\tif (agents.addRequest) {\n\t\t\tthrow new Error('The `options.agent` object can contain only `http`, `https` or `http2` properties');\n\t\t}\n\n\t\toptions.agent = agents[isHttps ? 'https' : 'http'];\n\t}\n\n\tif (isHttps) {\n\t\tconst protocol = await resolveProtocol(options);\n\n\t\tif (protocol === 'h2') {\n\t\t\tif (agents) {\n\t\t\t\toptions.agent = agents.http2;\n\t\t\t}\n\n\t\t\treturn new Http2ClientRequest(options, callback);\n\t\t}\n\t}\n\n\treturn http.request(options, callback);\n};\n\nmodule.exports.protocolCache = cache;\n", "'use strict';\nconst http2 = require('http2');\nconst agent = require('./agent');\nconst ClientRequest = require('./client-request');\nconst IncomingMessage = require('./incoming-message');\nconst auto = require('./auto');\n\nconst request = (url, options, callback) => {\n\treturn new ClientRequest(url, options, callback);\n};\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\t...agent,\n\trequest,\n\tget,\n\tauto\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nexports.default = (body) => is_1.default.nodeStream(body) && is_1.default.function_(body.getBoundary);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = require(\"fs\");\nconst util_1 = require(\"util\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst is_form_data_1 = require(\"./is-form-data\");\nconst statAsync = util_1.promisify(fs_1.stat);\nexports.default = async (body, headers) => {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is_1.default.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is_1.default.buffer(body)) {\n        return body.length;\n    }\n    if (is_form_data_1.default(body)) {\n        return util_1.promisify(body.getLength.bind(body))();\n    }\n    if (body instanceof fs_1.ReadStream) {\n        const { size } = await statAsync(body.path);\n        if (size === 0) {\n            return undefined;\n        }\n        return size;\n    }\n    return undefined;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(from, to, events) {\n    const fns = {};\n    for (const event of events) {\n        fns[event] = (...args) => {\n            to.emit(event, ...args);\n        };\n        from.on(event, fns[event]);\n    }\n    return () => {\n        for (const event of events) {\n            from.off(event, fns[event]);\n        }\n    };\n}\nexports.default = default_1;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexports.default = () => {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        }\n    };\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeoutError = void 0;\nconst net = require(\"net\");\nconst unhandle_1 = require(\"./unhandle\");\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nclass TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        this.event = event;\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nexports.TimeoutError = TimeoutError;\nexports.default = (request, delays, options) => {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandle_1.default();\n    const addTimeout = (delay, callback, event) => {\n        var _a;\n        const timeout = setTimeout(callback, delay, delay, event);\n        (_a = timeout.unref) === null || _a === void 0 ? void 0 : _a.call(timeout);\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    request.once('close', cancelTimeouts);\n    once(request, 'response', (response) => {\n        once(response, 'end', cancelTimeouts);\n    });\n    if (typeof delays.request !== 'undefined') {\n        addTimeout(delays.request, timeoutHandler, 'request');\n    }\n    if (typeof delays.socket !== 'undefined') {\n        const socketTimeoutHandler = () => {\n            timeoutHandler(delays.socket, 'socket');\n        };\n        request.setTimeout(delays.socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    once(request, 'socket', (socket) => {\n        var _a;\n        const { socketPath } = request;\n        /* istanbul ignore next: hard to test */\n        if (socket.connecting) {\n            const hasPath = Boolean(socketPath !== null && socketPath !== void 0 ? socketPath : net.isIP((_a = hostname !== null && hostname !== void 0 ? hostname : host) !== null && _a !== void 0 ? _a : '') !== 0);\n            if (typeof delays.lookup !== 'undefined' && !hasPath && typeof socket.address().address === 'undefined') {\n                const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                once(socket, 'lookup', cancelTimeout);\n            }\n            if (typeof delays.connect !== 'undefined') {\n                const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                if (hasPath) {\n                    once(socket, 'connect', timeConnect());\n                }\n                else {\n                    once(socket, 'lookup', (error) => {\n                        if (error === null) {\n                            once(socket, 'connect', timeConnect());\n                        }\n                    });\n                }\n            }\n            if (typeof delays.secureConnect !== 'undefined' && options.protocol === 'https:') {\n                once(socket, 'connect', () => {\n                    const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                    once(socket, 'secureConnect', cancelTimeout);\n                });\n            }\n        }\n        if (typeof delays.send !== 'undefined') {\n            const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                once(socket, 'connect', () => {\n                    once(request, 'upload-complete', timeRequest());\n                });\n            }\n            else {\n                once(request, 'upload-complete', timeRequest());\n            }\n        }\n    });\n    if (typeof delays.response !== 'undefined') {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nexports.default = (url) => {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is_1.default.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`\n    };\n    if (is_1.default.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* istanbul ignore file: deprecated */\nconst url_1 = require(\"url\");\nconst keys = [\n    'protocol',\n    'host',\n    'hostname',\n    'port',\n    'pathname',\n    'search'\n];\nexports.default = (origin, options) => {\n    var _a, _b;\n    if (options.path) {\n        if (options.pathname) {\n            throw new TypeError('Parameters `path` and `pathname` are mutually exclusive.');\n        }\n        if (options.search) {\n            throw new TypeError('Parameters `path` and `search` are mutually exclusive.');\n        }\n        if (options.searchParams) {\n            throw new TypeError('Parameters `path` and `searchParams` are mutually exclusive.');\n        }\n    }\n    if (options.search && options.searchParams) {\n        throw new TypeError('Parameters `search` and `searchParams` are mutually exclusive.');\n    }\n    if (!origin) {\n        if (!options.protocol) {\n            throw new TypeError('No URL protocol specified');\n        }\n        origin = `${options.protocol}//${(_b = (_a = options.hostname) !== null && _a !== void 0 ? _a : options.host) !== null && _b !== void 0 ? _b : ''}`;\n    }\n    const url = new url_1.URL(origin);\n    if (options.path) {\n        const searchIndex = options.path.indexOf('?');\n        if (searchIndex === -1) {\n            options.pathname = options.path;\n        }\n        else {\n            options.pathname = options.path.slice(0, searchIndex);\n            options.search = options.path.slice(searchIndex + 1);\n        }\n        delete options.path;\n    }\n    for (const key of keys) {\n        if (options[key]) {\n            url[key] = options[key].toString();\n        }\n    }\n    return url;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass WeakableMap {\n    constructor() {\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\nexports.default = WeakableMap;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// TODO: Update https://github.com/sindresorhus/get-stream\nconst getBuffer = async (stream) => {\n    const chunks = [];\n    let length = 0;\n    for await (const chunk of stream) {\n        chunks.push(chunk);\n        length += Buffer.byteLength(chunk);\n    }\n    if (Buffer.isBuffer(chunks[0])) {\n        return Buffer.concat(chunks, length);\n    }\n    return Buffer.from(chunks.join(''));\n};\nexports.default = getBuffer;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dnsLookupIpVersionToFamily = exports.isDnsLookupIpVersion = void 0;\nconst conversionTable = {\n    auto: 0,\n    ipv4: 4,\n    ipv6: 6\n};\nexports.isDnsLookupIpVersion = (value) => {\n    return value in conversionTable;\n};\nexports.dnsLookupIpVersionToFamily = (dnsLookupIpVersion) => {\n    if (exports.isDnsLookupIpVersion(dnsLookupIpVersion)) {\n        return conversionTable[dnsLookupIpVersion];\n    }\n    throw new Error('Invalid DNS lookup IP version');\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isResponseOk = void 0;\nexports.isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst alreadyWarned = new Set();\nexports.default = (message) => {\n    if (alreadyWarned.has(message)) {\n        return;\n    }\n    alreadyWarned.add(message);\n    // @ts-expect-error Missing types.\n    process.emitWarning(`Got: ${message}`, {\n        type: 'DeprecationWarning'\n    });\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nconst normalizeArguments = (options, defaults) => {\n    if (is_1.default.null_(options.encoding)) {\n        throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n    }\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.encoding);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.resolveBodyOnly);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.methodRewriting);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.isStream);\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.responseType);\n    // `options.responseType`\n    if (options.responseType === undefined) {\n        options.responseType = 'text';\n    }\n    // `options.retry`\n    const { retry } = options;\n    if (defaults) {\n        options.retry = { ...defaults.retry };\n    }\n    else {\n        options.retry = {\n            calculateDelay: retryObject => retryObject.computedValue,\n            limit: 0,\n            methods: [],\n            statusCodes: [],\n            errorCodes: [],\n            maxRetryAfter: undefined\n        };\n    }\n    if (is_1.default.object(retry)) {\n        options.retry = {\n            ...options.retry,\n            ...retry\n        };\n        options.retry.methods = [...new Set(options.retry.methods.map(method => method.toUpperCase()))];\n        options.retry.statusCodes = [...new Set(options.retry.statusCodes)];\n        options.retry.errorCodes = [...new Set(options.retry.errorCodes)];\n    }\n    else if (is_1.default.number(retry)) {\n        options.retry.limit = retry;\n    }\n    if (is_1.default.undefined(options.retry.maxRetryAfter)) {\n        options.retry.maxRetryAfter = Math.min(\n        // TypeScript is not smart enough to handle `.filter(x => is.number(x))`.\n        // eslint-disable-next-line unicorn/no-fn-reference-in-iterator\n        ...[options.timeout.request, options.timeout.connect].filter(is_1.default.number));\n    }\n    // `options.pagination`\n    if (is_1.default.object(options.pagination)) {\n        if (defaults) {\n            options.pagination = {\n                ...defaults.pagination,\n                ...options.pagination\n            };\n        }\n        const { pagination } = options;\n        if (!is_1.default.function_(pagination.transform)) {\n            throw new Error('`options.pagination.transform` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.shouldContinue)) {\n            throw new Error('`options.pagination.shouldContinue` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.filter)) {\n            throw new TypeError('`options.pagination.filter` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.paginate)) {\n            throw new Error('`options.pagination.paginate` must be implemented');\n        }\n    }\n    // JSON mode\n    if (options.responseType === 'json' && options.headers.accept === undefined) {\n        options.headers.accept = 'application/json';\n    }\n    return options;\n};\nexports.default = normalizeArguments;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.retryAfterStatusCodes = void 0;\nexports.retryAfterStatusCodes = new Set([413, 429, 503]);\nconst calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter }) => {\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            if (retryOptions.maxRetryAfter === undefined || retryAfter > retryOptions.maxRetryAfter) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * 100;\n    return ((2 ** (attemptCount - 1)) * 1000) + noise;\n};\nexports.default = calculateRetryDelay;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnsupportedProtocolError = exports.ReadError = exports.TimeoutError = exports.UploadError = exports.CacheError = exports.HTTPError = exports.MaxRedirectsError = exports.RequestError = exports.setNonEnumerableProperties = exports.knownHookEvents = exports.withoutBody = exports.kIsNormalizedAlready = void 0;\nconst util_1 = require(\"util\");\nconst stream_1 = require(\"stream\");\nconst fs_1 = require(\"fs\");\nconst url_1 = require(\"url\");\nconst http = require(\"http\");\nconst http_1 = require(\"http\");\nconst https = require(\"https\");\nconst http_timer_1 = require(\"@szmarczak/http-timer\");\nconst cacheable_lookup_1 = require(\"cacheable-lookup\");\nconst CacheableRequest = require(\"cacheable-request\");\nconst decompressResponse = require(\"decompress-response\");\n// @ts-expect-error Missing types\nconst http2wrapper = require(\"http2-wrapper\");\nconst lowercaseKeys = require(\"lowercase-keys\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst get_body_size_1 = require(\"./utils/get-body-size\");\nconst is_form_data_1 = require(\"./utils/is-form-data\");\nconst proxy_events_1 = require(\"./utils/proxy-events\");\nconst timed_out_1 = require(\"./utils/timed-out\");\nconst url_to_options_1 = require(\"./utils/url-to-options\");\nconst options_to_url_1 = require(\"./utils/options-to-url\");\nconst weakable_map_1 = require(\"./utils/weakable-map\");\nconst get_buffer_1 = require(\"./utils/get-buffer\");\nconst dns_ip_version_1 = require(\"./utils/dns-ip-version\");\nconst is_response_ok_1 = require(\"./utils/is-response-ok\");\nconst deprecation_warning_1 = require(\"../utils/deprecation-warning\");\nconst normalize_arguments_1 = require(\"../as-promise/normalize-arguments\");\nconst calculate_retry_delay_1 = require(\"./calculate-retry-delay\");\nlet globalDnsCache;\nconst kRequest = Symbol('request');\nconst kResponse = Symbol('response');\nconst kResponseSize = Symbol('responseSize');\nconst kDownloadedSize = Symbol('downloadedSize');\nconst kBodySize = Symbol('bodySize');\nconst kUploadedSize = Symbol('uploadedSize');\nconst kServerResponsesPiped = Symbol('serverResponsesPiped');\nconst kUnproxyEvents = Symbol('unproxyEvents');\nconst kIsFromCache = Symbol('isFromCache');\nconst kCancelTimeouts = Symbol('cancelTimeouts');\nconst kStartedReading = Symbol('startedReading');\nconst kStopReading = Symbol('stopReading');\nconst kTriggerRead = Symbol('triggerRead');\nconst kBody = Symbol('body');\nconst kJobs = Symbol('jobs');\nconst kOriginalResponse = Symbol('originalResponse');\nconst kRetryTimeout = Symbol('retryTimeout');\nexports.kIsNormalizedAlready = Symbol('isNormalizedAlready');\nconst supportsBrotli = is_1.default.string(process.versions.brotli);\nexports.withoutBody = new Set(['GET', 'HEAD']);\nexports.knownHookEvents = [\n    'init',\n    'beforeRequest',\n    'beforeRedirect',\n    'beforeError',\n    'beforeRetry',\n    // Promise-Only\n    'afterResponse'\n];\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        if (!is_1.default.string(value) && !is_1.default.number(value) && !is_1.default.boolean(value) && !is_1.default.null_(value) && !is_1.default.undefined(value)) {\n            throw new TypeError(`The \\`searchParams\\` value '${String(value)}' must be a string, number, boolean or null`);\n        }\n    }\n}\nfunction isClientRequest(clientRequest) {\n    return is_1.default.object(clientRequest) && !('statusCode' in clientRequest);\n}\nconst cacheableStore = new weakable_map_1.default();\nconst waitForOpenFile = async (file) => new Promise((resolve, reject) => {\n    const onError = (error) => {\n        reject(error);\n    };\n    // Node.js 12 has incomplete types\n    if (!file.pending) {\n        resolve();\n    }\n    file.once('error', onError);\n    file.once('ready', () => {\n        file.off('error', onError);\n        resolve();\n    });\n});\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst nonEnumerableProperties = [\n    'context',\n    'body',\n    'json',\n    'form'\n];\nexports.setNonEnumerableProperties = (sources, to) => {\n    // Non enumerable properties shall not be merged\n    const properties = {};\n    for (const source of sources) {\n        if (!source) {\n            continue;\n        }\n        for (const name of nonEnumerableProperties) {\n            if (!(name in source)) {\n                continue;\n            }\n            properties[name] = {\n                writable: true,\n                configurable: true,\n                enumerable: false,\n                // @ts-expect-error TS doesn't see the check above\n                value: source[name]\n            };\n        }\n    }\n    Object.defineProperties(to, properties);\n};\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nclass RequestError extends Error {\n    constructor(message, error, self) {\n        var _a, _b;\n        super(message);\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = (_a = error.code) !== null && _a !== void 0 ? _a : 'ERR_GOT_REQUEST_ERROR';\n        if (self instanceof Request) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self[kResponse]\n            });\n            Object.defineProperty(this, 'options', {\n                // This fails because of TS 3.7.2 useDefineForClassFields\n                // Ref: https://github.com/microsoft/TypeScript/issues/34972\n                enumerable: false,\n                value: self.options\n            });\n        }\n        else {\n            Object.defineProperty(this, 'options', {\n                // This fails because of TS 3.7.2 useDefineForClassFields\n                // Ref: https://github.com/microsoft/TypeScript/issues/34972\n                enumerable: false,\n                value: self\n            });\n        }\n        this.timings = (_b = this.request) === null || _b === void 0 ? void 0 : _b.timings;\n        // Recover the original stacktrace\n        if (is_1.default.string(error.stack) && is_1.default.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length !== 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\nexports.RequestError = RequestError;\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nclass MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\nexports.MaxRedirectsError = MaxRedirectsError;\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\nclass HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\nexports.HTTPError = HTTPError;\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nclass CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\nexports.CacheError = CacheError;\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nclass UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\nexports.UploadError = UploadError;\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nclass TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\nexports.TimeoutError = TimeoutError;\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nclass ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\nexports.ReadError = ReadError;\n/**\nAn error to be thrown when given an unsupported protocol.\n*/\nclass UnsupportedProtocolError extends RequestError {\n    constructor(options) {\n        super(`Unsupported protocol \"${options.url.protocol}\"`, {}, options);\n        this.name = 'UnsupportedProtocolError';\n        this.code = 'ERR_UNSUPPORTED_PROTOCOL';\n    }\n}\nexports.UnsupportedProtocolError = UnsupportedProtocolError;\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n    'timeout'\n];\nclass Request extends stream_1.Duplex {\n    constructor(url, options = {}, defaults) {\n        super({\n            // This must be false, to enable throwing after destroy\n            // It is used for retry logic in Promise API\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0\n        });\n        this[kDownloadedSize] = 0;\n        this[kUploadedSize] = 0;\n        this.requestInitialized = false;\n        this[kServerResponsesPiped] = new Set();\n        this.redirects = [];\n        this[kStopReading] = false;\n        this[kTriggerRead] = false;\n        this[kJobs] = [];\n        this.retryCount = 0;\n        // TODO: Remove this when targeting Node.js >= 12\n        this._progressCallbacks = [];\n        const unlockWrite = () => this._unlockWrite();\n        const lockWrite = () => this._lockWrite();\n        this.on('pipe', (source) => {\n            source.prependListener('data', unlockWrite);\n            source.on('data', lockWrite);\n            source.prependListener('end', unlockWrite);\n            source.on('end', lockWrite);\n        });\n        this.on('unpipe', (source) => {\n            source.off('data', unlockWrite);\n            source.off('data', lockWrite);\n            source.off('end', unlockWrite);\n            source.off('end', lockWrite);\n        });\n        this.on('pipe', source => {\n            if (source instanceof http_1.IncomingMessage) {\n                this.options.headers = {\n                    ...source.headers,\n                    ...this.options.headers\n                };\n            }\n        });\n        const { json, body, form } = options;\n        if (json || body || form) {\n            this._lockWrite();\n        }\n        if (exports.kIsNormalizedAlready in options) {\n            this.options = options;\n        }\n        else {\n            try {\n                // @ts-expect-error Common TypeScript bug saying that `this.constructor` is not accessible\n                this.options = this.constructor.normalizeArguments(url, options, defaults);\n            }\n            catch (error) {\n                // TODO: Move this to `_destroy()`\n                if (is_1.default.nodeStream(options.body)) {\n                    options.body.destroy();\n                }\n                this.destroy(error);\n                return;\n            }\n        }\n        (async () => {\n            var _a;\n            try {\n                if (this.options.body instanceof fs_1.ReadStream) {\n                    await waitForOpenFile(this.options.body);\n                }\n                const { url: normalizedURL } = this.options;\n                if (!normalizedURL) {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.requestUrl = normalizedURL.toString();\n                decodeURI(this.requestUrl);\n                await this._finalizeBody();\n                await this._makeRequest();\n                if (this.destroyed) {\n                    (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.destroy();\n                    return;\n                }\n                // Queued writes etc.\n                for (const job of this[kJobs]) {\n                    job();\n                }\n                // Prevent memory leak\n                this[kJobs].length = 0;\n                this.requestInitialized = true;\n            }\n            catch (error) {\n                if (error instanceof RequestError) {\n                    this._beforeError(error);\n                    return;\n                }\n                // This is a workaround for https://github.com/nodejs/node/issues/33335\n                if (!this.destroyed) {\n                    this.destroy(error);\n                }\n            }\n        })();\n    }\n    static normalizeArguments(url, options, defaults) {\n        var _a, _b, _c, _d, _e;\n        const rawOptions = options;\n        if (is_1.default.object(url) && !is_1.default.urlInstance(url)) {\n            options = { ...defaults, ...url, ...options };\n        }\n        else {\n            if (url && options && options.url !== undefined) {\n                throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n            }\n            options = { ...defaults, ...options };\n            if (url !== undefined) {\n                options.url = url;\n            }\n            if (is_1.default.urlInstance(options.url)) {\n                options.url = new url_1.URL(options.url.toString());\n            }\n        }\n        // TODO: Deprecate URL options in Got 12.\n        // Support extend-specific options\n        if (options.cache === false) {\n            options.cache = undefined;\n        }\n        if (options.dnsCache === false) {\n            options.dnsCache = undefined;\n        }\n        // Nice type assertions\n        is_1.assert.any([is_1.default.string, is_1.default.undefined], options.method);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.headers);\n        is_1.assert.any([is_1.default.string, is_1.default.urlInstance, is_1.default.undefined], options.prefixUrl);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.cookieJar);\n        is_1.assert.any([is_1.default.object, is_1.default.string, is_1.default.undefined], options.searchParams);\n        is_1.assert.any([is_1.default.object, is_1.default.string, is_1.default.undefined], options.cache);\n        is_1.assert.any([is_1.default.object, is_1.default.number, is_1.default.undefined], options.timeout);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.context);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.hooks);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.decompress);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.ignoreInvalidCookies);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.followRedirect);\n        is_1.assert.any([is_1.default.number, is_1.default.undefined], options.maxRedirects);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.throwHttpErrors);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.http2);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.allowGetBody);\n        is_1.assert.any([is_1.default.string, is_1.default.undefined], options.localAddress);\n        is_1.assert.any([dns_ip_version_1.isDnsLookupIpVersion, is_1.default.undefined], options.dnsLookupIpVersion);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.https);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.rejectUnauthorized);\n        if (options.https) {\n            is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.https.rejectUnauthorized);\n            is_1.assert.any([is_1.default.function_, is_1.default.undefined], options.https.checkServerIdentity);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.certificateAuthority);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.key);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.certificate);\n            is_1.assert.any([is_1.default.string, is_1.default.undefined], options.https.passphrase);\n            is_1.assert.any([is_1.default.string, is_1.default.buffer, is_1.default.array, is_1.default.undefined], options.https.pfx);\n        }\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.cacheOptions);\n        // `options.method`\n        if (is_1.default.string(options.method)) {\n            options.method = options.method.toUpperCase();\n        }\n        else {\n            options.method = 'GET';\n        }\n        // `options.headers`\n        if (options.headers === (defaults === null || defaults === void 0 ? void 0 : defaults.headers)) {\n            options.headers = { ...options.headers };\n        }\n        else {\n            options.headers = lowercaseKeys({ ...(defaults === null || defaults === void 0 ? void 0 : defaults.headers), ...options.headers });\n        }\n        // Disallow legacy `url.Url`\n        if ('slashes' in options) {\n            throw new TypeError('The legacy `url.Url` has been deprecated. Use `URL` instead.');\n        }\n        // `options.auth`\n        if ('auth' in options) {\n            throw new TypeError('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n        }\n        // `options.searchParams`\n        if ('searchParams' in options) {\n            if (options.searchParams && options.searchParams !== (defaults === null || defaults === void 0 ? void 0 : defaults.searchParams)) {\n                let searchParameters;\n                if (is_1.default.string(options.searchParams) || (options.searchParams instanceof url_1.URLSearchParams)) {\n                    searchParameters = new url_1.URLSearchParams(options.searchParams);\n                }\n                else {\n                    validateSearchParameters(options.searchParams);\n                    searchParameters = new url_1.URLSearchParams();\n                    // eslint-disable-next-line guard-for-in\n                    for (const key in options.searchParams) {\n                        const value = options.searchParams[key];\n                        if (value === null) {\n                            searchParameters.append(key, '');\n                        }\n                        else if (value !== undefined) {\n                            searchParameters.append(key, value);\n                        }\n                    }\n                }\n                // `normalizeArguments()` is also used to merge options\n                (_a = defaults === null || defaults === void 0 ? void 0 : defaults.searchParams) === null || _a === void 0 ? void 0 : _a.forEach((value, key) => {\n                    // Only use default if one isn't already defined\n                    if (!searchParameters.has(key)) {\n                        searchParameters.append(key, value);\n                    }\n                });\n                options.searchParams = searchParameters;\n            }\n        }\n        // `options.username` & `options.password`\n        options.username = (_b = options.username) !== null && _b !== void 0 ? _b : '';\n        options.password = (_c = options.password) !== null && _c !== void 0 ? _c : '';\n        // `options.prefixUrl` & `options.url`\n        if (is_1.default.undefined(options.prefixUrl)) {\n            options.prefixUrl = (_d = defaults === null || defaults === void 0 ? void 0 : defaults.prefixUrl) !== null && _d !== void 0 ? _d : '';\n        }\n        else {\n            options.prefixUrl = options.prefixUrl.toString();\n            if (options.prefixUrl !== '' && !options.prefixUrl.endsWith('/')) {\n                options.prefixUrl += '/';\n            }\n        }\n        if (is_1.default.string(options.url)) {\n            if (options.url.startsWith('/')) {\n                throw new Error('`input` must not start with a slash when using `prefixUrl`');\n            }\n            options.url = options_to_url_1.default(options.prefixUrl + options.url, options);\n        }\n        else if ((is_1.default.undefined(options.url) && options.prefixUrl !== '') || options.protocol) {\n            options.url = options_to_url_1.default(options.prefixUrl, options);\n        }\n        if (options.url) {\n            if ('port' in options) {\n                delete options.port;\n            }\n            // Make it possible to change `options.prefixUrl`\n            let { prefixUrl } = options;\n            Object.defineProperty(options, 'prefixUrl', {\n                set: (value) => {\n                    const url = options.url;\n                    if (!url.href.startsWith(value)) {\n                        throw new Error(`Cannot change \\`prefixUrl\\` from ${prefixUrl} to ${value}: ${url.href}`);\n                    }\n                    options.url = new url_1.URL(value + url.href.slice(prefixUrl.length));\n                    prefixUrl = value;\n                },\n                get: () => prefixUrl\n            });\n            // Support UNIX sockets\n            let { protocol } = options.url;\n            if (protocol === 'unix:') {\n                protocol = 'http:';\n                options.url = new url_1.URL(`http://unix${options.url.pathname}${options.url.search}`);\n            }\n            // Set search params\n            if (options.searchParams) {\n                // eslint-disable-next-line @typescript-eslint/no-base-to-string\n                options.url.search = options.searchParams.toString();\n            }\n            // Protocol check\n            if (protocol !== 'http:' && protocol !== 'https:') {\n                throw new UnsupportedProtocolError(options);\n            }\n            // Update `username`\n            if (options.username === '') {\n                options.username = options.url.username;\n            }\n            else {\n                options.url.username = options.username;\n            }\n            // Update `password`\n            if (options.password === '') {\n                options.password = options.url.password;\n            }\n            else {\n                options.url.password = options.password;\n            }\n        }\n        // `options.cookieJar`\n        const { cookieJar } = options;\n        if (cookieJar) {\n            let { setCookie, getCookieString } = cookieJar;\n            is_1.assert.function_(setCookie);\n            is_1.assert.function_(getCookieString);\n            /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n            if (setCookie.length === 4 && getCookieString.length === 0) {\n                setCookie = util_1.promisify(setCookie.bind(options.cookieJar));\n                getCookieString = util_1.promisify(getCookieString.bind(options.cookieJar));\n                options.cookieJar = {\n                    setCookie,\n                    getCookieString: getCookieString\n                };\n            }\n        }\n        // `options.cache`\n        const { cache } = options;\n        if (cache) {\n            if (!cacheableStore.has(cache)) {\n                cacheableStore.set(cache, new CacheableRequest(((requestOptions, handler) => {\n                    const result = requestOptions[kRequest](requestOptions, handler);\n                    // TODO: remove this when `cacheable-request` supports async request functions.\n                    if (is_1.default.promise(result)) {\n                        // @ts-expect-error\n                        // We only need to implement the error handler in order to support HTTP2 caching.\n                        // The result will be a promise anyway.\n                        result.once = (event, handler) => {\n                            if (event === 'error') {\n                                result.catch(handler);\n                            }\n                            else if (event === 'abort') {\n                                // The empty catch is needed here in case when\n                                // it rejects before it's `await`ed in `_makeRequest`.\n                                (async () => {\n                                    try {\n                                        const request = (await result);\n                                        request.once('abort', handler);\n                                    }\n                                    catch (_a) { }\n                                })();\n                            }\n                            else {\n                                /* istanbul ignore next: safety check */\n                                throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                            }\n                            return result;\n                        };\n                    }\n                    return result;\n                }), cache));\n            }\n        }\n        // `options.cacheOptions`\n        options.cacheOptions = { ...options.cacheOptions };\n        // `options.dnsCache`\n        if (options.dnsCache === true) {\n            if (!globalDnsCache) {\n                globalDnsCache = new cacheable_lookup_1.default();\n            }\n            options.dnsCache = globalDnsCache;\n        }\n        else if (!is_1.default.undefined(options.dnsCache) && !options.dnsCache.lookup) {\n            throw new TypeError(`Parameter \\`dnsCache\\` must be a CacheableLookup instance or a boolean, got ${is_1.default(options.dnsCache)}`);\n        }\n        // `options.timeout`\n        if (is_1.default.number(options.timeout)) {\n            options.timeout = { request: options.timeout };\n        }\n        else if (defaults && options.timeout !== defaults.timeout) {\n            options.timeout = {\n                ...defaults.timeout,\n                ...options.timeout\n            };\n        }\n        else {\n            options.timeout = { ...options.timeout };\n        }\n        // `options.context`\n        if (!options.context) {\n            options.context = {};\n        }\n        // `options.hooks`\n        const areHooksDefault = options.hooks === (defaults === null || defaults === void 0 ? void 0 : defaults.hooks);\n        options.hooks = { ...options.hooks };\n        for (const event of exports.knownHookEvents) {\n            if (event in options.hooks) {\n                if (is_1.default.array(options.hooks[event])) {\n                    // See https://github.com/microsoft/TypeScript/issues/31445#issuecomment-576929044\n                    options.hooks[event] = [...options.hooks[event]];\n                }\n                else {\n                    throw new TypeError(`Parameter \\`${event}\\` must be an Array, got ${is_1.default(options.hooks[event])}`);\n                }\n            }\n            else {\n                options.hooks[event] = [];\n            }\n        }\n        if (defaults && !areHooksDefault) {\n            for (const event of exports.knownHookEvents) {\n                const defaultHooks = defaults.hooks[event];\n                if (defaultHooks.length > 0) {\n                    // See https://github.com/microsoft/TypeScript/issues/31445#issuecomment-576929044\n                    options.hooks[event] = [\n                        ...defaults.hooks[event],\n                        ...options.hooks[event]\n                    ];\n                }\n            }\n        }\n        // DNS options\n        if ('family' in options) {\n            deprecation_warning_1.default('\"options.family\" was never documented, please use \"options.dnsLookupIpVersion\"');\n        }\n        // HTTPS options\n        if (defaults === null || defaults === void 0 ? void 0 : defaults.https) {\n            options.https = { ...defaults.https, ...options.https };\n        }\n        if ('rejectUnauthorized' in options) {\n            deprecation_warning_1.default('\"options.rejectUnauthorized\" is now deprecated, please use \"options.https.rejectUnauthorized\"');\n        }\n        if ('checkServerIdentity' in options) {\n            deprecation_warning_1.default('\"options.checkServerIdentity\" was never documented, please use \"options.https.checkServerIdentity\"');\n        }\n        if ('ca' in options) {\n            deprecation_warning_1.default('\"options.ca\" was never documented, please use \"options.https.certificateAuthority\"');\n        }\n        if ('key' in options) {\n            deprecation_warning_1.default('\"options.key\" was never documented, please use \"options.https.key\"');\n        }\n        if ('cert' in options) {\n            deprecation_warning_1.default('\"options.cert\" was never documented, please use \"options.https.certificate\"');\n        }\n        if ('passphrase' in options) {\n            deprecation_warning_1.default('\"options.passphrase\" was never documented, please use \"options.https.passphrase\"');\n        }\n        if ('pfx' in options) {\n            deprecation_warning_1.default('\"options.pfx\" was never documented, please use \"options.https.pfx\"');\n        }\n        // Other options\n        if ('followRedirects' in options) {\n            throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n        }\n        if (options.agent) {\n            for (const key in options.agent) {\n                if (key !== 'http' && key !== 'https' && key !== 'http2') {\n                    throw new TypeError(`Expected the \\`options.agent\\` properties to be \\`http\\`, \\`https\\` or \\`http2\\`, got \\`${key}\\``);\n                }\n            }\n        }\n        options.maxRedirects = (_e = options.maxRedirects) !== null && _e !== void 0 ? _e : 0;\n        // Set non-enumerable properties\n        exports.setNonEnumerableProperties([defaults, rawOptions], options);\n        return normalize_arguments_1.default(options, defaults);\n    }\n    _lockWrite() {\n        const onLockedWrite = () => {\n            throw new TypeError('The payload has been already provided');\n        };\n        this.write = onLockedWrite;\n        this.end = onLockedWrite;\n    }\n    _unlockWrite() {\n        this.write = super.write;\n        this.end = super.end;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is_1.default.undefined(options.form);\n        const isJSON = !is_1.default.undefined(options.json);\n        const isBody = !is_1.default.undefined(options.body);\n        const hasPayload = isForm || isJSON || isBody;\n        const cannotHaveBody = exports.withoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (hasPayload) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            if ([isBody, isForm, isJSON].filter(isTrue => isTrue).length > 1) {\n                throw new TypeError('The `body`, `json` and `form` options are mutually exclusive');\n            }\n            if (isBody &&\n                !(options.body instanceof stream_1.Readable) &&\n                !is_1.default.string(options.body) &&\n                !is_1.default.buffer(options.body) &&\n                !is_form_data_1.default(options.body)) {\n                throw new TypeError('The `body` option must be a stream.Readable, string or Buffer');\n            }\n            if (isForm && !is_1.default.object(options.form)) {\n                throw new TypeError('The `form` option must be an Object');\n            }\n            {\n                // Serialize body\n                const noContentType = !is_1.default.string(headers['content-type']);\n                if (isBody) {\n                    // Special case for https://github.com/form-data/form-data\n                    if (is_form_data_1.default(options.body) && noContentType) {\n                        headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                    }\n                    this[kBody] = options.body;\n                }\n                else if (isForm) {\n                    if (noContentType) {\n                        headers['content-type'] = 'application/x-www-form-urlencoded';\n                    }\n                    this[kBody] = (new url_1.URLSearchParams(options.form)).toString();\n                }\n                else {\n                    if (noContentType) {\n                        headers['content-type'] = 'application/json';\n                    }\n                    this[kBody] = options.stringifyJson(options.json);\n                }\n                const uploadBodySize = await get_body_size_1.default(this[kBody], options.headers);\n                // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n                // A user agent SHOULD send a Content-Length in a request message when\n                // no Transfer-Encoding is sent and the request method defines a meaning\n                // for an enclosed payload body.  For example, a Content-Length header\n                // field is normally sent in a POST request even when the value is 0\n                // (indicating an empty payload body).  A user agent SHOULD NOT send a\n                // Content-Length header field when the request message does not contain\n                // a payload body and the method semantics do not anticipate such a\n                // body.\n                if (is_1.default.undefined(headers['content-length']) && is_1.default.undefined(headers['transfer-encoding'])) {\n                    if (!cannotHaveBody && !is_1.default.undefined(uploadBodySize)) {\n                        headers['content-length'] = String(uploadBodySize);\n                    }\n                }\n            }\n        }\n        else if (cannotHaveBody) {\n            this._lockWrite();\n        }\n        else {\n            this._unlockWrite();\n        }\n        this[kBodySize] = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        const { options } = this;\n        const { url } = options;\n        this[kOriginalResponse] = response;\n        if (options.decompress) {\n            response = decompressResponse(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ? typedResponse.statusMessage : http.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirects;\n        typedResponse.request = this;\n        typedResponse.isFromCache = response.fromCache || false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        this[kIsFromCache] = typedResponse.isFromCache;\n        this[kResponseSize] = Number(response.headers['content-length']) || undefined;\n        this[kResponse] = response;\n        response.once('end', () => {\n            this[kResponseSize] = this[kDownloadedSize];\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._beforeError(new ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET'\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (is_1.default.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (p) => p.catch(() => { }));\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            if (this[kRequest]) {\n                this[kCancelTimeouts]();\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete this[kRequest];\n                this[kUnproxyEvents]();\n            }\n            const shouldBeGet = statusCode === 303 && options.method !== 'GET' && options.method !== 'HEAD';\n            if (shouldBeGet || !options.methodRewriting) {\n                // Server responded with \"see other\", indicating that the resource exists at another location,\n                // and the client should request it from that location via GET or HEAD.\n                options.method = 'GET';\n                if ('body' in options) {\n                    delete options.body;\n                }\n                if ('json' in options) {\n                    delete options.json;\n                }\n                if ('form' in options) {\n                    delete options.form;\n                }\n                this[kBody] = undefined;\n                delete options.headers['content-length'];\n            }\n            if (this.redirects.length >= options.maxRedirects) {\n                this._beforeError(new MaxRedirectsError(this));\n                return;\n            }\n            try {\n                // Do not remove. See https://github.com/sindresorhus/got/pull/214\n                const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                // Handles invalid URLs. See https://github.com/sindresorhus/got/issues/604\n                const redirectUrl = new url_1.URL(redirectBuffer, url);\n                const redirectString = redirectUrl.toString();\n                decodeURI(redirectString);\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in options.headers) {\n                        delete options.headers.host;\n                    }\n                    if ('cookie' in options.headers) {\n                        delete options.headers.cookie;\n                    }\n                    if ('authorization' in options.headers) {\n                        delete options.headers.authorization;\n                    }\n                    if (options.username || options.password) {\n                        options.username = '';\n                        options.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = options.username;\n                    redirectUrl.password = options.password;\n                }\n                this.redirects.push(redirectString);\n                options.url = redirectUrl;\n                for (const hook of options.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(options, typedResponse);\n                }\n                this.emit('redirect', typedResponse, options);\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        if (options.isStream && options.throwHttpErrors && !is_response_ok_1.isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this[kTriggerRead]) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        this.emit('response', response);\n        for (const destination of this[kServerResponsesPiped]) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        http_timer_1.default(request);\n        this[kCancelTimeouts] = timed_out_1.default(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            var _a;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            // Node.js <= 12.18.2 mistakenly emits the response `end` first.\n            (_a = request.res) === null || _a === void 0 ? void 0 : _a.removeAllListeners('end');\n            error = error instanceof timed_out_1.TimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this[kUnproxyEvents] = proxy_events_1.default(request, this, proxiedRequestEvents);\n        this[kRequest] = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        // Send body\n        const body = this[kBody];\n        const currentRequest = this.redirects.length === 0 ? this : request;\n        if (is_1.default.nodeStream(body)) {\n            body.pipe(currentRequest);\n            body.once('error', (error) => {\n                this._beforeError(new UploadError(error, this));\n            });\n        }\n        else {\n            this._unlockWrite();\n            if (!is_1.default.undefined(body)) {\n                this._writeRequest(body, undefined, () => { });\n                currentRequest.end();\n                this._lockWrite();\n            }\n            else if (this._cannotHaveBody || this._noPipe) {\n                currentRequest.end();\n                this._lockWrite();\n            }\n        }\n        this.emit('request', request);\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, url_to_options_1.default(url));\n            // `http-cache-semantics` checks this\n            // TODO: Fix this ignore.\n            // @ts-expect-error\n            delete options.url;\n            let request;\n            // This is ugly\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                // TODO: Fix `cacheable-response`\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            // Restore options\n            options.url = url;\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        var _a, _b, _c, _d, _e;\n        const { options } = this;\n        const { headers } = options;\n        for (const key in headers) {\n            if (is_1.default.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is_1.default.null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is_1.default.undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        // Set cookies\n        if (options.cookieJar) {\n            const cookieString = await options.cookieJar.getCookieString(options.url.toString());\n            if (is_1.default.nonEmptyString(cookieString)) {\n                options.headers.cookie = cookieString;\n            }\n        }\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!is_1.default.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                options.request = () => result;\n                break;\n            }\n        }\n        if (options.body && this[kBody] !== options.body) {\n            this[kBody] = options.body;\n        }\n        const { agent, request, timeout, url } = options;\n        if (options.dnsCache && !('lookup' in options)) {\n            options.lookup = options.dnsCache.lookup;\n        }\n        // UNIX sockets\n        if (url.hostname === 'unix') {\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches === null || matches === void 0 ? void 0 : matches.groups) {\n                const { socketPath, path } = matches.groups;\n                Object.assign(options, {\n                    socketPath,\n                    path,\n                    host: ''\n                });\n            }\n        }\n        const isHttps = url.protocol === 'https:';\n        // Fallback function\n        let fallbackFn;\n        if (options.http2) {\n            fallbackFn = http2wrapper.auto;\n        }\n        else {\n            fallbackFn = isHttps ? https.request : http.request;\n        }\n        const realFn = (_a = options.request) !== null && _a !== void 0 ? _a : fallbackFn;\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : realFn;\n        // Pass an agent directly when HTTP2 is disabled\n        if (agent && !options.http2) {\n            options.agent = agent[isHttps ? 'https' : 'http'];\n        }\n        // Prepare plain HTTP request options\n        options[kRequest] = realFn;\n        delete options.request;\n        // TODO: Fix this ignore.\n        // @ts-expect-error\n        delete options.timeout;\n        const requestOptions = options;\n        requestOptions.shared = (_b = options.cacheOptions) === null || _b === void 0 ? void 0 : _b.shared;\n        requestOptions.cacheHeuristic = (_c = options.cacheOptions) === null || _c === void 0 ? void 0 : _c.cacheHeuristic;\n        requestOptions.immutableMinTimeToLive = (_d = options.cacheOptions) === null || _d === void 0 ? void 0 : _d.immutableMinTimeToLive;\n        requestOptions.ignoreCargoCult = (_e = options.cacheOptions) === null || _e === void 0 ? void 0 : _e.ignoreCargoCult;\n        // If `dnsLookupIpVersion` is not present do not override `family`\n        if (options.dnsLookupIpVersion !== undefined) {\n            try {\n                requestOptions.family = dns_ip_version_1.dnsLookupIpVersionToFamily(options.dnsLookupIpVersion);\n            }\n            catch (_f) {\n                throw new Error('Invalid `dnsLookupIpVersion` option value');\n            }\n        }\n        // HTTPS options remapping\n        if (options.https) {\n            if ('rejectUnauthorized' in options.https) {\n                requestOptions.rejectUnauthorized = options.https.rejectUnauthorized;\n            }\n            if (options.https.checkServerIdentity) {\n                requestOptions.checkServerIdentity = options.https.checkServerIdentity;\n            }\n            if (options.https.certificateAuthority) {\n                requestOptions.ca = options.https.certificateAuthority;\n            }\n            if (options.https.certificate) {\n                requestOptions.cert = options.https.certificate;\n            }\n            if (options.https.key) {\n                requestOptions.key = options.https.key;\n            }\n            if (options.https.passphrase) {\n                requestOptions.passphrase = options.https.passphrase;\n            }\n            if (options.https.pfx) {\n                requestOptions.pfx = options.https.pfx;\n            }\n        }\n        try {\n            let requestOrResponse = await fn(url, requestOptions);\n            if (is_1.default.undefined(requestOrResponse)) {\n                requestOrResponse = fallbackFn(url, requestOptions);\n            }\n            // Restore options\n            options.request = request;\n            options.timeout = timeout;\n            options.agent = agent;\n            // HTTPS options restore\n            if (options.https) {\n                if ('rejectUnauthorized' in options.https) {\n                    delete requestOptions.rejectUnauthorized;\n                }\n                if (options.https.checkServerIdentity) {\n                    // @ts-expect-error - This one will be removed when we remove the alias.\n                    delete requestOptions.checkServerIdentity;\n                }\n                if (options.https.certificateAuthority) {\n                    delete requestOptions.ca;\n                }\n                if (options.https.certificate) {\n                    delete requestOptions.cert;\n                }\n                if (options.https.key) {\n                    delete requestOptions.key;\n                }\n                if (options.https.passphrase) {\n                    delete requestOptions.passphrase;\n                }\n                if (options.https.pfx) {\n                    delete requestOptions.pfx;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n                // Emit the response after the stream has been ended\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._unlockWrite();\n                this.end();\n                this._lockWrite();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableRequest.CacheError) {\n                throw new CacheError(error, this);\n            }\n            throw new RequestError(error.message, error, this);\n        }\n    }\n    async _error(error) {\n        try {\n            for (const hook of this.options.hooks.beforeError) {\n                // eslint-disable-next-line no-await-in-loop\n                error = await hook(error);\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _beforeError(error) {\n        if (this[kStopReading]) {\n            return;\n        }\n        const { options } = this;\n        const retryCount = this.retryCount + 1;\n        this[kStopReading] = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        const { response } = typedError;\n        void (async () => {\n            if (response && !response.body) {\n                response.setEncoding(this._readableState.encoding);\n                try {\n                    response.rawBody = await get_buffer_1.default(response);\n                    response.body = response.rawBody.toString();\n                }\n                catch (_a) { }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    backoff = await options.retry.calculateDelay({\n                        attemptCount: retryCount,\n                        retryOptions: options.retry,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: calculate_retry_delay_1.default({\n                            attemptCount: retryCount,\n                            retryOptions: options.retry,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: 0\n                        })\n                    });\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    const retry = async () => {\n                        try {\n                            for (const hook of this.options.hooks.beforeRetry) {\n                                // eslint-disable-next-line no-await-in-loop\n                                await hook(this.options, typedError, retryCount);\n                            }\n                        }\n                        catch (error_) {\n                            void this._error(new RequestError(error_.message, error, this));\n                            return;\n                        }\n                        // Something forced us to abort the retry\n                        if (this.destroyed) {\n                            return;\n                        }\n                        this.destroy();\n                        this.emit('retry', retryCount, error);\n                    };\n                    this[kRetryTimeout] = setTimeout(retry, backoff);\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this[kTriggerRead] = true;\n        const response = this[kResponse];\n        if (response && !this[kStopReading]) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this[kTriggerRead] = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this[kDownloadedSize] += data.length;\n                this[kStartedReading] = true;\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    // Node.js 12 has incorrect types, so the encoding must be a string\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this.requestInitialized) {\n            write();\n        }\n        else {\n            this[kJobs].push(write);\n        }\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (this[kRequest].destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._progressCallbacks.push(() => {\n            this[kUploadedSize] += Buffer.byteLength(chunk, encoding);\n            const progress = this.uploadProgress;\n            if (progress.percent < 1) {\n                this.emit('uploadProgress', progress);\n            }\n        });\n        // TODO: What happens if it's from cache? Then this[kRequest] won't be defined.\n        this[kRequest].write(chunk, encoding, (error) => {\n            if (!error && this._progressCallbacks.length > 0) {\n                this._progressCallbacks.shift()();\n            }\n            callback(error);\n        });\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // FIX: Node.js 10 calls the write callback AFTER the end callback!\n            while (this._progressCallbacks.length !== 0) {\n                this._progressCallbacks.shift()();\n            }\n            // We need to check if `this[kRequest]` is present,\n            // because it isn't when we use cache.\n            if (!(kRequest in this)) {\n                callback();\n                return;\n            }\n            if (this[kRequest].destroyed) {\n                callback();\n                return;\n            }\n            this[kRequest].end((error) => {\n                if (!error) {\n                    this[kBodySize] = this[kUploadedSize];\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this[kRequest].emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this.requestInitialized) {\n            endRequest();\n        }\n        else {\n            this[kJobs].push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        var _a;\n        this[kStopReading] = true;\n        // Prevent further retries\n        clearTimeout(this[kRetryTimeout]);\n        if (kRequest in this) {\n            this[kCancelTimeouts]();\n            // TODO: Remove the next `if` when these get fixed:\n            // - https://github.com/nodejs/node/issues/32851\n            if (!((_a = this[kResponse]) === null || _a === void 0 ? void 0 : _a.complete)) {\n                this[kRequest].destroy();\n            }\n        }\n        if (error !== null && !is_1.default.undefined(error) && !(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    get _isAboutToError() {\n        return this[kStopReading];\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        var _a;\n        return (_a = this.socket) === null || _a === void 0 ? void 0 : _a.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get aborted() {\n        var _a, _b, _c;\n        return ((_b = (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.destroyed) !== null && _b !== void 0 ? _b : this.destroyed) && !((_c = this[kOriginalResponse]) === null || _c === void 0 ? void 0 : _c.complete);\n    }\n    get socket() {\n        var _a, _b;\n        return (_b = (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.socket) !== null && _b !== void 0 ? _b : undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this[kResponseSize]) {\n            percent = this[kDownloadedSize] / this[kResponseSize];\n        }\n        else if (this[kResponseSize] === this[kDownloadedSize]) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this[kDownloadedSize],\n            total: this[kResponseSize]\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this[kBodySize]) {\n            percent = this[kUploadedSize] / this[kBodySize];\n        }\n        else if (this[kBodySize] === this[kUploadedSize]) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this[kUploadedSize],\n            total: this[kBodySize]\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        var _a;\n        return (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this[kIsFromCache];\n    }\n    pipe(destination, options) {\n        if (this[kStartedReading]) {\n            throw new Error('Failed to pipe. The response has been emitted already.');\n        }\n        if (destination instanceof http_1.ServerResponse) {\n            this[kServerResponsesPiped].add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof http_1.ServerResponse) {\n            this[kServerResponsesPiped].delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n}\nexports.default = Request;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancelError = exports.ParseError = void 0;\nconst core_1 = require(\"../core\");\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nclass ParseError extends core_1.RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_BODY_PARSE_FAILURE' : this.code;\n    }\n}\nexports.ParseError = ParseError;\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nclass CancelError extends core_1.RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    get isCanceled() {\n        return true;\n    }\n}\nexports.CancelError = CancelError;\n__exportStar(require(\"../core\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"./types\");\nconst parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString());\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n        throw new types_1.ParseError({\n            message: `Unknown body type '${responseType}'`,\n            name: 'Error'\n        }, response);\n    }\n    catch (error) {\n        throw new types_1.ParseError(error, response);\n    }\n};\nexports.default = parseBody;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst PCancelable = require(\"p-cancelable\");\nconst types_1 = require(\"./types\");\nconst parse_body_1 = require(\"./parse-body\");\nconst core_1 = require(\"../core\");\nconst proxy_events_1 = require(\"../core/utils/proxy-events\");\nconst get_buffer_1 = require(\"../core/utils/get-buffer\");\nconst is_response_ok_1 = require(\"../core/utils/is-response-ok\");\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress'\n];\nfunction asPromise(normalizedOptions) {\n    let globalRequest;\n    let globalResponse;\n    const emitter = new events_1.EventEmitter();\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        const makeRequest = (retryCount) => {\n            const request = new core_1.default(undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            onCancel(() => request.destroy());\n            onCancel.shouldReject = false;\n            onCancel(() => reject(new types_1.CancelError(request)));\n            globalRequest = request;\n            request.once('response', async (response) => {\n                var _a;\n                response.retryCount = retryCount;\n                if (response.request.aborted) {\n                    // Canceled while downloading - will throw a `CancelError` or `TimeoutError` error\n                    return;\n                }\n                // Download body\n                let rawBody;\n                try {\n                    rawBody = await get_buffer_1.default(request);\n                    response.rawBody = rawBody;\n                }\n                catch (_b) {\n                    // The same error is caught below.\n                    // See request.once('error')\n                    return;\n                }\n                if (request._isAboutToError) {\n                    return;\n                }\n                // Parse body\n                const contentEncoding = ((_a = response.headers['content-encoding']) !== null && _a !== void 0 ? _a : '').toLowerCase();\n                const isCompressed = ['gzip', 'deflate', 'br'].includes(contentEncoding);\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = rawBody;\n                }\n                else {\n                    try {\n                        response.body = parse_body_1.default(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fallback to `utf8`\n                        response.body = rawBody.toString();\n                        if (is_response_ok_1.isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    for (const [index, hook] of options.hooks.afterResponse.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            const typedOptions = core_1.default.normalizeArguments(undefined, {\n                                ...updatedOptions,\n                                retry: {\n                                    calculateDelay: () => 0\n                                },\n                                throwHttpErrors: false,\n                                resolveBodyOnly: false\n                            }, options);\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            typedOptions.hooks.afterResponse = typedOptions.hooks.afterResponse.slice(0, index);\n                            for (const hook of typedOptions.hooks.beforeRetry) {\n                                // eslint-disable-next-line no-await-in-loop\n                                await hook(typedOptions);\n                            }\n                            const promise = asPromise(typedOptions);\n                            onCancel(() => {\n                                promise.catch(() => { });\n                                promise.cancel();\n                            });\n                            return promise;\n                        });\n                    }\n                }\n                catch (error) {\n                    request._beforeError(new types_1.RequestError(error.message, error, request));\n                    return;\n                }\n                if (!is_response_ok_1.isResponseOk(response)) {\n                    request._beforeError(new types_1.HTTPError(response));\n                    return;\n                }\n                globalResponse = response;\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof types_1.HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options.body;\n            request.once('retry', (newRetryCount, error) => {\n                var _a, _b;\n                if (previousBody === ((_a = error.request) === null || _a === void 0 ? void 0 : _a.options.body) && is_1.default.nodeStream((_b = error.request) === null || _b === void 0 ? void 0 : _b.options.body)) {\n                    onError(error);\n                    return;\n                }\n                makeRequest(newRetryCount);\n            });\n            proxy_events_1.default(request, emitter, proxiedRequestEvents);\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return parse_body_1.default(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        const { headers } = globalRequest.options;\n        if (!globalRequest.writableFinished && headers.accept === undefined) {\n            headers.accept = 'application/json';\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\nexports.default = asPromise;\n__exportStar(require(\"./types\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"./types\");\nfunction createRejection(error, ...beforeErrorGroups) {\n    const promise = (async () => {\n        if (error instanceof types_1.RequestError) {\n            try {\n                for (const hooks of beforeErrorGroups) {\n                    if (hooks) {\n                        for (const hook of hooks) {\n                            // eslint-disable-next-line no-await-in-loop\n                            error = await hook(error);\n                        }\n                    }\n                }\n            }\n            catch (error_) {\n                error = error_;\n            }\n        }\n        throw error;\n    })();\n    const returnPromise = () => promise;\n    promise.json = returnPromise;\n    promise.text = returnPromise;\n    promise.buffer = returnPromise;\n    promise.on = returnPromise;\n    return promise;\n}\nexports.default = createRejection;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nfunction deepFreeze(object) {\n    for (const value of Object.values(object)) {\n        if (is_1.default.plainObject(value) || is_1.default.array(value)) {\n            deepFreeze(value);\n        }\n    }\n    return Object.freeze(object);\n}\nexports.default = deepFreeze;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultHandler = void 0;\nconst is_1 = require(\"@sindresorhus/is\");\nconst as_promise_1 = require(\"./as-promise\");\nconst create_rejection_1 = require(\"./as-promise/create-rejection\");\nconst core_1 = require(\"./core\");\nconst deep_freeze_1 = require(\"./utils/deep-freeze\");\nconst errors = {\n    RequestError: as_promise_1.RequestError,\n    CacheError: as_promise_1.CacheError,\n    ReadError: as_promise_1.ReadError,\n    HTTPError: as_promise_1.HTTPError,\n    MaxRedirectsError: as_promise_1.MaxRedirectsError,\n    TimeoutError: as_promise_1.TimeoutError,\n    ParseError: as_promise_1.ParseError,\n    CancelError: as_promise_1.CancelError,\n    UnsupportedProtocolError: as_promise_1.UnsupportedProtocolError,\n    UploadError: as_promise_1.UploadError\n};\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst { normalizeArguments } = core_1.default;\nconst mergeOptions = (...sources) => {\n    let mergedOptions;\n    for (const source of sources) {\n        mergedOptions = normalizeArguments(undefined, source, mergedOptions);\n    }\n    return mergedOptions;\n};\nconst getPromiseOrStream = (options) => options.isStream ? new core_1.default(undefined, options) : as_promise_1.default(options);\nconst isGotInstance = (value) => ('defaults' in value && 'options' in value.defaults);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete'\n];\nexports.defaultHandler = (options, next) => next(options);\nconst callInitHooks = (hooks, options) => {\n    if (hooks) {\n        for (const hook of hooks) {\n            hook(options);\n        }\n    }\n};\nconst create = (defaults) => {\n    // Proxy properties from next handlers\n    defaults._rawHandlers = defaults.handlers;\n    defaults.handlers = defaults.handlers.map(fn => ((options, next) => {\n        // This will be assigned by assigning result\n        let root;\n        const result = fn(options, newOptions => {\n            root = next(newOptions);\n            return root;\n        });\n        if (result !== root && !options.isStream && root) {\n            const typedResult = result;\n            const { then: promiseThen, catch: promiseCatch, finally: promiseFianlly } = typedResult;\n            Object.setPrototypeOf(typedResult, Object.getPrototypeOf(root));\n            Object.defineProperties(typedResult, Object.getOwnPropertyDescriptors(root));\n            // These should point to the new promise\n            // eslint-disable-next-line promise/prefer-await-to-then\n            typedResult.then = promiseThen;\n            typedResult.catch = promiseCatch;\n            typedResult.finally = promiseFianlly;\n        }\n        return result;\n    }));\n    // Got interface\n    const got = ((url, options = {}, _defaults) => {\n        var _a, _b;\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            return defaults.handlers[iteration++](newOptions, iteration === defaults.handlers.length ? getPromiseOrStream : iterateHandlers);\n        };\n        // TODO: Remove this in Got 12.\n        if (is_1.default.plainObject(url)) {\n            const mergedOptions = {\n                ...url,\n                ...options\n            };\n            core_1.setNonEnumerableProperties([url, options], mergedOptions);\n            options = mergedOptions;\n            url = undefined;\n        }\n        try {\n            // Call `init` hooks\n            let initHookError;\n            try {\n                callInitHooks(defaults.options.hooks.init, options);\n                callInitHooks((_a = options.hooks) === null || _a === void 0 ? void 0 : _a.init, options);\n            }\n            catch (error) {\n                initHookError = error;\n            }\n            // Normalize options & call handlers\n            const normalizedOptions = normalizeArguments(url, options, _defaults !== null && _defaults !== void 0 ? _defaults : defaults.options);\n            normalizedOptions[core_1.kIsNormalizedAlready] = true;\n            if (initHookError) {\n                throw new as_promise_1.RequestError(initHookError.message, initHookError, normalizedOptions);\n            }\n            return iterateHandlers(normalizedOptions);\n        }\n        catch (error) {\n            if (options.isStream) {\n                throw error;\n            }\n            else {\n                return create_rejection_1.default(error, defaults.options.hooks.beforeError, (_b = options.hooks) === null || _b === void 0 ? void 0 : _b.beforeError);\n            }\n        }\n    });\n    got.extend = (...instancesOrOptions) => {\n        const optionsArray = [defaults.options];\n        let handlers = [...defaults._rawHandlers];\n        let isMutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                optionsArray.push(value.defaults.options);\n                handlers.push(...value.defaults._rawHandlers);\n                isMutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                optionsArray.push(value);\n                if ('handlers' in value) {\n                    handlers.push(...value.handlers);\n                }\n                isMutableDefaults = value.mutableDefaults;\n            }\n        }\n        handlers = handlers.filter(handler => handler !== exports.defaultHandler);\n        if (handlers.length === 0) {\n            handlers.push(exports.defaultHandler);\n        }\n        return create({\n            options: mergeOptions(...optionsArray),\n            handlers,\n            mutableDefaults: Boolean(isMutableDefaults)\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        // TODO: Remove this `@ts-expect-error` when upgrading to TypeScript 4.\n        // Error: Argument of type 'Merge<Options, PaginationOptions<T, R>> | undefined' is not assignable to parameter of type 'Options | undefined'.\n        // @ts-expect-error\n        let normalizedOptions = normalizeArguments(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const pagination = normalizedOptions.pagination;\n        if (!is_1.default.object(pagination)) {\n            throw new TypeError('`options.pagination` must be implemented');\n        }\n        const all = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // @ts-expect-error FIXME!\n            // TODO: Throw when result is not an instance of Response\n            // eslint-disable-next-line no-await-in-loop\n            const result = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(result);\n            const current = [];\n            for (const item of parsed) {\n                if (pagination.filter(item, all, current)) {\n                    if (!pagination.shouldContinue(item, all, current)) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        all.push(item);\n                    }\n                    current.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate(result, all, current);\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === result.request.options) {\n                normalizedOptions = result.request.options;\n            }\n            else if (optionsToMerge !== undefined) {\n                normalizedOptions = normalizeArguments(undefined, optionsToMerge, normalizedOptions);\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => {\n            return got(url, { ...options, method, isStream: true });\n        });\n    }\n    Object.assign(got, errors);\n    Object.defineProperty(got, 'defaults', {\n        value: defaults.mutableDefaults ? defaults : deep_freeze_1.default(defaults),\n        writable: defaults.mutableDefaults,\n        configurable: defaults.mutableDefaults,\n        enumerable: true\n    });\n    got.mergeOptions = mergeOptions;\n    return got;\n};\nexports.default = create;\n__exportStar(require(\"./types\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst create_1 = require(\"./create\");\nconst defaults = {\n    options: {\n        method: 'GET',\n        retry: {\n            limit: 2,\n            methods: [\n                'GET',\n                'PUT',\n                'HEAD',\n                'DELETE',\n                'OPTIONS',\n                'TRACE'\n            ],\n            statusCodes: [\n                408,\n                413,\n                429,\n                500,\n                502,\n                503,\n                504,\n                521,\n                522,\n                524\n            ],\n            errorCodes: [\n                'ETIMEDOUT',\n                'ECONNRESET',\n                'EADDRINUSE',\n                'ECONNREFUSED',\n                'EPIPE',\n                'ENOTFOUND',\n                'ENETUNREACH',\n                'EAI_AGAIN'\n            ],\n            maxRetryAfter: undefined,\n            calculateDelay: ({ computedValue }) => computedValue\n        },\n        timeout: {},\n        headers: {\n            'user-agent': 'got (https://github.com/sindresorhus/got)'\n        },\n        hooks: {\n            init: [],\n            beforeRequest: [],\n            beforeRedirect: [],\n            beforeRetry: [],\n            beforeError: [],\n            afterResponse: []\n        },\n        cache: undefined,\n        dnsCache: undefined,\n        decompress: true,\n        throwHttpErrors: true,\n        followRedirect: true,\n        isStream: false,\n        responseType: 'text',\n        resolveBodyOnly: false,\n        maxRedirects: 10,\n        prefixUrl: '',\n        methodRewriting: true,\n        ignoreInvalidCookies: false,\n        context: {},\n        // TODO: Set this to `true` when Got 12 gets released\n        http2: false,\n        allowGetBody: false,\n        https: undefined,\n        pagination: {\n            transform: (response) => {\n                if (response.request.options.responseType === 'json') {\n                    return response.body;\n                }\n                return JSON.parse(response.body);\n            },\n            paginate: response => {\n                if (!Reflect.has(response.headers, 'link')) {\n                    return false;\n                }\n                const items = response.headers.link.split(',');\n                let next;\n                for (const item of items) {\n                    const parsed = item.split(';');\n                    if (parsed[1].includes('next')) {\n                        next = parsed[0].trimStart().trim();\n                        next = next.slice(1, -1);\n                        break;\n                    }\n                }\n                if (next) {\n                    const options = {\n                        url: new url_1.URL(next)\n                    };\n                    return options;\n                }\n                return false;\n            },\n            filter: () => true,\n            shouldContinue: () => true,\n            countLimit: Infinity,\n            backoff: 0,\n            requestLimit: 10000,\n            stackAllItems: true\n        },\n        parseJson: (text) => JSON.parse(text),\n        stringifyJson: (object) => JSON.stringify(object),\n        cacheOptions: {}\n    },\n    handlers: [create_1.defaultHandler],\n    mutableDefaults: false\n};\nconst got = create_1.default(defaults);\nexports.default = got;\n// For CommonJS default export support\nmodule.exports = got;\nmodule.exports.default = got;\nmodule.exports.__esModule = true; // Workaround for TS issue: https://github.com/sindresorhus/got/pull/1267\n__exportStar(require(\"./create\"), exports);\n__exportStar(require(\"./as-promise\"), exports);\n", "'use strict';\n\nfunction Queue(options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options);\n  }\n\n  options = options || {};\n  this.concurrency = options.concurrency || Infinity;\n  this.pending = 0;\n  this.jobs = [];\n  this.cbs = [];\n  this._done = done.bind(this);\n}\n\nvar arrayAddMethods = [\n  'push',\n  'unshift',\n  'splice'\n];\n\narrayAddMethods.forEach(function(method) {\n  Queue.prototype[method] = function() {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments);\n    this._run();\n    return methodResult;\n  };\n});\n\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function() {\n    return this.pending + this.jobs.length;\n  }\n});\n\nQueue.prototype._run = function() {\n  if (this.pending === this.concurrency) {\n    return;\n  }\n  if (this.jobs.length) {\n    var job = this.jobs.shift();\n    this.pending++;\n    job(this._done);\n    this._run();\n  }\n\n  if (this.pending === 0) {\n    while (this.cbs.length !== 0) {\n      var cb = this.cbs.pop();\n      process.nextTick(cb);\n    }\n  }\n};\n\nQueue.prototype.onDone = function(cb) {\n  if (typeof cb === 'function') {\n    this.cbs.push(cb);\n    this._run();\n  }\n};\n\nfunction done() {\n  this.pending--;\n  this._run();\n}\n\nmodule.exports = Queue;\n", "'use strict';\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat (list, totalLength) {\n  const target = Buffer.allocUnsafe(totalLength);\n  var offset = 0;\n\n  for (var i = 0; i < list.length; i++) {\n    const buf = list[i];\n    buf.copy(target, offset);\n    offset += buf.length;\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask (source, mask, output, offset, length) {\n  for (var i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask (buffer, mask) {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (var i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\ntry {\n  const bufferUtil = require('bufferutil');\n  const bu = bufferUtil.BufferUtil || bufferUtil;\n\n  module.exports = {\n    mask (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bu.mask(source, mask, output, offset, length);\n    },\n    unmask (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bu.unmask(buffer, mask);\n    },\n    concat\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = { concat, mask: _mask, unmask: _unmask };\n}\n", "'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  EMPTY_BUFFER: Buffer.alloc(0),\n  NOOP: () => {}\n};\n", "'use strict';\n\nconst Limiter = require('async-limiter');\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst constants = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst EMPTY_BLOCK = Buffer.from([0x00]);\n\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kWriteInProgress = Symbol('write-in-progress');\nconst kPendingClose = Symbol('pending-close');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} options.serverNoContextTakeover Request/accept disabling\n   *     of server context takeover\n   * @param {Boolean} options.clientNoContextTakeover Advertise/acknowledge\n   *     disabling of client context takeover\n   * @param {(Boolean|Number)} options.serverMaxWindowBits Request/confirm the\n   *     use of a custom server window size\n   * @param {(Boolean|Number)} options.clientMaxWindowBits Advertise support\n   *     for, or request, a custom client window size\n   * @param {Object} options.zlibDeflateOptions Options to pass to zlib on deflate\n   * @param {Object} options.zlibInflateOptions Options to pass to zlib on inflate\n   * @param {Number} options.threshold Size (in bytes) below which messages\n   *     should not be compressed\n   * @param {Number} options.concurrencyLimit The number of concurrent calls to\n   *     zlib\n   * @param {Boolean} isServer Create the instance in either server or client\n   *     mode\n   * @param {Number} maxPayload The maximum allowed message length\n   */\n  constructor (options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold = this._options.threshold !== undefined\n      ? this._options.threshold\n      : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency = this._options.concurrencyLimit !== undefined\n        ? this._options.concurrencyLimit\n        : 10;\n      zlibLimiter = new Limiter({ concurrency });\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName () {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer () {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept (configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup () {\n    if (this._inflate) {\n      if (this._inflate[kWriteInProgress]) {\n        this._inflate[kPendingClose] = true;\n      } else {\n        this._inflate.close();\n        this._inflate = null;\n      }\n    }\n    if (this._deflate) {\n      if (this._deflate[kWriteInProgress]) {\n        this._deflate[kPendingClose] = true;\n      } else {\n        this._deflate.close();\n        this._deflate = null;\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer (offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient (response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams (configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        var value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited by async-limiter.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress (data, fin, callback) {\n    zlibLimiter.push((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited by async-limiter.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress (data, fin, callback) {\n    zlibLimiter.push((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress (data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits = typeof this.params[key] !== 'number'\n        ? zlib.Z_DEFAULT_WINDOWBITS\n        : this.params[key];\n\n      this._inflate = zlib.createInflateRaw(\n        Object.assign({}, this._options.zlibInflateOptions, { windowBits })\n      );\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n    this._inflate[kWriteInProgress] = true;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (\n        (fin && this.params[`${endpoint}_no_context_takeover`]) ||\n        this._inflate[kPendingClose]\n      ) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kWriteInProgress] = false;\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress (data, fin, callback) {\n    if (!data || data.length === 0) {\n      process.nextTick(callback, null, EMPTY_BLOCK);\n      return;\n    }\n\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits = typeof this.params[key] !== 'number'\n        ? zlib.Z_DEFAULT_WINDOWBITS\n        : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw(\n        Object.assign(\n          // TODO deprecate memLevel/level and recommend zlibDeflateOptions instead\n          {\n            memLevel: this._options.memLevel,\n            level: this._options.level\n          },\n          this._options.zlibDeflateOptions,\n          { windowBits }\n        )\n      );\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      //\n      // `zlib.DeflateRaw` emits an `'error'` event only when an attempt to use\n      // it is made after it has already been closed. This cannot happen here,\n      // so we only add a listener for the `'data'` event.\n      //\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kWriteInProgress] = true;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      var data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      if (\n        (fin && this.params[`${endpoint}_no_context_takeover`]) ||\n        this._deflate[kPendingClose]\n      ) {\n        this._deflate.close();\n        this._deflate = null;\n      } else {\n        this._deflate[kWriteInProgress] = false;\n        this._deflate[kTotalLength] = 0;\n        this._deflate[kBuffers] = [];\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData (chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData (chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError][constants.kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError (err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[constants.kStatusCode] = 1007;\n  this[kCallback](err);\n}\n", "'use strict';\n\n/**\n * Class representing an event.\n *\n * @private\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} target A reference to the target to which the event was dispatched\n   */\n  constructor (type, target) {\n    this.target = target;\n    this.type = type;\n  }\n}\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n * @private\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (data, target) {\n    super('message', target);\n\n    this.data = data;\n  }\n}\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n * @private\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {Number} code The status code explaining why the connection is being closed\n   * @param {String} reason A human-readable string explaining why the connection is closing\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (code, reason, target) {\n    super('close', target);\n\n    this.wasClean = target._closeFrameReceived && target._closeFrameSent;\n    this.reason = reason;\n    this.code = code;\n  }\n}\n\n/**\n * Class representing an open event.\n *\n * @extends Event\n * @private\n */\nclass OpenEvent extends Event {\n  /**\n   * Create a new `OpenEvent`.\n   *\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (target) {\n    super('open', target);\n  }\n}\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n * @private\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {Object} error The error that generated this event\n   * @param {WebSocket} target A reference to the target to which the event was dispatched\n   */\n  constructor (error, target) {\n    super('error', target);\n\n    this.message = error.message;\n    this.error = error;\n  }\n}\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} method A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @public\n   */\n  addEventListener (method, listener) {\n    if (typeof listener !== 'function') return;\n\n    function onMessage (data) {\n      listener.call(this, new MessageEvent(data, this));\n    }\n\n    function onClose (code, message) {\n      listener.call(this, new CloseEvent(code, message, this));\n    }\n\n    function onError (error) {\n      listener.call(this, new ErrorEvent(error, this));\n    }\n\n    function onOpen () {\n      listener.call(this, new OpenEvent(this));\n    }\n\n    if (method === 'message') {\n      onMessage._listener = listener;\n      this.on(method, onMessage);\n    } else if (method === 'close') {\n      onClose._listener = listener;\n      this.on(method, onClose);\n    } else if (method === 'error') {\n      onError._listener = listener;\n      this.on(method, onError);\n    } else if (method === 'open') {\n      onOpen._listener = listener;\n      this.on(method, onOpen);\n    } else {\n      this.on(method, listener);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} method A string representing the event type to remove\n   * @param {Function} listener The listener to remove\n   * @public\n   */\n  removeEventListener (method, listener) {\n    const listeners = this.listeners(method);\n\n    for (var i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener || listeners[i]._listener === listener) {\n        this.removeListener(method, listeners[i]);\n      }\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n", "'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push (dest, name, elem) {\n  if (Object.prototype.hasOwnProperty.call(dest, name)) dest[name].push(elem);\n  else dest[name] = [elem];\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse (header) {\n  const offers = {};\n\n  if (header === undefined || header === '') return offers;\n\n  var params = {};\n  var mustUnescape = false;\n  var isEscaping = false;\n  var inQuotes = false;\n  var extensionName;\n  var paramName;\n  var start = -1;\n  var end = -1;\n\n  for (var i = 0; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20/* ' ' */|| code === 0x09/* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b/* ';' */ || code === 0x2c/* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = {};\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d/* '=' */&& start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22/* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c/* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        var value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, {});\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format (extensions) {\n  return Object.keys(extensions).map((extension) => {\n    var configurations = extensions[extension];\n    if (!Array.isArray(configurations)) configurations = [configurations];\n    return configurations.map((params) => {\n      return [extension].concat(Object.keys(params).map((k) => {\n        var values = params[k];\n        if (!Array.isArray(values)) values = [values];\n        return values.map((v) => v === true ? k : `${k}=${v}`).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}\n\nmodule.exports = { format, parse };\n", "'use strict';\n\ntry {\n  const isValidUTF8 = require('utf-8-validate');\n\n  exports.isValidUTF8 = typeof isValidUTF8 === 'object'\n    ? isValidUTF8.Validation.isValidUTF8 // utf-8-validate@<3.0.0\n    : isValidUTF8;\n} catch (e) /* istanbul ignore next */ {\n  exports.isValidUTF8 = () => true;\n}\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nexports.isValidStatusCode = (code) => {\n  return (\n    (code >= 1000 &&\n      code <= 1013 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n};\n", "'use strict';\n\nconst stream = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst bufferUtil = require('./buffer-util');\nconst validation = require('./validation');\nconst constants = require('./constants');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends stream.Writable\n */\nclass Receiver extends stream.Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {String} binaryType The type for binary data\n   * @param {Object} extensions An object containing the negotiated extensions\n   * @param {Number} maxPayload The maximum allowed message length\n   */\n  constructor (binaryType, extensions, maxPayload) {\n    super();\n\n    this._binaryType = binaryType || constants.BINARY_TYPES[0];\n    this[constants.kWebSocket] = undefined;\n    this._extensions = extensions || {};\n    this._maxPayload = maxPayload | 0;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   */\n  _write (chunk, encoding, cb) {\n    if (this._opcode === 0x08) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume (n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n\n      if (n >= buf.length) {\n        this._buffers.shift().copy(dst, dst.length - n);\n      } else {\n        buf.copy(dst, dst.length - n, 0, n);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop (cb) {\n    var err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default: // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo () {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(RangeError, 'RSV2 and RSV3 must be clear', true, 1002);\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(RangeError, 'RSV1 must be clear', true, 1002);\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(RangeError, 'RSV1 must be clear', true, 1002);\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(RangeError, 'invalid opcode 0', true, 1002);\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(RangeError, `invalid opcode ${this._opcode}`, true, 1002);\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(RangeError, 'FIN must be set', true, 1002);\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(RangeError, 'RSV1 must be clear', true, 1002);\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(RangeError, `invalid opcode ${this._opcode}`, true, 1002);\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16 () {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64 () {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength () {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(RangeError, 'Max payload size exceeded', false, 1009);\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask () {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData (cb) {\n    var data = constants.EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n      if (this._masked) bufferUtil.unmask(data, this._mask);\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its lenght is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress (data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(error(RangeError, 'Max payload size exceeded', false, 1009));\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage () {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        var data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = toBuffer(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(toBuffer(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data);\n      } else {\n        const buf = toBuffer(fragments, messageLength);\n\n        if (!validation.isValidUTF8(buf)) {\n          this._loop = false;\n          return error(Error, 'invalid UTF-8 sequence', true, 1007);\n        }\n\n        this.emit('message', buf.toString());\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage (data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, '');\n        this.end();\n      } else if (data.length === 1) {\n        return error(RangeError, 'invalid payload length 1', true, 1002);\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!validation.isValidStatusCode(code)) {\n          return error(RangeError, `invalid status code ${code}`, true, 1002);\n        }\n\n        const buf = data.slice(2);\n\n        if (!validation.isValidUTF8(buf)) {\n          return error(Error, 'invalid UTF-8 sequence', true, 1007);\n        }\n\n        this.emit('conclude', code, buf.toString());\n        this.end();\n      }\n\n      return;\n    }\n\n    if (this._opcode === 0x09) this.emit('ping', data);\n    else this.emit('pong', data);\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {(Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error (ErrorCtor, message, prefix, statusCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err[constants.kStatusCode] = statusCode;\n  return err;\n}\n\n/**\n * Makes a buffer from a list of fragments.\n *\n * @param {Buffer[]} fragments The list of fragments composing the message\n * @param {Number} messageLength The length of the message\n * @return {Buffer}\n * @private\n */\nfunction toBuffer (fragments, messageLength) {\n  if (fragments.length === 1) return fragments[0];\n  if (fragments.length > 1) return bufferUtil.concat(fragments, messageLength);\n  return constants.EMPTY_BUFFER;\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n */\nfunction toArrayBuffer (buf) {\n  if (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n", "'use strict';\n\nconst crypto = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst bufferUtil = require('./buffer-util');\nconst validation = require('./validation');\nconst constants = require('./constants');\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {net.Socket} socket The connection socket\n   * @param {Object} extensions An object containing the negotiated extensions\n   */\n  constructor (socket, extensions) {\n    this._extensions = extensions || {};\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {Buffer} data The data to frame\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} options.readOnly Specifies whether `data` can be modified\n   * @param {Boolean} options.fin Specifies whether or not to set the FIN bit\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Boolean} options.rsv1 Specifies whether or not to set the RSV1 bit\n   * @return {Buffer[]} The framed data as a list of `Buffer` instances\n   * @public\n   */\n  static frame (data, options) {\n    const merge = data.length < 1024 || (options.mask && options.readOnly);\n    var offset = options.mask ? 6 : 2;\n    var payloadLength = data.length;\n\n    if (data.length >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (data.length > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(data.length, 2);\n    } else if (payloadLength === 127) {\n      target.writeUInt32BE(0, 2);\n      target.writeUInt32BE(data.length, 6);\n    }\n\n    if (!options.mask) {\n      target[1] = payloadLength;\n      if (merge) {\n        data.copy(target, offset);\n        return [target];\n      }\n\n      return [target, data];\n    }\n\n    const mask = crypto.randomBytes(4);\n\n    target[1] = payloadLength | 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (merge) {\n      bufferUtil.mask(data, mask, target, offset, data.length);\n      return [target];\n    }\n\n    bufferUtil.mask(data, mask, data, 0, data.length);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {(Number|undefined)} code The status code component of the body\n   * @param {String} data The message component of the body\n   * @param {Boolean} mask Specifies whether or not to mask the message\n   * @param {Function} cb Callback\n   * @public\n   */\n  close (code, data, mask, cb) {\n    var buf;\n\n    if (code === undefined) {\n      buf = constants.EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !validation.isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || data === '') {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      buf = Buffer.allocUnsafe(2 + Buffer.byteLength(data));\n      buf.writeUInt16BE(code, 0);\n      buf.write(data, 2);\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doClose, buf, mask, cb]);\n    } else {\n      this.doClose(buf, mask, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a close message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback\n   * @private\n   */\n  doClose (data, mask, cb) {\n    this.sendFrame(Sender.frame(data, {\n      fin: true,\n      rsv1: false,\n      opcode: 0x08,\n      mask,\n      readOnly: false\n    }), cb);\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback\n   * @public\n   */\n  ping (data, mask, cb) {\n    var readOnly = true;\n\n    if (!Buffer.isBuffer(data)) {\n      if (data instanceof ArrayBuffer) {\n        data = Buffer.from(data);\n      } else if (ArrayBuffer.isView(data)) {\n        data = viewToBuffer(data);\n      } else {\n        data = Buffer.from(data);\n        readOnly = false;\n      }\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPing, data, mask, readOnly, cb]);\n    } else {\n      this.doPing(data, mask, readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a ping message.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Boolean} readOnly Specifies whether `data` can be modified\n   * @param {Function} cb Callback\n   * @private\n   */\n  doPing (data, mask, readOnly, cb) {\n    this.sendFrame(Sender.frame(data, {\n      fin: true,\n      rsv1: false,\n      opcode: 0x09,\n      mask,\n      readOnly\n    }), cb);\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback\n   * @public\n   */\n  pong (data, mask, cb) {\n    var readOnly = true;\n\n    if (!Buffer.isBuffer(data)) {\n      if (data instanceof ArrayBuffer) {\n        data = Buffer.from(data);\n      } else if (ArrayBuffer.isView(data)) {\n        data = viewToBuffer(data);\n      } else {\n        data = Buffer.from(data);\n        readOnly = false;\n      }\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPong, data, mask, readOnly, cb]);\n    } else {\n      this.doPong(data, mask, readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a pong message.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} mask Specifies whether or not to mask `data`\n   * @param {Boolean} readOnly Specifies whether `data` can be modified\n   * @param {Function} cb Callback\n   * @private\n   */\n  doPong (data, mask, readOnly, cb) {\n    this.sendFrame(Sender.frame(data, {\n      fin: true,\n      rsv1: false,\n      opcode: 0x0a,\n      mask,\n      readOnly\n    }), cb);\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} options.compress Specifies whether or not to compress `data`\n   * @param {Boolean} options.binary Specifies whether `data` is binary or text\n   * @param {Boolean} options.fin Specifies whether the fragment is the last one\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback\n   * @public\n   */\n  send (data, options, cb) {\n    var opcode = options.binary ? 2 : 1;\n    var rsv1 = options.compress;\n    var readOnly = true;\n\n    if (!Buffer.isBuffer(data)) {\n      if (data instanceof ArrayBuffer) {\n        data = Buffer.from(data);\n      } else if (ArrayBuffer.isView(data)) {\n        data = viewToBuffer(data);\n      } else {\n        data = Buffer.from(data);\n        readOnly = false;\n      }\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (rsv1 && perMessageDeflate) {\n        rsv1 = data.length >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        fin: options.fin,\n        rsv1,\n        opcode,\n        mask: options.mask,\n        readOnly\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(Sender.frame(data, {\n        fin: options.fin,\n        rsv1: false,\n        opcode,\n        mask: options.mask,\n        readOnly\n      }), cb);\n    }\n  }\n\n  /**\n   * Dispatches a data message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} compress Specifies whether or not to compress `data`\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} options.readOnly Specifies whether `data` can be modified\n   * @param {Boolean} options.fin Specifies whether or not to set the FIN bit\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Boolean} options.rsv1 Specifies whether or not to set the RSV1 bit\n   * @param {Function} cb Callback\n   * @private\n   */\n  dispatch (data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this._deflating = false;\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue () {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[1].length;\n      params[0].apply(this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue (params) {\n    this._bufferedBytes += params[1].length;\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} cb Callback\n   * @private\n   */\n  sendFrame (list, cb) {\n    if (list.length === 2) {\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Converts an `ArrayBuffer` view into a buffer.\n *\n * @param {(DataView|TypedArray)} view The view to convert\n * @return {Buffer} Converted view\n * @private\n */\nfunction viewToBuffer (view) {\n  const buf = Buffer.from(view.buffer);\n\n  if (view.byteLength !== view.buffer.byteLength) {\n    return buf.slice(view.byteOffset, view.byteOffset + view.byteLength);\n  }\n\n  return buf;\n}\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst crypto = require('crypto');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst url = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst EventTarget = require('./event-target');\nconst extension = require('./extension');\nconst constants = require('./constants');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\n\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst kWebSocket = constants.kWebSocket;\nconst protocolVersions = [8, 13];\nconst closeTimeout = 30 * 1000; // Allow 30 seconds to terminate the connection cleanly.\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|url.Url|url.URL)} address The URL to which to connect\n   * @param {(String|String[])} protocols The subprotocols\n   * @param {Object} options Connection options\n   */\n  constructor (address, protocols, options) {\n    super();\n\n    this.readyState = WebSocket.CONNECTING;\n    this.protocol = '';\n\n    this._binaryType = constants.BINARY_TYPES[0];\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = '';\n    this._closeTimer = null;\n    this._closeCode = 1006;\n    this._extensions = {};\n    this._isServer = true;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      if (Array.isArray(protocols)) {\n        protocols = protocols.join(', ');\n      } else if (typeof protocols === 'object' && protocols !== null) {\n        options = protocols;\n        protocols = undefined;\n      }\n\n      initAsClient.call(this, address, protocols, options);\n    }\n  }\n\n  get CONNECTING () { return WebSocket.CONNECTING; }\n  get CLOSING () { return WebSocket.CLOSING; }\n  get CLOSED () { return WebSocket.CLOSED; }\n  get OPEN () { return WebSocket.OPEN; }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the required\n   * default \"blob\" type (instead we define a custom \"nodebuffer\" type).\n   *\n   * @type {String}\n   */\n  get binaryType () {\n    return this._binaryType;\n  }\n\n  set binaryType (type) {\n    if (constants.BINARY_TYPES.indexOf(type) < 0) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount () {\n    if (!this._socket) return 0;\n\n    //\n    // `socket.bufferSize` is `undefined` if the socket is closed.\n    //\n    return (this._socket.bufferSize || 0) + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions () {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {net.Socket} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Number} maxPayload The maximum allowed message size\n   * @private\n   */\n  setSocket (socket, head, maxPayload) {\n    const receiver = new Receiver(\n      this._binaryType,\n      this._extensions,\n      maxPayload\n    );\n\n    this._sender = new Sender(socket, this._extensions);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this.readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose () {\n    this.readyState = WebSocket.CLOSED;\n\n    if (!this._socket) {\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} code Status code explaining why the connection is closing\n   * @param {String} data A string explaining why the connection is closing\n   * @public\n   */\n  close (code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (this._closeFrameSent && this._closeFrameReceived) this._socket.end();\n      return;\n    }\n\n    this.readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (this._socket.writable) {\n        if (this._closeFrameReceived) this._socket.end();\n\n        //\n        // Ensure that the connection is closed even if the closing handshake\n        // fails.\n        //\n        this._closeTimer = setTimeout(\n          this._socket.destroy.bind(this._socket),\n          closeTimeout\n        );\n      }\n    });\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} data The data to send\n   * @param {Boolean} mask Indicates whether or not to mask `data`\n   * @param {Function} cb Callback which is executed when the ping is sent\n   * @public\n   */\n  ping (data, mask, cb) {\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (this.readyState !== WebSocket.OPEN) {\n      const err = new Error(\n        `WebSocket is not open: readyState ${this.readyState} ` +\n          `(${readyStates[this.readyState]})`\n      );\n\n      if (cb) return cb(err);\n      throw err;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || constants.EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} data The data to send\n   * @param {Boolean} mask Indicates whether or not to mask `data`\n   * @param {Function} cb Callback which is executed when the pong is sent\n   * @public\n   */\n  pong (data, mask, cb) {\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (this.readyState !== WebSocket.OPEN) {\n      const err = new Error(\n        `WebSocket is not open: readyState ${this.readyState} ` +\n          `(${readyStates[this.readyState]})`\n      );\n\n      if (cb) return cb(err);\n      throw err;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || constants.EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} options.compress Specifies whether or not to compress `data`\n   * @param {Boolean} options.binary Specifies whether `data` is binary or text\n   * @param {Boolean} options.fin Specifies whether the fragment is the last one\n   * @param {Boolean} options.mask Specifies whether or not to mask `data`\n   * @param {Function} cb Callback which is executed when data is written out\n   * @public\n   */\n  send (data, options, cb) {\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (this.readyState !== WebSocket.OPEN) {\n      const err = new Error(\n        `WebSocket is not open: readyState ${this.readyState} ` +\n          `(${readyStates[this.readyState]})`\n      );\n\n      if (cb) return cb(err);\n      throw err;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    const opts = Object.assign({\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true\n    }, options);\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || constants.EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate () {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this.readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\nreadyStates.forEach((readyState, i) => {\n  WebSocket[readyStates[i]] = i;\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    /**\n     * Return the listener of the event.\n     *\n     * @return {(Function|undefined)} The event listener or `undefined`\n     * @public\n     */\n    get () {\n      const listeners = this.listeners(method);\n      for (var i = 0; i < listeners.length; i++) {\n        if (listeners[i]._listener) return listeners[i]._listener;\n      }\n    },\n    /**\n     * Add a listener for the event.\n     *\n     * @param {Function} listener The listener to add\n     * @public\n     */\n    set (listener) {\n      const listeners = this.listeners(method);\n      for (var i = 0; i < listeners.length; i++) {\n        //\n        // Remove only the listeners added via `addEventListener`.\n        //\n        if (listeners[i]._listener) this.removeListener(method, listeners[i]);\n      }\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = EventTarget.addEventListener;\nWebSocket.prototype.removeEventListener = EventTarget.removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {(String|url.Url|url.URL)} address The URL to which to connect\n * @param {String} protocols The subprotocols\n * @param {Object} options Connection options\n * @param {(Boolean|Object)} options.perMessageDeflate Enable/disable permessage-deflate\n * @param {Number} options.handshakeTimeout Timeout in milliseconds for the handshake request\n * @param {Number} options.protocolVersion Value of the `Sec-WebSocket-Version` header\n * @param {String} options.origin Value of the `Origin` or `Sec-WebSocket-Origin` header\n * @private\n */\nfunction initAsClient (address, protocols, options) {\n  options = Object.assign({\n    protocolVersion: protocolVersions[1],\n    perMessageDeflate: true\n  }, options, {\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: undefined,\n    auth: undefined,\n    host: undefined,\n    path: undefined,\n    port: undefined\n  });\n\n  if (protocolVersions.indexOf(options.protocolVersion) === -1) {\n    throw new RangeError(\n      `Unsupported protocol version: ${options.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  this._isServer = false;\n\n  var parsedUrl;\n\n  if (typeof address === 'object' && address.href !== undefined) {\n    parsedUrl = address;\n    this.url = address.href;\n  } else {\n    parsedUrl = url.parse(address);\n    this.url = address;\n  }\n\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\n\n  if (!parsedUrl.host && (!isUnixSocket || !parsedUrl.pathname)) {\n    throw new Error(`Invalid URL: ${this.url}`);\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:' || parsedUrl.protocol === 'https:';\n  const key = crypto.randomBytes(16).toString('base64');\n  const httpObj = isSecure ? https : http;\n  const path = parsedUrl.search\n    ? `${parsedUrl.pathname || '/'}${parsedUrl.search}`\n    : parsedUrl.pathname || '/';\n  var perMessageDeflate;\n\n  options.createConnection = isSecure ? tlsConnect : netConnect;\n  options.port = parsedUrl.port || (isSecure ? 443 : 80);\n  options.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  options.headers = Object.assign({\n    'Sec-WebSocket-Version': options.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    'Connection': 'Upgrade',\n    'Upgrade': 'websocket'\n  }, options.headers);\n  options.path = path;\n\n  if (options.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      options.perMessageDeflate !== true ? options.perMessageDeflate : {},\n      false\n    );\n    options.headers['Sec-WebSocket-Extensions'] = extension.format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols) {\n    options.headers['Sec-WebSocket-Protocol'] = protocols;\n  }\n  if (options.origin) {\n    if (options.protocolVersion < 13) {\n      options.headers['Sec-WebSocket-Origin'] = options.origin;\n    } else {\n      options.headers.Origin = options.origin;\n    }\n  }\n  if (parsedUrl.auth) {\n    options.auth = parsedUrl.auth;\n  } else if (parsedUrl.username || parsedUrl.password) {\n    options.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isUnixSocket) {\n    const parts = path.split(':');\n\n    if (options.agent == null && process.versions.modules < 57) {\n      //\n      // Setting `socketPath` in conjunction with `createConnection` without an\n      // agent throws an error on Node.js < 8. Work around the issue by using a\n      // different property.\n      //\n      options._socketPath = parts[0];\n    } else {\n      options.socketPath = parts[0];\n    }\n\n    options.path = parts[1];\n  }\n\n  var req = this._req = httpObj.get(options);\n\n  if (options.handshakeTimeout) {\n    req.setTimeout(\n      options.handshakeTimeout,\n      () => abortHandshake(this, req, 'Opening handshake has timed out')\n    );\n  }\n\n  req.on('error', (err) => {\n    if (this._req.aborted) return;\n\n    req = this._req = null;\n    this.readyState = WebSocket.CLOSING;\n    this.emit('error', err);\n    this.emitClose();\n  });\n\n  req.on('response', (res) => {\n    if (this.emit('unexpected-response', req, res)) return;\n\n    abortHandshake(this, req, `Unexpected server response: ${res.statusCode}`);\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    this.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the `upgrade`\n    // event.\n    //\n    if (this.readyState !== WebSocket.CONNECTING) return;\n\n    req = this._req = null;\n\n    const digest = crypto.createHash('sha1')\n      .update(key + constants.GUID, 'binary')\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(this, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    const protList = (protocols || '').split(/, */);\n    var protError;\n\n    if (!protocols && serverProt) {\n      protError = 'Server sent a subprotocol but none was requested';\n    } else if (protocols && !serverProt) {\n      protError = 'Server sent no subprotocol';\n    } else if (serverProt && protList.indexOf(serverProt) === -1) {\n      protError = 'Server sent an invalid subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(this, socket, protError);\n      return;\n    }\n\n    if (serverProt) this.protocol = serverProt;\n\n    if (perMessageDeflate) {\n      try {\n        const extensions = extension.parse(\n          res.headers['sec-websocket-extensions']\n        );\n\n        if (extensions[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(\n            extensions[PerMessageDeflate.extensionName]\n          );\n          this._extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        abortHandshake(this, socket, 'Invalid Sec-WebSocket-Extensions header');\n        return;\n      }\n    }\n\n    this.setSocket(socket, head, 0);\n  });\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect (options) {\n  options.path = options.socketPath || options._socketPath || undefined;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect (options) {\n  options.path = options.socketPath || options._socketPath || undefined;\n  options.servername = options.servername || options.host;\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket)} stream The request to abort or the\n *     socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake (websocket, stream, message) {\n  websocket.readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream.abort();\n    stream.once('abort', websocket.emitClose.bind(websocket));\n    websocket.emit('error', err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {String} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude (code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._socket.removeListener('data', socketOnData);\n  websocket._socket.resume();\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain () {\n  this[kWebSocket]._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError (err) {\n  const websocket = this[kWebSocket];\n\n  websocket._socket.removeListener('data', socketOnData);\n\n  websocket.readyState = WebSocket.CLOSING;\n  websocket._closeCode = err[constants.kStatusCode];\n  websocket.emit('error', err);\n  websocket._socket.destroy();\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish () {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The message\n * @private\n */\nfunction receiverOnMessage (data) {\n  this[kWebSocket].emit('message', data);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing (data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, constants.NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong (data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose () {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('end', socketOnEnd);\n\n  websocket.readyState = WebSocket.CLOSING;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk and emitted synchronously in a single\n  // `'data'` event.\n  //\n  websocket._socket.read();\n  websocket._receiver.end();\n\n  this.removeListener('data', socketOnData);\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData (chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd () {\n  const websocket = this[kWebSocket];\n\n  websocket.readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError () {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', constants.NOOP);\n\n  if (websocket) {\n    websocket.readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst crypto = require('crypto');\nconst http = require('http');\nconst url = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst extension = require('./extension');\nconst constants = require('./constants');\nconst WebSocket = require('./websocket');\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {String} options.host The hostname where to bind the server\n   * @param {Number} options.port The port where to bind the server\n   * @param {http.Server} options.server A pre-created HTTP/S server to use\n   * @param {Function} options.verifyClient An hook to reject connections\n   * @param {Function} options.handleProtocols An hook to handle protocols\n   * @param {String} options.path Accept only connections matching this path\n   * @param {Boolean} options.noServer Enable no server mode\n   * @param {Boolean} options.clientTracking Specifies whether or not to track clients\n   * @param {(Boolean|Object)} options.perMessageDeflate Enable/disable permessage-deflate\n   * @param {Number} options.maxPayload The maximum allowed message size\n   * @param {Function} callback A listener for the `listening` event\n   */\n  constructor (options, callback) {\n    super();\n\n    options = Object.assign({\n      maxPayload: 100 * 1024 * 1024,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null\n    }, options);\n\n    if (options.port == null && !options.server && !options.noServer) {\n      throw new TypeError(\n        'One of the \"port\", \"server\", or \"noServer\" options must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(options.port, options.host, options.backlog, callback);\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, (ws) => {\n            this.emit('connection', ws, req);\n          });\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) this.clients = new Set();\n    this.options = options;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address () {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Close the server.\n   *\n   * @param {Function} cb Callback\n   * @public\n   */\n  close (cb) {\n    //\n    // Terminate all associated clients.\n    //\n    if (this.clients) {\n      for (const client of this.clients) client.terminate();\n    }\n\n    const server = this._server;\n\n    if (server) {\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // Close the http server if it was internally created.\n      //\n      if (this.options.port != null) return server.close(cb);\n    }\n\n    if (cb) cb();\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle (req) {\n    if (this.options.path && url.parse(req.url).pathname !== this.options.path) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {net.Socket} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade (req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const version = +req.headers['sec-websocket-version'];\n    const extensions = {};\n\n    if (\n      req.method !== 'GET' || req.headers.upgrade.toLowerCase() !== 'websocket' ||\n      !req.headers['sec-websocket-key'] || (version !== 8 && version !== 13) ||\n      !this.shouldHandle(req)\n    ) {\n      return abortHandshake(socket, 400);\n    }\n\n    if (this.options.perMessageDeflate) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(\n          req.headers['sec-websocket-extensions']\n        );\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        return abortHandshake(socket, 400);\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin: req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.connection.authorized || req.connection.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(extensions, req, socket, head, cb);\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {http.IncomingMessage} req The request object\n   * @param {net.Socket} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @private\n   */\n  completeUpgrade (extensions, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    const key = crypto.createHash('sha1')\n      .update(req.headers['sec-websocket-key'] + constants.GUID, 'binary')\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${key}`\n    ];\n\n    const ws = new WebSocket(null);\n    var protocol = req.headers['sec-websocket-protocol'];\n\n    if (protocol) {\n      protocol = protocol.split(',').map(trim);\n\n      //\n      // Optionally call external protocol selection handler.\n      //\n      if (this.options.handleProtocols) {\n        protocol = this.options.handleProtocols(protocol, req);\n      } else {\n        protocol = protocol[0];\n      }\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws.protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, this.options.maxPayload);\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => this.clients.delete(ws));\n    }\n\n    cb(ws);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when called\n * @private\n */\nfunction addListeners (server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners () {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Handle premature socket errors.\n *\n * @private\n */\nfunction socketOnError () {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {net.Socket} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake (socket, code, message, headers) {\n  if (socket.writable) {\n    message = message || http.STATUS_CODES[code];\n    headers = Object.assign({\n      'Connection': 'close',\n      'Content-type': 'text/html',\n      'Content-Length': Buffer.byteLength(message)\n    }, headers);\n\n    socket.write(\n      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers).map(h => `${h}: ${headers[h]}`).join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n    );\n  }\n\n  socket.removeListener('error', socketOnError);\n  socket.destroy();\n}\n\n/**\n * Remove whitespace characters from both ends of a string.\n *\n * @param {String} str The string\n * @return {String} A new string representing `str` stripped of whitespace\n *     characters from both its beginning and end\n * @private\n */\nfunction trim(str) {\n  return str.trim();\n}\n", "'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nmodule.exports = WebSocket;\n", "/*!\n * @license Copyright 2021, Ably\n * \n * Ably JavaScript Library v1.2.17\n * https://github.com/ably/ably-js\n * \n * Ably Realtime Messaging\n * https://www.ably.com\n * \n * Released under the Apache Licence v2.0\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"got\"), require(\"ws\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"got\", \"ws\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ably\"] = factory(require(\"got\"), require(\"ws\"));\n\telse\n\t\troot[\"Ably\"] = factory(root[\"got\"], root[\"ws\"]);\n})(global, function(__WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__11__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nexports.__esModule = true;\nvar Defaults = {\n    internetUpUrl: 'https://internet-up.ably-realtime.com/is-the-internet-up.txt',\n    /* Note: order matters here: the base transport is the leftmost one in the\n    * intersection of baseTransportOrder and the transports clientOption that's supported.\n    * (For node this is the same as the transportPreferenceOrder, but for\n    * browsers it's different*/\n    defaultTransports: ['web_socket'],\n    baseTransportOrder: ['comet', 'web_socket'],\n    transportPreferenceOrder: ['comet', 'web_socket'],\n    upgradeTransports: ['web_socket'],\n    restAgentOptions: { maxSockets: 40, keepAlive: true },\n    agent: 'nodejs/' + process.versions.node\n};\nexports[\"default\"] = Defaults;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"buffer\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"crypto\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"util\");\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function (root, factory) {\n\tif (true) {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse {}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && \"function\" === 'function') {\n\t        try {\n\t            crypto = __webpack_require__(2);\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"http\");\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"https\");\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__7__;\n\n/***/ }),\n/* 8 */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"a\\\":\\\"1.2.17\\\"}\");\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function (root, factory) {\n\tif (true) {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(__webpack_require__(4), __webpack_require__(23), __webpack_require__(24));\n\t}\n\telse {}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function (root, factory) {\n\tif (true) {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(__webpack_require__(4));\n\t}\n\telse {}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        }\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__11__;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bops = __webpack_require__(13);\n\nexports.encode = function (value, sparse) {\n  var size = sizeof(value, sparse)\n  if(size == 0)\n    return undefined\n  var buffer = bops.create(size);\n  encode(value, buffer, 0, sparse);\n  return buffer;\n};\n\nexports.decode = decode;\n\nvar SH_L_32 = (1 << 16) * (1 << 16), SH_R_32 = 1 / SH_L_32;\nfunction readInt64BE(buf, offset) {\n\toffset = offset || 0;\n\treturn buf.readInt32BE(offset + 0) * SH_L_32 + buf.readUInt32BE(offset + 4);\n}\n\nfunction readUInt64BE(buf, offset) {\n\toffset = offset || 0;\n\treturn buf.readUInt32BE(offset + 0) * SH_L_32 + buf.readUInt32BE(offset + 4);\n}\n\nfunction writeInt64BE(buf, val, offset) {\n    if (val < 0x8000000000000000) {\n        buf.writeInt32BE(Math.floor(val * SH_R_32), offset);\n        buf.writeInt32BE(val & -1, offset + 4);\n    } else {\n        buf.writeUInt32BE(0x7fffffff, offset);\n        buf.writeUInt32BE(0xffffffff, offset + 4);\n    }\n}\n\nfunction writeUInt64BE(buf, val, offset) {\n    if (val < 0x10000000000000000) {\n        buf.writeUInt32BE(Math.floor(val * SH_R_32), offset);\n        buf.writeInt32BE(val & -1, offset + 4);\n    } else {\n        buf.writeUInt32BE(0xffffffff, offset);\n        buf.writeUInt32BE(0xffffffff, offset + 4);\n    }\n}\n\n// https://gist.github.com/frsyuki/5432559 - v5 spec\n//\n// I've used one extension point from `fixext 1` to store `undefined`. On the wire this\n// should translate to exactly 0xd40000 \n//\n// +--------+--------+--------+\n// |  0xd4  |  0x00  |  0x00  |\n// +--------+--------+--------+\n//    ^ fixext |        ^ value part unused (fixed to be 0)\n//             ^ indicates undefined value\n//\n\nfunction Decoder(buffer, offset) {\n  this.offset = offset || 0;\n  this.buffer = buffer;\n  this.bufferLength = buffer.length\n}\nDecoder.prototype.map = function (length) {\n  /* minimal map: every key and value is one byte */\n  if((length * 2) > this.bufferLength) {\n    throw new Error(`malformed messagepack detected: buffer size was ${this.bufferLength}, but referenced a map of length ${length})`);\n  }\n  var value = {};\n  for (var i = 0; i < length; i++) {\n    var key = this.parse();\n    value[key] = this.parse();\n  }\n  return value;\n};\nDecoder.prototype.bin = Decoder.prototype.buf = function (length) {\n  if(length > this.bufferLength) {\n    throw new Error(`malformed messagepack detected: buffer size was ${this.bufferLength}, but referenced a binary of length ${length})`);\n  }\n  var value = bops.subarray(this.buffer, this.offset, this.offset + length);\n  this.offset += length;\n  return value;\n};\nDecoder.prototype.str = function (length) {\n  if(length > this.bufferLength) {\n    throw new Error(`malformed messagepack detected: buffer size was ${this.bufferLength}, but referenced a string of length ${length})`);\n  }\n  var value = bops.to(bops.subarray(this.buffer, this.offset, this.offset + length));\n  this.offset += length;\n  return value;\n};\nDecoder.prototype.array = function (length) {\n  if(length > this.bufferLength) {\n    throw new Error(`malformed messagepack detected: buffer size was ${this.bufferLength}, but referenced an array of length ${length})`);\n  }\n  var value = new Array(length);\n  for (var i = 0; i < length; i++) {\n    value[i] = this.parse();\n  }\n  return value;\n};\nDecoder.prototype.parse = function () {\n  var type = this.buffer[this.offset];\n  var value, length, extType;\n\n  if (type === undefined) {\n    throw new Error('malformed messagepack (referenced offset is outside buffer)');\n  }\n\n  // Positive FixInt\n  if ((type & 0x80) === 0x00) {\n    this.offset++;\n    return type;\n  }\n  // FixMap\n  if ((type & 0xf0) === 0x80) {\n    length = type & 0x0f;\n    this.offset++;\n    return this.map(length);\n  }\n  // FixArray\n  if ((type & 0xf0) === 0x90) {\n    length = type & 0x0f;\n    this.offset++;\n    return this.array(length);\n  }\n  // FixStr\n  if ((type & 0xe0) === 0xa0) {\n    length = type & 0x1f;\n    this.offset++;\n    return this.str(length);\n  }\n  // Negative FixInt\n  if ((type & 0xe0) === 0xe0) {\n    value = bops.readInt8(this.buffer, this.offset);\n    this.offset++;\n    return value;\n  }\n  switch (type) {\n  // nil\n  case 0xc0:\n    this.offset++;\n    return null;\n  // 0xc1: (never used)\n  // false\n  case 0xc2:\n    this.offset++;\n    return false;\n  // true\n  case 0xc3:\n    this.offset++;\n    return true;\n  // bin 8\n  case 0xc4:\n    length = bops.readUInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return this.bin(length);\n  // bin 16\n  case 0xc5:\n    length = bops.readUInt16BE(this.buffer, this.offset + 1);\n    this.offset += 3;\n    return this.bin(length);\n  // bin 32\n  case 0xc6:\n    length = bops.readUInt32BE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return this.bin(length);\n  // ext 8\n  case 0xc7:\n    length = bops.readUInt8(this.buffer, this.offset + 1);\n    extType = bops.readUInt8(this.buffer, this.offset + 2);\n    this.offset += 3;\n    return [extType, this.bin(length)];\n  // ext 16\n  case 0xc8:\n    length = bops.readUInt16BE(this.buffer, this.offset + 1);\n    extType = bops.readUInt8(this.buffer, this.offset + 3);\n    this.offset += 4;\n    return [extType, this.bin(length)];\n  // ext 32\n  case 0xc9:\n    length = bops.readUInt32BE(this.buffer, this.offset + 1);\n    extType = bops.readUInt8(this.buffer, this.offset + 5);\n    this.offset += 6;\n    return [extType, this.bin(length)];\n  // float 32\n  case 0xca:\n    value = bops.readFloatBE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return value;\n  // float 64 / double\n  case 0xcb:\n    value = bops.readDoubleBE(this.buffer, this.offset + 1);\n    this.offset += 9;\n    return value;\n  // uint8\n  case 0xcc:\n    value = this.buffer[this.offset + 1];\n    this.offset += 2;\n    return value;\n  // uint 16\n  case 0xcd:\n    value = bops.readUInt16BE(this.buffer, this.offset + 1);\n    this.offset += 3;\n    return value;\n  // uint 32\n  case 0xce:\n    value = bops.readUInt32BE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return value;\n  // uint64\n  case 0xcf:\n    value = readUInt64BE(this.buffer, this.offset + 1);\n    this.offset += 9;\n    return value;\n  // int 8\n  case 0xd0:\n    value = bops.readInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return value;\n  // int 16\n  case 0xd1:\n    value = bops.readInt16BE(this.buffer, this.offset + 1);\n    this.offset += 3;\n    return value;\n  // int 32\n  case 0xd2:\n    value = bops.readInt32BE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return value;\n  // int 64\n  case 0xd3:\n    value = readInt64BE(this.buffer, this.offset + 1);\n    this.offset += 9;\n    return value;\n\n  // fixext 1 / undefined\n  case 0xd4:\n    extType = bops.readUInt8(this.buffer, this.offset + 1);\n    value = bops.readUInt8(this.buffer, this.offset + 2);\n    this.offset += 3;\n    return (extType === 0 && value === 0) ? undefined : [extType, value];\n  // fixext 2\n  case 0xd5:\n    extType = bops.readUInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return [extType, this.bin(2)];\n  // fixext 4\n  case 0xd6:\n    extType = bops.readUInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return [extType, this.bin(4)];\n  // fixext 8\n  case 0xd7:\n    extType = bops.readUInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return [extType, this.bin(8)];\n  // fixext 16\n  case 0xd8:\n    extType = bops.readUInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return [extType, this.bin(16)];\n  // str 8\n  case 0xd9:\n    length = bops.readUInt8(this.buffer, this.offset + 1);\n    this.offset += 2;\n    return this.str(length);\n  // str 16\n  case 0xda:\n    length = bops.readUInt16BE(this.buffer, this.offset + 1);\n    this.offset += 3;\n    return this.str(length);\n  // str 32\n  case 0xdb:\n    length = bops.readUInt32BE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return this.str(length);\n  // array 16\n  case 0xdc:\n    length = bops.readUInt16BE(this.buffer, this.offset + 1);\n    this.offset += 3;\n    return this.array(length);\n  // array 32\n  case 0xdd:\n    length = bops.readUInt32BE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return this.array(length);\n  // map 16:\n  case 0xde:\n    length = bops.readUInt16BE(this.buffer, this.offset + 1);\n    this.offset += 3;\n    return this.map(length);\n  // map 32\n  case 0xdf:\n    length = bops.readUInt32BE(this.buffer, this.offset + 1);\n    this.offset += 5;\n    return this.map(length);\n  }\n\n  throw new Error(\"Unknown type 0x\" + type.toString(16));\n};\nfunction decode(buffer) {\n  var decoder = new Decoder(buffer);\n  var value = decoder.parse();\n  if (decoder.offset !== buffer.length) throw new Error((buffer.length - decoder.offset) + \" trailing bytes\");\n  return value;\n}\n\nfunction encodeableKeys (value, sparse) {\n  return Object.keys(value).filter(function (e) {\n    var val = value[e], type = typeof(val);\n    return (!sparse || (val !== undefined && val !== null)) && ('function' !== type || !!val.toJSON);\n  })\n}\n\nfunction encode(value, buffer, offset, sparse, isMapElement) {\n  var type = typeof value;\n  var length, size;\n\n  // Strings Bytes\n  if (type === \"string\") {\n    value = bops.from(value);\n    length = value.length;\n    // fixstr\n    if (length < 0x20) {\n      buffer[offset] = length | 0xa0;\n      bops.copy(value, buffer, offset + 1);\n      return 1 + length;\n    }\n    // str 8\n    if (length < 0x100) {\n      buffer[offset] = 0xd9;\n      bops.writeUInt8(buffer, length, offset + 1);\n      bops.copy(value, buffer, offset + 2);\n      return 2 + length;\n    }\n    // str 16\n    if (length < 0x10000) {\n      buffer[offset] = 0xda;\n      bops.writeUInt16BE(buffer, length, offset + 1);\n      bops.copy(value, buffer, offset + 3);\n      return 3 + length;\n    }\n    // str 32\n    if (length < 0x100000000) {\n      buffer[offset] = 0xdb;\n      bops.writeUInt32BE(buffer, length, offset + 1);\n      bops.copy(value, buffer, offset + 5);\n      return 5 + length;\n    }\n  }\n\n  if (bops.is(value)) {\n    length = value.length;\n    // bin 8\n    if (length < 0x100) {\n      buffer[offset] = 0xc4;\n      bops.writeUInt8(buffer, length, offset + 1);\n      bops.copy(value, buffer, offset + 2);\n      return 2 + length;\n    }\n    // bin 16\n    if (length < 0x10000) {\n      buffer[offset] = 0xc5;\n      bops.writeUInt16BE(buffer, length, offset + 1);\n      bops.copy(value, buffer, offset + 3);\n      return 3 + length;\n    }\n    // bin 32\n    if (length < 0x100000000) {\n      buffer[offset] = 0xc6;\n      bops.writeUInt32BE(buffer, length, offset + 1);\n      bops.copy(value, buffer, offset + 5);\n      return 5 + length;\n    }\n  }\n\n  if (type === \"number\") {\n    // Floating Point\n    if (Math.floor(value) !== value) {\n      buffer[offset] =  0xcb;\n      bops.writeDoubleBE(buffer, value, offset + 1);\n      return 9;\n    }\n\n    // Integers\n    if (value >=0) {\n      // positive fixnum\n      if (value < 0x80) {\n        buffer[offset] = value;\n        return 1;\n      }\n      // uint 8\n      if (value < 0x100) {\n        buffer[offset] = 0xcc;\n        buffer[offset + 1] = value;\n        return 2;\n      }\n      // uint 16\n      if (value < 0x10000) {\n        buffer[offset] = 0xcd;\n        bops.writeUInt16BE(buffer, value, offset + 1);\n        return 3;\n      }\n      // uint 32\n      if (value < 0x100000000) {\n        buffer[offset] = 0xce;\n        bops.writeUInt32BE(buffer, value, offset + 1);\n        return 5;\n      }\n      // uint 64\n      if (value < 0x10000000000000000) {\n        buffer[offset] = 0xcf;\n        writeUInt64BE(buffer, value, offset + 1);\n        return 9;\n      }\n      throw new Error(\"Number too big 0x\" + value.toString(16));\n    }\n    // negative fixnum\n    if (value >= -0x20) {\n      bops.writeInt8(buffer, value, offset);\n      return 1;\n    }\n    // int 8\n    if (value >= -0x80) {\n      buffer[offset] = 0xd0;\n      bops.writeInt8(buffer, value, offset + 1);\n      return 2;\n    }\n    // int 16\n    if (value >= -0x8000) {\n      buffer[offset] = 0xd1;\n      bops.writeInt16BE(buffer, value, offset + 1);\n      return 3;\n    }\n    // int 32\n    if (value >= -0x80000000) {\n      buffer[offset] = 0xd2;\n      bops.writeInt32BE(buffer, value, offset + 1);\n      return 5;\n    }\n    // int 64\n    if (value >= -0x8000000000000000) {\n      buffer[offset] = 0xd3;\n      writeInt64BE(buffer, value, offset + 1);\n      return 9;\n    }\n    throw new Error(\"Number too small -0x\" + value.toString(16).substr(1));\n  }\n\n  if (type === \"undefined\") {\n    if(sparse && isMapElement) return 0;\n    buffer[offset] = 0xd4;\n    buffer[offset + 1] = 0x00; // fixext special type/value\n    buffer[offset + 2] = 0x00;\n    return 3;\n  }\n\n  // null\n  if (value === null) {\n    if(sparse && isMapElement) return 0;\n    buffer[offset] = 0xc0;\n    return 1;\n  }\n\n  // Boolean\n  if (type === \"boolean\") {\n    buffer[offset] = value ? 0xc3 : 0xc2;\n    return 1;\n  }\n\n  if('function' === typeof value.toJSON)\n    return encode(value.toJSON(), buffer, offset, sparse)\n\n  // Container Types\n  if (type === \"object\") {\n\n    size = 0;\n    var isArray = Array.isArray(value);\n\n    if (isArray) {\n      length = value.length;\n    }\n    else {\n      var keys = encodeableKeys(value, sparse)\n      length = keys.length;\n    }\n\n    // fixarray\n    if (length < 0x10) {\n      buffer[offset] = length | (isArray ? 0x90 : 0x80);\n      size = 1;\n    }\n    // array 16 / map 16\n    else if (length < 0x10000) {\n      buffer[offset] = isArray ? 0xdc : 0xde;\n      bops.writeUInt16BE(buffer, length, offset + 1);\n      size = 3;\n    }\n    // array 32 / map 32\n    else if (length < 0x100000000) {\n      buffer[offset] = isArray ? 0xdd : 0xdf;\n      bops.writeUInt32BE(buffer, length, offset + 1);\n      size = 5;\n    }\n\n    if (isArray) {\n      for (var i = 0; i < length; i++) {\n        size += encode(value[i], buffer, offset + size, sparse);\n      }\n    }\n    else {\n      for (var i = 0; i < length; i++) {\n        var key = keys[i];\n        size += encode(key, buffer, offset + size);\n        size += encode(value[key], buffer, offset + size, sparse, true);\n      }\n    }\n\n    return size;\n  }\n  if(type === \"function\")\n    return undefined\n  throw new Error(\"Unknown type \" + type);\n}\n\nfunction sizeof(value, sparse, isMapElement) {\n  var type = typeof value;\n  var length, size;\n\n  // Raw Bytes\n  if (type === \"string\") {\n    // TODO: this creates a throw-away buffer which is probably expensive on browsers.\n    length = bops.from(value).length;\n    if (length < 0x20) {\n      return 1 + length;\n    }\n    if (length < 0x100) {\n      return 2 + length;\n    }\n    if (length < 0x10000) {\n      return 3 + length;\n    }\n    if (length < 0x100000000) {\n      return 5 + length;\n    }\n  }\n\n  if (bops.is(value)) {\n    length = value.length;\n    if (length < 0x100) {\n      return 2 + length;\n    }\n    if (length < 0x10000) {\n      return 3 + length;\n    }\n    if (length < 0x100000000) {\n      return 5 + length;\n    }\n  }\n\n  if (type === \"number\") {\n    // Floating Point\n    // double\n    if (Math.floor(value) !== value) return 9;\n\n    // Integers\n    if (value >=0) {\n      // positive fixnum\n      if (value < 0x80) return 1;\n      // uint 8\n      if (value < 0x100) return 2;\n      // uint 16\n      if (value < 0x10000) return 3;\n      // uint 32\n      if (value < 0x100000000) return 5;\n      // uint 64\n      if (value < 0x10000000000000000) return 9;\n      throw new Error(\"Number too big 0x\" + value.toString(16));\n    }\n    // negative fixnum\n    if (value >= -0x20) return 1;\n    // int 8\n    if (value >= -0x80) return 2;\n    // int 16\n    if (value >= -0x8000) return 3;\n    // int 32\n    if (value >= -0x80000000) return 5;\n    // int 64\n    if (value >= -0x8000000000000000) return 9;\n    throw new Error(\"Number too small -0x\" + value.toString(16).substr(1));\n  }\n\n  // Boolean\n  if (type === \"boolean\") return 1;\n\n  // undefined, null\n  if (value === null) return (sparse && isMapElement) ? 0 : 1;\n  if (value === undefined) return (sparse && isMapElement) ? 0 : 3;\n\n  if('function' === typeof value.toJSON)\n    return sizeof(value.toJSON(), sparse)\n\n  // Container Types\n  if (type === \"object\") {\n\n    size = 0;\n    if (Array.isArray(value)) {\n      length = value.length;\n      for (var i = 0; i < length; i++) {\n        size += sizeof(value[i], sparse);\n      }\n    }\n    else {\n      var keys = encodeableKeys(value, sparse)\n      length = keys.length;\n      for (var i = 0; i < length; i++) {\n        var key = keys[i];\n        size += sizeof(key) + sizeof(value[key], sparse, true);\n      }\n    }\n    if (length < 0x10) {\n      return 1 + size;\n    }\n    if (length < 0x10000) {\n      return 3 + size;\n    }\n    if (length < 0x100000000) {\n      return 5 + size;\n    }\n    throw new Error(\"Array or object too long 0x\" + length.toString(16));\n  }\n  if(type === \"function\")\n    return 0\n  throw new Error(\"Unknown type \" + type);\n}\n\n\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar proto = {}\nmodule.exports = proto\n\nproto.from = __webpack_require__(14)\nproto.to = __webpack_require__(15)\nproto.is = __webpack_require__(16)\nproto.subarray = __webpack_require__(17)\nproto.join = __webpack_require__(18)\nproto.copy = __webpack_require__(19)\nproto.create = __webpack_require__(20)\n\nmix(__webpack_require__(21), proto)\nmix(__webpack_require__(22), proto)\n\nfunction mix(from, into) {\n  for(var key in from) {\n    into[key] = from[key]\n  }\n}\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Buffer = __webpack_require__(1).Buffer\n\nmodule.exports = function(source, encoding) {\n  return new Buffer(source, encoding)\n}\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(source, encoding) {\n  return source.toString(encoding)\n}\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Buffer = __webpack_require__(1).Buffer\n\nmodule.exports = function(buffer) {\n  return Buffer.isBuffer(buffer);\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(source, from, to) {\n  return arguments.length === 2 ?\n    source.slice(from) :\n    source.slice(from, to)\n}\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Buffer = __webpack_require__(1).Buffer\n\nmodule.exports = function(targets, hint) {\n  return hint !== undefined ?\n    Buffer.concat(targets, hint) :\n    Buffer.concat(targets)\n}\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = copy\n\nfunction copy(source, target, target_start, source_start, source_end) {\n  return source.copy(target, target_start, source_start, source_end)\n}\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = create\n\nvar Buffer = __webpack_require__(1).Buffer\n\nfunction create(size) {\n  return new Buffer(size)\n}\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar proto = {}\n  , rex = /read.+/\n  , buildFn\n\nbuildFn = function(key) {\n  var code = '' +\n    'return buf.' + key + '(' + ['a', 'b', 'c'].join(',' ) + ')'\n\n  return new Function(['buf', 'a', 'b', 'c'], code)\n}\n\nmodule.exports = proto\n\nfor(var key in Buffer.prototype) {\n  if(rex.test(key)) {\n    proto[key] = buildFn(key)\n  }\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Buffer = __webpack_require__(1).Buffer\n\nvar proto = {}\n  , rex = /write.+/\n  , buildFn\n\nbuildFn = function(key) {\n  var code = '' +\n    'return buf.' + key + '(' + ['a', 'b', 'c'].join(',' ) + ')'\n\n  return new Function(['buf', 'a', 'b', 'c'], code)\n}\n\nmodule.exports = proto\n\nfor(var key in Buffer.prototype) {\n  if(rex.test(key)) {\n    proto[key] = buildFn(key)\n  }\n}\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function (root, factory) {\n\tif (true) {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(__webpack_require__(4));\n\t}\n\telse {}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function (root, factory) {\n\tif (true) {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(__webpack_require__(4));\n\t}\n\telse {}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"url\");\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./nodejs/platform.js\nvar Platform = {\n\tagent: 'nodejs/' + process.versions.node,\n\tlogTimestamps: true,\n\tuserAgent: null,\n\tbinaryType: 'nodebuffer',\n\tWebSocket: __webpack_require__(11),\n\tuseProtocolHeartbeats: false,\n\tcreateHmac: __webpack_require__(2).createHmac,\n\tmsgpack: __webpack_require__(12),\n\tsupportsBinary: true,\n\tpreferBinary: true,\n\tnextTick: process.nextTick,\n\tinspect: __webpack_require__(3).inspect,\n\tstringByteSize: Buffer.byteLength,\n\tinherits: __webpack_require__(3).inherits,\n\taddEventListener: null,\n\tgetRandomValues: function(arr, callback) {\n\t\tvar bytes = __webpack_require__(2).randomBytes(arr.length);\n\t\tarr.set(bytes);\n\t\tif(callback) {\n\t\t\tcallback(null);\n\t\t}\n\t},\n\tPromise: global && global.Promise\n};\n\n/* harmony default export */ var platform = (Platform);\n\n// EXTERNAL MODULE: ./nodejs/lib/util/defaults.ts\nvar defaults = __webpack_require__(0);\nvar defaults_default = /*#__PURE__*/__webpack_require__.n(defaults);\n\n// CONCATENATED MODULE: ./nodejs/lib/util/bufferutils.js\nvar BufferUtils = (function() {\n\tfunction BufferUtils() {}\n\n\tfunction isArrayBuffer(ob) { return ob !== null && ob !== undefined && ob.constructor === ArrayBuffer; }\n\n\t/* In node, BufferUtils methods that return binary objects return a Buffer\n\t * for historical reasons; the browser equivalents return ArrayBuffers */\n\tvar isBuffer = BufferUtils.isBuffer = function(buf) { return Buffer.isBuffer(buf) || isArrayBuffer(buf) || ArrayBuffer.isView(buf); };\n\n\tvar toBuffer = BufferUtils.toBuffer = function(buf) {\n\t\tif(Buffer.isBuffer(buf)) {\n\t\t\treturn buf;\n\t\t}\n\t\treturn Buffer.from(buf);\n\t};\n\n\tBufferUtils.toArrayBuffer = function(buf) { return toBuffer(buf).buffer; };\n\n\tBufferUtils.base64Encode = function(buf) { return toBuffer(buf).toString('base64'); };\n\n\tBufferUtils.base64Decode = function(string) { return Buffer.from(string, 'base64'); };\n\n\tBufferUtils.hexEncode = function(buf) { return toBuffer(buf).toString('hex'); };\n\n\tBufferUtils.hexDecode = function(string) { return Buffer.from(string, 'hex'); };\n\n\tBufferUtils.utf8Encode = function(string) { return Buffer.from(string, 'utf8'); };\n\n\t/* For utf8 decoding we apply slightly stricter input validation than to\n\t * hexEncode/base64Encode/etc: in those we accept anything that Buffer.from\n\t * can take (in particular allowing strings, which are just interpreted as\n\t * binary); here we ensure that the input is actually a buffer since trying\n\t * to utf8-decode a string to another string is almost certainly a mistake */\n\tBufferUtils.utf8Decode = function(buf) {\n\t\tif(!isBuffer(buf)) {\n\t\t\tthrow new Error(\"Expected input of utf8Decode to be a buffer, arraybuffer, or view\");\n\t\t}\n\t\treturn toBuffer(buf).toString('utf8');\n\t};\n\n\tBufferUtils.bufferCompare = function(buf1, buf2) {\n\t\tif(!buf1) return -1;\n\t\tif(!buf2) return 1;\n\t\treturn buf1.compare(buf2);\n\t};\n\n\tBufferUtils.byteLength = function(buffer) {\n\t\treturn buffer.byteLength;\n\t};\n\n\t/* Returns ArrayBuffer on browser and Buffer on Node.js */\n\tBufferUtils.typedArrayToBuffer = function(typedArray) {\n\t\treturn toBuffer(typedArray.buffer);\n\t};\n\n\treturn BufferUtils;\n})();\n\n/* harmony default export */ var bufferutils = (BufferUtils);\n\n// CONCATENATED MODULE: ./common/lib/util/logger.js\n\n\nvar logger_Logger = (function() {\n\tvar consoleLogger, errorLogger;\n\n\t/* Can't just check for console && console.log; fails in IE <=9 */\n\tif((typeof Window === 'undefined' && typeof WorkerGlobalScope === 'undefined') /* node */ ||\n\t\t (global.console && global.console.log && (typeof global.console.log.apply === 'function')) /* sensible browsers */) {\n\t\tconsoleLogger = function() { console.log.apply(console, arguments); };\n\t\terrorLogger = console.warn ? function() { console.warn.apply(console, arguments); } : consoleLogger;\n\t} else if(global.console && global.console.log) {\n\t\t/* IE <= 9 with the console open -- console.log does not\n\t\t * inherit from Function, so has no apply method */\n\t\tconsoleLogger = errorLogger = function() { Function.prototype.apply.call(console.log, console, arguments); };\n\t} else {\n\t\t/* IE <= 9 when dev tools are closed - window.console not even defined */\n\t\tconsoleLogger = errorLogger = function() {};\n\t}\n\n\tfunction pad(str, three) {\n\t\treturn ('000' + str).slice(-2-(three || 0));\n\t}\n\n\tvar LOG_NONE  = 0,\n\tLOG_ERROR = 1,\n\tLOG_MAJOR = 2,\n\tLOG_MINOR = 3,\n\tLOG_MICRO = 4;\n\n\tvar LOG_DEFAULT = LOG_ERROR,\n\tLOG_DEBUG   = LOG_MICRO;\n\n\tvar logLevel = LOG_DEFAULT;\n\n\tfunction getHandler(logger) {\n\t\treturn platform.logTimestamps ?\n\t\t\tfunction(msg) {\n\t\t\t\tvar time = new Date();\n\t\t\t\tlogger(pad(time.getHours()) + ':' + pad(time.getMinutes()) + ':' + pad(time.getSeconds()) + '.' + pad(time.getMilliseconds(), true) + ' ' + msg);\n\t\t\t} : logger;\n\t}\n\n\tvar logHandler = getHandler(consoleLogger),\n\t\tlogErrorHandler = getHandler(errorLogger);\n\n\t/* public constructor */\n\tfunction Logger(args) {}\n\n\t/* public constants */\n\tLogger.LOG_NONE    = LOG_NONE,\n\tLogger.LOG_ERROR   = LOG_ERROR,\n\tLogger.LOG_MAJOR   = LOG_MAJOR,\n\tLogger.LOG_MINOR   = LOG_MINOR,\n\tLogger.LOG_MICRO   = LOG_MICRO;\n\n\tLogger.LOG_DEFAULT = LOG_DEFAULT,\n\tLogger.LOG_DEBUG   = LOG_DEBUG;\n\n\t/* public static functions */\n\tLogger.logAction = function(level, action, message) {\n\t\tif (Logger.shouldLog(level)) {\n\t\t\t(level === LOG_ERROR ? logErrorHandler : logHandler)('Ably: ' + action + ': ' + message);\n\t\t}\n\t};\n\n\tLogger.deprecated = function(original, replacement) {\n\t\tLogger.deprecatedWithMsg(original, \"Please use '\" + replacement + \"' instead.\");\n\t}\n\n\tLogger.deprecatedWithMsg = function(funcName, msg) {\n\t\tif (Logger.shouldLog(LOG_ERROR)) {\n\t\t\tlogErrorHandler(\"Ably: Deprecation warning - '\" + funcName + \"' is deprecated and will be removed from a future version. \" + msg);\n\t\t}\n\t}\n\n\t/* Where a logging operation is expensive, such as serialisation of data, use shouldLog will prevent\n\t   the object being serialised if the log level will not output the message */\n\tLogger.shouldLog = function(level) {\n\t\treturn level <= logLevel;\n\t};\n\n\tLogger.setLog = function(level, handler) {\n\t\tif(level !== undefined) logLevel = level;\n\t\tif(handler !== undefined) logHandler = logErrorHandler = handler;\n\t};\n\n\treturn Logger;\n})();\n\n/* harmony default export */ var util_logger = (logger_Logger);\n\n// CONCATENATED MODULE: ./common/lib/types/errorinfo.js\n\n\nvar errorinfo_ErrorInfo = (function() {\n\n\tfunction ErrorInfo(message, code, statusCode, cause) {\n\t\tthis.message = message;\n\t\tthis.code = code;\n\t\tthis.statusCode = statusCode;\n\t\tthis.cause = cause;\n\t\tthis.href = undefined;\n\t}\n\n\tErrorInfo.prototype.toString = function() {\n\t\tvar result = '[' + this.constructor.name;\n\t\tif(this.message) result += ': ' + this.message;\n\t\tif(this.statusCode) result += '; statusCode=' + this.statusCode;\n\t\tif(this.code) result += '; code=' + this.code;\n\t\tif(this.cause) result += '; cause=' + utils.inspectError(this.cause);\n\t\tif(this.href && !(this.message && this.message.indexOf('help.ably.io') > -1)) result += '; see ' + this.href + ' ';\n\t\tresult += ']';\n\t\treturn result;\n\t};\n\n\tErrorInfo.fromValues = function(values) {\n\t\tvar result = utils.mixin(new ErrorInfo(), values);\n\t\tif (values instanceof Error) {\n\t\t\t/* Error.message is not enumerable, so mixin loses the message */\n\t\t\tresult.message = values.message;\n\t\t}\n\t\tif(result.code && !result.href) {\n\t\t\tresult.href = 'https://help.ably.io/error/' + result.code;\n\t\t}\n\t\treturn result;\n\t};\n\n\treturn ErrorInfo;\n})();\n\n/* harmony default export */ var errorinfo = (errorinfo_ErrorInfo);\n\n// EXTERNAL MODULE: ./package.json\nvar package_0 = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./common/lib/util/defaults.js\n\n\n\n\n\n\n\n\ndefaults_default.a.ENVIRONMENT              = '';\ndefaults_default.a.REST_HOST                = 'rest.ably.io';\ndefaults_default.a.REALTIME_HOST            = 'realtime.ably.io';\ndefaults_default.a.FALLBACK_HOSTS           = ['A.ably-realtime.com', 'B.ably-realtime.com', 'C.ably-realtime.com', 'D.ably-realtime.com', 'E.ably-realtime.com'];\ndefaults_default.a.PORT                     = 80;\ndefaults_default.a.TLS_PORT                 = 443;\ndefaults_default.a.TIMEOUTS = {\n\t/* Documented as options params: */\n\tdisconnectedRetryTimeout   : 15000,\n\tsuspendedRetryTimeout      : 30000,\n\t/* Undocumented, but part of the api and can be used by customers: */\n\thttpRequestTimeout         : 15000,\n\tchannelRetryTimeout        : 15000,\n\tfallbackRetryTimeout       : 600000,\n\t/* For internal / test use only: */\n\tconnectionStateTtl         : 120000,\n\trealtimeRequestTimeout     : 10000,\n\trecvTimeout                : 90000,\n\tpreferenceConnectTimeout   : 6000,\n\tparallelUpgradeDelay       : 6000\n};\ndefaults_default.a.httpMaxRetryCount = 3;\ndefaults_default.a.maxMessageSize    = 65536;\n\ndefaults_default.a.errorReportingUrl = 'https://errors.ably.io/api/15/store/';\ndefaults_default.a.errorReportingHeaders = {\n\t\"X-Sentry-Auth\": \"Sentry sentry_version=7, sentry_key=a04e33c8674c451f8a310fbec029acf5, sentry_client=ably-js/0.1\",\n\t\"Content-Type\": \"application/json\"\n};\n\ndefaults_default.a.version          = package_0[\"a\" /* version */];\ndefaults_default.a.apiVersion       = '1.2';\n\nvar agent = 'ably-js/' + defaults_default.a.version;\nif (platform.agent) {\n\tagent += ' ' + platform.agent;\n} \ndefaults_default.a.agent = agent;\n\ndefaults_default.a.getHost = function(options, host, ws) {\n\tif(ws)\n\t\thost = ((host == options.restHost) && options.realtimeHost) || host || options.realtimeHost;\n\telse\n\t\thost = host || options.restHost;\n\n\treturn host;\n};\n\ndefaults_default.a.getPort = function(options, tls) {\n\treturn (tls || options.tls) ? options.tlsPort : options.port;\n};\n\ndefaults_default.a.getHttpScheme = function(options) {\n\treturn options.tls ? 'https://' : 'http://';\n};\n\n// construct environment fallback hosts as per RSC15i\ndefaults_default.a.environmentFallbackHosts = function(environment) {\n\treturn [\n\t\tenvironment + '-a-fallback.ably-realtime.com',\n\t\tenvironment + '-b-fallback.ably-realtime.com',\n\t\tenvironment + '-c-fallback.ably-realtime.com',\n\t\tenvironment + '-d-fallback.ably-realtime.com',\n\t\tenvironment + '-e-fallback.ably-realtime.com'\n\t];\n};\n\ndefaults_default.a.getFallbackHosts = function(options) {\n\tvar fallbackHosts = options.fallbackHosts,\n\t\thttpMaxRetryCount = typeof(options.httpMaxRetryCount) !== 'undefined' ? options.httpMaxRetryCount : defaults_default.a.httpMaxRetryCount;\n\n\treturn fallbackHosts ? utils.arrChooseN(fallbackHosts, httpMaxRetryCount) : [];\n};\n\ndefaults_default.a.getHosts = function(options) {\n\treturn [options.restHost].concat(defaults_default.a.getFallbackHosts(options));\n};\n\nfunction checkHost(host) {\n\tif(typeof host !== 'string') {\n\t\tthrow new errorinfo('host must be a string; was a ' + typeof host, 40000, 400);\n\t};\n\tif(!host.length) {\n\t\tthrow new errorinfo('host must not be zero-length', 40000, 400);\n\t};\n}\n\ndefaults_default.a.objectifyOptions = function(options) {\n\tif(typeof options == 'string') {\n\t\treturn (options.indexOf(':') == -1) ? {token: options} : {key: options};\n\t}\n\treturn options;\n};\n\ndefaults_default.a.normaliseOptions = function(options) {\n\t/* Deprecated options */\n\tif(options.host) {\n\t\tutil_logger.deprecated('host', 'restHost');\n\t\toptions.restHost = options.host;\n\t}\n\tif(options.wsHost) {\n\t\tutil_logger.deprecated('wsHost', 'realtimeHost');\n\t\toptions.realtimeHost = options.wsHost;\n\t}\n\tif(options.queueEvents) {\n\t\tutil_logger.deprecated('queueEvents', 'queueMessages');\n\t\toptions.queueMessages = options.queueEvents;\n\t}\n\n\tif(options.fallbackHostsUseDefault) {\n\t\t/* fallbackHostsUseDefault and fallbackHosts are mutually exclusive as per TO3k7 */\n\t\tif(options.fallbackHosts) {\n\t\t\tvar msg = 'fallbackHosts and fallbackHostsUseDefault cannot both be set';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Defaults.normaliseOptions', msg);\n\t\t\tthrow new errorinfo(msg, 40000, 400);\n\t\t}\n\n\t\t/* default fallbacks can't be used with custom ports */\n\t\tif(options.port || options.tlsPort) {\n\t\t\tvar msg = 'fallbackHostsUseDefault cannot be set when port or tlsPort are set';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Defaults.normaliseOptions', msg);\n\t\t\tthrow new errorinfo(msg, 40000, 400);\n\t\t}\n\n\t\t/* emit an appropriate deprecation warning */\n\t\tif(options.environment) {\n\t\t\tutil_logger.deprecatedWithMsg('fallbackHostsUseDefault', 'There is no longer a need to set this when the environment option is also set since the library will now generate the correct fallback hosts using the environment option.');\n\t\t} else {\n\t\t\tutil_logger.deprecated('fallbackHostsUseDefault', 'fallbackHosts: Ably.Defaults.FALLBACK_HOSTS');\n\t\t}\n\n\t\t/* use the default fallback hosts as requested */\n\t\toptions.fallbackHosts = defaults_default.a.FALLBACK_HOSTS;\n\t}\n\n\tif(options.recover === true) {\n\t\tutil_logger.deprecated('{recover: true}', '{recover: function(lastConnectionDetails, cb) { cb(true); }}');\n\t\toptions.recover = function(lastConnectionDetails, cb) { cb(true); };\n\t}\n\n\tif(typeof options.recover === 'function' && options.closeOnUnload === true) {\n\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Defaults.normaliseOptions', 'closeOnUnload was true and a session recovery function was set - these are mutually exclusive, so unsetting the latter');\n\t\toptions.recover = null;\n\t}\n\n\tif(!('closeOnUnload' in options)) {\n\t\t/* Have closeOnUnload default to true unless we have any indication that\n\t\t * the user may want to recover the connection */\n\t\toptions.closeOnUnload = !options.recover;\n\t}\n\n\tif(options.transports && utils.arrIn(options.transports, 'xhr')) {\n\t\tutil_logger.deprecated('transports: [\"xhr\"]', 'transports: [\"xhr_streaming\"]');\n\t\tutils.arrDeleteValue(options.transports, 'xhr');\n\t\toptions.transports.push('xhr_streaming');\n\t}\n\n\tif(!('queueMessages' in options))\n\t\toptions.queueMessages = true;\n\n\t/* infer hosts and fallbacks based on the configured environment */\n\tvar environment = (options.environment && String(options.environment).toLowerCase()) || defaults_default.a.ENVIRONMENT;\n\tvar production = !environment || (environment === 'production');\n\n\tif(!options.fallbackHosts && !options.restHost && !options.realtimeHost && !options.port && !options.tlsPort) {\n\t\toptions.fallbackHosts = production ? defaults_default.a.FALLBACK_HOSTS : defaults_default.a.environmentFallbackHosts(environment);\n\t}\n\n\tif(!options.realtimeHost) {\n\t\t/* prefer setting realtimeHost to restHost as a custom restHost typically indicates\n\t\t * a development environment is being used that can't be inferred by the library */\n\t\tif(options.restHost) {\n\t\t\tutil_logger.logAction(util_logger.LOG_WARN, 'Defaults.normaliseOptions', 'restHost is set to \"' + options.restHost + '\" but realtimeHost is not set, so setting realtimeHost to \"' + options.restHost + '\" too. If this is not what you want, please set realtimeHost explicitly.');\n\t\t\toptions.realtimeHost = options.restHost\n\t\t} else {\n\t\t\toptions.realtimeHost = production ? defaults_default.a.REALTIME_HOST : environment + '-' + defaults_default.a.REALTIME_HOST;\n\t\t}\n\t}\n\n\tif(!options.restHost) {\n\t\toptions.restHost = production ? defaults_default.a.REST_HOST : environment + '-' + defaults_default.a.REST_HOST;\n\t}\n\n\tutils.arrForEach((options.fallbackHosts || []).concat(options.restHost, options.realtimeHost), checkHost);\n\n\toptions.port = options.port || defaults_default.a.PORT;\n\toptions.tlsPort = options.tlsPort || defaults_default.a.TLS_PORT;\n\toptions.maxMessageSize = options.maxMessageSize || defaults_default.a.maxMessageSize;\n\tif(!('tls' in options)) options.tls = true;\n\n\t/* Allow values passed in options to override default timeouts */\n\toptions.timeouts = {};\n\tfor(var prop in defaults_default.a.TIMEOUTS) {\n\t\toptions.timeouts[prop] = options[prop] || defaults_default.a.TIMEOUTS[prop];\n\t};\n\n\tif('useBinaryProtocol' in options) {\n\t\toptions.useBinaryProtocol = platform.supportsBinary && options.useBinaryProtocol;\n\t} else {\n\t\toptions.useBinaryProtocol = platform.preferBinary;\n\t}\n\n\tif(options.clientId) {\n\t\tvar headers = options.headers = options.headers || {};\n\t\theaders['X-Ably-ClientId'] = bufferutils.base64Encode(bufferutils.utf8Encode(options.clientId));\n\t}\n\n\tif(!('idempotentRestPublishing' in options)) {\n\t\toptions.idempotentRestPublishing = true;\n\t}\n\n\tif(options.promises && !platform.Promise) {\n\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Defaults.normaliseOptions', '{promises: true} was specified, but no Promise constructor found; disabling promises');\n\t\toptions.promises = false;\n\t}\n\n        if(options.agents) {\n          for(var key in options.agents) {\n            defaults_default.a.agent += ' ' + key + '/' + options.agents[key];\n          }\n        }\n\n\treturn options;\n};\n\n/* harmony default export */ var util_defaults = (defaults_default.a);\n\n// CONCATENATED MODULE: ./common/lib/util/utils.js\n\n\n\n\nvar utils_hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar utils_Utils = (function() {\n\tvar msgpack = platform.msgpack;\n\n\tfunction Utils() {}\n\n\tfunction randomPosn(arrOrStr) {\n\t\treturn Math.floor(Math.random() * arrOrStr.length);\n\t}\n\n\t/*\n\t * Add a set of properties to a target object\n\t * target: the target object\n\t * props:  an object whose enumerable properties are\n\t *         added, by reference only\n\t */\n\tUtils.mixin = function(target) {\n\t\tfor(var i = 1; i < arguments.length; i++) {\n\t\t\tvar source = arguments[i];\n\t\t\tif(!source) { break; }\n\t\t\tfor(var key in source) {\n\t\t\t\tif(utils_hasOwnProperty.call(source, key)) {\n\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t};\n\n\t/*\n\t * Add a set of properties to a target object\n\t * target: the target object\n\t * props:  an object whose enumerable properties are\n\t *         added, by reference only\n\t */\n\tUtils.copy = function(src) {\n\t\treturn Utils.mixin({}, src);\n\t};\n\n\t/*\n\t * Determine whether or not a given object is\n\t * an array.\n\t */\n\tUtils.isArray = Array.isArray || function(ob) {\n\t\treturn Object.prototype.toString.call(ob) == '[object Array]';\n\t};\n\n\t/*\n\t * Ensures that an Array object is always returned\n\t * returning the original Array of obj is an Array\n\t * else wrapping the obj in a single element Array\n\t */\n\tUtils.ensureArray = function(obj) {\n\t\tif(Utils.isEmptyArg(obj)) {\n\t\t\treturn [];\n\t\t}\n\t\tif(Utils.isArray(obj)) {\n\t\t\treturn obj;\n\t\t}\n\t\treturn [obj];\n\t}\n\n\t/* ...Or an Object (in the narrow sense) */\n\tUtils.isObject = function(ob) {\n\t\treturn Object.prototype.toString.call(ob) == '[object Object]';\n\t};\n\n\t/*\n\t * Determine whether or not an object contains\n\t * any enumerable properties.\n\t * ob: the object\n\t */\n\tUtils.isEmpty = function(ob) {\n\t\tfor(var prop in ob)\n\t\t\treturn false;\n\t\treturn true;\n\t};\n\n\tUtils.isOnlyPropIn = function(ob, property) {\n\t\tfor(var prop in ob) {\n\t\t\tif(prop !== property) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\t/*\n\t * Determine whether or not an argument to an overloaded function is\n\t * undefined (missing) or null.\n\t * This method is useful when constructing functions such as (WebIDL terminology):\n\t *   off([TreatUndefinedAs=Null] DOMString? event)\n\t * as you can then confirm the argument using:\n\t *   Utils.isEmptyArg(event)\n\t */\n\n\tUtils.isEmptyArg = function(arg) {\n\t\treturn arg === null || arg === undefined;\n\t}\n\n\t/*\n\t * Perform a simple shallow clone of an object.\n\t * Result is an object irrespective of whether\n\t * the input is an object or array. All\n\t * enumerable properties are copied.\n\t * ob: the object\n\t */\n\tUtils.shallowClone = function(ob) {\n\t\tvar result = new Object();\n\t\tfor(var prop in ob)\n\t\t\tresult[prop] = ob[prop];\n\t\treturn result;\n\t};\n\n\t/*\n\t * Clone an object by creating a new object with the\n\t * given object as its prototype. Optionally\n\t * a set of additional own properties can be\n\t * supplied to be added to the newly created clone.\n\t * ob:            the object to be cloned\n\t * ownProperties: optional object with additional\n\t *                properties to add\n\t */\n\tUtils.prototypicalClone = function(ob, ownProperties) {\n\t\tfunction F() {}\n\t\tF.prototype = ob;\n\t\tvar result = new F();\n\t\tif(ownProperties)\n\t\t\tUtils.mixin(result, ownProperties);\n\t\treturn result;\n\t};\n\n\t/*\n\t * Declare a constructor to represent a subclass\n\t * of another constructor\n\t * If platform has a built-in version we use that from Platform, else we\n\t * define here (so can make use of other Utils fns)\n\t * See node.js util.inherits\n\t */\n\tUtils.inherits = platform.inherits || function(ctor, superCtor) {\n\t\tctor.super_ = superCtor;\n\t\tctor.prototype = Utils.prototypicalClone(superCtor.prototype, { constructor: ctor });\n\t};\n\n\t/*\n\t * Determine whether or not an object has an enumerable\n\t * property whose value equals a given value.\n\t * ob:  the object\n\t * val: the value to find\n\t */\n\tUtils.containsValue = function(ob, val) {\n\t\tfor(var i in ob) {\n\t\t\tif(ob[i] == val)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tUtils.intersect = function(arr, ob) { return Utils.isArray(ob) ? Utils.arrIntersect(arr, ob) : Utils.arrIntersectOb(arr, ob); };\n\n\tUtils.arrIntersect = function(arr1, arr2) {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tvar member = arr1[i];\n\t\t\tif(Utils.arrIndexOf(arr2, member) != -1)\n\t\t\t\tresult.push(member);\n\t\t}\n\t\treturn result;\n\t};\n\n\tUtils.arrIntersectOb = function(arr, ob) {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < arr.length; i++) {\n\t\t\tvar member = arr[i];\n\t\t\tif(member in ob)\n\t\t\t\tresult.push(member);\n\t\t}\n\t\treturn result;\n\t};\n\n\tUtils.arrSubtract = function(arr1, arr2) {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tvar element = arr1[i];\n\t\t\tif(Utils.arrIndexOf(arr2, element) == -1)\n\t\t\t\tresult.push(element);\n\t\t}\n\t\treturn result;\n\t};\n\n\tUtils.arrIndexOf = Array.prototype.indexOf\n\t\t? function(arr, elem, fromIndex) {\n\t\t\treturn arr.indexOf(elem,  fromIndex);\n\t\t}\n\t\t: function(arr, elem, fromIndex) {\n\t\t\tfromIndex = fromIndex || 0;\n\t\t\tvar len = arr.length;\n\t\t\tfor(;fromIndex < len; fromIndex++) {\n\t\t\t\tif(arr[fromIndex] === elem) {\n\t\t\t\t\treturn fromIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\n\tUtils.arrIn = function(arr, val) {\n\t\treturn Utils.arrIndexOf(arr, val) !== -1;\n\t};\n\n\tUtils.arrDeleteValue = function(arr, val) {\n\t\tvar idx = Utils.arrIndexOf(arr, val);\n\t\tvar res = (idx != -1);\n\t\tif(res)\n\t\t\tarr.splice(idx, 1);\n\t\treturn res;\n\t};\n\n\tUtils.arrWithoutValue = function(arr, val) {\n\t\tvar newArr = arr.slice();\n\t\tUtils.arrDeleteValue(newArr, val);\n\t\treturn newArr;\n\t};\n\n\t/*\n\t * Construct an array of the keys of the enumerable\n\t * properties of a given object, optionally limited\n\t * to only the own properties.\n\t * ob:      the object\n\t * ownOnly: boolean, get own properties only\n\t */\n\tUtils.keysArray = function(ob, ownOnly) {\n\t\tvar result = [];\n\t\tfor(var prop in ob) {\n\t\t\tif(ownOnly && !utils_hasOwnProperty.call(ob, prop)) continue;\n\t\t\tresult.push(prop);\n\t\t}\n\t\treturn result;\n\t};\n\n\t/*\n\t * Construct an array of the values of the enumerable\n\t * properties of a given object, optionally limited\n\t * to only the own properties.\n\t * ob:      the object\n\t * ownOnly: boolean, get own properties only\n\t */\n\tUtils.valuesArray = function(ob, ownOnly) {\n\t\tvar result = [];\n\t\tfor(var prop in ob) {\n\t\t\tif(ownOnly && !utils_hasOwnProperty.call(ob, prop)) continue;\n\t\t\tresult.push(ob[prop]);\n\t\t}\n\t\treturn result;\n\t};\n\n\tUtils.forInOwnNonNullProps = function(ob, fn) {\n\t\tfor (var prop in ob) {\n\t\t\tif (utils_hasOwnProperty.call(ob, prop) && ob[prop]) {\n\t\t\t\tfn(prop);\n\t\t\t}\n\t\t}\n\t};\n\n\tUtils.arrForEach = Array.prototype.forEach ?\n\t\tfunction(arr, fn) {\n\t\t\tarr.forEach(fn);\n\t\t} :\n\t\tfunction(arr, fn) {\n\t\t\tvar len = arr.length;\n\t\t\tfor(var i = 0; i < len; i++) {\n\t\t\t\tfn(arr[i], i, arr);\n\t\t\t}\n\t\t};\n\n\t/* Useful when the function may mutate the array */\n\tUtils.safeArrForEach = function(arr, fn) {\n\t\treturn Utils.arrForEach(arr.slice(), fn);\n\t};\n\n\tUtils.arrMap = Array.prototype.map ?\n\t\tfunction(arr, fn) {\n\t\t\treturn arr.map(fn);\n\t\t} :\n\t\tfunction(arr, fn)\t{\n\t\t\tvar result = [],\n\t\t\t\tlen = arr.length;\n\t\t\tfor(var i = 0; i < len; i++) {\n\t\t\t\tresult.push(fn(arr[i], i, arr));\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\tUtils.arrFilter = Array.prototype.filter ?\n\t\tfunction(arr, fn) {\n\t\t\treturn arr.filter(fn);\n\t\t} :\n\t\tfunction(arr, fn)\t{\n\t\t\tvar result = [],\n\t\t\t\tlen = arr.length;\n\t\t\tfor(var i = 0; i < len; i++) {\n\t\t\t\tif(fn(arr[i])) {\n\t\t\t\t\tresult.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\tUtils.arrEvery = Array.prototype.every ?\n\t\tfunction(arr, fn) {\n\t\t\treturn arr.every(fn);\n\t\t} : function(arr, fn) {\n\t\t\tvar len = arr.length;\n\t\t\tfor(var i = 0; i < len; i++) {\n\t\t\t\tif(!fn(arr[i], i, arr)) {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\tUtils.allSame = function(arr, prop) {\n\t\tif(arr.length === 0) {\n\t\t\treturn true;\n\t\t}\n\t\tvar first = arr[0][prop];\n\t\treturn Utils.arrEvery(arr, function(item) {\n\t\t\treturn item[prop] === first;\n\t\t});\n\t};\n\n\tUtils.nextTick = platform.nextTick;\n\n\tvar contentTypes = {\n\t\tjson:   'application/json',\n\t\tjsonp:  'application/javascript',\n\t\txml:    'application/xml',\n\t\thtml:   'text/html',\n\t\tmsgpack: 'application/x-msgpack'\n\t};\n\n\tUtils.defaultGetHeaders = function(format) {\n\t\tvar accept = contentTypes[format || 'json'];\n\t\treturn {\n\t\t\taccept: accept,\n\t\t\t'X-Ably-Version': util_defaults.apiVersion,\n\t\t\t'Ably-Agent': util_defaults.agent\n\t\t};\n\t};\n\n\tUtils.defaultPostHeaders = function(format) {\n\t\tvar accept, contentType;\n\t\taccept = contentType = contentTypes[format || 'json'];\n\n\t\treturn {\n\t\t\taccept: accept,\n\t\t\t'content-type': contentType,\n\t\t\t'X-Ably-Version': util_defaults.apiVersion,\n\t\t\t'Ably-Agent': util_defaults.agent\n\t\t};\n\t};\n\n\tUtils.arrPopRandomElement = function(arr) {\n\t\treturn arr.splice(randomPosn(arr), 1)[0];\n\t};\n\n\tUtils.toQueryString = function(params) {\n\t\tvar parts = [];\n\t\tif(params) {\n\t\t\tfor(var key in params)\n\t\t\t\tparts.push(encodeURIComponent(key) + '=' + encodeURIComponent(params[key]));\n\t\t}\n\t\treturn parts.length ? '?' + parts.join('&') : '';\n\t};\n\n\tUtils.parseQueryString = function(query) {\n\t\tvar match,\n\t\t\tsearch = /([^?&=]+)=?([^&]*)/g,\n\t\t\tresult = {};\n\n\t\twhile (match = search.exec(query))\n\t\t\tresult[decodeURIComponent(match[1])] = decodeURIComponent(match[2]);\n\n \t\treturn result;\n\t};\n\n\tUtils.now = Date.now || function() {\n\t\t/* IE 8 */\n\t\treturn new Date().getTime();\n\t};\n\n\tUtils.inspect = platform.inspect;\n\n\tUtils.isErrorInfo = function(err) {\n\t\treturn err.constructor.name == 'ErrorInfo'\n\t};\n\n\tUtils.inspectError = function(x) {\n\t\t/* redundant, but node vmcontext issue makes instanceof unreliable, and\n\t\t * can't use just constructor test as could be a TypeError constructor etc. */\n\t\treturn (x && (Utils.isErrorInfo(x) ||\n\t\t\tx.constructor.name == 'Error' ||\n\t\t\tx instanceof Error)) ?\n\t\t\tx.toString() :\n\t\t\tUtils.inspect(x);\n\t};\n\n\tUtils.inspectBody = function(body) {\n\t\tif(bufferutils.isBuffer(body)) {\n\t\t\treturn body.toString();\n\t\t} else if(typeof body === 'string') {\n\t\t\treturn body;\n\t\t} else {\n\t\t\treturn platform.inspect(body);\n\t\t}\n\t};\n\n\t/* Data is assumed to be either a string or a buffer. */\n\tUtils.dataSizeBytes = function(data) {\n\t\tif(bufferutils.isBuffer(data)) {\n\t\t\treturn bufferutils.byteLength(data);\n\t\t}\n\t\tif(typeof data === 'string') {\n\t\t\treturn platform.stringByteSize(data);\n\t\t}\n\t\tthrow new Error(\"Expected input of Utils.dataSizeBytes to be a buffer or string, but was: \" + (typeof data));\n\t};\n\n\tUtils.cheapRandStr = function() {\n\t\treturn String(Math.random()).substr(2);\n\t};\n\n\t/* Takes param the minimum number of bytes of entropy the string must\n\t * include, not the length of the string. String length produced is not\n\t * guaranteed. */\n\tUtils.randomString = (platform.getRandomValues && typeof Uint8Array !== 'undefined') ?\n\t\tfunction(numBytes) {\n\t\t\tvar uIntArr = new Uint8Array(numBytes);\n\t\t\tplatform.getRandomValues(uIntArr);\n\t\t\treturn bufferutils.base64Encode(uIntArr);\n\t\t} : function(numBytes) {\n\t\t\t/* Old browser; fall back to Math.random. Could just use a\n\t\t\t * CryptoJS version of the above, but want this to still work in nocrypto\n\t\t\t * versions of the library */\n\t\t\tvar charset = bufferutils.base64CharSet;\n\t\t\t/* base64 has 33% overhead; round length up */\n\t\t\tvar length = Math.round(numBytes * 4/3);\n\t\t\tvar result = '';\n\t\t\tfor(var i=0; i<length; i++) {\n\t\t\t\tresult += charset[randomPosn(charset)];\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\tUtils.randomHexString = (platform.getRandomValues && typeof Uint8Array !== 'undefined') ?\n\t\tfunction(numBytes) {\n\t\t\tvar uIntArr = new Uint8Array(numBytes);\n\t\t\tplatform.getRandomValues(uIntArr);\n\t\t\treturn bufferutils.hexEncode(uIntArr);\n\t\t} : function(numBytes) {\n\t\t\tvar charset = bufferutils.hexCharSet;\n\t\t\tvar length = numBytes * 2;\n\t\t\tvar result = '';\n\t\t\tfor(var i=0; i<length; i++) {\n\t\t\t\tresult += charset[randomPosn(charset)];\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t/* Pick n elements at random without replacement from an array */\n\tUtils.arrChooseN = function(arr, n) {\n\t\tvar numItems = Math.min(n, arr.length),\n\t\t\tmutableArr = arr.slice(),\n\t\t\tresult = [];\n\t\tfor(var i = 0; i < numItems; i++) {\n\t\t\tresult.push(Utils.arrPopRandomElement(mutableArr));\n\t\t}\n\t\treturn result;\n\t};\n\n\tUtils.trim = String.prototype.trim ? function(str) {\n\t\treturn str.trim();\n\t} : function(str) {\n\t\treturn str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\t};\n\n\tUtils.promisify = function(ob, fnName, args) {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tob[fnName].apply(ob, Array.prototype.slice.call(args).concat(function(err, res) {\n\t\t\t\terr ? reject(err) : resolve(res);\n\t\t\t}));\n\t\t});\n\t};\n\n\tUtils.decodeBody = function(body, format) {\n\t\treturn (format == 'msgpack') ? msgpack.decode(body) : JSON.parse(String(body));\n\t};\n\n\tUtils.encodeBody = function(body, format) {\n\t\treturn (format == 'msgpack') ? msgpack.encode(body, true) : JSON.stringify(body);\n\t};\n\n\tUtils.allToLowerCase = function(arr) {\n\t\treturn Utils.arrMap(arr, function(element) {\n\t\t\treturn element && element.toLowerCase();\n\t\t});\n\t};\n\n\tUtils.allToUpperCase = function(arr) {\n\t\treturn Utils.arrMap(arr, function(element) {\n\t\t\treturn element && element.toUpperCase();\n\t\t});\n\t};\n\n\treturn Utils;\n})();\n\n/* harmony default export */ var utils = (utils_Utils);\n\n// EXTERNAL MODULE: external \"got\"\nvar external_got_ = __webpack_require__(7);\nvar external_got_default = /*#__PURE__*/__webpack_require__.n(external_got_);\n\n// EXTERNAL MODULE: external \"http\"\nvar external_http_ = __webpack_require__(5);\nvar external_http_default = /*#__PURE__*/__webpack_require__.n(external_http_);\n\n// EXTERNAL MODULE: external \"https\"\nvar external_https_ = __webpack_require__(6);\nvar external_https_default = /*#__PURE__*/__webpack_require__.n(external_https_);\n\n// CONCATENATED MODULE: ./nodejs/lib/util/http.js\n\n\n\n\n\n\n\n\n\nvar http_Http = (function() {\n\tvar msgpack = platform.msgpack;\n\tvar noop = function() {};\n\n\t/***************************************************\n\t *\n\t * These Http ops are used for REST operations\n\t * and assume that the system is stateless - ie\n\t * there is no connection state that tells us\n\t * anything about the state of the network or the\n\t * viability of any of the hosts we know about.\n\t * Therefore all requests will respond to specific\n\t * errors by attempting the fallback hosts, and no\n\t * assumptions about host or network is retained to\n\t * influence the handling of any subsequent request.\n\t *\n\t ***************************************************/\n\n\tvar handler = function(uri, params, callback) {\n\t\tcallback = callback || noop;\n\t\treturn function(err, response, body) {\n\t\t\tif(err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar statusCode = response.statusCode, headers = response.headers;\n\t\t\tif(statusCode >= 300) {\n\t\t\t\tswitch(headers['content-type']) {\n\t\t\t\t\tcase 'application/json':\n\t\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'application/x-msgpack':\n\t\t\t\t\t\tbody = msgpack.decode(body);\n\t\t\t\t}\n\t\t\t\tvar error = body.error ? errorinfo.fromValues(body.error) : new errorinfo(\n\t\t\t\t\theaders['x-ably-errormessage'] || 'Error response received from server: ' + statusCode + ' body was: ' + utils.inspect(body),\n\t\t\t\t\theaders['x-ably-errorcode'],\n\t\t\t\t\tstatusCode\n\t\t\t\t);\n\t\t\t\tcallback(error, body, headers, true, statusCode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcallback(null, body, headers, false, statusCode);\n\t\t};\n\t};\n\n\tfunction Http() {}\n\n\tfunction shouldFallback(err) {\n\t\tvar code = err.code,\n\t\t\tstatusCode = err.statusCode;\n\t\treturn code === 'ENETUNREACH' ||\n\t\t\tcode === 'EHOSTUNREACH'     ||\n\t\t\tcode === 'EHOSTDOWN'        ||\n\t\t\tcode === 'ETIMEDOUT'        ||\n\t\t\tcode === 'ESOCKETTIMEDOUT'  ||\n\t\t\tcode === 'ENOTFOUND'        ||\n\t\t\tcode === 'ECONNRESET'       ||\n\t\t\tcode === 'ECONNREFUSED'     ||\n\t\t\t(statusCode >= 500 && statusCode <= 504);\n\t}\n\n\tfunction getHosts(client) {\n\t\t/* If we're a connected realtime client, try the endpoint we're connected\n\t\t * to first -- but still have fallbacks, being connected is not an absolute\n\t\t * guarantee that a datacenter has free capacity to service REST requests. */\n\t\tvar connection = client.connection,\n\t\t\tconnectionHost = connection && connection.connectionManager.host;\n\n\t\tif(connectionHost) {\n\t\t\treturn [connectionHost].concat(util_defaults.getFallbackHosts(client.options));\n\t\t}\n\n\t\treturn util_defaults.getHosts(client.options);\n\t}\n\tHttp._getHosts = getHosts;\n\n\tHttp.methods = ['get', 'delete', 'post', 'put', 'patch'];\n\tHttp.methodsWithoutBody = ['get', 'delete'];\n\tHttp.methodsWithBody = utils.arrSubtract(Http.methods, Http.methodsWithoutBody);\n\n\t/** Http.get, Http.post, Http.put, ...\n\t * Perform an HTTP request for a given path against prime and fallback Ably hosts\n\t * @param rest\n\t * @param path the full path\n\t * @param headers optional hash of headers\n\t * [only for methods with body: @param body object or buffer containing request body]\n\t * @param params optional hash of params\n\t * @param callback (err, response)\n\t *\n\t ** Http.getUri, Http.postUri, Http.putUri, ...\n\t * Perform an HTTP request for a given full URI\n\t * @param rest\n\t * @param uri the full URI\n\t * @param headers optional hash of headers\n\t * [only for methods with body: @param body object or buffer containing request body]\n\t * @param params optional hash of params\n\t * @param callback (err, response)\n\t */\n\tutils.arrForEach(Http.methodsWithoutBody, function(method) {\n\t\tHttp[method] = function(rest, path, headers, params, callback) {\n\t\t\tHttp['do'](method, rest, path, headers, null, params, callback);\n\t\t};\n\t\tHttp[method + 'Uri'] = function(rest, uri, headers, params, callback) {\n\t\t\tHttp.doUri(method, rest, uri, headers, null, params, callback);\n\t\t};\n\t});\n\n\tutils.arrForEach(Http.methodsWithBody, function(method) {\n\t\tHttp[method] = function(rest, path, headers, body, params, callback) {\n\t\t\tHttp['do'](method, rest, path, headers, body, params, callback);\n\t\t};\n\t\tHttp[method + 'Uri'] = function(rest, uri, headers, body, params, callback) {\n\t\t\tHttp.doUri(method, rest, uri, headers, body, params, callback);\n\t\t};\n\t});\n\n\t/* Unlike for doUri, the 'rest' param here is mandatory, as it's used to generate the hosts */\n\tHttp['do'] = function(method, rest, path, headers, body, params, callback) {\n\t\tvar uriFromHost = (typeof(path) == 'function') ? path : function(host) { return rest.baseUri(host) + path; };\n\t\tvar doArgs = arguments;\n\n\t\tvar currentFallback = rest._currentFallback;\n\t\tif(currentFallback) {\n\t\t\tif(currentFallback.validUntil > Date.now()) {\n\t\t\t\t/* Use stored fallback */\n\t\t\t\tHttp.doUri(method, rest, uriFromHost(currentFallback.host), headers, body, params, function(err) {\n\t\t\t\t\tif(err && shouldFallback(err)) {\n\t\t\t\t\t\t/* unstore the fallback and start from the top with the default sequence */\n\t\t\t\t\t\trest._currentFallback = null;\n\t\t\t\t\t\tHttp['do'].apply(Http, doArgs);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcallback.apply(null, arguments);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\t/* Fallback expired; remove it and fallthrough to normal sequence */\n\t\t\t\trest._currentFallback = null;\n\t\t\t}\n\t\t}\n\n\t\tvar hosts = getHosts(rest);\n\n\t\t/* see if we have one or more than one host */\n\t\tif(hosts.length == 1) {\n\t\t\tHttp.doUri(method, rest, uriFromHost(hosts[0]), headers, body, params, callback);\n\t\t\treturn;\n\t\t}\n\n\t\tvar tryAHost = function(candidateHosts, persistOnSuccess) {\n\t\t\tvar host = candidateHosts.shift();\n\t\t\tHttp.doUri(method, rest, uriFromHost(host), headers, body, params, function(err) {\n\t\t\t\tif(err && shouldFallback(err) && candidateHosts.length) {\n\t\t\t\t\ttryAHost(candidateHosts, true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(persistOnSuccess) {\n\t\t\t\t\t/* RSC15f */\n\t\t\t\t\trest._currentFallback = {\n\t\t\t\t\t\thost: host,\n\t\t\t\t\t\tvalidUntil: Date.now() + rest.options.timeouts.fallbackRetryTimeout\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcallback.apply(null, arguments);\n\t\t\t});\n\t\t};\n\t\ttryAHost(hosts);\n\t};\n\n\tHttp.doUri = function(method, rest, uri, headers, body, params, callback) {\n\t\t/* Will generally be making requests to one or two servers exclusively\n\t\t* (Ably and perhaps an auth server), so for efficiency, use the\n\t\t* foreverAgent to keep the TCP stream alive between requests where possible */\n\t\tvar agentOptions = (rest && rest.options.restAgentOptions) || util_defaults.restAgentOptions;\n\t\tvar doOptions = { headers: headers || undefined, responseType: 'buffer' };\n\t\tif (body) {\n\t\t\tdoOptions.body = body;\n\t\t}\n\t\tif(params)\n\t\t\tdoOptions.searchParams = params;\n\n\t\tif (!Http.agent) {\n\t\t\tHttp.agent = {\n\t\t\t\thttp: new external_http_default.a.Agent(agentOptions),\n\t\t\t\thttps: new external_https_default.a.Agent(agentOptions)\n\t\t\t}\n\t\t}\n\n\t\tdoOptions.agent = Http.agent;\n\n\n\t\tdoOptions.url = uri;\n\t\tdoOptions.timeout = { request: (rest && rest.options.timeouts || util_defaults.TIMEOUTS).httpRequestTimeout };\n\n\t\texternal_got_default.a[method](doOptions).then(res => {\n\t\t\thandler(uri, params, callback)(null, res, res.body);\n\t\t}).catch(err => {\n\t\t\tif (err instanceof external_got_default.a.HTTPError) {\n\t\t\t\thandler(uri, params, callback)(null, err.response, err.response.body);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thandler(uri, params, callback)(err);\n\t\t});\n\t};\n\n\tHttp.supportsAuthHeaders = true;\n\tHttp.supportsLinkHeaders = true;\n\n\tHttp.checkConnectivity = function(callback) {\n\t\tvar upUrl = util_defaults.internetUpUrl;\n\t\tHttp.getUri(null, upUrl, null, null, function(err, responseText) {\n\t\t\tcallback(null, (!err && responseText.toString().trim() === 'yes'));\n\t\t});\n\t};\n\n\treturn Http;\n})();\n\n/* harmony default export */ var util_http = (http_Http);\n\n// CONCATENATED MODULE: ./common/lib/util/multicaster.js\n\n\nvar multicaster_Multicaster = (function() {\n\n\tfunction Multicaster(members) {\n\t\tmembers = members || [];\n\n\t\tvar handler = function() {\n\t\t\tfor(var i = 0; i < members.length; i++) {\n\t\t\t\tvar member = members[i];\n\t\t\t\tif(member) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tmember.apply(null, arguments);\n\t\t\t\t\t} catch(e){\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Multicaster multiple callback handler', 'Unexpected exception: ' + e + '; stack = ' + e.stack);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandler.push = function() {\n\t\t\tArray.prototype.push.apply(members, arguments);\n\t\t};\n\t\treturn handler;\n\t}\n\n\treturn Multicaster;\n})();\n\n/* harmony default export */ var util_multicaster = (multicaster_Multicaster);\n\n// CONCATENATED MODULE: ./browser/lib/util/base64.js\n/*\n Copyright (c) 2008 Fred Palmer fred.palmer_at_gmail.com\n\n Permission is hereby granted, free of charge, to any person\n obtaining a copy of this software and associated documentation\n files (the \"Software\"), to deal in the Software without\n restriction, including without limitation the rights to use,\n copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the\n Software is furnished to do so, subject to the following\n conditions:\n\n The above copyright notice and this permission notice shall be\n included in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n OTHER DEALINGS IN THE SOFTWARE.\n */\nvar Base64 = (function() {\n\tfunction StringBuffer()\n\t{\n\t\tthis.buffer = [];\n\t}\n\n\tStringBuffer.prototype.append = function append(string)\n\t{\n\t\tthis.buffer.push(string);\n\t\treturn this;\n\t};\n\n\tStringBuffer.prototype.toString = function toString()\n\t{\n\t\treturn this.buffer.join(\"\");\n\t};\n\n\tvar Base64 =\n\t{\n\t\tcodex : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\n\t\tencode : function (input)\n\t\t{\n\t\t\tvar output = new StringBuffer();\n\t\t\tvar codex = Base64.codex;\n\n\t\t\tvar enumerator = new Utf8EncodeEnumerator(input);\n\t\t\twhile (enumerator.moveNext())\n\t\t\t{\n\t\t\t\tvar chr1 = enumerator.current;\n\n\t\t\t\tenumerator.moveNext();\n\t\t\t\tvar chr2 = enumerator.current;\n\n\t\t\t\tenumerator.moveNext();\n\t\t\t\tvar chr3 = enumerator.current;\n\n\t\t\t\tvar enc1 = chr1 >> 2;\n\t\t\t\tvar enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\t\t\tvar enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\t\t\tvar enc4 = chr3 & 63;\n\n\t\t\t\tif (isNaN(chr2))\n\t\t\t\t{\n\t\t\t\t\tenc3 = enc4 = 64;\n\t\t\t\t}\n\t\t\t\telse if (isNaN(chr3))\n\t\t\t\t{\n\t\t\t\t\tenc4 = 64;\n\t\t\t\t}\n\n\t\t\t\toutput.append(codex.charAt(enc1) + codex.charAt(enc2) + codex.charAt(enc3) + codex.charAt(enc4));\n\t\t\t}\n\n\t\t\treturn output.toString();\n\t\t},\n\n\t\tdecode : function (input)\n\t\t{\n\t\t\tvar output = new StringBuffer();\n\n\t\t\tvar enumerator = new Base64DecodeEnumerator(input);\n\t\t\twhile (enumerator.moveNext())\n\t\t\t{\n\t\t\t\tvar charCode = enumerator.current;\n\n\t\t\t\tif (charCode < 128)\n\t\t\t\t\toutput.append(String.fromCharCode(charCode));\n\t\t\t\telse if ((charCode > 191) && (charCode < 224))\n\t\t\t\t{\n\t\t\t\t\tenumerator.moveNext();\n\t\t\t\t\tvar charCode2 = enumerator.current;\n\n\t\t\t\t\toutput.append(String.fromCharCode(((charCode & 31) << 6) | (charCode2 & 63)));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tenumerator.moveNext();\n\t\t\t\t\tvar charCode2 = enumerator.current;\n\n\t\t\t\t\tenumerator.moveNext();\n\t\t\t\t\tvar charCode3 = enumerator.current;\n\n\t\t\t\t\toutput.append(String.fromCharCode(((charCode & 15) << 12) | ((charCode2 & 63) << 6) | (charCode3 & 63)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn output.toString();\n\t\t}\n\t};\n\n\tfunction Utf8EncodeEnumerator(input)\n\t{\n\t\tthis._input = input;\n\t\tthis._index = -1;\n\t\tthis._buffer = [];\n\t}\n\n\tUtf8EncodeEnumerator.prototype =\n\t{\n\t\tcurrent: Number.NaN,\n\n\t\tmoveNext: function()\n\t\t{\n\t\t\tif (this._buffer.length > 0)\n\t\t\t{\n\t\t\t\tthis.current = this._buffer.shift();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (this._index >= (this._input.length - 1))\n\t\t\t{\n\t\t\t\tthis.current = Number.NaN;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar charCode = this._input.charCodeAt(++this._index);\n\n\t\t\t\t// \"\\r\\n\" -> \"\\n\"\n\t\t\t\t//\n\t\t\t\tif ((charCode == 13) && (this._input.charCodeAt(this._index + 1) == 10))\n\t\t\t\t{\n\t\t\t\t\tcharCode = 10;\n\t\t\t\t\tthis._index += 2;\n\t\t\t\t}\n\n\t\t\t\tif (charCode < 128)\n\t\t\t\t{\n\t\t\t\t\tthis.current = charCode;\n\t\t\t\t}\n\t\t\t\telse if ((charCode > 127) && (charCode < 2048))\n\t\t\t\t{\n\t\t\t\t\tthis.current = (charCode >> 6) | 192;\n\t\t\t\t\tthis._buffer.push((charCode & 63) | 128);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.current = (charCode >> 12) | 224;\n\t\t\t\t\tthis._buffer.push(((charCode >> 6) & 63) | 128);\n\t\t\t\t\tthis._buffer.push((charCode & 63) | 128);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction Base64DecodeEnumerator(input)\n\t{\n\t\tthis._input = input;\n\t\tthis._index = -1;\n\t\tthis._buffer = [];\n\t}\n\n\tBase64DecodeEnumerator.prototype =\n\t{\n\t\tcurrent: 64,\n\n\t\tmoveNext: function()\n\t\t{\n\t\t\tif (this._buffer.length > 0)\n\t\t\t{\n\t\t\t\tthis.current = this._buffer.shift();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (this._index >= (this._input.length - 1))\n\t\t\t{\n\t\t\t\tthis.current = 64;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar enc1 = Base64.codex.indexOf(this._input.charAt(++this._index));\n\t\t\t\tvar enc2 = Base64.codex.indexOf(this._input.charAt(++this._index));\n\t\t\t\tvar enc3 = Base64.codex.indexOf(this._input.charAt(++this._index));\n\t\t\t\tvar enc4 = Base64.codex.indexOf(this._input.charAt(++this._index));\n\n\t\t\t\tvar chr1 = (enc1 << 2) | (enc2 >> 4);\n\t\t\t\tvar chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n\t\t\t\tvar chr3 = ((enc3 & 3) << 6) | enc4;\n\n\t\t\t\tthis.current = chr1;\n\n\t\t\t\tif (enc3 != 64)\n\t\t\t\t\tthis._buffer.push(chr2);\n\n\t\t\t\tif (enc4 != 64)\n\t\t\t\t\tthis._buffer.push(chr3);\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t};\n\n\treturn Base64;\n})();\n\n/* harmony default export */ var base64 = (Base64);\n\n// EXTERNAL MODULE: ./node_modules/crypto-js/build/hmac-sha256.js\nvar hmac_sha256 = __webpack_require__(9);\nvar hmac_sha256_default = /*#__PURE__*/__webpack_require__.n(hmac_sha256);\n\n// EXTERNAL MODULE: ./node_modules/crypto-js/build/enc-base64.js\nvar enc_base64 = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./common/lib/client/auth.js\n\n\n\n\n\n\n\n\n\n\n\nvar auth_Auth = (function() {\n\tvar MAX_TOKEN_LENGTH = Math.pow(2, 17);\n\tfunction noop() {}\n\tfunction random() { return ('000000' + Math.floor(Math.random() * 1E16)).slice(-16); }\n\tfunction normaliseAuthcallbackError(err) {\n\t\t/* A client auth callback may give errors in any number of formats; normalise to an errorinfo */\n\t\tif(!utils.isErrorInfo(err)) {\n\t\t\treturn new errorinfo(utils.inspectError(err), err.code || 40170, err.statusCode || 401);\n\t\t}\n\t\t/* network errors will not have an inherent error code */\n\t\tif(!err.code) {\n\t\t\tif(err.statusCode === 403) {\n\t\t\t\terr.code = 40300;\n\t\t\t} else {\n\t\t\t\terr.code = 40170;\n\t\t\t\t/* normalise statusCode to 401 per RSA4e */\n\t\t\t\terr.statusCode = 401;\n\t\t\t}\n\t\t}\n\t\treturn err;\n\t}\n\n\tvar hmac, toBase64;\n\tif(platform.createHmac) {\n\t\ttoBase64 = function(str) { return (Buffer.from(str, 'ascii')).toString('base64'); };\n\t\thmac = function(text, key) {\n\t\t\tvar inst = platform.createHmac('SHA256', key);\n\t\t\tinst.update(text);\n\t\t\treturn inst.digest('base64');\n\t\t};\n\t} else {\n\t\ttoBase64 = base64.encode;\n\t\thmac = function(text, key) {\n\t\t\treturn Object(enc_base64[\"stringify\"])(hmac_sha256_default()(text, key));\n\t\t};\n\t}\n\n\tfunction c14n(capability) {\n\t\tif(!capability)\n\t\t\treturn '';\n\n\t\tif(typeof(capability) == 'string')\n\t\t\tcapability = JSON.parse(capability);\n\n\t\tvar c14nCapability = Object.create(null);\n\t\tvar keys = utils.keysArray(capability, true);\n\t\tif(!keys)\n\t\t\treturn '';\n\t\tkeys.sort();\n\t\tfor(var i = 0; i < keys.length; i++) {\n\t\t\tc14nCapability[keys[i]] = capability[keys[i]].sort();\n\t\t}\n\t\treturn JSON.stringify(c14nCapability);\n\t}\n\n\tfunction logAndValidateTokenAuthMethod(authOptions) {\n\t\tif(authOptions.authCallback) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth()', 'using token auth with authCallback');\n\t\t} else if(authOptions.authUrl) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth()', 'using token auth with authUrl');\n\t\t} else if(authOptions.key) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth()', 'using token auth with client-side signing');\n\t\t} else if(authOptions.tokenDetails) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth()', 'using token auth with supplied token only');\n\t\t} else {\n\t\t\tvar msg = 'authOptions must include valid authentication parameters';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth()', msg);\n\t\t\tthrow new Error(msg);\n\t\t}\n\t}\n\n\tfunction basicAuthForced(options) {\n\t\treturn 'useTokenAuth' in options && !options.useTokenAuth;\n\t}\n\n\t/* RSA4 */\n\tfunction useTokenAuth(options) {\n\t\treturn options.useTokenAuth ||\n\t\t\t(!basicAuthForced(options) &&\n\t\t\t (options.authCallback ||\n\t\t\t  options.authUrl      ||\n\t\t\t  options.token        ||\n\t\t\t  options.tokenDetails))\n\t}\n\n\t/* RSA4a */\n\tfunction noWayToRenew(options) {\n\t\treturn !options.key &&\n\t\t\t!options.authCallback &&\n\t\t\t!options.authUrl;\n\t}\n\n\tvar trId = 0;\n\tfunction getTokenRequestId() {\n\t\treturn trId++;\n\t}\n\n\tfunction Auth(client, options) {\n\t\tthis.client = client;\n\t\tthis.tokenParams = options.defaultTokenParams || {};\n\t\t/* The id of the current token request if one is in progress, else null */\n\t\tthis.currentTokenRequestId = null;\n\t\tthis.waitingForTokenRequest = null;\n\n\t\tif(useTokenAuth(options)) {\n\t\t\t/* Token auth */\n\t\t\tif(options.key && !hmac) {\n\t\t\t\tvar msg = 'client-side token request signing not supported';\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth()', msg);\n\t\t\t\tthrow new Error(msg);\n\t\t\t}\n\t\t\tif(noWayToRenew(options)) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth()', 'Warning: library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help');\n\t\t\t}\n\t\t\tthis._saveTokenOptions(options.defaultTokenParams, options);\n\t\t\tlogAndValidateTokenAuthMethod(this.authOptions);\n\t\t} else {\n\t\t\t/* Basic auth */\n\t\t\tif(!options.key) {\n\t\t\t\tvar msg = 'No authentication options provided; need one of: key, authUrl, or authCallback (or for testing only, token or tokenDetails)';\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth()', msg);\n\t\t\t\tthrow new errorinfo(msg, 40160, 401);\n\t\t\t}\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth()', 'anonymous, using basic auth');\n\t\t\tthis._saveBasicOptions(options);\n\t\t}\n\t}\n\n\t/**\n\t * Instructs the library to get a token immediately and ensures Token Auth\n\t * is used for all future requests, storing the tokenParams and authOptions\n\t * given as the new defaults for subsequent use.\n\t *\n\t * @param tokenParams\n\t * an object containing the parameters for the requested token:\n\t *\n\t * - ttl:        (optional) the requested life of any new token in ms. If none\n\t *               is specified a default of 1 hour is provided. The maximum lifetime\n\t *               is 24hours; any request exceeeding that lifetime will be rejected\n\t *               with an error.\n\t *\n\t * - capability: (optional) the capability to associate with the access token.\n\t *               If none is specified, a token will be requested with all of the\n\t *               capabilities of the specified key.\n\t *\n\t * - clientId:   (optional) a client Id to associate with the token\n\t *\n\t * - timestamp:  (optional) the time in ms since the epoch. If none is specified,\n\t *               the system will be queried for a time value to use.\n\t *\n\t * @param authOptions\n\t * an object containing auth options relevant to token auth:\n\t *\n\t * - queryTime   (optional) boolean indicating that the Ably system should be\n\t *               queried for the current time when none is specified explicitly.\n\t *\n\t * - tokenDetails: (optional) object: An authenticated TokenDetails object.\n\t *\n\t * - token:        (optional) string: the `token` property of a tokenDetails object\n\t *\n\t * - authCallback:  (optional) a JavaScript callback to be called to get auth information.\n\t *                  authCallback should be a function of (tokenParams, callback) that calls\n\t *                  the callback with (err, result), where result is any of:\n\t *                  - a tokenRequest object (ie the result of a rest.auth.createTokenRequest call),\n\t *                  - a tokenDetails object (ie the result of a rest.auth.requestToken call),\n\t *                  - a token string\n\t *\n\t * - authUrl:       (optional) a URL to be used to GET or POST a set of token request\n\t *                  params, to obtain a signed token request.\n\t *\n\t * - authHeaders:   (optional) a set of application-specific headers to be added to any request\n\t *                  made to the authUrl.\n\t *\n\t * - authParams:    (optional) a set of application-specific query params to be added to any\n\t *                  request made to the authUrl.\n\t *\n\t *\n\t * - requestHeaders (optional, unsupported, for testing only) extra headers to add to the\n\t *                  requestToken request\n\t *\n\t * @param callback (err, tokenDetails)\n\t */\n\tAuth.prototype.authorize = function(tokenParams, authOptions, callback) {\n\t\t/* shuffle and normalise arguments as necessary */\n\t\tif(typeof(tokenParams) == 'function' && !callback) {\n\t\t\tcallback = tokenParams;\n\t\t\tauthOptions = tokenParams = null;\n\t\t} else if(typeof(authOptions) == 'function' && !callback) {\n\t\t\tcallback = authOptions;\n\t\t\tauthOptions = null;\n\t\t}\n\t\tif(!callback) {\n\t\t\tif(this.client.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'authorize', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\t\tvar self = this;\n\n\t\t/* RSA10a: authorize() call implies token auth. If a key is passed it, we\n\t\t * just check if it doesn't clash and assume we're generating a token from it */\n\t\tif(authOptions && authOptions.key && (this.authOptions.key !== authOptions.key)) {\n\t\t\tthrow new errorinfo('Unable to update auth options with incompatible key', 40102, 401);\n\t\t}\n\n\t\tif(authOptions && ('force' in authOptions)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth.authorize', 'Deprecation warning: specifying {force: true} in authOptions is no longer necessary, authorize() now always gets a new token. Please remove this, as in version 1.0 and later, having a non-null authOptions will overwrite stored library authOptions, which may not be what you want');\n\t\t\t/* Emulate the old behaviour: if 'force' was the only member of authOptions,\n\t\t\t * set it to null so it doesn't overwrite stored. TODO: remove in version 1.0 */\n\t\t\tif(utils.isOnlyPropIn(authOptions, 'force')) {\n\t\t\t\tauthOptions = null;\n\t\t\t}\n\t\t}\n\n\t\tthis._forceNewToken(tokenParams, authOptions, function(err, tokenDetails) {\n\t\t\tif(err) {\n\t\t\t\tif(self.client.connection) {\n\t\t\t\t\t/* We interpret RSA4d as including requests made by a client lib to\n\t\t\t\t\t * authenticate triggered by an explicit authorize() or an AUTH received from\n\t\t\t\t\t * ably, not just connect-sequence-triggered token fetches */\n\t\t\t\t\tself.client.connection.connectionManager.actOnErrorFromAuthorize(err);\n\t\t\t\t}\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* RTC8\n\t\t\t * - When authorize called by an end user and have a realtime connection,\n\t\t\t * don't call back till new token has taken effect.\n\t\t\t * - Use self.client.connection as a proxy for (self.client instanceof Realtime),\n\t\t\t * which doesn't work in node as Realtime isn't part of the vm context for Rest clients */\n\t\t\tif(self.client.connection) {\n\t\t\t\tself.client.connection.connectionManager.onAuthUpdated(tokenDetails, callback);\n\t\t\t} else {\n\t\t\t\tcallback(null, tokenDetails);\n\t\t\t}\n\t\t})\n\t};\n\n\tAuth.prototype.authorise = function() {\n\t\tutil_logger.deprecated('Auth.authorise', 'Auth.authorize');\n\t\tthis.authorize.apply(this, arguments);\n\t};\n\n\t/* For internal use, eg by connectionManager - useful when want to call back\n\t * as soon as we have the new token, rather than waiting for it to take\n\t * effect on the connection as #authorize does */\n\tAuth.prototype._forceNewToken = function(tokenParams, authOptions, callback) {\n\t\tvar self = this;\n\n\t\t/* get rid of current token even if still valid */\n\t\tthis.tokenDetails = null;\n\n\t\t/* _save normalises the tokenParams and authOptions and updates the auth\n\t\t * object. All subsequent operations should use the values on `this`,\n\t\t * not the passed in ones. */\n\t\tthis._saveTokenOptions(tokenParams, authOptions);\n\n\t\tlogAndValidateTokenAuthMethod(this.authOptions);\n\n\t\tthis._ensureValidAuthCredentials(true, function(err, tokenDetails) {\n\t\t\t/* RSA10g */\n\t\t\tdelete self.tokenParams.timestamp;\n\t\t\tdelete self.authOptions.queryTime;\n\t\t\tcallback(err, tokenDetails);\n\t\t});\n\t}\n\n\t/**\n\t * Request an access token\n\t * @param authOptions\n\t * an object containing the request options:\n\t * - key:           the key to use.\n\t *\n\t * - authCallback:  (optional) a JavaScript callback to be called to get auth information.\n\t *                  authCallback should be a function of (tokenParams, callback) that calls\n\t *                  the callback with (err, result), where result is any of:\n\t *                  - a tokenRequest object (ie the result of a rest.auth.createTokenRequest call),\n\t *                  - a tokenDetails object (ie the result of a rest.auth.requestToken call),\n\t *                  - a token string\n\t *\n\t * - authUrl:       (optional) a URL to be used to GET or POST a set of token request\n\t *                  params, to obtain a signed token request.\n\t *\n\t * - authHeaders:   (optional) a set of application-specific headers to be added to any request\n\t *                  made to the authUrl.\n\t *\n\t * - authParams:    (optional) a set of application-specific query params to be added to any\n\t *                  request made to the authUrl.\n\t *\n\t * - queryTime      (optional) boolean indicating that the ably system should be\n\t *                  queried for the current time when none is specified explicitly\n\t *\n\t * - requestHeaders (optional, unsupported, for testing only) extra headers to add to the\n\t *                  requestToken request\n\t *\n\t * @param tokenParams\n\t * an object containing the parameters for the requested token:\n\t * - ttl:          (optional) the requested life of the token in milliseconds. If none is specified\n\t *                  a default of 1 hour is provided. The maximum lifetime is 24hours; any request\n\t *                  exceeeding that lifetime will be rejected with an error.\n\t *\n\t * - capability:    (optional) the capability to associate with the access token.\n\t *                  If none is specified, a token will be requested with all of the\n\t *                  capabilities of the specified key.\n\t *\n\t * - clientId:      (optional) a client Id to associate with the token; if not\n\t *                  specified, a clientId passed in constructing the Rest interface will be used\n\t *\n\t * - timestamp:     (optional) the time in ms since the epoch. If none is specified,\n\t *                  the system will be queried for a time value to use.\n\t *\n\t * @param callback (err, tokenDetails)\n\t */\n\tAuth.prototype.requestToken = function(tokenParams, authOptions, callback) {\n\t\t/* shuffle and normalise arguments as necessary */\n\t\tif(typeof(tokenParams) == 'function' && !callback) {\n\t\t\tcallback = tokenParams;\n\t\t\tauthOptions = tokenParams = null;\n\t\t}\n\t\telse if(typeof(authOptions) == 'function' && !callback) {\n\t\t\tcallback = authOptions;\n\t\t\tauthOptions = null;\n\t\t}\n\t\tif(!callback && this.client.options.promises) {\n\t\t\treturn utils.promisify(this, 'requestToken', arguments);\n\t\t}\n\n\t\t/* RSA8e: if authOptions passed in, they're used instead of stored, don't merge them */\n\t\tauthOptions = authOptions || this.authOptions;\n\t\ttokenParams = tokenParams || utils.copy(this.tokenParams);\n\t\tcallback = callback || noop;\n\n\t\t/* first set up whatever callback will be used to get signed\n\t\t * token requests */\n\t\tvar tokenRequestCallback, client = this.client;\n\n\t\tif(authOptions.authCallback) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.requestToken()', 'using token auth with authCallback');\n\t\t\ttokenRequestCallback = authOptions.authCallback;\n\t\t} else if(authOptions.authUrl) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.requestToken()', 'using token auth with authUrl');\n\t\t\ttokenRequestCallback = function(params, cb) {\n\t\t\t\tvar authHeaders = utils.mixin({accept: 'application/json, text/plain'}, authOptions.authHeaders),\n\t\t\t\t\tusePost = authOptions.authMethod && authOptions.authMethod.toLowerCase() === 'post',\n\t\t\t\t\tprovidedQsParams;\n\t\t\t\t/* Combine authParams with any qs params given in the authUrl */\n\t\t\t\tvar queryIdx = authOptions.authUrl.indexOf('?');\n\t\t\t\tif(queryIdx > -1) {\n\t\t\t\t\tprovidedQsParams = utils.parseQueryString(authOptions.authUrl.slice(queryIdx));\n\t\t\t\t\tauthOptions.authUrl = authOptions.authUrl.slice(0, queryIdx);\n\t\t\t\t\tif (!usePost) {\n\t\t\t\t\t\t/* In case of conflict, authParams take precedence over qs params in the authUrl */\n\t\t\t\t\t\tauthOptions.authParams = utils.mixin(providedQsParams, authOptions.authParams);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/* RSA8c2 */\n\t\t\t\tvar authParams = utils.mixin({}, authOptions.authParams || {}, params);\n\t\t\t\tvar authUrlRequestCallback = function(err, body, headers, unpacked) {\n\t\t\t\t\tvar contentType;\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Auth.requestToken().tokenRequestCallback', 'Received Error: ' + utils.inspectError(err));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontentType = headers['content-type'];\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Auth.requestToken().tokenRequestCallback', 'Received; content-type: ' + contentType + '; body: ' + utils.inspectBody(body));\n\t\t\t\t\t}\n\t\t\t\t\tif(err || unpacked) return cb(err, body);\n\t\t\t\t\tif(bufferutils.isBuffer(body)) body = body.toString();\n\t\t\t\t\tif(!contentType) {\n\t\t\t\t\t\tcb(new errorinfo('authUrl response is missing a content-type header', 40170, 401));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar json = contentType.indexOf('application/json') > -1,\n\t\t\t\t\t\ttext = contentType.indexOf('text/plain') > -1 || contentType.indexOf('application/jwt') > -1;\n\t\t\t\t\tif(!json && !text) {\n\t\t\t\t\t\tcb(new errorinfo('authUrl responded with unacceptable content-type ' + contentType + ', should be either text/plain, application/jwt or application/json', 40170, 401));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif(json) {\n\t\t\t\t\t\tif(body.length > MAX_TOKEN_LENGTH) {\n\t\t\t\t\t\t\tcb(new errorinfo('authUrl response exceeded max permitted length', 40170, 401));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tbody = JSON.parse(body);\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\tcb(new errorinfo('Unexpected error processing authURL response; err = ' + e.message, 40170, 401));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcb(null, body, contentType);\n\t\t\t\t};\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Auth.requestToken().tokenRequestCallback', 'Requesting token from ' + authOptions.authUrl + '; Params: ' + JSON.stringify(authParams) + '; method: ' + (usePost ? 'POST' : 'GET'));\n\t\t\t\tif(usePost) {\n\t\t\t\t\t/* send body form-encoded */\n\t\t\t\t\tvar headers = authHeaders || {};\n\t\t\t\t\theaders['content-type'] = 'application/x-www-form-urlencoded';\n\t\t\t\t\tvar body = utils.toQueryString(authParams).slice(1); /* slice is to remove the initial '?' */\n\t\t\t\t\tutil_http.postUri(client, authOptions.authUrl, headers, body, providedQsParams, authUrlRequestCallback);\n\t\t\t\t} else {\n\t\t\t\t\tutil_http.getUri(client, authOptions.authUrl, authHeaders || {}, authParams, authUrlRequestCallback);\n\t\t\t\t}\n\t\t\t};\n\t\t} else if(authOptions.key) {\n\t\t\tvar self = this;\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.requestToken()', 'using token auth with client-side signing');\n\t\t\ttokenRequestCallback = function(params, cb) { self.createTokenRequest(params, authOptions, cb); };\n\t\t} else {\n\t\t\tvar msg = \"Need a new token, but authOptions does not include any way to request one (no authUrl, authCallback, or key)\";\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth()', 'library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help');\n\t\t\tcallback(new errorinfo(msg, 40171, 403));\n\t\t\treturn;\n\t\t}\n\n\t\t/* normalise token params */\n\t\tif('capability' in tokenParams)\n\t\t\ttokenParams.capability = c14n(tokenParams.capability);\n\n\t\tvar tokenRequest = function(signedTokenParams, tokenCb) {\n\t\t\tvar keyName = signedTokenParams.keyName,\n\t\t\t\tpath = '/keys/' + keyName + '/requestToken',\n\t\t\t\ttokenUri = function(host) { return client.baseUri(host) + path; };\n\n\t\t\tvar requestHeaders = utils.defaultPostHeaders();\n\t\t\tif(authOptions.requestHeaders) utils.mixin(requestHeaders, authOptions.requestHeaders);\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Auth.requestToken().requestToken', 'Sending POST to ' + path + '; Token params: ' + JSON.stringify(signedTokenParams));\n\t\t\tsignedTokenParams = JSON.stringify(signedTokenParams);\n\t\t\tutil_http.post(client, tokenUri, requestHeaders, signedTokenParams, null, tokenCb);\n\t\t};\n\n\t\tvar tokenRequestCallbackTimeoutExpired = false,\n\t\t\ttimeoutLength = this.client.options.timeouts.realtimeRequestTimeout,\n\t\t\ttokenRequestCallbackTimeout = setTimeout(function() {\n\t\t\t\ttokenRequestCallbackTimeoutExpired = true;\n\t\t\t\tvar msg = 'Token request callback timed out after ' + (timeoutLength / 1000) + ' seconds';\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth.requestToken()', msg);\n\t\t\t\tcallback(new errorinfo(msg, 40170, 401));\n\t\t\t}, timeoutLength);\n\n\t\ttokenRequestCallback(tokenParams, function(err, tokenRequestOrDetails, contentType) {\n\t\t\tif(tokenRequestCallbackTimeoutExpired) return;\n\t\t\tclearTimeout(tokenRequestCallbackTimeout);\n\n\t\t\tif(err) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth.requestToken()', 'token request signing call returned error; err = ' + utils.inspectError(err));\n\t\t\t\tcallback(normaliseAuthcallbackError(err));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* the response from the callback might be a token string, a signed request or a token details */\n\t\t\tif(typeof(tokenRequestOrDetails) === 'string') {\n\t\t\t\tif(tokenRequestOrDetails.length === 0) {\n\t\t\t\t\tcallback(new errorinfo('Token string is empty', 40170, 401));\n\t\t\t\t} else if(tokenRequestOrDetails.length > MAX_TOKEN_LENGTH) {\n\t\t\t\t\tcallback(new errorinfo('Token string exceeded max permitted length (was ' + tokenRequestOrDetails.length + ' bytes)', 40170, 401));\n\t\t\t\t} else if(tokenRequestOrDetails === 'undefined' || tokenRequestOrDetails === 'null') {\n\t\t\t\t\t/* common failure mode with poorly-implemented authCallbacks */\n\t\t\t\t\tcallback(new errorinfo('Token string was literal null/undefined', 40170, 401));\n\t\t\t\t} else if((tokenRequestOrDetails[0] === '{') && !(contentType && contentType.indexOf('application/jwt') > -1)) {\n\t\t\t\t\tcallback(new errorinfo('Token was double-encoded; make sure you\\'re not JSON-encoding an already encoded token request or details', 40170, 401));\n\t\t\t\t} else {\n\t\t\t\t\tcallback(null, {token: tokenRequestOrDetails});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(typeof(tokenRequestOrDetails) !== 'object') {\n\t\t\t\tvar msg = 'Expected token request callback to call back with a token string or token request/details object, but got a ' + typeof(tokenRequestOrDetails);\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth.requestToken()', msg);\n\t\t\t\tcallback(new errorinfo(msg, 40170, 401));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar objectSize = JSON.stringify(tokenRequestOrDetails).length;\n\t\t\tif(objectSize > MAX_TOKEN_LENGTH && !authOptions.suppressMaxLengthCheck) {\n\t\t\t\tcallback(new errorinfo('Token request/details object exceeded max permitted stringified size (was ' + objectSize + ' bytes)', 40170, 401));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif('issued' in tokenRequestOrDetails) {\n\t\t\t\t/* a tokenDetails object */\n\t\t\t\tcallback(null, tokenRequestOrDetails);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!('keyName' in tokenRequestOrDetails)) {\n\t\t\t\tvar msg = 'Expected token request callback to call back with a token string, token request object, or token details object';\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth.requestToken()', msg);\n\t\t\t\tcallback(new errorinfo(msg, 40170, 401));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* it's a token request, so make the request */\n\t\t\ttokenRequest(tokenRequestOrDetails, function(err, tokenResponse, headers, unpacked) {\n\t\t\t\tif(err) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth.requestToken()', 'token request API call returned error; err = ' + utils.inspectError(err));\n\t\t\t\t\tcallback(normaliseAuthcallbackError(err));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!unpacked) tokenResponse = JSON.parse(tokenResponse);\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.getToken()', 'token received');\n\t\t\t\tcallback(null, tokenResponse);\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Create and sign a token request based on the given options.\n\t * NOTE this can only be used when the key value is available locally.\n\t * Otherwise, signed token requests must be obtained from the key\n\t * owner (either using the token request callback or url).\n\t *\n\t * @param authOptions\n\t * an object containing the request options:\n\t * - key:           the key to use. If not specified, a key passed in constructing\n\t *                  the Rest interface will be used\n\t *\n\t * - queryTime      (optional) boolean indicating that the ably system should be\n\t *                  queried for the current time when none is specified explicitly\n\t *\n\t * - requestHeaders (optional, unsupported, for testing only) extra headers to add to the\n\t *                  requestToken request\n\t *\n\t * @param tokenParams\n\t * an object containing the parameters for the requested token:\n\t * - ttl:       (optional) the requested life of the token in ms. If none is specified\n\t *                  a default of 1 hour is provided. The maximum lifetime is 24hours; any request\n\t *                  exceeeding that lifetime will be rejected with an error.\n\t *\n\t * - capability:    (optional) the capability to associate with the access token.\n\t *                  If none is specified, a token will be requested with all of the\n\t *                  capabilities of the specified key.\n\t *\n\t * - clientId:      (optional) a client Id to associate with the token; if not\n\t *                  specified, a clientId passed in constructing the Rest interface will be used\n\t *\n\t * - timestamp:     (optional) the time in ms since the epoch. If none is specified,\n\t *                  the system will be queried for a time value to use.\n\t *\n\t */\n\tAuth.prototype.createTokenRequest = function(tokenParams, authOptions, callback) {\n\t\t/* shuffle and normalise arguments as necessary */\n\t\tif(typeof(tokenParams) == 'function' && !callback) {\n\t\t\tcallback = tokenParams;\n\t\t\tauthOptions = tokenParams = null;\n\t\t} else if(typeof(authOptions) == 'function' && !callback) {\n\t\t\tcallback = authOptions;\n\t\t\tauthOptions = null;\n\t\t}\n\t\tif(!callback && this.client.options.promises) {\n\t\t\treturn utils.promisify(this, 'createTokenRequest', arguments);\n\t\t}\n\n\t\t/* RSA9h: if authOptions passed in, they're used instead of stored, don't merge them */\n\t\tauthOptions = authOptions || this.authOptions;\n\t\ttokenParams = tokenParams || utils.copy(this.tokenParams);\n\n\t\tvar key = authOptions.key;\n\t\tif(!key) {\n\t\t\tcallback(new errorinfo('No key specified', 40101, 403));\n\t\t\treturn;\n\t\t}\n\t\tvar keyParts = key.split(':'),\n\t\t\tkeyName = keyParts[0],\n\t\t\tkeySecret = keyParts[1];\n\n\t\tif(!keySecret) {\n\t\t\tcallback(new errorinfo('Invalid key specified', 40101, 403));\n\t\t\treturn;\n\t\t}\n\n\t\tif(tokenParams.clientId === '') {\n\t\t\tcallback(new errorinfo('clientId can\u2019t be an empty string', 40012, 400));\n\t\t\treturn;\n\t\t}\n\n\t\tif('capability' in tokenParams) {\n\t\t\ttokenParams.capability = c14n(tokenParams.capability);\n\t\t}\n\n\t\tvar request = utils.mixin({ keyName: keyName }, tokenParams),\n\t\t\tclientId = tokenParams.clientId || '',\n\t\t\tttl = tokenParams.ttl || '',\n\t\t\tcapability = tokenParams.capability || '',\n\t\t\tself = this;\n\n\t\t(function(authoriseCb) {\n\t\t\tif(request.timestamp) {\n\t\t\t\tauthoriseCb();\n\t\t\t\treturn;\n\t\t\t};\n\t\t\tself.getTimestamp(authOptions && authOptions.queryTime, function(err, time) {\n\t\t\t\tif(err) {callback(err); return;}\n\t\t\t\trequest.timestamp = time;\n\t\t\t\tauthoriseCb();\n\t\t\t});\n\t\t})(function() {\n\t\t\t/* nonce */\n\t\t\t/* NOTE: there is no expectation that the client\n\t\t\t * specifies the nonce; this is done by the library\n\t\t\t * However, this can be overridden by the client\n\t\t\t * simply for testing purposes. */\n\t\t\tvar nonce = request.nonce || (request.nonce = random()),\n\t\t\t\ttimestamp = request.timestamp;\n\n\t\t\tvar signText\n\t\t\t=\trequest.keyName + '\\n'\n\t\t\t+\tttl + '\\n'\n\t\t\t+\tcapability + '\\n'\n\t\t\t+\tclientId + '\\n'\n\t\t\t+\ttimestamp + '\\n'\n\t\t\t+\tnonce + '\\n';\n\n\t\t\t/* mac */\n\t\t\t/* NOTE: there is no expectation that the client\n\t\t\t * specifies the mac; this is done by the library\n\t\t\t * However, this can be overridden by the client\n\t\t\t * simply for testing purposes. */\n\t\t\trequest.mac = request.mac || hmac(signText, keySecret);\n\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.getTokenRequest()', 'generated signed request');\n\t\t\tcallback(null, request);\n\t\t});\n\t};\n\n\t/**\n\t * Get the auth query params to use for a websocket connection,\n\t * based on the current auth parameters\n\t */\n\tAuth.prototype.getAuthParams = function(callback) {\n\t\tif(this.method == 'basic')\n\t\t\tcallback(null, {key: this.key});\n\t\telse\n\t\t\tthis._ensureValidAuthCredentials(false, function(err, tokenDetails) {\n\t\t\t\tif(err) {\n\t\t\t\t\tcallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcallback(null, {access_token: tokenDetails.token});\n\t\t\t});\n\t};\n\n\t/**\n\t * Get the authorization header to use for a REST or comet request,\n\t * based on the current auth parameters\n\t */\n\tAuth.prototype.getAuthHeaders = function(callback) {\n\t\tif(this.method == 'basic') {\n\t\t\tcallback(null, {authorization: 'Basic ' + this.basicKey});\n\t\t} else {\n\t\t\tthis._ensureValidAuthCredentials(false, function(err, tokenDetails) {\n\t\t\t\tif(err) {\n\t\t\t\t\tcallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcallback(null, {authorization: 'Bearer ' + toBase64(tokenDetails.token)});\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Get the current time based on the local clock,\n\t * or if the option queryTime is true, return the server time.\n\t * The server time offset from the local time is stored so that\n\t * only one request to the server to get the time is ever needed\n\t */\n\tAuth.prototype.getTimestamp = function(queryTime, callback) {\n\t\tif (!this.isTimeOffsetSet() && (queryTime || this.authOptions.queryTime)) {\n\t\t\tthis.client.time(callback);\n\t\t} else {\n\t\t\tcallback(null, this.getTimestampUsingOffset());\n\t\t}\n\t};\n\n\tAuth.prototype.getTimestampUsingOffset = function() {\n\t\treturn utils.now() + (this.client.serverTimeOffset || 0);\n\t};\n\n\tAuth.prototype.isTimeOffsetSet = function() {\n\t\treturn this.client.serverTimeOffset !== null;\n\t};\n\n\tAuth.prototype._saveBasicOptions = function(authOptions) {\n\t\tthis.method = 'basic';\n\t\tthis.key = authOptions.key;\n\t\tthis.basicKey = toBase64(authOptions.key);\n\t\tthis.authOptions = authOptions || {};\n\t\tif('clientId' in authOptions) {\n\t\t\tthis._userSetClientId(authOptions.clientId);\n\t\t}\n\t}\n\n\tAuth.prototype._saveTokenOptions = function(tokenParams, authOptions) {\n\t\tthis.method = 'token';\n\n\t\tif(tokenParams) {\n\t\t\t/* We temporarily persist tokenParams.timestamp in case a new token needs\n\t\t\t * to be requested, then null it out in the callback of\n\t\t\t * _ensureValidAuthCredentials for RSA10g compliance */\n\t\t\tthis.tokenParams = tokenParams;\n\t\t}\n\n\t\tif(authOptions) {\n\t\t\t/* normalise */\n\t\t\tif(authOptions.token) {\n\t\t\t\t/* options.token may contain a token string or, for convenience, a TokenDetails */\n\t\t\t\tauthOptions.tokenDetails = (typeof(authOptions.token) === 'string') ? {token: authOptions.token} : authOptions.token;\n\t\t\t}\n\n\t\t\tif(authOptions.tokenDetails) {\n\t\t\t\tthis.tokenDetails = authOptions.tokenDetails;\n\t\t\t}\n\n\t\t\tif('clientId' in authOptions) {\n\t\t\t\tthis._userSetClientId(authOptions.clientId);\n\t\t\t}\n\n\t\t\tthis.authOptions = authOptions;\n\t\t}\n\t};\n\n\t/* @param forceSupersede: force a new token request even if there's one in\n\t * progress, making all pending callbacks wait for the new one */\n\tAuth.prototype._ensureValidAuthCredentials = function(forceSupersede, callback) {\n\t\tvar self = this,\n\t\t\ttoken = this.tokenDetails;\n\n\t\tif(token) {\n\t\t\tif(this._tokenClientIdMismatch(token.clientId)) {\n\t\t\t\t/* 403 to trigger a permanently failed client - RSA15c */\n\t\t\t\tcallback(new errorinfo('Mismatch between clientId in token (' + token.clientId + ') and current clientId (' + this.clientId + ')', 40102, 403));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* RSA4b1 -- if we have a server time offset set already, we can\n\t\t\t * autoremove expired tokens. Else just use the cached token. If it is\n\t\t\t * expired Ably will tell us and we'll discard it then. */\n\t\t\tif(!this.isTimeOffsetSet() || !token.expires || (token.expires >= this.getTimestampUsingOffset())) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.getToken()', 'using cached token; expires = ' + token.expires);\n\t\t\t\tcallback(null, token);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* expired, so remove and fallthrough to getting a new one */\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth.getToken()', 'deleting expired token');\n\t\t\tthis.tokenDetails = null;\n\t\t}\n\n\t\t(this.waitingForTokenRequest || (this.waitingForTokenRequest = util_multicaster())).push(callback);\n\t\tif(this.currentTokenRequestId !== null && !forceSupersede) {\n\t\t\treturn;\n\t\t}\n\n\t\t/* Request a new token */\n\t\tvar tokenRequestId = this.currentTokenRequestId = getTokenRequestId();\n\t\tthis.requestToken(this.tokenParams, this.authOptions, function(err, tokenResponse) {\n\t\t\tif(self.currentTokenRequestId > tokenRequestId) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Auth._ensureValidAuthCredentials()', 'Discarding token request response; overtaken by newer one');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.currentTokenRequestId = null;\n\t\t\tvar callbacks = self.waitingForTokenRequest || noop;\n\t\t\tself.waitingForTokenRequest = null;\n\t\t\tif(err) {\n\t\t\t\tcallbacks(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcallbacks(null, (self.tokenDetails = tokenResponse));\n\t\t});\n\t};\n\n\n\t/* User-set: check types, '*' is disallowed, throw any errors */\n\tAuth.prototype._userSetClientId = function(clientId) {\n\t\tif(!(typeof(clientId) === 'string' || clientId === null)) {\n\t\t\tthrow new errorinfo('clientId must be either a string or null', 40012, 400);\n\t\t} else if(clientId === '*') {\n\t\t\tthrow new errorinfo('Can\u2019t use \"*\" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, instantiate the library with {defaultTokenParams: {clientId: \"*\"}}), or if calling authorize(), pass it in as a tokenParam: authorize({clientId: \"*\"}, authOptions)', 40012, 400);\n\t\t} else {\n\t\t\tvar err = this._uncheckedSetClientId(clientId);\n\t\t\tif(err) throw err;\n\t\t}\n\t};\n\n\t/* Ably-set: no typechecking, '*' is allowed but not set on this.clientId), return errors to the caller */\n\tAuth.prototype._uncheckedSetClientId = function(clientId) {\n\t\tif(this._tokenClientIdMismatch(clientId)) {\n\t\t\t/* Should never happen in normal circumstances as realtime should\n\t\t\t * recognise mismatch and return an error */\n\t\t\tvar msg = 'Unexpected clientId mismatch: client has ' + this.clientId + ', requested ' + clientId;\n\t\t\tvar err = new errorinfo(msg, 40102, 401);\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Auth._uncheckedSetClientId()', msg);\n\t\t\treturn err;\n\t\t} else {\n\t\t\t/* RSA7a4: if options.clientId is provided and is not\n\t\t\t * null, it overrides defaultTokenParams.clientId */\n\t\t\tthis.clientId = this.tokenParams.clientId = clientId;\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tAuth.prototype._tokenClientIdMismatch = function(tokenClientId) {\n\t\treturn this.clientId &&\n\t\t\t(this.clientId !== '*') &&\n\t\t\ttokenClientId &&\n\t\t\t(tokenClientId !== '*') &&\n\t\t\t(this.clientId !== tokenClientId);\n\t};\n\n\tAuth.isTokenErr = function(error) {\n\t\treturn error.code && (error.code >= 40140) && (error.code < 40150);\n\t};\n\n\treturn Auth;\n})();\n\n/* harmony default export */ var client_auth = (auth_Auth);\n\n// CONCATENATED MODULE: ./common/lib/types/devicedetails.js\n\n\nvar devicedetails_DeviceDetails = (function() {\n\n\tfunction DeviceDetails() {\n\t\tthis.id = undefined;\n\t\tthis.deviceSecret = undefined;\n\t\tthis.platform = undefined;\n\t\tthis.formFactor = undefined;\n\t\tthis.clientId = undefined;\n\t\tthis.metadata = undefined;\n\t\tthis.deviceIdentityToken = undefined;\n\t\tthis.push = {\n\t\t\trecipient: undefined,\n\t\t\tstate: undefined,\n\t\t\terror: undefined\n\t\t};\n\t}\n\n\t/**\n\t * Overload toJSON() to intercept JSON.stringify()\n\t * @return {*}\n\t */\n\tDeviceDetails.prototype.toJSON = function() {\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\tdeviceSecret: this.deviceSecret,\n\t\t\tplatform: this.platform,\n\t\t\tformFactor: this.formFactor,\n\t\t\tclientId: this.clientId,\n\t\t\tmetadata: this.metadata,\n\t\t\tdeviceIdentityToken: this.deviceIdentityToken,\n\t\t\tpush: {\n\t\t\t\trecipient: this.push.recipient,\n\t\t\t\tstate: this.push.state,\n\t\t\t\terror: this.push.error\n\t\t\t}\n\t\t};\n\t};\n\n\tDeviceDetails.prototype.toString = function() {\n\t\tvar result = '[DeviceDetails';\n\t\tif(this.id)\n\t\t\tresult += '; id=' + this.id;\n\t\tif(this.platform)\n\t\t\tresult += '; platform=' + this.platform;\n\t\tif(this.formFactor)\n\t\t\tresult += '; formFactor=' + this.formFactor;\n\t\tif(this.clientId)\n\t\t\tresult += '; clientId=' + this.clientId;\n\t\tif(this.metadata)\n\t\t\tresult += '; metadata=' + this.metadata;\n\t\tif(this.deviceIdentityToken)\n\t\t\tresult += '; deviceIdentityToken=' + JSON.stringify(this.deviceIdentityToken);\n\t\tif(this.push.recipient)\n\t\t\tresult += '; push.recipient=' + JSON.stringify(this.push.recipient);\n\t\tif(this.push.state)\n\t\t\tresult += '; push.state=' + this.push.state;\n\t\tif(this.push.error)\n\t\t\tresult += '; push.error=' + JSON.stringify(this.push.error);\n\t\tif(this.push.metadata)\n\t\t\tresult += '; push.metadata=' + this.push.metadata;\n\t\tresult += ']';\n\t\treturn result;\n\t};\n\n\tDeviceDetails.toRequestBody = utils.encodeBody;\n\n\tDeviceDetails.fromResponseBody = function(body, format) {\n\t\tif(format) {\n\t\t\tbody = utils.decodeBody(body, format);\n\t\t}\n\n\t\tif(utils.isArray(body)) {\n\t\t\treturn DeviceDetails.fromValuesArray(body);\n\t\t} else {\n\t\t\treturn DeviceDetails.fromValues(body);\n\t\t}\n\t};\n\n\tDeviceDetails.fromValues = function(values) {\n\t\tvalues.error = values.error && ErrorInfo.fromValues(values.error); \n\t\treturn utils.mixin(new DeviceDetails(), values);\n\t};\n\n\tDeviceDetails.fromValuesArray = function(values) {\n\t\tvar count = values.length, result = new Array(count);\n\t\tfor(var i = 0; i < count; i++) result[i] = DeviceDetails.fromValues(values[i]);\n\t\treturn result;\n\t};\n\n\treturn DeviceDetails;\n})();\n\n/* harmony default export */ var devicedetails = (devicedetails_DeviceDetails);\n\n// CONCATENATED MODULE: ./common/lib/client/resource.js\n\n\n\n\n\n\n\nvar resource_Resource = (function() {\n\tvar msgpack = platform.msgpack;\n\n\tfunction Resource() {}\n\n\tfunction withAuthDetails(rest, headers, params, errCallback, opCallback) {\n\t\tif (util_http.supportsAuthHeaders) {\n\t\t\trest.auth.getAuthHeaders(function(err, authHeaders) {\n\t\t\t\tif(err)\n\t\t\t\t\terrCallback(err);\n\t\t\t\telse\n\t\t\t\t\topCallback(utils.mixin(authHeaders, headers), params);\n\t\t\t});\n\t\t} else {\n\t\t\trest.auth.getAuthParams(function(err, authParams) {\n\t\t\t\tif(err)\n\t\t\t\t\terrCallback(err);\n\t\t\t\telse\n\t\t\t\t\topCallback(headers, utils.mixin(authParams, params));\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction unenvelope(callback, format) {\n\t\treturn function(err, body, outerHeaders, unpacked, outerStatusCode) {\n\t\t\tif(err && !body) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!unpacked) {\n\t\t\t\ttry {\n\t\t\t\t\tbody = utils.decodeBody(body, format);\n\t\t\t\t} catch(e) {\n\t\t\t\t\tcallback(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(body.statusCode === undefined) {\n\t\t\t\t/* Envelope already unwrapped by the transport */\n\t\t\t\tcallback(err, body, outerHeaders, true, outerStatusCode);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar wrappedStatusCode = body.statusCode,\n\t\t\t\tresponse = body.response,\n\t\t\t\twrappedHeaders = body.headers;\n\n\t\t\tif(wrappedStatusCode < 200 || wrappedStatusCode >= 300) {\n\t\t\t\t/* handle wrapped errors */\n\t\t\t\tvar wrappedErr = (response && response.error) || err;\n\t\t\t\tif(!wrappedErr) {\n\t\t\t\t\twrappedErr = new Error(\"Error in unenveloping \" + body);\n\t\t\t\t\twrappedErr.statusCode = wrappedStatusCode;\n\t\t\t\t}\n\t\t\t\tcallback(wrappedErr, response, wrappedHeaders, true, wrappedStatusCode);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcallback(err, response, wrappedHeaders, true, wrappedStatusCode);\n\t\t};\n\t}\n\n\tfunction paramString(params) {\n\t\tvar paramPairs = [];\n\t\tif (params) {\n\t\t\tfor (var needle in params) {\n\t\t\t\tparamPairs.push(needle + '=' + params[needle]);\n\t\t\t}\n\t\t}\n\t\treturn paramPairs.join('&');\n\t}\n\n\tfunction urlFromPathAndParams(path, params) {\n\t\treturn path + (params ? '?' : '') + paramString(params);\n\t}\n\n\tfunction logResponseHandler(callback, method, path, params) {\n\t\treturn function(err, body, headers, unpacked, statusCode) {\n\t\t\tif (err) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Resource.' + method + '()', 'Received Error; ' + urlFromPathAndParams(path, params) + '; Error: ' + utils.inspectError(err));\n\t\t\t} else {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Resource.' + method + '()',\n\t\t\t\t\t'Received; ' + urlFromPathAndParams(path, params) + '; Headers: ' + paramString(headers) + '; StatusCode: ' + statusCode + '; Body: ' + (bufferutils.isBuffer(body) ? body.toString() : body));\n\t\t\t}\n\t\t\tif (callback) { callback(err, body, headers, unpacked, statusCode); }\n\t\t}\n\t}\n\n\tutils.arrForEach(util_http.methodsWithoutBody, function(method) {\n\t\tResource[method] = function(rest, path, origheaders, origparams, envelope, callback) {\n\t\t\tResource['do'](method, rest, path, null, origheaders, origparams, envelope, callback);\n\t\t};\n\t});\n\n\tutils.arrForEach(util_http.methodsWithBody, function(method) {\n\t\tResource[method] = function(rest, path, body, origheaders, origparams, envelope, callback) {\n\t\t\tResource['do'](method, rest, path, body, origheaders, origparams, envelope, callback);\n\t\t};\n\t});\n\n\tResource['do'] = function(method, rest, path, body, origheaders, origparams, envelope, callback) {\n\t\tif (util_logger.shouldLog(util_logger.LOG_MICRO)) {\n\t\t\tcallback = logResponseHandler(callback, method, path, origparams);\n\t\t}\n\n\t\tif(envelope) {\n\t\t\tcallback = (callback && unenvelope(callback, envelope));\n\t\t\t(origparams = (origparams || {}))['envelope'] = envelope;\n\t\t}\n\n\t\tfunction doRequest(headers, params) {\n\t\t\tif (util_logger.shouldLog(util_logger.LOG_MICRO)) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Resource.' + method + '()', 'Sending; ' + urlFromPathAndParams(path, params));\n\t\t\t}\n\n\t\t\tvar args = [rest, path, headers, body, params, function(err, res, headers, unpacked, statusCode) {\n\t\t\t\tif(err && client_auth.isTokenErr(err)) {\n\t\t\t\t\t/* token has expired, so get a new one */\n\t\t\t\t\trest.auth.authorize(null, null, function(err) {\n\t\t\t\t\t\tif(err) {\n\t\t\t\t\t\t\tcallback(err);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* retry ... */\n\t\t\t\t\t\twithAuthDetails(rest, origheaders, origparams, callback, doRequest);\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcallback(err, res, headers, unpacked, statusCode);\n\t\t\t}];\n\t\t\tif (!body) {\n\t\t\t\targs.splice(3, 1);\n\t\t\t}\n\n\t\t\tif (util_logger.shouldLog(util_logger.LOG_MICRO)) {\n\t\t\t\tvar decodedBody = body;\n\t\t\t\tif ((headers['content-type'] || '').indexOf('msgpack') > 0) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdecodedBody = msgpack.decode(body);\n\t\t\t\t\t} catch (decodeErr) {\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Resource.' + method + '()', 'Sending MsgPack Decoding Error: ' + utils.inspectError(decodeErr));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Resource.' + method + '()', 'Sending; ' + urlFromPathAndParams(path, params) + '; Body: ' + decodedBody);\n\t\t\t}\n\t\t\tutil_http[method].apply(this, args);\n\t\t}\n\n\t\twithAuthDetails(rest, origheaders, origparams, callback, doRequest);\n\t};\n\n\treturn Resource;\n})();\n\n/* harmony default export */ var client_resource = (resource_Resource);\n\n// CONCATENATED MODULE: ./common/lib/client/paginatedresource.js\n\n\n\n\n\nvar paginatedresource_PaginatedResource = (function() {\n\n\tfunction getRelParams(linkUrl) {\n\t\tvar urlMatch = linkUrl.match(/^\\.\\/(\\w+)\\?(.*)$/);\n\t\treturn urlMatch && utils.parseQueryString(urlMatch[2]);\n\t}\n\n\tfunction parseRelLinks(linkHeader) {\n\t\tif(typeof(linkHeader) == 'string')\n\t\t\tlinkHeader = linkHeader.split(',');\n\n\t\tvar relParams = {};\n\t\tfor(var i = 0; i < linkHeader.length; i++) {\n\t\t\tvar linkMatch = linkHeader[i].match(/^\\s*<(.+)>;\\s*rel=\"(\\w+)\"$/);\n\t\t\tif(linkMatch) {\n\t\t\t\tvar params = getRelParams(linkMatch[1]);\n\t\t\t\tif(params)\n\t\t\t\t\trelParams[linkMatch[2]] = params;\n\t\t\t}\n\t\t}\n\t\treturn relParams;\n\t}\n\n\tfunction PaginatedResource(rest, path, headers, envelope, bodyHandler, useHttpPaginatedResponse) {\n\t\tthis.rest = rest;\n\t\tthis.path = path;\n\t\tthis.headers = headers;\n\t\tthis.envelope = envelope;\n\t\tthis.bodyHandler = bodyHandler;\n\t\tthis.useHttpPaginatedResponse = useHttpPaginatedResponse || false;\n\t}\n\n\tutils.arrForEach(util_http.methodsWithoutBody, function(method) {\n\t\tPaginatedResource.prototype[method] = function(params, callback) {\n\t\t\tvar self = this;\n\t\t\tclient_resource[method](self.rest, self.path, self.headers, params, self.envelope, function(err, body, headers, unpacked, statusCode) {\n\t\t\t\tself.handlePage(err, body, headers, unpacked, statusCode, callback);\n\t\t\t});\n\t\t};\n\t})\n\n\tutils.arrForEach(util_http.methodsWithBody, function(method) {\n\t\tPaginatedResource.prototype[method] = function(params, body, callback) {\n\t\t\tvar self = this;\n\t\t\tclient_resource[method](self.rest, self.path, body, self.headers, params, self.envelope, function(err, resbody, headers, unpacked, statusCode) {\n\t\t\t\tif(callback) {\n\t\t\t\t\tself.handlePage(err, resbody, headers, unpacked, statusCode, callback);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t});\n\n\tfunction returnErrOnly(err, body, useHPR) {\n\t\t/* If using httpPaginatedResponse, errors from Ably are returned as part of\n\t\t * the HPR, only do callback(err) for network errors etc. which don't\n\t\t * return a body and/or have no ably-originated error code (non-numeric\n\t\t * error codes originate from node) */\n\t\treturn !(useHPR && (body || typeof err.code === 'number'));\n\t}\n\n\tPaginatedResource.prototype.handlePage = function(err, body, headers, unpacked, statusCode, callback) {\n\t\tif(err && returnErrOnly(err, body, this.useHttpPaginatedResponse)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'PaginatedResource.handlePage()', 'Unexpected error getting resource: err = ' + utils.inspectError(err));\n\t\t\tcallback(err);\n\t\t\treturn;\n\t\t}\n\t\tvar items, linkHeader, relParams;\n\t\ttry {\n\t\t\titems = this.bodyHandler(body, headers, unpacked);\n\t\t} catch(e) {\n\t\t\t/* If we got an error, the failure to parse the body is almost certainly\n\t\t\t * due to that, so cb with that in preference to the parse error */\n\t\t\tcallback(err || e);\n\t\t\treturn;\n\t\t}\n\n\t\tif(headers && (linkHeader = (headers['Link'] || headers['link']))) {\n\t\t\trelParams = parseRelLinks(linkHeader);\n\t\t}\n\n\t\tif(this.useHttpPaginatedResponse) {\n\t\t\tcallback(null, new HttpPaginatedResponse(this, items, headers, statusCode, relParams, err));\n\t\t} else {\n\t\t\tcallback(null, new PaginatedResult(this, items, relParams));\n\t\t}\n\t};\n\n\tfunction PaginatedResult(resource, items, relParams) {\n\t\tthis.resource = resource;\n\t\tthis.items = items;\n\n\t\tif(relParams) {\n\t\t\tvar self = this;\n\t\t\tif('first' in relParams) {\n\t\t\t\tthis.first = function(cb) {\n\t\t\t\t\tif(!cb && self.resource.rest.options.promises) {\n\t\t\t\t\t\treturn utils.promisify(self, 'first', []);\n\t\t\t\t\t}\n\t\t\t\t\tself.get(relParams.first, cb);\n\t\t\t\t};\n\t\t\t}\n\t\t\tif('current' in relParams) {\n\t\t\t\tthis.current = function(cb) {\n\t\t\t\t\tif(!cb && self.resource.rest.options.promises) {\n\t\t\t\t\t\treturn utils.promisify(self, 'current', []);\n\t\t\t\t\t}\n\t\t\t\t\tself.get(relParams.current, cb);\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.next = function(cb) {\n\t\t\t\tif(!cb && self.resource.rest.options.promises) {\n\t\t\t\t\treturn utils.promisify(self, 'next', []);\n\t\t\t\t}\n\t\t\t\tif('next' in relParams) {\n\t\t\t\t\tself.get(relParams.next, cb);\n\t\t\t\t} else {\n\t\t\t\t\tcb(null, null);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.hasNext = function() { return ('next' in relParams) };\n\t\t\tthis.isLast = function() { return !this.hasNext(); }\n\t\t}\n\t}\n\n\t/* We assume that only the initial request can be a POST, and that accessing\n\t * the rest of a multipage set of results can always be done with GET */\n\tPaginatedResult.prototype.get = function(params, callback) {\n\t\tvar res = this.resource;\n\t\tclient_resource.get(res.rest, res.path, res.headers, params, res.envelope, function(err, body, headers, unpacked, statusCode) {\n\t\t\tres.handlePage(err, body, headers, unpacked, statusCode, callback);\n\t\t});\n\t};\n\n\tfunction HttpPaginatedResponse(resource, items, headers, statusCode, relParams, err) {\n\t\tPaginatedResult.call(this, resource, items, relParams);\n\t\tthis.statusCode = statusCode;\n\t\tthis.success = statusCode < 300 && statusCode >= 200;\n\t\tthis.headers = headers;\n\t\tthis.errorCode = err && err.code;\n\t\tthis.errorMessage = err && err.message;\n\t}\n\tutils.inherits(HttpPaginatedResponse, PaginatedResult);\n\n\treturn PaginatedResource;\n})();\n\n/* harmony default export */ var paginatedresource = (paginatedresource_PaginatedResource);\n\n// CONCATENATED MODULE: ./common/lib/types/pushchannelsubscription.js\n\n\nvar pushchannelsubscription_PushChannelSubscription = (function() {\n\n\tfunction PushChannelSubscription() {\n\t\tthis.channel = undefined;\n\t\tthis.deviceId = undefined;\n\t\tthis.clientId = undefined;\n\t}\n\n\t/**\n\t * Overload toJSON() to intercept JSON.stringify()\n\t * @return {*}\n\t */\n\tPushChannelSubscription.prototype.toJSON = function() {\n\t\treturn {\n\t\t\tchannel: this.channel,\n\t\t\tdeviceId: this.deviceId,\n\t\t\tclientId: this.clientId\n\t\t};\n\t};\n\n\tPushChannelSubscription.prototype.toString = function() {\n\t\tvar result = '[PushChannelSubscription';\n\t\tif(this.channel)\n\t\t\tresult += '; channel=' + this.channel;\n\t\tif(this.deviceId)\n\t\t\tresult += '; deviceId=' + this.deviceId;\n\t\tif(this.clientId)\n\t\t\tresult += '; clientId=' + this.clientId;\n\t\tresult += ']';\n\t\treturn result;\n\t};\n\n\tPushChannelSubscription.toRequestBody = utils.encodeBody;\n\n\tPushChannelSubscription.fromResponseBody = function(body, format) {\n\t\tif(format) {\n\t\t\tbody = utils.decodeBody(body, format);\n\t\t}\n\n\t\tif(utils.isArray(body)) {\n\t\t\treturn PushChannelSubscription.fromValuesArray(body);\n\t\t} else {\n\t\t\treturn PushChannelSubscription.fromValues(body);\n\t\t}\n\t};\n\n\tPushChannelSubscription.fromValues = function(values) {\n\t\treturn utils.mixin(new PushChannelSubscription(), values);\n\t};\n\n\tPushChannelSubscription.fromValuesArray = function(values) {\n\t\tvar count = values.length, result = new Array(count);\n\t\tfor(var i = 0; i < count; i++) result[i] = PushChannelSubscription.fromValues(values[i]);\n\t\treturn result;\n\t};\n\n\treturn PushChannelSubscription;\n})();\n\n/* harmony default export */ var pushchannelsubscription = (pushchannelsubscription_PushChannelSubscription);\n\n// CONCATENATED MODULE: ./common/lib/client/push.js\n\n\n\n\n\n\n\n\nvar push_Push = (function() {\n\tvar noop = function() {};\n\n\tfunction Push(rest) {\n\t\tthis.rest = rest;\n\t\tthis.admin = new Admin(rest);\n\t}\n\n\tfunction Admin(rest) {\n\t\tthis.rest = rest;\n\t\tthis.deviceRegistrations = new DeviceRegistrations(rest);\n\t\tthis.channelSubscriptions = new ChannelSubscriptions(rest);\n\t}\n\n\tAdmin.prototype.publish = function(recipient, payload, callback) {\n\t\tvar rest = this.rest;\n\t\tvar format = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\trequestBody = utils.mixin({recipient: recipient}, payload),\n\t\t\theaders = utils.defaultPostHeaders(format),\n\t\t\tparams = {};\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'publish', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\trequestBody = utils.encodeBody(requestBody, format);\n\t\tclient_resource.post(rest, '/push/publish', requestBody, headers, params, false, function(err) { callback(err); });\n\t};\n\n\tfunction DeviceRegistrations(rest) {\n\t\tthis.rest = rest;\n\t}\n\n\tDeviceRegistrations.prototype.save = function(device, callback) {\n\t\tvar rest = this.rest;\n\t\tvar format = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\trequestBody = devicedetails.fromValues(device),\n\t\t\theaders = utils.defaultPostHeaders(format),\n\t\t\tparams = {};\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'save', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\trequestBody = utils.encodeBody(requestBody, format);\n\t\tclient_resource.put(rest, '/push/deviceRegistrations/' + encodeURIComponent(device.id), requestBody, headers, params, false, function(err, body, headers, unpacked) {\n\t\t\tcallback(err, !err && devicedetails.fromResponseBody(body, !unpacked && format));\n\t\t});\n\t};\n\n\tDeviceRegistrations.prototype.get = function(deviceIdOrDetails, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\theaders = utils.defaultGetHeaders(format),\n\t\t\tdeviceId = deviceIdOrDetails.id || deviceIdOrDetails;\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'get', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(typeof deviceId !== 'string' || !deviceId.length) {\n\t\t\tcallback(new errorinfo('First argument to DeviceRegistrations#get must be a deviceId string or DeviceDetails', 40000, 400));\n\t\t\treturn;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tclient_resource.get(rest, '/push/deviceRegistrations/' + encodeURIComponent(deviceId), headers, {}, false, function(err, body, headers, unpacked) {\n\t\t\tcallback(err, !err && devicedetails.fromResponseBody(body, !unpacked && format));\n\t\t});\n\t};\n\n\tDeviceRegistrations.prototype.list = function(params, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format,\n\t\t\theaders = utils.defaultGetHeaders(format);\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'list', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\t(new paginatedresource(rest, '/push/deviceRegistrations', headers, envelope, function(body, headers, unpacked) {\n\t\t\treturn devicedetails.fromResponseBody(body, !unpacked && format);\n\t\t})).get(params, callback);\n\t};\n\n\tDeviceRegistrations.prototype.remove = function(deviceIdOrDetails, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\theaders = utils.defaultGetHeaders(format),\n\t\t\tparams = {},\n\t\t\tdeviceId = deviceIdOrDetails.id || deviceIdOrDetails;\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'remove', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(typeof deviceId !== 'string' || !deviceId.length) {\n\t\t\tcallback(new errorinfo('First argument to DeviceRegistrations#remove must be a deviceId string or DeviceDetails', 40000, 400));\n\t\t\treturn;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\tclient_resource['delete'](rest, '/push/deviceRegistrations/' + encodeURIComponent(deviceId), headers, params, false, function(err) { callback(err); });\n\t};\n\n\tDeviceRegistrations.prototype.removeWhere = function(params, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\theaders = utils.defaultGetHeaders(format);\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'removeWhere', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\tclient_resource['delete'](rest, '/push/deviceRegistrations', headers, params, false, function(err) { callback(err); });\n\t};\n\n\tfunction ChannelSubscriptions(rest) {\n\t\tthis.rest = rest;\n\t}\n\n\tChannelSubscriptions.prototype.save = function(subscription, callback) {\n\t\tvar rest = this.rest;\n\t\tvar format = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\trequestBody = pushchannelsubscription.fromValues(subscription),\n\t\t\theaders = utils.defaultPostHeaders(format),\n\t\t\tparams = {};\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'save', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\trequestBody = utils.encodeBody(requestBody, format);\n\t\tclient_resource.post(rest, '/push/channelSubscriptions', requestBody, headers, params, false, function(err, body, headers, unpacked) {\n\t\t\tcallback(err, !err && pushchannelsubscription.fromResponseBody(body, !unpacked && format));\n\t\t});\n\t};\n\n\tChannelSubscriptions.prototype.list = function(params, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format,\n\t\t\theaders = utils.defaultGetHeaders(format);\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'list', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\t(new paginatedresource(rest, '/push/channelSubscriptions', headers, envelope, function(body, headers, unpacked) {\n\t\t\treturn pushchannelsubscription.fromResponseBody(body, !unpacked && format);\n\t\t})).get(params, callback);\n\t};\n\n\tChannelSubscriptions.prototype.removeWhere = function(params, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\theaders = utils.defaultGetHeaders(format);\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'removeWhere', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\tclient_resource['delete'](rest, '/push/channelSubscriptions', headers, params, false, function(err) { callback(err); });\n\t};\n\n\t/* ChannelSubscriptions have no unique id; removing one is equivalent to removeWhere by its properties */\n\tChannelSubscriptions.prototype.remove = ChannelSubscriptions.prototype.removeWhere;\n\n\tChannelSubscriptions.prototype.listChannels = function(params, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format,\n\t\t\theaders = utils.defaultGetHeaders(format);\n\n\t\tif(typeof callback !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'listChannels', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tif(rest.options.pushFullWait)\n\t\t\tutils.mixin(params, {fullWait: 'true'});\n\n\t\t(new paginatedresource(rest, '/push/channels', headers, envelope, function(body, headers, unpacked) {\n\t\t\tvar f = !unpacked && format;\n\n\t\t\tif(f) {\n\t\t\t\tbody = utils.decodeBody(body, format);\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < body.length; i++) {\n\t\t\t\tbody[i] = String(body[i]);\n\t\t\t}\n\t\t\treturn body;\n\t\t})).get(params, callback);\n\t};\n\n\treturn Push;\n})();\n\n/* harmony default export */ var push = (push_Push);\n\n// CONCATENATED MODULE: ./common/lib/util/eventemitter.js\n\n\n\n\nvar eventemitter_hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar eventemitter_EventEmitter = (function() {\n\n\t/* public constructor */\n\tfunction EventEmitter() {\n\t\tthis.any = [];\n\t\tthis.events = Object.create(null);\n\t\tthis.anyOnce = [];\n\t\tthis.eventsOnce = Object.create(null);\n\t}\n\n\t/* Call the listener, catch any exceptions and log, but continue operation*/\n\tfunction callListener(eventThis, listener, args) {\n\t\ttry {\n\t\t\tlistener.apply(eventThis, args);\n\t\t} catch(e) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'EventEmitter.emit()', 'Unexpected listener exception: ' + e + '; stack = ' + (e && e.stack));\n\t\t}\n\t}\n\n\t/**\n\t * Remove listeners that match listener\n\t * @param targetListeners is an array of listener arrays or event objects with arrays of listeners\n\t * @param listener the listener callback to remove\n\t * @param eventFilter (optional) event name instructing the function to only remove listeners for the specified event\n\t */\n\tfunction removeListener(targetListeners, listener, eventFilter) {\n\t\tvar listeners, idx, eventName, targetListenersIndex;\n\n\t\tfor (targetListenersIndex = 0; targetListenersIndex < targetListeners.length; targetListenersIndex++) {\n\t\t\tlisteners = targetListeners[targetListenersIndex];\n\t\t\tif (eventFilter) { listeners = listeners[eventFilter]; }\n\n\t\t\tif (utils.isArray(listeners)) {\n\t\t\t\twhile ((idx = utils.arrIndexOf(listeners, listener)) !== -1) {\n\t\t\t\t\tlisteners.splice(idx, 1);\n\t\t\t\t}\n\t\t\t\t/* If events object has an event name key with no listeners then\n\t\t\t\t   remove the key to stop the list growing indefinitely */\n\t\t\t\tif (eventFilter && (listeners.length === 0)) {\n\t\t\t\t\tdelete targetListeners[targetListenersIndex][eventFilter];\n\t\t\t\t}\n\t\t\t} else if (utils.isObject(listeners)) {\n\t\t\t\t/* events */\n\t\t\t\tfor (eventName in listeners) {\n\t\t\t\t\tif (eventemitter_hasOwnProperty.call(listeners, eventName) && utils.isArray(listeners[eventName])) {\n\t\t\t\t\t\tremoveListener([listeners], listener, eventName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Add an event listener\n\t * @param event (optional) the name of the event to listen to\n\t *        if not supplied, all events trigger a call to the listener\n\t * @param listener the listener to be called\n\t */\n\tEventEmitter.prototype.on = function(event, listener) {\n\t\tif(arguments.length == 1 && typeof(event) == 'function') {\n\t\t\tthis.any.push(event);\n\t\t} else if(utils.isEmptyArg(event)) {\n\t\t\tthis.any.push(listener);\n\t\t} else if(utils.isArray(event)) {\n\t\t\tvar self = this;\n\t\t\tutils.arrForEach(event, function(ev) {\n\t\t\t\tself.on(ev, listener);\n\t\t\t});\n\t\t} else {\n\t\t\tvar listeners = (this.events[event] || (this.events[event] = []));\n\t\t\tlisteners.push(listener);\n\t\t}\n\t};\n\n\t/**\n\t * Remove one or more event listeners\n\t * @param event (optional) the name of the event whose listener\n\t *        is to be removed. If not supplied, the listener is\n\t *        treated as an 'any' listener\n\t * @param listener (optional) the listener to remove. If not\n\t *        supplied, all listeners are removed.\n\t */\n\tEventEmitter.prototype.off = function(event, listener) {\n\t\tif(arguments.length == 0 || (utils.isEmptyArg(event) && utils.isEmptyArg(listener))) {\n\t\t\tthis.any = [];\n\t\t\tthis.events = Object.create(null);\n\t\t\tthis.anyOnce = [];\n\t\t\tthis.eventsOnce = Object.create(null);\n\t\t\treturn;\n\t\t}\n\t\tif(arguments.length == 1) {\n\t\t\tif(typeof(event) == 'function') {\n\t\t\t\t/* we take this to be the listener and treat the event as \"any\" .. */\n\t\t\t\tlistener = event;\n\t\t\t\tevent = null;\n\t\t\t}\n\t\t\t/* ... or we take event to be the actual event name and listener to be all */\n\t\t}\n\n\t\tif(listener && utils.isEmptyArg(event)) {\n\t\t\tremoveListener([this.any, this.events, this.anyOnce, this.eventsOnce], listener);\n\t\t\treturn;\n\t\t}\n\n\t\tif(utils.isArray(event)) {\n\t\t\tvar self = this;\n\t\t\tutils.arrForEach(event, function(ev) {\n\t\t\t\tself.off(ev, listener);\n\t\t\t});\n\t\t}\n\n\t\t/* \"normal\" case where event is an actual event */\n\t\tif(listener) {\n\t\t\tremoveListener([this.events, this.eventsOnce], listener, event);\n\t\t} else {\n\t\t\tdelete this.events[event];\n\t\t\tdelete this.eventsOnce[event];\n\t\t}\n\t};\n\n\t/**\n\t * Get the array of listeners for a given event; excludes once events\n\t * @param event (optional) the name of the event, or none for 'any'\n\t * @return array of events, or null if none\n\t */\n\tEventEmitter.prototype.listeners = function(event) {\n\t\tif(event) {\n\t\t\tvar listeners = (this.events[event] || []);\n\t\t\tif(this.eventsOnce[event])\n\t\t\t\tArray.prototype.push.apply(listeners, this.eventsOnce[event]);\n\t\t\treturn listeners.length ? listeners : null;\n\t\t}\n\t\treturn this.any.length ? this.any : null;\n\t};\n\n\t/**\n\t * Emit an event\n\t * @param event the event name\n\t * @param args the arguments to pass to the listener\n\t */\n\tEventEmitter.prototype.emit = function(event  /* , args... */) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\tvar eventThis = {event:event};\n\t\tvar listeners = [];\n\n\t\tif(this.anyOnce.length) {\n\t\t\tArray.prototype.push.apply(listeners, this.anyOnce);\n\t\t\tthis.anyOnce = [];\n\t\t}\n\t\tif(this.any.length) {\n\t\t\tArray.prototype.push.apply(listeners, this.any);\n\t\t}\n\t\tvar eventsOnceListeners = this.eventsOnce[event];\n\t\tif(eventsOnceListeners) {\n\t\t\tArray.prototype.push.apply(listeners, eventsOnceListeners);\n\t\t\tdelete this.eventsOnce[event];\n\t\t}\n\t\tvar eventsListeners = this.events[event];\n\t\tif(eventsListeners) {\n\t\t\tArray.prototype.push.apply(listeners, eventsListeners);\n\t\t}\n\n\t\tutils.arrForEach(listeners, function(listener) {\n\t\t\tcallListener(eventThis, listener, args);\n\t\t});\n\t};\n\n\t/**\n\t * Listen for a single occurrence of an event\n\t * @param event the name of the event to listen to\n\t * @param listener the listener to be called\n\t */\n\tEventEmitter.prototype.once = function(event, listener) {\n\t\tvar argCount = arguments.length, self = this;\n\t\tif((argCount === 0 || (argCount === 1 && typeof event !== 'function')) && platform.Promise) {\n\t\t\treturn new platform.Promise(function(resolve) {\n\t\t\t\tself.once(event, resolve);\n\t\t\t});\n\t\t}\n\t\tif(arguments.length == 1 && typeof(event) == 'function') {\n\t\t\tthis.anyOnce.push(event);\n\t\t} else if(utils.isEmptyArg(event)) {\n\t\t\tthis.anyOnce.push(listener);\n\t\t} else if(utils.isArray(event)){\n\t\t\tvar listenerWrapper = function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tutils.arrForEach(event, function(ev) {\n\t\t\t\t\tself.off(ev, listenerWrapper);\n\t\t\t\t});\n\t\t\t\tlistener.apply(this, args);\n\t\t\t};\n\t\t\tutils.arrForEach(event, function(ev) {\n\t\t\t\tself.on(ev, listenerWrapper);\n\t\t\t});\n\t\t} else {\n\t\t\tvar listeners = (this.eventsOnce[event] || (this.eventsOnce[event] = []));\n\t\t\tlisteners.push(listener);\n\t\t}\n\t};\n\n\t/**\n\t * Private API\n\t *\n\t * Listen for a single occurrence of a state event and fire immediately if currentState matches targetState\n\t * @param targetState the name of the state event to listen to\n\t * @param currentState the name of the current state of this object\n\t * @param listener the listener to be called\n\t */\n\tEventEmitter.prototype.whenState = function(targetState, currentState, listener /* ...listenerArgs */) {\n\t\tvar eventThis = {event:targetState},\n\t\t\tself = this,\n\t\t\tlistenerArgs = Array.prototype.slice.call(arguments, 3);\n\n\t\tif((typeof(targetState) !== 'string') || (typeof(currentState) !== 'string')) {\n\t\t\tthrow(\"whenState requires a valid event String argument\");\n\t\t}\n\t\tif(typeof listener !== 'function' && platform.Promise) {\n\t\t\treturn new platform.Promise(function(resolve) {\n\t\t\t\tEventEmitter.prototype.whenState.apply(self, [targetState, currentState, resolve].concat(listenerArgs));\n\t\t\t});\n\t\t}\n\t\tif(targetState === currentState) {\n\t\t\tcallListener(eventThis, listener, listenerArgs);\n\t\t} else {\n\t\t\tthis.once(targetState, listener);\n\t\t}\n\t}\n\n\treturn EventEmitter;\n})();\n\n/* harmony default export */ var eventemitter = (eventemitter_EventEmitter);\n\n// CONCATENATED MODULE: ./nodejs/lib/util/crypto.js\n\n\n\n\nvar crypto_Crypto = (function() {\n\tvar crypto = __webpack_require__(2);\n\tvar util = __webpack_require__(3);\n\n\tvar DEFAULT_ALGORITHM = 'aes';\n\tvar DEFAULT_KEYLENGTH = 256; // bits\n\tvar DEFAULT_MODE = 'cbc';\n\tvar DEFAULT_BLOCKLENGTH = 16; // bytes\n\n\t/**\n\t * Internal: generate a buffer of secure random bytes of the given length\n\t * @param bytes\n\t * @param callback (optional)\n\t */\n\tfunction generateRandom(bytes, callback) {\n\t\treturn crypto.randomBytes(bytes, callback);\n\t}\n\n\t/**\n\t * Internal: calculate the padded length of a given plaintext\n\t * using PKCS5.\n\t * @param plaintextLength\n\t * @return\n\t */\n\tfunction getPaddedLength(plaintextLength) {\n\t\treturn (plaintextLength + DEFAULT_BLOCKLENGTH) & -DEFAULT_BLOCKLENGTH;\n\t}\n\n\t/**\n\t * Internal: checks that the cipherParams are a valid combination. Currently\n\t * just checks that the calculated keyLength is a valid one for aes-cbc\n\t */\n\tfunction validateCipherParams(params) {\n\t\tif(params.algorithm === 'aes' && params.mode === 'cbc') {\n\t\t\tif(params.keyLength === 128 || params.keyLength === 256) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthrow new Error('Unsupported key length ' + params.keyLength + ' for aes-cbc encryption. Encryption key must be 128 or 256 bits (16 or 32 ASCII characters)');\n\t\t}\n\t}\n\n\tfunction normaliseBase64(string) {\n\t\t/* url-safe base64 strings use _ and - instread of / and + */\n\t\treturn string.replace('_', '/').replace('-', '+');\n\t}\n\n\t/**\n\t * Internal: a block containing zeros\n\t */\n\tvar emptyBlock = Buffer.alloc(DEFAULT_BLOCKLENGTH);\n\n\t/**\n\t * Internal: obtain the pkcs5 padding string for a given padded length;\n\t */\n\tfunction filledBuffer(length, value) { var result = Buffer.alloc(length); result.fill(value); return result; }\n\tvar pkcs5Padding = [ filledBuffer(16, 16) ];\n\tfor(var i = 1; i <= 16; i++) pkcs5Padding.push(filledBuffer(i, i));\n\n\t/**\n\t * Internal: convert a binary string to Buffer (for node 0.8.x)\n\t * @param bufferOrString\n\t * @returns {Buffer}\n\t */\n\tfunction toBuffer(bufferOrString) {\n\t\treturn (typeof(bufferOrString) == 'string') ? Buffer.from(bufferOrString, 'binary') : bufferOrString;\n\t}\n\n\t/**\n\t * Utility classes and interfaces for message payload encryption.\n\t *\n\t * This class supports AES/CBC/PKCS5 with a default keylength of 128 bits\n\t * but supporting other keylengths. Other algorithms and chaining modes are\n\t * not supported directly, but supportable by extending/implementing the base\n\t * classes and interfaces here.\n\t *\n\t * Secure random data for creation of Initialization Vectors (IVs) and keys\n\t * is obtained from the default system SecureRandom. Future extensions of this\n\t * class might make the SecureRandom pluggable or at least seedable with\n\t * client-provided entropy.\n\t *\n\t * Each message payload is encrypted with an IV in CBC mode, and the IV is\n\t * concatenated with the resulting raw ciphertext to construct the \"ciphertext\"\n\t * data passed to the recipient.\n\t */\n\tfunction Crypto() {}\n\n\t/**\n\t * A class encapsulating the client-specifiable parameters for\n\t * the cipher.\n\t *\n\t * algorithm is the name of the algorithm in the default system provider,\n\t * or the lower-cased version of it; eg \"aes\" or \"AES\".\n\t *\n\t * Clients may instance a CipherParams directly and populate it, or may\n\t * query the implementation to obtain a default system CipherParams.\n\t */\n\tfunction CipherParams() {\n\t\tthis.algorithm = null;\n\t\tthis.keyLength = null;\n\t\tthis.mode = null;\n\t\tthis.key = null;\n\t\tthis.iv = null;\n\t}\n\tCrypto.CipherParams = CipherParams;\n\n\tfunction isInstCipherParams(params) {\n\t\t/* In node, can't use instanceof CipherParams due to the vm context problem (see\n\t\t* https://github.com/nwjs/nw.js/wiki/Differences-of-JavaScript-contexts).\n\t\t* So just test for presence of all necessary attributes */\n\t\treturn params.algorithm && params.key && params.keyLength && params.mode;\n\t}\n\n\t/**\n\t * Obtain a complete CipherParams instance from the provided params, filling\n\t * in any not provided with default values, calculating a keyLength from\n\t * the supplied key, and validating the result.\n\t * @param params an object containing at a minimum a `key` key with value the\n\t * key, as either a binary (ArrayBuffer, Array, WordArray) or a\n\t * base64-encoded string. May optionally also contain: algorithm (defaults to\n\t * AES), mode (defaults to 'cbc')\n\t */\n\tCrypto.getDefaultParams = function(params) {\n\t\tvar key;\n\t\t/* Backward compatibility */\n\t\tif((typeof(params) === 'function') || (typeof(params) === 'string')) {\n\t\t\tutil_logger.deprecated('Crypto.getDefaultParams(key, callback)', 'Crypto.getDefaultParams({key: key})');\n\t\t\tif(typeof(params) === 'function') {\n\t\t\t\tCrypto.generateRandomKey(function(key) {\n\t\t\t\t\tparams(null, Crypto.getDefaultParams({key: key}));\n\t\t\t\t})\n\t\t\t} else if(typeof arguments[1] === 'function') {\n\t\t\t\targuments[1](null, Crypto.getDefaultParams({key: params}));\n\t\t\t} else {\n\t\t\t\tthrow new Error('Invalid arguments for Crypto.getDefaultParams');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif(!params.key) {\n\t\t\tthrow new Error('Crypto.getDefaultParams: a key is required');\n\t\t}\n\n\t\tif (typeof(params.key) === 'string') {\n\t\t\tkey = bufferutils.base64Decode(normaliseBase64(params.key));\n\t\t} else {\n\t\t\tkey = params.key;\n\t\t}\n\n\t\tvar cipherParams = new CipherParams();\n\t\tcipherParams.key = key;\n\t\tcipherParams.algorithm = params.algorithm || DEFAULT_ALGORITHM;\n\t\tcipherParams.keyLength = key.length * 8;\n\t\tcipherParams.mode = params.mode || DEFAULT_MODE;\n\n\t\tif(params.keyLength && params.keyLength !== cipherParams.keyLength) {\n\t\t\tthrow new Error('Crypto.getDefaultParams: a keyLength of ' + params.keyLength + ' was specified, but the key actually has length ' + cipherParams.keyLength);\n\t\t}\n\n\t\tvalidateCipherParams(cipherParams);\n\t\treturn cipherParams;\n\t};\n\n\t/**\n\t * Generate a random encryption key from the supplied keylength (or the\n\t * default keyLength if none supplied) as a Buffer\n\t * @param keyLength (optional) the required keyLength in bits\n\t * @param callback (err, key)\n\t */\n\tCrypto.generateRandomKey = function(keyLength, callback) {\n\t\tif(arguments.length == 1 && typeof(keyLength) == 'function') {\n\t\t\tcallback = keyLength;\n\t\t\tkeyLength = undefined;\n\t\t}\n\t\tgenerateRandom((keyLength || DEFAULT_KEYLENGTH) / 8, callback);\n\t};\n\n\t/**\n\t * Internal; get a ChannelCipher instance based on the given cipherParams\n\t * @param params either a CipherParams instance or some subset of its\n\t * fields that includes a key\n\t */\n\tCrypto.getCipher = function(params) {\n\t\tvar cipherParams = (isInstCipherParams(params)) ?\n\t\t                   params :\n\t\t                   Crypto.getDefaultParams(params);\n\n\t\tvar iv = params.iv || generateRandom(DEFAULT_BLOCKLENGTH);\n\t\treturn {cipherParams: cipherParams, cipher: new CBCCipher(cipherParams, iv)};\n\t};\n\n\tfunction CBCCipher(params, iv) {\n\t\tvar algorithm = this.algorithm = params.algorithm + '-' + String(params.keyLength) + '-' + params.mode;\n\t\tvar key = this.key = params.key;\n\t\tvar iv = this.iv = iv;\n\t\tvar key = this.key = params.key;\n\t\tthis.encryptCipher = crypto.createCipheriv(algorithm, key, iv);\n\t\tthis.blockLength = iv.length;\n\t}\n\n\tCBCCipher.prototype.encrypt = function(plaintext, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'CBCCipher.encrypt()', '');\n\t\tvar plaintextLength = plaintext.length,\n\t\t\tpaddedLength = getPaddedLength(plaintextLength),\n\t\t\tiv = this.getIv();\n\t\tvar cipherOut = this.encryptCipher.update(Buffer.concat([plaintext, pkcs5Padding[paddedLength - plaintextLength]]));\n\t\tvar ciphertext = Buffer.concat([iv, toBuffer(cipherOut)]);\n\t\treturn callback(null, ciphertext);\n\t};\n\n\tCBCCipher.prototype.decrypt = function(ciphertext) {\n\t\tvar blockLength = this.blockLength,\n\t\t\tdecryptCipher = crypto.createDecipheriv(this.algorithm, this.key, ciphertext.slice(0, blockLength)),\n\t\t\tplaintext = toBuffer(decryptCipher.update(ciphertext.slice(blockLength))),\n\t\t\tfinal = decryptCipher.final();\n\t\tif(final && final.length)\n\t\t\tplaintext = Buffer.concat([plaintext, toBuffer(final)]);\n\t\treturn plaintext;\n\t};\n\n\tCBCCipher.prototype.getIv = function() {\n\t\tif(this.iv) {\n\t\t\tvar iv = this.iv;\n\t\t\tthis.iv = null;\n\t\t\treturn iv;\n\t\t}\n\n\t\tvar randomBlock = generateRandom(DEFAULT_BLOCKLENGTH);\n\t\t/* Since the iv for a new block is the ciphertext of the last, this\n\t\t* sets a new iv (= aes(randomBlock XOR lastCipherText)) as well as\n\t\t* returning it */\n\t\treturn toBuffer(this.encryptCipher.update(randomBlock));\n\t};\n\n\treturn Crypto;\n})();\n\n/* harmony default export */ var util_crypto = (crypto_Crypto);\n\n// CONCATENATED MODULE: ./common/lib/types/message.js\n\n\n\n\n\n\nvar message_Message = (function() {\n\n\tfunction Message() {\n\t\tthis.name = undefined;\n\t\tthis.id = undefined;\n\t\tthis.timestamp = undefined;\n\t\tthis.clientId = undefined;\n\t\tthis.connectionId = undefined;\n\t\tthis.connectionKey = undefined;\n\t\tthis.data = undefined;\n\t\tthis.encoding = undefined;\n\t\tthis.extras = undefined;\n\t\tthis.size = undefined;\n\t}\n\n\t/**\n\t * Overload toJSON() to intercept JSON.stringify()\n\t * @return {*}\n\t */\n\tMessage.prototype.toJSON = function() {\n\t\tvar result = {\n\t\t\tname: this.name,\n\t\t\tid: this.id,\n\t\t\tclientId: this.clientId,\n\t\t\tconnectionId: this.connectionId,\n\t\t\tconnectionKey: this.connectionKey,\n\t\t\tencoding: this.encoding,\n\t\t\textras: this.extras\n\t\t};\n\n\t\t/* encode data to base64 if present and we're returning real JSON;\n\t\t * although msgpack calls toJSON(), we know it is a stringify()\n\t\t * call if it has a non-empty arguments list */\n\t\tvar data = this.data;\n\t\tif(data && bufferutils.isBuffer(data)) {\n\t\t\tif(arguments.length > 0) {\n\t\t\t\t/* stringify call */\n\t\t\t\tvar encoding = this.encoding;\n\t\t\t\tresult.encoding = encoding ? (encoding + '/base64') : 'base64';\n\t\t\t\tdata = bufferutils.base64Encode(data);\n\t\t\t} else {\n\t\t\t\t/* Called by msgpack. toBuffer returns a datatype understandable by\n\t\t\t\t * that platform's msgpack implementation (Buffer in node, Uint8Array\n\t\t\t\t * in browsers) */\n\t\t\t\tdata = bufferutils.toBuffer(data);\n\t\t\t}\n\t\t}\n\t\tresult.data = data;\n\t\treturn result;\n\t};\n\n\tMessage.prototype.toString = function() {\n\t\tvar result = '[Message';\n\t\tif(this.name)\n\t\t\tresult += '; name=' + this.name;\n\t\tif(this.id)\n\t\t\tresult += '; id=' + this.id;\n\t\tif(this.timestamp)\n\t\t\tresult += '; timestamp=' + this.timestamp;\n\t\tif(this.clientId)\n\t\t\tresult += '; clientId=' + this.clientId;\n\t\tif(this.connectionId)\n\t\t\tresult += '; connectionId=' + this.connectionId;\n\t\tif(this.encoding)\n\t\t\tresult += '; encoding=' + this.encoding;\n\t\tif(this.extras)\n\t\t\tresult += '; extras =' + JSON.stringify(this.extras);\n\t\tif(this.data) {\n\t\t\tif (typeof(this.data) == 'string')\n\t\t\t\tresult += '; data=' + this.data;\n\t\t\telse if (bufferutils.isBuffer(this.data))\n\t\t\t\tresult += '; data (buffer)=' + bufferutils.base64Encode(this.data);\n\t\t\telse\n\t\t\t\tresult += '; data (json)=' + JSON.stringify(this.data);\n\t\t}\n\t\tif(this.extras)\n\t\t\tresult += '; extras=' + JSON.stringify(this.extras);\n\t\tresult += ']';\n\t\treturn result;\n\t};\n\n\tMessage.encrypt = function(msg, options, callback) {\n\t\tvar data = msg.data,\n\t\t\tencoding = msg.encoding,\n\t\t\tcipher = options.channelCipher;\n\n\t\tencoding = encoding ? (encoding + '/') : '';\n\t\tif(!bufferutils.isBuffer(data)) {\n\t\t\tdata = bufferutils.utf8Encode(String(data));\n\t\t\tencoding = encoding + 'utf-8/';\n\t\t}\n\t\tcipher.encrypt(data, function(err, data) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmsg.data = data;\n\t\t\tmsg.encoding = encoding + 'cipher+' + cipher.algorithm;\n\t\t\tcallback(null, msg);\n\t\t});\n\t};\n\n\tMessage.encode = function(msg, options, callback) {\n\t\tvar data = msg.data, encoding,\n\t\t\tnativeDataType = typeof(data) == 'string' || bufferutils.isBuffer(data) || data === null || data === undefined;\n\n\t\tif (!nativeDataType) {\n\t\t\tif (utils.isObject(data) || utils.isArray(data)) {\n\t\t\t\tmsg.data = JSON.stringify(data);\n\t\t\t\tmsg.encoding = (encoding = msg.encoding) ? (encoding + '/json') : 'json';\n\t\t\t} else {\n\t\t\t\tthrow new errorinfo('Data type is unsupported', 40013, 400);\n\t\t\t}\n\t\t}\n\n\t\tif(options != null && options.cipher) {\n\t\t\tMessage.encrypt(msg, options, callback);\n\t\t} else {\n\t\t\tcallback(null, msg);\n\t\t}\n\t};\n\n\tMessage.encodeArray = function(messages, options, callback) {\n\t\tvar processed = 0;\n\t\tfor (var i = 0; i < messages.length; i++) {\n\t\t\tMessage.encode(messages[i], options, function(err, msg) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcallback(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tprocessed++;\n\t\t\t\tif (processed == messages.length) {\n\t\t\t\t\tcallback(null, messages);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tMessage.serialize = utils.encodeBody;\n\n\tMessage.decode = function(message, context) {\n\t\t/* The second argument could be either EncodingDecodingContext that contains ChannelOptions or ChannelOptions */\n\t\tif(!context || !context.channelOptions) {\n\t\t\tvar channelOptions = context;\n\t\t\tcontext = {\n\t\t\t\tchannelOptions: channelOptions,\n\t\t\t\tplugins: { },\n\t\t\t\tbaseEncodedPreviousPayload: undefined\n\t\t\t};\n\t\t}\n\n\t\tvar lastPayload = message.data;\n\t\tvar encoding = message.encoding;\n\t\tif(encoding) {\n\t\t\tvar xforms = encoding.split('/'),\n\t\t\t\tlastProcessedEncodingIndex, encodingsToProcess = xforms.length,\n\t\t\t\tdata = message.data;\n\n\t\t\ttry {\n\t\t\t\twhile((lastProcessedEncodingIndex = encodingsToProcess) > 0) {\n\t\t\t\t\tvar match = xforms[--encodingsToProcess].match(/([\\-\\w]+)(\\+([\\w\\-]+))?/);\n\t\t\t\t\tif(!match) break;\n\t\t\t\t\tvar xform = match[1];\n\t\t\t\t\tswitch(xform) {\n\t\t\t\t\t\tcase 'base64':\n\t\t\t\t\t\t\tdata = bufferutils.base64Decode(String(data));\n\t\t\t\t\t\t\tif(lastProcessedEncodingIndex == xforms.length) {\n\t\t\t\t\t\t\t\tlastPayload = data;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tcase 'utf-8':\n\t\t\t\t\t\t\tdata = bufferutils.utf8Decode(data);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tcase 'cipher':\n\t\t\t\t\t\t\tif(context.channelOptions != null && context.channelOptions.cipher) {\n\t\t\t\t\t\t\t\tvar xformAlgorithm = match[3], cipher = context.channelOptions.channelCipher;\n\t\t\t\t\t\t\t\t/* don't attempt to decrypt unless the cipher params are compatible */\n\t\t\t\t\t\t\t\tif(xformAlgorithm != cipher.algorithm) {\n\t\t\t\t\t\t\t\t\tthrow new Error('Unable to decrypt message with given cipher; incompatible cipher params');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata = cipher.decrypt(data);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow new Error('Unable to decrypt message; not an encrypted channel');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'vcdiff':\n\t\t\t\t\t\t\tif(!context.plugins || !context.plugins.vcdiff) {\n\t\t\t\t\t\t\t\tthrow new errorinfo('Missing Vcdiff decoder (https://github.com/ably-forks/vcdiff-decoder)', 40019, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(typeof Uint8Array === 'undefined') {\n\t\t\t\t\t\t\t\tthrow new errorinfo('Delta decoding not supported on this browser (need ArrayBuffer & Uint8Array)', 40020, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar deltaBase = context.baseEncodedPreviousPayload;\n\t\t\t\t\t\t\t\tif(typeof deltaBase === 'string') {\n\t\t\t\t\t\t\t\t\tdeltaBase = bufferutils.utf8Encode(deltaBase);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* vcdiff expects Uint8Arrays, can't copy with ArrayBuffers. (also, if we\n\t\t\t\t\t\t\t\t * don't have a TextDecoder, deltaBase might be a WordArray here, so need\n\t\t\t\t\t\t\t\t * to process it into a buffer anyway) */\n\t\t\t\t\t\t\t\tdeltaBase = bufferutils.toBuffer(deltaBase);\n\t\t\t\t\t\t\t\tdata = bufferutils.toBuffer(data);\n\n\t\t\t\t\t\t\t\tdata = bufferutils.typedArrayToBuffer(context.plugins.vcdiff.decode(data, deltaBase));\n\t\t\t\t\t\t\t\tlastPayload = data;\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tthrow new errorinfo('Vcdiff delta decode failed with ' + e, 40018, 400);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthrow new Error(\"Unknown encoding\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\tthrow new errorinfo('Error processing the ' + xform + ' encoding, decoder returned \u2018' + e.message + '\u2019', e.code || 40013, 400);\n\t\t\t} finally {\n\t\t\t\tmessage.encoding = (lastProcessedEncodingIndex <= 0) ? null : xforms.slice(0, lastProcessedEncodingIndex).join('/');\n\t\t\t\tmessage.data = data;\n\t\t\t}\n\t\t}\n\t\tcontext.baseEncodedPreviousPayload = lastPayload;\n\t};\n\n\tMessage.fromResponseBody = function(body, options, format) {\n\t\tif(format) {\n\t\t\tbody = utils.decodeBody(body, format);\n\t\t}\n\n\t\tfor(var i = 0; i < body.length; i++) {\n\t\t\tvar msg = body[i] = Message.fromValues(body[i]);\n\t\t\ttry {\n\t\t\t\tMessage.decode(msg, options);\n\t\t\t} catch (e) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Message.fromResponseBody()', e.toString());\n\t\t\t}\n\t\t}\n\t\treturn body;\n\t};\n\n\tMessage.fromValues = function(values) {\n\t\treturn utils.mixin(new Message(), values);\n\t};\n\n\tMessage.fromValuesArray = function(values) {\n\t\tvar count = values.length, result = new Array(count);\n\t\tfor(var i = 0; i < count; i++) result[i] = Message.fromValues(values[i]);\n\t\treturn result;\n\t};\n\n\tfunction normalizeCipherOptions(options) {\n\t\tif(options && options.cipher && !options.cipher.channelCipher) {\n\t\t\tif(!util_crypto) throw new Error('Encryption not enabled; use ably.encryption.js instead');\n\t\t\tvar cipher = util_crypto.getCipher(options.cipher);\n\t\t\toptions.cipher = cipher.cipherParams;\n\t\t\toptions.channelCipher = cipher.cipher;\n\t\t}\n\t}\n\n\tMessage.fromEncoded = function(encoded, options) {\n\t\tvar msg = Message.fromValues(encoded);\n\t\tnormalizeCipherOptions(options);\n\t\t/* if decoding fails at any point, catch and return the message decoded to\n\t\t * the fullest extent possible */\n\t\ttry {\n\t\t\tMessage.decode(msg, options);\n\t\t} catch(e) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Message.fromEncoded()', e.toString());\n\t\t}\n\t\treturn msg;\n\t};\n\n\tMessage.fromEncodedArray = function(encodedArray, options) {\n\t\tnormalizeCipherOptions(options);\n\t\treturn utils.arrMap(encodedArray, function(encoded) {\n\t\t\treturn Message.fromEncoded(encoded, options);\n\t\t});\n\t};\n\n\tfunction getMessageSize(msg) {\n\t\tvar size = 0;\n\t\tif(msg.name) {\n\t\t\tsize += msg.name.length;\n\t\t}\n\t\tif(msg.clientId) {\n\t\t\tsize += msg.clientId.length;\n\t\t}\n\t\tif(msg.extras) {\n\t\t\tsize += JSON.stringify(msg.extras).length;\n\t\t}\n\t\tif(msg.data) {\n\t\t\tsize += utils.dataSizeBytes(msg.data);\n\t\t}\n\t\treturn size;\n\t};\n\n\t/* This should be called on encode()d (and encrypt()d) Messages (as it\n\t * assumes the data is a string or buffer) */\n\tMessage.getMessagesSize = function(messages) {\n\t\tvar msg, total = 0;\n\t\tfor(var i=0; i<messages.length; i++) {\n\t\t\tmsg = messages[i];\n\t\t\ttotal += (msg.size || (msg.size = getMessageSize(msg)))\n\t\t}\n\t\treturn total;\n\t};\n\n\treturn Message;\n})();\n\n/* harmony default export */ var types_message = (message_Message);\n\n// CONCATENATED MODULE: ./common/lib/types/presencemessage.js\n\n\n\n\n\n\nvar presencemessage_PresenceMessage = (function() {\n\tvar msgpack = platform.msgpack;\n\n\tfunction toActionValue(actionString) {\n\t\treturn utils.arrIndexOf(PresenceMessage.Actions, actionString)\n\t}\n\n\tfunction PresenceMessage() {\n\t\tthis.action = undefined;\n\t\tthis.id = undefined;\n\t\tthis.timestamp = undefined;\n\t\tthis.clientId = undefined;\n\t\tthis.connectionId = undefined;\n\t\tthis.data = undefined;\n\t\tthis.encoding = undefined;\n\t\tthis.size = undefined;\n\t}\n\n\tPresenceMessage.Actions = [\n\t\t'absent',\n\t\t'present',\n\t\t'enter',\n\t\t'leave',\n\t\t'update'\n\t];\n\n\t/* Returns whether this presenceMessage is synthesized, i.e. was not actually\n\t * sent by the connection (usually means a leave event sent 15s after a\n\t * disconnection). This is useful because synthesized messages cannot be\n\t * compared for newness by id lexicographically - RTP2b1\n\t */\n\tPresenceMessage.prototype.isSynthesized = function() {\n\t\treturn this.id.substring(this.connectionId.length, 0) !== this.connectionId;\n\t};\n\n\t/* RTP2b2 */\n\tPresenceMessage.prototype.parseId = function() {\n\t\tvar parts = this.id.split(':');\n\t\treturn {\n\t\t\tconnectionId: parts[0],\n\t\t\tmsgSerial: parseInt(parts[1], 10),\n\t\t\tindex: parseInt(parts[2], 10)\n\t\t};\n\t};\n\n\t/**\n\t * Overload toJSON() to intercept JSON.stringify()\n\t * @return {*}\n\t */\n\tPresenceMessage.prototype.toJSON = function() {\n\t\tvar result = {\n\t\t\tclientId: this.clientId,\n\t\t\t/* Convert presence action back to an int for sending to Ably */\n\t\t\taction: toActionValue(this.action),\n\t\t\tencoding: this.encoding\n\t\t};\n\n\t\t/* encode data to base64 if present and we're returning real JSON;\n\t\t * although msgpack calls toJSON(), we know it is a stringify()\n\t\t * call if it has a non-empty arguments list */\n\t\tvar data = this.data;\n\t\tif(data && bufferutils.isBuffer(data)) {\n\t\t\tif(arguments.length > 0) {\n\t\t\t\t/* stringify call */\n\t\t\t\tvar encoding = this.encoding;\n\t\t\t\tresult.encoding = encoding ? (encoding + '/base64') : 'base64';\n\t\t\t\tdata = bufferutils.base64Encode(data);\n\t\t\t} else {\n\t\t\t\t/* Called by msgpack. toBuffer returns a datatype understandable by\n\t\t\t\t * that platform's msgpack implementation (Buffer in node, Uint8Array\n\t\t\t\t * in browsers) */\n\t\t\t\tdata = bufferutils.toBuffer(data);\n\t\t\t}\n\t\t}\n\t\tresult.data = data;\n\t\treturn result;\n\t};\n\n\tPresenceMessage.prototype.toString = function() {\n\t\tvar result = '[PresenceMessage';\n\t\tresult += '; action=' + this.action;\n\t\tif(this.id)\n\t\t\tresult += '; id=' + this.id;\n\t\tif(this.timestamp)\n\t\t\tresult += '; timestamp=' + this.timestamp;\n\t\tif(this.clientId)\n\t\t\tresult += '; clientId=' + this.clientId;\n\t\tif(this.connectionId)\n\t\t\tresult += '; connectionId=' + this.connectionId;\n\t\tif(this.encoding)\n\t\t\tresult += '; encoding=' + this.encoding;\n\t\tif(this.data) {\n\t\t\tif (typeof(this.data) == 'string')\n\t\t\t\tresult += '; data=' + this.data;\n\t\t\telse if (bufferutils.isBuffer(this.data))\n\t\t\t\tresult += '; data (buffer)=' + bufferutils.base64Encode(this.data);\n\t\t\telse\n\t\t\t\tresult += '; data (json)=' + JSON.stringify(this.data);\n\t\t}\n\t\tresult += ']';\n\t\treturn result;\n\t};\n\tPresenceMessage.encode = types_message.encode;\n\tPresenceMessage.decode = types_message.decode;\n\n\tPresenceMessage.fromResponseBody = function(body, options, format) {\n\t\tif(format) {\n\t\t\tbody = utils.decodeBody(body, format);\n\t\t}\n\n\t\tfor(var i = 0; i < body.length; i++) {\n\t\t\tvar msg = body[i] = PresenceMessage.fromValues(body[i], true);\n\t\t\ttry {\n\t\t\t\tPresenceMessage.decode(msg, options);\n\t\t\t} catch (e) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'PresenceMessage.fromResponseBody()', e.toString());\n\t\t\t}\n\t\t}\n\t\treturn body;\n\t};\n\n\t/* Creates a PresenceMessage from specified values, with a string presence action */\n\tPresenceMessage.fromValues = function(values, stringifyAction) {\n\t\tif(stringifyAction) {\n\t\t\tvalues.action = PresenceMessage.Actions[values.action]\n\t\t}\n\t\treturn utils.mixin(new PresenceMessage(), values);\n\t};\n\n\tPresenceMessage.fromValuesArray = function(values) {\n\t\tvar count = values.length, result = new Array(count);\n\t\tfor(var i = 0; i < count; i++) result[i] = PresenceMessage.fromValues(values[i]);\n\t\treturn result;\n\t};\n\n\tPresenceMessage.fromEncoded = function(encoded, options) {\n\t\tvar msg = PresenceMessage.fromValues(encoded, true);\n\t\t/* if decoding fails at any point, catch and return the message decoded to\n\t\t * the fullest extent possible */\n\t\ttry {\n\t\t\tPresenceMessage.decode(msg, options);\n\t\t} catch(e) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'PresenceMessage.fromEncoded()', e.toString());\n\t\t}\n\t\treturn msg;\n\t};\n\n\tPresenceMessage.fromEncodedArray = function(encodedArray, options) {\n\t\treturn utils.arrMap(encodedArray, function(encoded) {\n\t\t\treturn PresenceMessage.fromEncoded(encoded, options);\n\t\t});\n\t};\n\n\tPresenceMessage.getMessagesSize = types_message.getMessagesSize;\n\n\treturn PresenceMessage;\n})();\n\n/* harmony default export */ var presencemessage = (presencemessage_PresenceMessage);\n\n// CONCATENATED MODULE: ./common/lib/client/presence.js\n\n\n\n\n\n\n\nvar presence_Presence = (function() {\n\tfunction noop() {}\n\tfunction Presence(channel) {\n\t\tthis.channel = channel;\n\t\tthis.basePath = channel.basePath + '/presence';\n\t}\n\tutils.inherits(Presence, eventemitter);\n\n\tPresence.prototype.get = function(params, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Presence.get()', 'channel = ' + this.channel.name);\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.channel.rest.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'get', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\t\tvar rest = this.channel.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format,\n\t\t\theaders = utils.defaultGetHeaders(format);\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tvar options = this.channel.channelOptions;\n\t\t(new paginatedresource(rest, this.basePath, headers, envelope, function(body, headers, unpacked) {\n\t\t\treturn presencemessage.fromResponseBody(body, options, !unpacked && format);\n\t\t})).get(params, callback);\n\t};\n\n\tPresence.prototype.history = function(params, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Presence.history()', 'channel = ' + this.channel.name);\n\t\tthis._history(params, callback);\n\t};\n\n\tPresence.prototype._history = function(params, callback) {\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.channel.rest.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, '_history', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\t\tvar rest = this.channel.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format,\n\t\t\theaders = utils.defaultGetHeaders(format),\n\t\t\tchannel = this.channel;\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tvar options = this.channel.channelOptions;\n\t\t(new paginatedresource(rest, this.basePath + '/history', headers, envelope, function(body, headers, unpacked) {\n\t\t\treturn presencemessage.fromResponseBody(body, options, !unpacked && format);\n\t\t})).get(params, callback);\n\t};\n\n\treturn Presence;\n})();\n\n/* harmony default export */ var client_presence = (presence_Presence);\n\n// CONCATENATED MODULE: ./common/lib/client/channel.js\n\n\n\n\n\n\n\n\n\n\n\nvar channel_Channel = (function() {\n\tfunction noop() {}\n\tvar MSG_ID_ENTROPY_BYTES = 9;\n\n\t/* public constructor */\n\tfunction Channel(rest, name, channelOptions) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Channel()', 'started; name = ' + name);\n\t\teventemitter.call(this);\n\t\tthis.rest = rest;\n\t\tthis.name = name;\n\t\tthis.basePath = '/channels/' + encodeURIComponent(name);\n\t\tthis.presence = new client_presence(this);\n\t\tthis.setOptions(channelOptions);\n\t}\n\tutils.inherits(Channel, eventemitter);\n\n\tChannel.prototype.setOptions = function(options) {\n\t\tthis.channelOptions = options = options || {};\n\t\tif(options.cipher) {\n\t\t\tif(!util_crypto) throw new Error('Encryption not enabled; use ably.encryption.js instead');\n\t\t\tvar cipher = util_crypto.getCipher(options.cipher);\n\t\t\toptions.cipher = cipher.cipherParams;\n\t\t\toptions.channelCipher = cipher.cipher;\n\t\t} else if('cipher' in options) {\n\t\t\t/* Don't deactivate an existing cipher unless options\n\t\t\t * has a 'cipher' key that's falsey */\n\t\t\toptions.cipher = null;\n\t\t\toptions.channelCipher = null;\n\t\t}\n\t};\n\n\tChannel.prototype.history = function(params, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Channel.history()', 'channel = ' + this.name);\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.rest.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'history', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\n\t\tthis._history(params, callback);\n\t};\n\n\tChannel.prototype._history = function(params, callback) {\n\t\tvar rest = this.rest,\n\t\t\tformat = rest.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format,\n\t\t\theaders = utils.defaultGetHeaders(format),\n\t\t\tchannel = this;\n\n\t\tif(rest.options.headers)\n\t\t\tutils.mixin(headers, rest.options.headers);\n\n\t\tvar options = this.channelOptions;\n\t\t(new paginatedresource(rest, this.basePath + '/messages', headers, envelope, function(body, headers, unpacked) {\n\t\t\treturn types_message.fromResponseBody(body, options, !unpacked && format);\n\t\t})).get(params, callback);\n\t};\n\n\tfunction allEmptyIds(messages) {\n\t\treturn utils.arrEvery(messages, function(message) {\n\t\t\treturn !message.id;\n\t\t});\n\t}\n\n\tChannel.prototype.publish = function() {\n\t\tvar argCount = arguments.length,\n\t\t\tfirst = arguments[0],\n\t\t\tsecond = arguments[1],\n\t\t\tcallback = arguments[argCount - 1],\n\t\t\tmessages,\n\t\t\tparams,\n\t\t\tself = this;\n\n\t\tif(typeof(callback) !== 'function') {\n\t\t\tif(this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'publish', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(typeof first === 'string' || first === null) {\n\t\t\t/* (name, data, ...) */\n\t\t\tmessages = [types_message.fromValues({name: first, data: second})];\n\t\t\tparams = arguments[2];\n\t\t} else if(utils.isObject(first)) {\n\t\t\tmessages = [types_message.fromValues(first)];\n\t\t\tparams = arguments[1];\n\t\t} else if(utils.isArray(first)) {\n\t\t\tmessages = types_message.fromValuesArray(first);\n\t\t\tparams = arguments[1];\n\t\t} else {\n\t\t\tthrow new errorinfo('The single-argument form of publish() expects a message object or an array of message objects', 40013, 400);\n\t\t}\n\n\t\tif(typeof params !== 'object' || !params) {\n\t\t\t/* No params supplied (so after-message argument is just the callback or undefined) */\n\t\t\tparams = {};\n\t\t}\n\n\t\tvar rest = this.rest,\n\t\t\toptions = rest.options,\n\t\t\tformat = options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tidempotentRestPublishing = rest.options.idempotentRestPublishing,\n\t\t\theaders = utils.defaultPostHeaders(format);\n\n\t\tif(options.headers)\n\t\t\tutils.mixin(headers, options.headers);\n\n\t\tif(idempotentRestPublishing && allEmptyIds(messages)) {\n\t\t\tvar msgIdBase = utils.randomString(MSG_ID_ENTROPY_BYTES);\n\t\t\tutils.arrForEach(messages, function(message, index) {\n\t\t\t\tmessage.id = msgIdBase + ':' + index.toString();\n\t\t\t});\n\t\t}\n\n\t\ttypes_message.encodeArray(messages, this.channelOptions, function(err) {\n\t\t\tif(err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* RSL1i */\n\t\t\tvar size = types_message.getMessagesSize(messages),\n\t\t\t\tmaxMessageSize = options.maxMessageSize;\n\t\t\tif(size > maxMessageSize) {\n\t\t\t\tcallback(new errorinfo('Maximum size of messages that can be published at once exceeded ( was ' + size + ' bytes; limit is ' + maxMessageSize + ' bytes)', 40009, 400));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._publish(types_message.serialize(messages, format), headers, params, callback);\n\t\t});\n\t};\n\n\tChannel.prototype._publish = function(requestBody, headers, params, callback) {\n\t\tclient_resource.post(this.rest, this.basePath + '/messages', requestBody, headers, params, false, callback);\n\t};\n\n\treturn Channel;\n})();\n\n/* harmony default export */ var client_channel = (channel_Channel);\n\n// CONCATENATED MODULE: ./common/lib/types/stats.js\n\n\nvar stats_Stats = (function() {\n\n\tfunction MessageCount(values) {\n\t\tthis.count = (values && values.count) || 0;\n\t\tthis.data = (values && values.data) || 0;\n\t\tthis.uncompressedData = (values && values.uncompressedData) || 0;\n\t\tthis.failed = (values && values.failed) || 0;\n\t\tthis.refused = (values && values.refused) || 0;\n\t}\n\n\tfunction MessageCategory(values) {\n\t\tvar self = this;\n\t\tMessageCount.call(this, values);\n\t\tthis.category = undefined;\n\t\tif (values && values.category) {\n\t\t\tthis.category = { };\n\t\t\tutils.forInOwnNonNullProps(values.category, function(prop) {\n\t\t\t\tself.category[prop] = new MessageCount(values.category[prop]);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction ResourceCount(values) {\n\t\tthis.peak = (values && values.peak) || 0;\n\t\tthis.min = (values && values.min) || 0;\n\t\tthis.mean = (values && values.mean) || 0;\n\t\tthis.opened = (values && values.opened) || 0;\n\t\tthis.refused = (values && values.refused) || 0;\n\t}\n\n\tfunction RequestCount(values) {\n\t\tthis.succeeded = (values && values.succeeded) || 0;\n\t\tthis.failed = (values && values.failed) || 0;\n\t\tthis.refused = (values && values.refused) || 0;\n\t}\n\n\tfunction ConnectionTypes(values) {\n\t\tthis.plain = new ResourceCount(values && values.plain);\n\t\tthis.tls = new ResourceCount(values && values.tls);\n\t\tthis.all = new ResourceCount(values && values.all);\n\t}\n\n\tfunction MessageTypes(values) {\n\t\tthis.messages = new MessageCategory(values && values.messages);\n\t\tthis.presence = new MessageCategory(values && values.presence);\n\t\tthis.all = new MessageCategory(values && values.all);\n\t}\n\n\tfunction MessageTraffic(values) {\n\t\tthis.realtime = new MessageTypes(values && values.realtime);\n\t\tthis.rest = new MessageTypes(values && values.rest);\n\t\tthis.webhook = new MessageTypes(values && values.webhook);\n\t\tthis.sharedQueue = new MessageTypes(values && values.sharedQueue);\n\t\tthis.externalQueue = new MessageTypes(values && values.externalQueue);\n\t\tthis.httpEvent = new MessageTypes(values && values.httpEvent);\n\t\tthis.push = new MessageTypes(values && values.push);\n\t\tthis.all = new MessageTypes(values && values.all);\n\t}\n\n\tfunction MessageDirections(values) {\n\t\tthis.all           = new MessageTypes(values && values.all);\n\t\tthis.inbound       = new MessageTraffic(values && values.inbound);\n\t\tthis.outbound      = new MessageTraffic(values && values.outbound);\n\t}\n\n\tfunction XchgMessages(values) {\n\t\tthis.all           = new MessageTypes(values && values.all);\n\t\tthis.producerPaid  = new MessageDirections(values && values.producerPaid);\n\t\tthis.consumerPaid  = new MessageDirections(values && values.consumerPaid);\n\t}\n\n\tfunction PushStats(values) {\n\t\tthis.messages = (values && values.messages) || 0;\n\t\tvar notifications = values && values.notifications;\n\t\tthis.notifications = {\n\t\t\tinvalid: notifications && notifications.invalid || 0,\n\t\t\tattempted: notifications && notifications.attempted || 0,\n\t\t\tsuccessful: notifications && notifications.successful || 0,\n\t\t\tfailed: notifications && notifications.failed || 0\n\t\t};\n\t\tthis.directPublishes = (values && values.directPublishes) || 0;\n\t}\n\n\tfunction ProcessedCount(values) {\n\t\tthis.succeeded = (values && values.succeeded) || 0;\n\t\tthis.skipped = (values && values.skipped) || 0;\n\t\tthis.failed = (values && values.failed) || 0;\n\t}\n\n\tfunction ProcessedMessages(values) {\n\t\tvar self = this;\n\t\tthis.delta = undefined;\n\t\tif (values && values.delta) {\n\t\t\tthis.delta = { };\n\t\t\tutils.forInOwnNonNullProps(values.delta, function(prop) {\n\t\t\t\tself.delta[prop] = new ProcessedCount(values.delta[prop]);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction Stats(values) {\n\t\tMessageDirections.call(this, values);\n\t\tthis.persisted     = new MessageTypes(values && values.persisted);\n\t\tthis.connections   = new ConnectionTypes(values && values.connections);\n\t\tthis.channels      = new ResourceCount(values && values.channels);\n\t\tthis.apiRequests   = new RequestCount(values && values.apiRequests);\n\t\tthis.tokenRequests = new RequestCount(values && values.tokenRequests);\n\t\tthis.xchgProducer  = new XchgMessages(values && values.xchgProducer);\n\t\tthis.xchgConsumer  = new XchgMessages(values && values.xchgConsumer);\n\t\tthis.push          = new PushStats(values && values.pushStats);\n\t\tthis.processed     = new ProcessedMessages(values && values.processed);\n\t\tthis.inProgress    = (values && values.inProgress) || undefined;\n\t\tthis.unit          = (values && values.unit) || undefined;\n\t\tthis.intervalId    = (values && values.intervalId) || undefined;\n\t}\n\n\tStats.fromValues = function(values) {\n\t\treturn new Stats(values);\n\t};\n\n\treturn Stats;\n})();\n\n/* harmony default export */ var stats = (stats_Stats);\n\n// CONCATENATED MODULE: ./common/lib/client/rest.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar rest_Rest = (function() {\n\tvar noop = function() {};\n\tvar msgpack = platform.msgpack;\n\n\tfunction Rest(options) {\n\t\tif(!(this instanceof Rest)){\n\t\t\treturn new Rest(options);\n\t\t}\n\n\t\t/* normalise options */\n\t\tif(!options) {\n\t\t\tvar msg = 'no options provided';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Rest()', msg);\n\t\t\tthrow new Error(msg);\n\t\t}\n\t\toptions = util_defaults.objectifyOptions(options);\n\n\t\tif(options.log) {\n\t\t\tutil_logger.setLog(options.log.level, options.log.handler);\n\t\t}\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Rest()', 'initialized with clientOptions ' + utils.inspect(options));\n\n\t\tthis.options = util_defaults.normaliseOptions(options);\n\n\t\t/* process options */\n\t\tif(options.key) {\n\t\t\tvar keyMatch = options.key.match(/^([^:\\s]+):([^:.\\s]+)$/);\n\t\t\tif(!keyMatch) {\n\t\t\t\tvar msg = 'invalid key parameter';\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Rest()', msg);\n\t\t\t\tthrow new Error(msg);\n\t\t\t}\n\t\t\toptions.keyName = keyMatch[1];\n\t\t\toptions.keySecret = keyMatch[2];\n\t\t}\n\n\t\tif('clientId' in options) {\n\t\t\tif(!(typeof(options.clientId) === 'string' || options.clientId === null))\n\t\t\t\tthrow new errorinfo('clientId must be either a string or null', 40012, 400);\n\t\t\telse if(options.clientId === '*')\n\t\t\t\tthrow new errorinfo('Can\u2019t use \"*\" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, use {defaultTokenParams: {clientId: \"*\"}})', 40012, 400);\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Rest()', 'started; version = ' + util_defaults.libstring);\n\n\t\tthis.baseUri = this.authority = function(host) { return util_defaults.getHttpScheme(options) + host + ':' + util_defaults.getPort(options, false); };\n\t\tthis._currentFallback = null;\n\n\t\tthis.serverTimeOffset = null;\n\t\tthis.auth = new client_auth(this, options);\n\t\tthis.channels = new Channels(this);\n\t\tthis.push = new push(this);\n\t}\n\n\tRest.prototype.stats = function(params, callback) {\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'stats', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\t\tvar headers = utils.defaultGetHeaders(),\n\t\t\tformat = this.options.useBinaryProtocol ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format;\n\n\t\tif(this.options.headers)\n\t\t\tutils.mixin(headers, this.options.headers);\n\n\t\t(new paginatedresource(this, '/stats', headers, envelope, function(body, headers, unpacked) {\n\t\t\tvar statsValues = (unpacked ? body : JSON.parse(body));\n\t\t\tfor(var i = 0; i < statsValues.length; i++) statsValues[i] = stats.fromValues(statsValues[i]);\n\t\t\treturn statsValues;\n\t\t})).get(params, callback);\n\t};\n\n\tRest.prototype.time = function(params, callback) {\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'time', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\t\tvar headers = utils.defaultGetHeaders();\n\t\tif(this.options.headers)\n\t\t\tutils.mixin(headers, this.options.headers);\n\t\tvar self = this;\n\t\tvar timeUri = function(host) { return self.authority(host) + '/time' };\n\t\tutil_http.get(this, timeUri, headers, params, function(err, res, headers, unpacked) {\n\t\t\tif(err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!unpacked) res = JSON.parse(res);\n\t\t\tvar time = res[0];\n\t\t\tif(!time) {\n\t\t\t\terr = new Error('Internal error (unexpected result type from GET /time)');\n\t\t\t\terr.statusCode = 500;\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* calculate time offset only once for this device by adding to the prototype */\n\t\t\tself.serverTimeOffset = (time - utils.now());\n\t\t\tcallback(null, time);\n\t\t});\n\t};\n\n\tRest.prototype.request = function(method, path, params, body, customHeaders, callback) {\n\t\tvar useBinary = this.options.useBinaryProtocol,\n\t\t\tencoder = useBinary ? msgpack.encode: JSON.stringify,\n\t\t\tdecoder = useBinary ? msgpack.decode : JSON.parse,\n\t\t\tformat = useBinary ? 'msgpack' : 'json',\n\t\t\tenvelope = util_http.supportsLinkHeaders ? undefined : format;\n\t\tparams = params || {};\n\t\tmethod = method.toLowerCase();\n\t\tvar headers = method == 'get' ? utils.defaultGetHeaders(format) : utils.defaultPostHeaders(format);\n\n\t\tif(callback === undefined) {\n\t\t\tif(this.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'request', [method, path, params, body, customHeaders]);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(typeof body !== 'string') {\n\t\t\tbody = encoder(body);\n\t\t}\n\t\tif(this.options.headers) {\n\t\t\tutils.mixin(headers, this.options.headers);\n\t\t}\n\t\tif(customHeaders) {\n\t\t\tutils.mixin(headers, customHeaders);\n\t\t}\n\t\tvar paginatedResource = new paginatedresource(this, path, headers, envelope, function(resbody, headers, unpacked) {\n\t\t\treturn utils.ensureArray(unpacked ? resbody : decoder(resbody));\n\t\t}, /* useHttpPaginatedResponse: */ true);\n\n\t\tif(!utils.arrIn(util_http.methods, method)) {\n\t\t\tthrow new errorinfo('Unsupported method ' + method, 40500, 405);\n\t\t}\n\n\t\tif(utils.arrIn(util_http.methodsWithBody, method)) {\n\t\t\tpaginatedResource[method](params, body, callback);\n\t\t} else {\n\t\t\tpaginatedResource[method](params, callback);\n\t\t}\n\t};\n\n\tRest.prototype.setLog = function(logOptions) {\n\t\tutil_logger.setLog(logOptions.level, logOptions.handler);\n\t};\n\n\tfunction Channels(rest) {\n\t\tthis.rest = rest;\n\t\tthis.all = Object.create(null);\n\t}\n\n\tChannels.prototype.get = function(name, channelOptions) {\n\t\tname = String(name);\n\t\tvar channel = this.all[name];\n\t\tif(!channel) {\n\t\t\tthis.all[name] = channel = new client_channel(this.rest, name, channelOptions);\n\t\t} else if(channelOptions) {\n\t\t\tchannel.setOptions(channelOptions);\n\t\t}\n\n\t\treturn channel;\n\t};\n\n\t/* Included to support certain niche use-cases; most users should ignore this.\n\t * Please do not use this unless you know what you're doing */\n\tChannels.prototype.release = function(name) {\n\t\tdelete this.all[String(name)];\n\t};\n\n\treturn Rest;\n})();\n\nrest_Rest.Promise = function(options) {\n\toptions = util_defaults.objectifyOptions(options);\n\toptions.promises = true;\n\treturn new rest_Rest(options);\n};\n\nrest_Rest.Callbacks = rest_Rest;\n\n/* harmony default export */ var client_rest = (rest_Rest);\n\n// CONCATENATED MODULE: ./common/lib/types/protocolmessage.js\n\n\n\n\n\nvar protocolmessage_ProtocolMessage = (function() {\n\n\tfunction ProtocolMessage() {\n\t\tthis.action = undefined;\n\t\tthis.flags = undefined;\n\t\tthis.id = undefined;\n\t\tthis.timestamp = undefined;\n\t\tthis.count = undefined;\n\t\tthis.error = undefined;\n\t\tthis.connectionId = undefined;\n\t\tthis.connectionKey = undefined;\n\t\tthis.connectionSerial = undefined;\n\t\tthis.channel = undefined;\n\t\tthis.channelSerial = undefined;\n\t\tthis.msgSerial = undefined;\n\t\tthis.messages = undefined;\n\t\tthis.presence = undefined;\n\t\tthis.auth = undefined;\n\t\tthis.params = undefined;\n\t}\n\n\tvar actions = ProtocolMessage.Action = {\n\t\t'HEARTBEAT' : 0,\n\t\t'ACK' : 1,\n\t\t'NACK' : 2,\n\t\t'CONNECT' : 3,\n\t\t'CONNECTED' : 4,\n\t\t'DISCONNECT' : 5,\n\t\t'DISCONNECTED' : 6,\n\t\t'CLOSE' : 7,\n\t\t'CLOSED' : 8,\n\t\t'ERROR' : 9,\n\t\t'ATTACH' : 10,\n\t\t'ATTACHED' : 11,\n\t\t'DETACH' : 12,\n\t\t'DETACHED' : 13,\n\t\t'PRESENCE' : 14,\n\t\t'MESSAGE' : 15,\n\t\t'SYNC' : 16,\n\t\t'AUTH' : 17\n\t};\n\n\tProtocolMessage.channelModes = [ 'PRESENCE', 'PUBLISH', 'SUBSCRIBE', 'PRESENCE_SUBSCRIBE' ];\n\n\tProtocolMessage.ActionName = [];\n\tutils.arrForEach(utils.keysArray(ProtocolMessage.Action, true), function(name) {\n\t\tProtocolMessage.ActionName[actions[name]] = name;\n\t});\n\n\tvar flags = {\n\t\t/* Channel attach state flags */\n\t\t'HAS_PRESENCE':       1 << 0,\n\t\t'HAS_BACKLOG':        1 << 1,\n\t\t'RESUMED':            1 << 2,\n\t\t'TRANSIENT':          1 << 4,\n\t\t'ATTACH_RESUME':      1 << 5,\n\t\t/* Channel mode flags */\n\t\t'PRESENCE':           1 << 16,\n\t\t'PUBLISH':            1 << 17,\n\t\t'SUBSCRIBE':          1 << 18,\n\t\t'PRESENCE_SUBSCRIBE': 1 << 19\n\t};\n\tvar flagNames = utils.keysArray(flags);\n\tflags.MODE_ALL = flags.PRESENCE | flags.PUBLISH | flags.SUBSCRIBE | flags.PRESENCE_SUBSCRIBE;\n\n\tProtocolMessage.prototype.hasFlag = function(flag) {\n\t\treturn ((this.flags & flags[flag]) > 0);\n\t};\n\n\tProtocolMessage.prototype.setFlag = function(flag) {\n\t\treturn this.flags = this.flags | flags[flag];\n\t};\n\n\tProtocolMessage.prototype.getMode = function() {\n\t\treturn this.flags && (this.flags & flags.MODE_ALL);\n\t};\n\n\tProtocolMessage.prototype.encodeModesToFlags = function(modes) {\n\t\tvar self = this;\n\t\tutils.arrForEach(modes, function(mode) {\n\t\t\tself.setFlag(mode);\n\t\t});\n\t};\n\n\tProtocolMessage.prototype.decodeModesFromFlags = function() {\n\t\tvar modes = [],\n\t\t\tself = this;\n\t\tutils.arrForEach(ProtocolMessage.channelModes, function(mode) {\n\t\t\tif(self.hasFlag(mode)) {\n\t\t\t\tmodes.push(mode);\n\t\t\t}\n\t\t});\n\t\treturn modes.length > 0 ? modes : undefined;\n\t};\n\n\tProtocolMessage.serialize = utils.encodeBody;\n\n\tProtocolMessage.deserialize = function(serialized, format) {\n\t\tvar deserialized = utils.decodeBody(serialized, format);\n\t\treturn ProtocolMessage.fromDeserialized(deserialized);\n\t};\n\n\tProtocolMessage.fromDeserialized = function(deserialized) {\n\t\tvar error = deserialized.error;\n\t\tif(error) deserialized.error = errorinfo.fromValues(error);\n\t\tvar messages = deserialized.messages;\n\t\tif(messages) for(var i = 0; i < messages.length; i++) messages[i] = types_message.fromValues(messages[i]);\n\t\tvar presence = deserialized.presence;\n\t\tif(presence) for(var i = 0; i < presence.length; i++) presence[i] = presencemessage.fromValues(presence[i], true);\n\t\treturn utils.mixin(new ProtocolMessage(), deserialized);\n\t};\n\n\tProtocolMessage.fromValues = function(values) {\n\t\treturn utils.mixin(new ProtocolMessage(), values);\n\t};\n\n\tfunction toStringArray(array) {\n\t\tvar result = [];\n\t\tif (array) {\n\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\tresult.push(array[i].toString());\n\t\t\t}\n\t\t}\n\t\treturn '[ ' + result.join(', ') + ' ]';\n\t}\n\n\tvar simpleAttributes = 'id channel channelSerial connectionId connectionKey connectionSerial count msgSerial timestamp'.split(' ');\n\n\tProtocolMessage.stringify = function(msg) {\n\t\tvar result = '[ProtocolMessage';\n\t\tif(msg.action !== undefined)\n\t\t\tresult += '; action=' + ProtocolMessage.ActionName[msg.action] || false;\n\n\t\tvar attribute;\n\t\tfor (var attribIndex = 0; attribIndex < simpleAttributes.length; attribIndex++) {\n\t\t\tattribute = simpleAttributes[attribIndex];\n\t\t\tif(msg[attribute] !== undefined)\n\t\t\t\tresult += '; ' + attribute + '=' + msg[attribute];\n\t\t}\n\n\t\tif(msg.messages)\n\t\t\tresult += '; messages=' + toStringArray(types_message.fromValuesArray(msg.messages));\n\t\tif(msg.presence)\n\t\t\tresult += '; presence=' + toStringArray(presencemessage.fromValuesArray(msg.presence));\n\t\tif(msg.error)\n\t\t\tresult += '; error=' + errorinfo.fromValues(msg.error).toString();\n\t\tif(msg.auth && msg.auth.accessToken)\n\t\t\tresult += '; token=' + msg.auth.accessToken;\n\t\tif(msg.flags)\n\t\t\tresult += '; flags=' + utils.arrFilter(flagNames, function(flag) {\n\t\t\t\treturn msg.hasFlag(flag);\n\t\t\t}).join(',');\n\t\tif(msg.params) {\n\t\t\tvar stringifiedParams = '';\n\t\t\tutils.forInOwnNonNullProps(msg.params, function(prop) {\n\t\t\t\tif (stringifiedParams.length > 0) {\n\t\t\t\t\tstringifiedParams += '; ';\n\t\t\t\t}\n\t\t\t\tstringifiedParams += prop + '=' + msg.params[prop];\n\t\t\t});\n\t\t\tif (stringifiedParams.length > 0) {\n\t\t\t\tresult += '; params=[' + stringifiedParams + ']';\n\t\t\t}\n\t\t}\n\t\tresult += ']';\n\t\treturn result;\n\t};\n\n\t/* Only valid for channel messages */\n\tProtocolMessage.isDuplicate = function(a, b) {\n\t\tif (a && b) {\n\t\t\tif ((a.action === actions.MESSAGE || a.action === actions.PRESENCE) &&\n\t\t\t\t(a.action === b.action) &&\n\t\t\t\t(a.channel === b.channel) &&\n\t\t\t\t(a.id === b.id)) {\n\t\t\t\tif (a.action === actions.PRESENCE) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (a.messages.length === b.messages.length) {\n\t\t\t\t\tfor (var i = 0; i < a.messages.length; i++) {\n\t\t\t\t\t\tvar aMessage = a.messages[i];\n\t\t\t\t\t\tvar bMessage = b.messages[i];\n\t\t\t\t\t\tif ((aMessage.extras && aMessage.extras.delta && aMessage.extras.delta.format) !==\n\t\t\t\t\t\t\t(bMessage.extras && bMessage.extras.delta && bMessage.extras.delta.format)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\treturn ProtocolMessage;\n})();\n\n/* harmony default export */ var protocolmessage = (protocolmessage_ProtocolMessage);\n\n// CONCATENATED MODULE: ./common/lib/transport/messagequeue.js\n\n\n\n\nvar messagequeue_MessageQueue = (function() {\n\tfunction MessageQueue() {\n\t\teventemitter.call(this);\n\t\tthis.messages = [];\n\t}\n\tutils.inherits(MessageQueue, eventemitter);\n\n\tMessageQueue.prototype.count = function() {\n\t\treturn this.messages.length;\n\t};\n\n\tMessageQueue.prototype.push = function(message) {\n\t\tthis.messages.push(message);\n\t};\n\n\tMessageQueue.prototype.shift = function() {\n\t\treturn this.messages.shift();\n\t};\n\n\tMessageQueue.prototype.last = function() {\n\t\treturn this.messages[this.messages.length - 1];\n\t};\n\n\tMessageQueue.prototype.copyAll = function() {\n\t\treturn this.messages.slice();\n\t};\n\n\tMessageQueue.prototype.append = function(messages) {\n\t\tthis.messages.push.apply(this.messages, messages);\n\t};\n\n\tMessageQueue.prototype.prepend = function(messages) {\n\t\tthis.messages.unshift.apply(this.messages, messages);\n\t};\n\n\tMessageQueue.prototype.completeMessages = function(serial, count, err) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'MessageQueue.completeMessages()', 'serial = ' + serial + '; count = ' + count);\n\t\terr = err || null;\n\t\tvar messages = this.messages;\n\t\tvar first = messages[0];\n\t\tif(first) {\n\t\t\tvar startSerial = first.message.msgSerial;\n\t\t\tvar endSerial = serial + count; /* the serial of the first message that is *not* the subject of this call */\n\t\t\tif(endSerial > startSerial) {\n\t\t\t\tvar completeMessages = messages.splice(0, (endSerial - startSerial));\n\t\t\t\tfor(var i = 0; i < completeMessages.length; i++) {\n\t\t\t\t\tcompleteMessages[i].callback(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(messages.length == 0)\n\t\t\t\tthis.emit('idle');\n\t\t}\n\t};\n\n\tMessageQueue.prototype.completeAllMessages = function(err) {\n\t\tthis.completeMessages(0, Number.MAX_SAFE_INTEGER || Number.MAX_VALUE, err);\n\t};\n\n\tMessageQueue.prototype.clear = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'MessageQueue.clear()', 'clearing ' + this.messages.length + ' messages');\n\t\tthis.messages = [];\n\t\tthis.emit('idle');\n\t};\n\n\treturn MessageQueue;\n})();\n\n/* harmony default export */ var messagequeue = (messagequeue_MessageQueue);\n\n// CONCATENATED MODULE: ./common/lib/transport/protocol.js\n\n\n\n\n\n\n\nvar protocol_Protocol = (function() {\n\tvar actions = protocolmessage.Action;\n\n\tfunction Protocol(transport) {\n\t\teventemitter.call(this);\n\t\tthis.transport = transport;\n\t\tthis.messageQueue = new messagequeue();\n\t\tvar self = this;\n\t\ttransport.on('ack', function(serial, count) { self.onAck(serial, count); });\n\t\ttransport.on('nack', function(serial, count, err) { self.onNack(serial, count, err); });\n\t}\n\tutils.inherits(Protocol, eventemitter);\n\n\tProtocol.prototype.onAck = function(serial, count) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Protocol.onAck()', 'serial = ' + serial + '; count = ' + count);\n\t\tthis.messageQueue.completeMessages(serial, count);\n\t};\n\n\tProtocol.prototype.onNack = function(serial, count, err) {\n\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Protocol.onNack()', 'serial = ' + serial + '; count = ' + count + '; err = ' + utils.inspectError(err));\n\t\tif(!err) {\n\t\t\terr = new errorinfo('Unable to send message; channel not responding', 50001, 500);\n\t\t}\n\t\tthis.messageQueue.completeMessages(serial, count, err);\n\t};\n\n\tProtocol.prototype.onceIdle = function(listener) {\n\t\tvar messageQueue = this.messageQueue;\n\t\tif(messageQueue.count() === 0) {\n\t\t\tlistener();\n\t\t\treturn;\n\t\t}\n\t\tmessageQueue.once('idle', listener);\n\t};\n\n\tProtocol.prototype.send = function(pendingMessage) {\n\t\tif(pendingMessage.ackRequired) {\n\t\t\tthis.messageQueue.push(pendingMessage);\n\t\t}\n\t\tif (util_logger.shouldLog(util_logger.LOG_MICRO)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Protocol.send()', 'sending msg; ' + protocolmessage.stringify(pendingMessage.message));\n\t\t}\n\t\tpendingMessage.sendAttempted = true;\n\t\tthis.transport.send(pendingMessage.message);\n\t};\n\n\tProtocol.prototype.getTransport = function() {\n\t\treturn this.transport;\n\t};\n\n\tProtocol.prototype.getPendingMessages = function() {\n\t\treturn this.messageQueue.copyAll();\n\t};\n\n\tProtocol.prototype.clearPendingMessages = function() {\n\t\treturn this.messageQueue.clear();\n\t};\n\n\tProtocol.prototype.finish = function() {\n\t\tvar transport = this.transport;\n\t\tthis.onceIdle(function() {\n\t\t\ttransport.disconnect();\n\t\t});\n\t};\n\n\tfunction PendingMessage(message, callback) {\n\t\tthis.message = message;\n\t\tthis.callback = callback;\n\t\tthis.merged = false;\n\t\tvar action = message.action;\n\t\tthis.sendAttempted = false;\n\t\tthis.ackRequired = (action == actions.MESSAGE || action == actions.PRESENCE);\n\t}\n\tProtocol.PendingMessage = PendingMessage;\n\n\treturn Protocol;\n})();\n\n/* harmony default export */ var protocol = (protocol_Protocol);\n\n// CONCATENATED MODULE: ./common/lib/client/connectionstatechange.js\nvar ConnectionStateChange = (function() {\n\n\t/* public constructor */\n\tfunction ConnectionStateChange(previous, current, retryIn, reason) {\n\t\tthis.previous = previous;\n\t\tthis.current = current;\n\t\tif(retryIn) this.retryIn = retryIn;\n\t\tif(reason) this.reason = reason;\n\t}\n\n\treturn ConnectionStateChange;\n})();\n\n/* harmony default export */ var connectionstatechange = (ConnectionStateChange);\n\n// CONCATENATED MODULE: ./common/lib/transport/connectionerror.js\n\n\n\nvar ConnectionError = {\n\tdisconnected: errorinfo.fromValues({\n\t\tstatusCode: 400,\n\t\tcode: 80003,\n\t\tmessage: 'Connection to server temporarily unavailable'\n\t}),\n\tsuspended: errorinfo.fromValues({\n\t\tstatusCode: 400,\n\t\tcode: 80002,\n\t\tmessage: 'Connection to server unavailable'\n\t}),\n\tfailed: errorinfo.fromValues({\n\t\tstatusCode: 400,\n\t\tcode: 80000,\n\t\tmessage: 'Connection failed or disconnected by server'\n\t}),\n\tclosing: errorinfo.fromValues({\n\t\tstatusCode: 400,\n\t\tcode: 80017,\n\t\tmessage: 'Connection closing'\n\t}),\n\tclosed: errorinfo.fromValues({\n\t\tstatusCode: 400,\n\t\tcode: 80017,\n\t\tmessage: 'Connection closed'\n\t}),\n\tunknownConnectionErr: errorinfo.fromValues({\n\t\tstatusCode: 500,\n\t\tcode: 50002,\n\t\tmessage: 'Internal connection error'\n\t}),\n\tunknownChannelErr: errorinfo.fromValues({\n\t\tstatusCode: 500,\n\t\tcode: 50001,\n\t\tmessage: 'Internal channel error'\n\t})\n};\n\nConnectionError.isRetriable = function(err) {\n\tif (!err.statusCode || !err.code || err.statusCode >= 500) {\n\t\treturn true;\n\t}\n\tvar retriable = false;\n\tutils.valuesArray(ConnectionError).forEach(function(connErr) {\n\t\tif (connErr.code && connErr.code == err.code) {\n\t\t\tretriable = true;\n\t\t}\n\t});\n\treturn retriable;\n};\n\n/* harmony default export */ var connectionerror = (ConnectionError);\n\n// CONCATENATED MODULE: ./common/lib/util/errorreporter.js\n\n\n\n\n\n\nvar errorreporter_ErrorReporter = (function() {\n\tfunction ErrorReporter() {}\n\n\tvar levels = ErrorReporter.levels = [\n\t\t'fatal',\n\t\t'error',\n\t\t'warning',\n\t\t'info',\n\t\t'debug'\n\t];\n\n\t/* (level: typeof ErrorReporter.levels[number], message: string, fingerprint?: string, tags?: {[key: string]: string}): void */\n\tErrorReporter.report = function(level, message, fingerprint, tags) {\n\t\tvar eventId = utils.randomHexString(16);\n\n\t\tvar event = {\n\t\t\tevent_id: eventId,\n\t\t\ttags: utils.mixin({\n\t\t\t\tablyAgent: util_defaults.agent\n\t\t\t}, tags),\n\t\t\tplatform: 'javascript',\n\t\t\tlevel: level,\n\t\t\trelease: util_defaults.version,\n\t\t\tfingerprint: fingerprint && [ fingerprint ],\n\t\t\tmessage: message,\n\t\t\trequest: {\n\t\t\t\theaders: {\n\t\t\t\t\t'User-Agent': platform.userAgent\n\t\t\t\t},\n\t\t\t\turl: platform.currentUrl\n\t\t\t}\n\t\t};\n\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ErrorReporter', 'POSTing to error reporter: ' + message);\n\t\tutil_http.postUri(null, util_defaults.errorReportingUrl, util_defaults.errorReportingHeaders, JSON.stringify(event), {}, function(err, res) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ErrorReporter', 'POSTing to error reporter resulted in: ' +\n\t\t\t\t(err ? utils.inspectError(err) : utils.inspectBody(res))\n\t\t\t);\n\t\t});\n\t};\n\n\treturn ErrorReporter;\n})();\n\n/* harmony default export */ var errorreporter = (errorreporter_ErrorReporter);\n\n// CONCATENATED MODULE: ./browser/lib/util/webstorage.js\n\n\nvar webstorage_WebStorage = (function() {\n\tvar sessionSupported,\n\t\tlocalSupported,\n\t\ttest = 'ablyjs-storage-test';\n\n\t/* Even just accessing the session/localStorage object can throw a\n\t * security exception in some circumstances with some browsers. In\n\t * others, calling setItem will throw. So have to check in this\n\t * somewhat roundabout way. (If unsupported or no global object,\n\t * will throw on accessing a property of undefined) */\n\ttry {\n\t\tglobal.sessionStorage.setItem(test, test);\n\t\tglobal.sessionStorage.removeItem(test);\n\t\tsessionSupported = true;\n\t} catch(e) {\n\t\tsessionSupported = false;\n\t}\n\n\ttry {\n\t\tglobal.localStorage.setItem(test, test);\n\t\tglobal.localStorage.removeItem(test);\n\t\tlocalSupported = true;\n\t} catch(e) {\n\t\tlocalSupported = false;\n\t}\n\n\tfunction WebStorage() {}\n\n\tfunction storageInterface(session) {\n\t\treturn session ? global.sessionStorage : global.localStorage;\n\t}\n\n\tfunction set(name, value, ttl, session) {\n\t\tvar wrappedValue = {value: value};\n\t\tif(ttl) {\n\t\t\twrappedValue.expires = utils.now() + ttl;\n\t\t}\n\t\treturn storageInterface(session).setItem(name, JSON.stringify(wrappedValue));\n\t}\n\n\tfunction get(name, session) {\n\t\tvar rawItem = storageInterface(session).getItem(name);\n\t\tif(!rawItem) return null;\n\t\tvar wrappedValue = JSON.parse(rawItem);\n\t\tif(wrappedValue.expires && (wrappedValue.expires < utils.now())) {\n\t\t\tstorageInterface(session).removeItem(name);\n\t\t\treturn null;\n\t\t}\n\t\treturn wrappedValue.value;\n\t}\n\n\tfunction remove(name, session) {\n\t\treturn storageInterface(session).removeItem(name);\n\t}\n\n\tif(localSupported) {\n\t\tWebStorage.set    = function(name, value, ttl) { return set(name, value, ttl, false); };\n\t\tWebStorage.get    = function(name) { return get(name, false); };\n\t\tWebStorage.remove = function(name) { return remove(name, false); };\n\t}\n\n\tif(sessionSupported) {\n\t\tWebStorage.setSession    = function(name, value, ttl) { return set(name, value, ttl, true); };\n\t\tWebStorage.getSession    = function(name) { return get(name, true); };\n\t\tWebStorage.removeSession = function(name) { return remove(name, true); };\n\t}\n\n\treturn WebStorage;\n})();\n\n/* harmony default export */ var webstorage = (webstorage_WebStorage);\n\n// CONCATENATED MODULE: ./common/lib/transport/transport.js\n\n\n\n\n\n\n\nvar transport_Transport = (function() {\n\tvar actions = protocolmessage.Action;\n\tvar closeMessage = protocolmessage.fromValues({action: actions.CLOSE});\n\tvar disconnectMessage = protocolmessage.fromValues({action: actions.DISCONNECT});\n\tvar noop = function() {};\n\n\t/*\n\t * EventEmitter, generates the following events:\n\t *\n\t * event name       data\n\t * closed           error\n\t * failed           error\n\t * disposed\n\t * connected        null error, connectionSerial, connectionId, connectionDetails\n\t * sync             connectionSerial, connectionId\n\t * event            channel message object\n\t */\n\n\t/* public constructor */\n\tfunction Transport(connectionManager, auth, params) {\n\t\teventemitter.call(this);\n\t\tthis.connectionManager = connectionManager;\n\t\tconnectionManager.registerProposedTransport(this);\n\t\tthis.auth = auth;\n\t\tthis.params = params;\n\t\tthis.timeouts = params.options.timeouts;\n\t\tthis.format = params.format;\n\t\tthis.isConnected = false;\n\t\tthis.isFinished = false;\n\t\tthis.isDisposed = false;\n\t\tthis.maxIdleInterval = null;\n\t\tthis.idleTimer = null;\n\t\tthis.lastActivity = null;\n\t}\n\tutils.inherits(Transport, eventemitter);\n\n\tTransport.prototype.connect = function() {};\n\n\tTransport.prototype.close = function() {\n\t\tif(this.isConnected) {\n\t\t\tthis.requestClose();\n\t\t}\n\t\tthis.finish('closed', connectionerror.closed);\n\t};\n\n\tTransport.prototype.disconnect = function(err) {\n\t\t/* Used for network/transport issues that need to result in the transport\n\t\t * being disconnected, but should not affect the connection */\n\t\tif(this.isConnected) {\n\t\t\tthis.requestDisconnect();\n\t\t}\n\t\tthis.finish('disconnected', err || connectionerror.disconnected);\n\t};\n\n\tTransport.prototype.fail = function(err) {\n\t\t/* Used for client-side-detected fatal connection issues */\n\t\tif(this.isConnected) {\n\t\t\tthis.requestDisconnect();\n\t\t}\n\t\tthis.finish('failed', err || connectionerror.failed);\n\t};\n\n\tTransport.prototype.finish = function(event, err) {\n\t\tif(this.isFinished) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isFinished = true;\n\t\tthis.isConnected = false;\n\t\tthis.maxIdleInterval = null;\n\t\tclearTimeout(this.idleTimer);\n\t\tthis.idleTimer = null;\n\t\tthis.emit(event, err);\n\t\tthis.dispose();\n\t};\n\n\tTransport.prototype.onProtocolMessage = function(message) {\n\t\tif (util_logger.shouldLog(util_logger.LOG_MICRO)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Transport.onProtocolMessage()', 'received on ' + this.shortName + ': ' + protocolmessage.stringify(message) + '; connectionId = ' + this.connectionManager.connectionId);\n\t\t}\n\t\tthis.onActivity();\n\n\t\tswitch(message.action) {\n\t\tcase actions.HEARTBEAT:\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Transport.onProtocolMessage()', this.shortName + ' heartbeat; connectionId = ' + this.connectionManager.connectionId);\n\t\t\tthis.emit('heartbeat', message.id);\n\t\t\tbreak;\n\t\tcase actions.CONNECTED:\n\t\t\tthis.onConnect(message);\n\t\t\tthis.emit('connected', message.error, message.connectionId, message.connectionDetails, message);\n\t\t\tbreak;\n\t\tcase actions.CLOSED:\n\t\t\tthis.onClose(message);\n\t\t\tbreak;\n\t\tcase actions.DISCONNECTED:\n\t\t\tthis.onDisconnect(message);\n\t\t\tbreak;\n\t\tcase actions.ACK:\n\t\t\tthis.emit('ack', message.msgSerial, message.count);\n\t\t\tbreak;\n\t\tcase actions.NACK:\n\t\t\tthis.emit('nack', message.msgSerial, message.count, message.error);\n\t\t\tbreak;\n\t\tcase actions.SYNC:\n\t\t\tif(message.connectionId !== undefined) {\n\t\t\t\t/* a transport SYNC */\n\t\t\t\tthis.emit('sync', message.connectionId, message);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t/* otherwise it's a channel SYNC, so handle it in the channel */\n\t\t\tthis.connectionManager.onChannelMessage(message, this);\n\t\t\tbreak;\n\t\tcase actions.AUTH:\n\t\t\tthis.auth.authorize(function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Transport.onProtocolMessage()', 'Ably requested re-authentication, but unable to obtain a new token: ' + utils.inspectError(err));\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\t\tcase actions.ERROR:\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.onProtocolMessage()', 'received error action; connectionId = ' + this.connectionManager.connectionId + '; err = ' + utils.inspect(message.error) + (message.channel ? (', channel: ' +  message.channel) : ''));\n\t\t\tif(message.channel === undefined) {\n\t\t\t\tthis.onFatalError(message);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t/* otherwise it's a channel-specific error, so handle it in the channel */\n\t\t\tthis.connectionManager.onChannelMessage(message, this);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t/* all other actions are channel-specific */\n\t\t\tthis.connectionManager.onChannelMessage(message, this);\n\t\t}\n\t};\n\n\tTransport.prototype.onConnect = function(message) {\n\t\tthis.isConnected = true;\n\t\tvar maxPromisedIdle = message.connectionDetails.maxIdleInterval;\n\t\tif(maxPromisedIdle) {\n\t\t\tthis.maxIdleInterval = maxPromisedIdle + this.timeouts.realtimeRequestTimeout;\n\t\t\tthis.onActivity();\n\t\t}\n\t\t/* else Realtime declines to guarantee any maximum idle interval - CD2h */\n\t};\n\n\tTransport.prototype.onDisconnect = function(message) {\n\t\t/* Used for when the server has disconnected the client (usually with a\n\t\t * DISCONNECTED action) */\n\t\tvar err = message && message.error;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.onDisconnect()', 'err = ' + utils.inspectError(err));\n\t\tthis.finish('disconnected', err);\n\t};\n\n\tTransport.prototype.onFatalError = function(message) {\n\t\t/* On receipt of a fatal connection error, we can assume that the server\n\t\t * will close the connection and the transport, and do not need to request\n\t\t * a disconnection - RTN15i */\n\t\tvar err = message && message.error;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.onFatalError()', 'err = ' + utils.inspectError(err));\n\t\tthis.finish('failed', err);\n\t};\n\n\tTransport.prototype.onClose = function(message) {\n\t\tvar err = message && message.error;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.onClose()', 'err = ' + utils.inspectError(err));\n\t\tthis.finish('closed', err);\n\t};\n\n\tTransport.prototype.requestClose = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.requestClose()', '');\n\t\tthis.send(closeMessage);\n\t};\n\n\tTransport.prototype.requestDisconnect = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.requestDisconnect()', '');\n\t\tthis.send(disconnectMessage);\n\t};\n\n\tTransport.prototype.ping = function(id) {\n\t\tvar msg = {action: protocolmessage.Action.HEARTBEAT};\n\t\tif(id) msg.id = id;\n\t\tthis.send(protocolmessage.fromValues(msg));\n\t};\n\n\tTransport.prototype.dispose = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Transport.dispose()', '');\n\t\tthis.isDisposed = true;\n\t\tthis.off();\n\t};\n\n\tTransport.prototype.onActivity = function() {\n\t\tif(!this.maxIdleInterval) { return; }\n\t\tthis.lastActivity = this.connectionManager.lastActivity = utils.now();\n\t\tthis.setIdleTimer(this.maxIdleInterval + 100);\n\t};\n\n\tTransport.prototype.setIdleTimer = function(timeout) {\n\t\tvar self = this;\n\t\tif(!this.idleTimer) {\n\t\t\tthis.idleTimer = setTimeout(function() {\n\t\t\t\tself.onIdleTimerExpire();\n\t\t\t}, timeout);\n\t\t}\n\t};\n\n\tTransport.prototype.onIdleTimerExpire = function() {\n\t\tthis.idleTimer = null;\n\t\tvar sinceLast = utils.now() - this.lastActivity,\n\t\t\ttimeRemaining = this.maxIdleInterval - sinceLast;\n\t\tif(timeRemaining <= 0) {\n\t\t\tvar msg = 'No activity seen from realtime in ' + sinceLast + 'ms; assuming connection has dropped';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Transport.onIdleTimerExpire()', msg);\n\t\t\tthis.disconnect(new errorinfo(msg, 80003, 408));\n\t\t} else {\n\t\t\tthis.setIdleTimer(timeRemaining + 100);\n\t\t}\n\t};\n\n\tTransport.prototype.onAuthUpdated = function() {};\n\n\treturn Transport;\n})();\n\n/* harmony default export */ var transport_transport = (transport_Transport);\n\n// CONCATENATED MODULE: ./common/lib/transport/comettransport.js\n\n\n\n\n\n\n\n\n\nvar comettransport_CometTransport = (function() {\n\n\tvar REQ_SEND = 0,\n\t\tREQ_RECV = 1,\n\t\tREQ_RECV_POLL = 2,\n\t\tREQ_RECV_STREAM = 3;\n\n\t/* TODO: can remove once realtime sends protocol message responses for comet errors */\n\tfunction shouldBeErrorAction(err) {\n\t\tvar UNRESOLVABLE_ERROR_CODES = [80015, 80017, 80030];\n\t\tif(err.code) {\n\t\t\tif(client_auth.isTokenErr(err)) return false;\n\t\t\tif(utils.arrIn(UNRESOLVABLE_ERROR_CODES, err.code)) return true;\n\t\t\treturn (err.code >= 40000 && err.code < 50000);\n\t\t} else {\n\t\t\t/* Likely a network or transport error of some kind. Certainly not fatal to the connection */\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction protocolMessageFromRawError(err) {\n\t\t/* err will be either a legacy (non-protocolmessage) comet error response\n\t\t * (which will have an err.code), or a xhr/network error (which won't). */\n\t\tif(shouldBeErrorAction(err)) {\n\t\t\treturn [protocolmessage.fromValues({action: protocolmessage.Action.ERROR, error: err})];\n\t\t} else {\n\t\t\treturn [protocolmessage.fromValues({action: protocolmessage.Action.DISCONNECTED, error: err})];\n\t\t}\n\t}\n\n\t/*\n\t * A base comet transport class\n\t */\n\tfunction CometTransport(connectionManager, auth, params) {\n\t\t/* binary not supported for comet, so just fall back to default */\n\t\tparams.format = undefined;\n\t\tparams.heartbeats = true;\n\t\ttransport_transport.call(this, connectionManager, auth, params);\n\t\t/* streaming defaults to true */\n\t\tthis.stream = ('stream' in params) ? params.stream : true;\n\t\tthis.sendRequest = null;\n\t\tthis.recvRequest = null;\n\t\tthis.pendingCallback = null;\n\t\tthis.pendingItems = null;\n\t}\n\tutils.inherits(CometTransport, transport_transport);\n\n\tCometTransport.REQ_SEND = REQ_SEND;\n\tCometTransport.REQ_RECV = REQ_RECV;\n\tCometTransport.REQ_RECV_POLL = REQ_RECV_POLL;\n\tCometTransport.REQ_RECV_STREAM = REQ_RECV_STREAM;\n\n\t/* public instance methods */\n\tCometTransport.prototype.connect = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.connect()', 'starting');\n\t\ttransport_transport.prototype.connect.call(this);\n\t\tvar self = this, params = this.params, options = params.options;\n\t\tvar host = util_defaults.getHost(options, params.host);\n\t\tvar port = util_defaults.getPort(options);\n\t\tvar cometScheme = options.tls ? 'https://' : 'http://';\n\n\t\tthis.baseUri = cometScheme + host + ':' + port + '/comet/';\n\t\tvar connectUri = this.baseUri + 'connect';\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.connect()', 'uri: ' + connectUri);\n\t\tthis.auth.getAuthParams(function(err, authParams) {\n\t\t\tif(err) {\n\t\t\t\tself.disconnect(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(self.isDisposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.authParams = authParams;\n\t\t\tvar connectParams = self.params.getConnectParams(authParams);\n\t\t\tif('stream' in connectParams) self.stream = connectParams.stream;\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.connect()', 'connectParams:' + utils.toQueryString(connectParams));\n\n\t\t\t/* this will be the 'recvRequest' so this connection can stream messages */\n\t\t\tvar preconnected = false,\n\t\t\t\tconnectRequest = self.recvRequest = self.createRequest(connectUri, null, connectParams, null, (self.stream ? REQ_RECV_STREAM : REQ_RECV));\n\n\t\t\tconnectRequest.on('data', function(data) {\n\t\t\t\tif(!self.recvRequest) {\n\t\t\t\t\t/* the transport was disposed before we connected */\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!preconnected) {\n\t\t\t\t\tpreconnected = true;\n\t\t\t\t\tself.emit('preconnect');\n\t\t\t\t}\n\t\t\t\tself.onData(data);\n\t\t\t});\n\t\t\tconnectRequest.on('complete', function(err, _body, headers) {\n\t\t\t\tif(!self.recvRequest) {\n\t\t\t\t\t/* the transport was disposed before we connected */\n\t\t\t\t\terr = err || new errorinfo('Request cancelled', 80003, 400);\n\t\t\t\t}\n\t\t\t\tself.recvRequest = null;\n\t\t\t\t/* Connect request may complete without a emitting 'data' event since that is not\n\t\t\t\t * emitted for e.g. a non-streamed error response. Still implies preconnect. */\n\t\t\t\tif(!preconnected && !err) {\n\t\t\t\t\tpreconnected = true;\n\t\t\t\t\tself.emit('preconnect');\n\t\t\t\t}\n\t\t\t\tself.onActivity();\n\t\t\t\tif(err) {\n\t\t\t\t\tif(err.code) {\n\t\t\t\t\t\t/* A protocol error received from realtime. TODO: once realtime\n\t\t\t\t\t\t * consistendly sends errors wrapped in protocol messages, should be\n\t\t\t\t\t\t * able to remove this */\n\t\t\t\t\t\tself.onData(protocolMessageFromRawError(err));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* A network/xhr error. Don't bother wrapping in a protocol message,\n\t\t\t\t\t\t * just disconnect the transport */\n\t\t\t\t\t\tself.disconnect(err);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tutils.nextTick(function() {\n\t\t\t\t\tself.recv();\n\t\t\t\t});\n\t\t\t});\n\t\t\tconnectRequest.exec();\n\t\t});\n\t};\n\n\tCometTransport.prototype.requestClose = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.requestClose()');\n\t\tthis._requestCloseOrDisconnect(true);\n\t};\n\n\tCometTransport.prototype.requestDisconnect = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.requestDisconnect()');\n\t\tthis._requestCloseOrDisconnect(false);\n\t};\n\n\tCometTransport.prototype._requestCloseOrDisconnect = function(closing) {\n\t\tvar closeOrDisconnectUri = closing ? this.closeUri : this.disconnectUri;\n\t\tif(closeOrDisconnectUri) {\n\t\t\tvar self = this,\n\t\t\t\trequest = this.createRequest(closeOrDisconnectUri, null, this.authParams, null, REQ_SEND);\n\n\t\t\trequest.on('complete', function (err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'CometTransport.request' + (closing ? 'Close()' : 'Disconnect()'), 'request returned err = ' + utils.inspectError(err));\n\t\t\t\t\tself.finish('disconnected', err);\n\t\t\t\t}\n\t\t\t});\n\t\t\trequest.exec();\n\t\t}\n\t};\n\n\tCometTransport.prototype.dispose = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.dispose()', '');\n\t\tif(!this.isDisposed) {\n\t\t\tthis.isDisposed = true;\n\t\t\tif(this.recvRequest) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'CometTransport.dispose()', 'aborting recv request');\n\t\t\t\tthis.recvRequest.abort();\n\t\t\t\tthis.recvRequest = null;\n\t\t\t}\n\t\t\t/* In almost all cases the transport will be finished before it's\n\t\t\t * disposed. Finish here just to make sure. */\n\t\t\tthis.finish('disconnected', connectionerror.disconnected);\n\t\t\tvar self = this;\n\t\t\tutils.nextTick(function() {\n\t\t\t\tself.emit('disposed');\n\t\t\t});\n\t\t}\n\t};\n\n\tCometTransport.prototype.onConnect = function(message) {\n\t\t/* if this transport has been disposed whilst awaiting connection, do nothing */\n\t\tif(this.isDisposed) {\n\t\t\treturn;\n\t\t}\n\n\t\t/* the connectionKey in a comet connected response is really\n\t\t * <instId>-<connectionKey> */\n\t\tvar connectionStr = message.connectionKey;\n\t\ttransport_transport.prototype.onConnect.call(this, message);\n\n\t\tvar baseConnectionUri =  this.baseUri + connectionStr;\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'CometTransport.onConnect()', 'baseUri = ' + baseConnectionUri + '; connectionKey = ' + message.connectionKey);\n\t\tthis.sendUri = baseConnectionUri + '/send';\n\t\tthis.recvUri = baseConnectionUri + '/recv';\n\t\tthis.closeUri = baseConnectionUri + '/close';\n\t\tthis.disconnectUri = baseConnectionUri + '/disconnect';\n\t};\n\n\tCometTransport.prototype.send = function(message) {\n\t\tif(this.sendRequest) {\n\t\t\t/* there is a pending send, so queue this message */\n\t\t\tthis.pendingItems = this.pendingItems || [];\n\t\t\tthis.pendingItems.push(message);\n\t\t\treturn;\n\t\t}\n\t\t/* send this, plus any pending, now */\n\t\tvar pendingItems = this.pendingItems || [];\n\t\tpendingItems.push(message);\n\t\tthis.pendingItems = null;\n\n\t\tthis.sendItems(pendingItems);\n\t};\n\n\tCometTransport.prototype.sendAnyPending = function() {\n\t\tvar pendingItems = this.pendingItems;\n\n\t\tif(!pendingItems) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.pendingItems = null;\n\t\tthis.sendItems(pendingItems);\n\t}\n\n\tCometTransport.prototype.sendItems = function(items) {\n\t\tvar self = this,\n\t\t\tsendRequest = this.sendRequest = self.createRequest(self.sendUri, null, self.authParams, this.encodeRequest(items), REQ_SEND);\n\n\t\tsendRequest.on('complete', function(err, data) {\n\t\t\tif(err) util_logger.logAction(util_logger.LOG_ERROR, 'CometTransport.sendItems()', 'on complete: err = ' + utils.inspectError(err));\n\t\t\tself.sendRequest = null;\n\n\t\t\t/* the result of the request, even if a nack, is usually a protocol response\n\t\t\t * contained in the data. An err is anomolous, and indicates some issue with the\n\t\t\t * network,transport, or connection */\n\t\t\tif(err) {\n\t\t\t\tif(err.code) {\n\t\t\t\t\t/* A protocol error received from realtime. TODO: once realtime\n\t\t\t\t\t * consistendly sends errors wrapped in protocol messages, should be\n\t\t\t\t\t * able to remove this */\n\t\t\t\t\tself.onData(protocolMessageFromRawError(err));\n\t\t\t\t} else {\n\t\t\t\t\t/* A network/xhr error. Don't bother wrapping in a protocol message,\n\t\t\t\t\t * just disconnect the transport */\n\t\t\t\t\tself.disconnect(err);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(data) {\n\t\t\t\tself.onData(data);\n\t\t\t}\n\n\t\t\tif(self.pendingItems) {\n\t\t\t\tutils.nextTick(function() {\n\t\t\t\t\t/* If there's a new send request by now, any pending items will have\n\t\t\t\t\t * been picked up by that; any new ones added since then will be\n\t\t\t\t\t * picked up after that one completes */\n\t\t\t\t\tif(!self.sendRequest) {\n\t\t\t\t\t\tself.sendAnyPending();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tsendRequest.exec();\n\t};\n\n\tCometTransport.prototype.recv = function() {\n\t\t/* do nothing if there is an active request, which might be streaming */\n\t\tif(this.recvRequest)\n\t\t\treturn;\n\n\t\t/* If we're no longer connected, do nothing */\n\t\tif(!this.isConnected)\n\t\t\treturn;\n\n\t\tvar self = this,\n\t\t\trecvRequest = this.recvRequest = this.createRequest(this.recvUri, null, this.authParams, null, (self.stream ? REQ_RECV_STREAM : REQ_RECV_POLL));\n\n\t\trecvRequest.on('data', function(data) {\n\t\t\tself.onData(data);\n\t\t});\n\t\trecvRequest.on('complete', function(err) {\n\t\t\tself.recvRequest = null;\n\t\t\t/* A request completing must be considered activity, as realtime sends\n\t\t\t * heartbeats every 15s since a request began, not every 15s absolutely */\n\t\t\tself.onActivity();\n\t\t\tif(err) {\n\t\t\t\tif(err.code) {\n\t\t\t\t\t/* A protocol error received from realtime. TODO: once realtime\n\t\t\t\t\t * consistendly sends errors wrapped in protocol messages, should be\n\t\t\t\t\t * able to remove this */\n\t\t\t\t\tself.onData(protocolMessageFromRawError(err));\n\t\t\t\t} else {\n\t\t\t\t\t/* A network/xhr error. Don't bother wrapping in a protocol message,\n\t\t\t\t\t * just disconnect the transport */\n\t\t\t\t\tself.disconnect(err);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tutils.nextTick(function() {\n\t\t\t\tself.recv();\n\t\t\t});\n\t\t});\n\t\trecvRequest.exec();\n\t};\n\n\tCometTransport.prototype.onData = function(responseData) {\n\t\ttry {\n\t\t\tvar items = this.decodeResponse(responseData);\n\t\t\tif(items && items.length)\n\t\t\t\tfor(var i = 0; i < items.length; i++)\n\t\t\t\t\tthis.onProtocolMessage(protocolmessage.fromDeserialized(items[i]));\n\t\t} catch (e) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'CometTransport.onData()', 'Unexpected exception handing channel event: ' + e.stack);\n\t\t}\n\t};\n\n\tCometTransport.prototype.encodeRequest = function(requestItems) {\n\t\treturn JSON.stringify(requestItems);\n\t};\n\n\tCometTransport.prototype.decodeResponse = function(responseData) {\n\t\tif(typeof(responseData) == 'string')\n\t\t\tresponseData = JSON.parse(responseData);\n\t\treturn responseData;\n\t};\n\n\t/* For comet, we could do the auth update by aborting the current recv and\n\t * starting a new one with the new token, that'd be sufficient for realtime.\n\t * Problem is JSONP - you can't cancel truly abort a recv once started. So\n\t * we need to send an AUTH for jsonp. In which case it's simpler to keep all\n\t * comet transports the same and do it for all of them. So we send the AUTH\n\t * instead, and don't need to abort the recv */\n\tCometTransport.prototype.onAuthUpdated = function(tokenDetails) {\n\t\tthis.authParams = {access_token: tokenDetails.token};\n\t};\n\n\treturn CometTransport;\n})();\n\n/* harmony default export */ var comettransport = (comettransport_CometTransport);\n\n// CONCATENATED MODULE: ./nodejs/lib/transport/nodecomettransport.js\n\n\n\n\n\n\n\nvar nodecomettransport_NodeCometTransport = function(connectionManager) {\n\tvar http = __webpack_require__(5);\n\tvar https = __webpack_require__(6);\n\tvar url = __webpack_require__(25);\n\tvar util = __webpack_require__(3);\n\tvar noop = function(){};\n\tvar shortName = 'comet';\n\n\t/*\n\t * A transport to use with nodejs\n\t * to simulate an XHR transport for test purposes\n\t */\n\tfunction NodeCometTransport(connectionManager, auth, params) {\n\t\tcomettransport.call(this, connectionManager, auth, params);\n\t\tthis.httpAgent = null;\n\t\tthis.httpsAgent = null;\n\t\tthis.pendingRequests = 0;\n\t\tthis.shortName = shortName;\n\t}\n\tutil.inherits(NodeCometTransport, comettransport);\n\n\tNodeCometTransport.isAvailable = function() { return true; };\n\tconnectionManager.supportedTransports[shortName] = NodeCometTransport;\n\n\tNodeCometTransport.tryConnect = function(connectionManager, auth, params, callback) {\n\t\tvar transport = new NodeCometTransport(connectionManager, auth, params);\n\t\tvar errorCb = function(err) { callback({event: this.event, error: err}); };\n\t\ttransport.on(['failed', 'disconnected'], errorCb);\n\t\ttransport.on('preconnect', function() {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'NodeCometTransport.tryConnect()', 'viable transport ' + transport);\n\t\t\ttransport.off(['failed', 'disconnected'], errorCb);\n\t\t\tcallback(null, transport);\n\t\t});\n\t\ttransport.connect();\n\t};\n\n\tNodeCometTransport.prototype.toString = function() {\n\t\treturn 'NodeCometTransport; uri=' + this.baseUri + '; isConnected=' + this.isConnected + '; format=' + this.format + '; stream=' + this.stream;\n\t};\n\n\tNodeCometTransport.prototype.getAgent = function(tls) {\n\t\tvar prop = tls ? 'httpsAgent' : 'httpAgent',\n\t\t\tagent = this[prop];\n\n\t\tif(!agent)\n\t\t\tagent = this[prop] = new (tls ? https: http).Agent({ keepAlive: true });\n\n\t\treturn agent;\n\t};\n\n\tNodeCometTransport.prototype.dispose = function() {\n\t\tvar self = this;\n\t\tthis.onceNoPending(function() {\n\t\t\tif(self.httpAgent)\n\t\t\t\tself.httpAgent.destroy();\n\t\t\tif(self.httpsAgent)\n\t\t\t\tself.httpsAgent.destroy();\n\t\t});\n\t\tcomettransport.prototype.dispose.call(this);\n\t};\n\n\t/* valid in non-streaming mode only, or data only contains last update */\n\tNodeCometTransport.prototype.request = function(uri, params, body, requestMode, callback) {\n\t\tvar req = this.createRequest(uri, params, body, requestMode);\n\t\treq.once('complete', callback);\n\t\treq.exec();\n\t\treturn req;\n\t};\n\n\tNodeCometTransport.prototype.createRequest = function(uri, headers, params, body, requestMode) {\n\t\treturn new Request(uri, headers, params, body, requestMode, this.format, this.timeouts, this);\n\t};\n\n\tNodeCometTransport.prototype.addPending = function() {\n\t\t++this.pendingRequests;\n\t};\n\n\tNodeCometTransport.prototype.removePending = function() {\n\t\tif(--this.pendingRequests <= 0) {\n\t\t\tthis.emit('nopending');\n\t\t}\n\t};\n\n\tNodeCometTransport.prototype.onceNoPending = function(listener) {\n\t\tif(this.pendingRequests == 0) {\n\t\t\tlistener();\n\t\t\treturn;\n\t\t}\n\t\tthis.once('nopending', listener);\n\t};\n\n\tfunction Request(uri, headers, params, body, requestMode, format, timeouts, transport) {\n\t\teventemitter.call(this);\n\t\tif(typeof(uri) == 'string') uri = url.parse(uri);\n\t\tvar tls = (uri.protocol == 'https:');\n\t\tthis.client = tls ? https : http;\n\t\tthis.requestMode = requestMode;\n\t\tthis.timeouts = timeouts;\n\t\tthis.transport = transport;\n\t\tthis.requestComplete = false;\n\t\tthis.req = this.res = null;\n\n\t\tvar method = 'GET',\n\t\t\tcontentType = (format == 'msgpack') ? 'application/x-msgpack' : 'application/json';\n\n\t\theaders = headers ? utils.mixin({}, headers) : {};\n\t\theaders['accept'] = contentType;\n\n\t\tif(body) {\n\t\t\tmethod = 'POST';\n\t\t\tif(!Buffer.isBuffer(body)) {\n\t\t\t\tif(typeof(body) == 'object') body = JSON.stringify(body);\n\t\t\t\tbody = Buffer.from(body);\n\t\t\t}\n\t\t\tthis.body = body;\n\t\t\theaders['Content-Length'] = body.length;\n\t\t\theaders['Content-Type'] = contentType;\n\t\t}\n\t\tvar requestOptions = this.requestOptions = {\n\t\t\thostname: uri.hostname,\n\t\t\tport: uri.port,\n\t\t\tpath: uri.path + utils.toQueryString(params),\n\t\t\tmethod: method,\n\t\t\theaders: headers\n\t\t};\n\t\tif(transport)\n\t\t\trequestOptions.agent = transport.getAgent(tls);\n\t}\n\tutils.inherits(Request, eventemitter);\n\n\tRequest.prototype.exec = function() {\n\t\tvar timeout = (this.requestMode == comettransport.REQ_SEND) ? this.timeouts.httpRequestTimeout : this.timeouts.recvTimeout,\n\t\t\tself = this;\n\n\t\tvar timer = this.timer = setTimeout(function() { self.abort(); }, timeout),\n\t\t\treq = this.req = this.client.request(this.requestOptions);\n\n\t\treq.on('error', this.onReqError = function(err) {\n\t\t\terr = new errorinfo('Request error: ' + err.message, null, 400);\n\t\t\tclearTimeout(timer);\n\t\t\tself.timer = null;\n\t\t\tself.complete(err);\n\t\t});\n\n\t\treq.on('response', function(res) {\n\t\t\tclearTimeout(timer);\n\t\t\tself.timer = null;\n\n\t\t\tvar statusCode = res.statusCode;\n\t\t\tif(statusCode == 204) {\n\t\t\t\t/* cause the stream to flow, and thus end */\n\t\t\t\tres.resume();\n\t\t\t\tself.complete();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tres.on('error', self.onResError = function(err) {\n\t\t\t\terr = new errorinfo('Response error: ' + err.message, null, 400);\n\t\t\t\tself.complete(err);\n\t\t\t});\n\n\t\t\tself.res = res;\n\t\t\t/* responses with an non-success statusCode are never streamed */\n\t\t\tif(self.requestMode == comettransport.REQ_RECV_STREAM && statusCode < 400) {\n\t\t\t\tself.readStream();\n\t\t\t} else {\n\t\t\t\tself.readFully();\n\t\t\t}\n\t\t});\n\n\t\tif(this.transport)\n\t\t\tthis.transport.addPending();\n\n\t\treq.end(this.body);\n\t};\n\n\tRequest.prototype.readStream = function() {\n\t\tvar res = this.res,\n\t\t\theaders = res.headers,\n\t\t\tself = this;\n\n\t\t/* an array of text blocks to concatenate and parse once complete */\n\t\tthis.chunks = [];\n\t\tthis.streamComplete = false;\n\n\t\tfunction onChunk(chunk) {\n\t\t\ttry {\n\t\t\t\tchunk = JSON.parse(chunk);\n\t\t\t} catch(e) {\n\t\t\t\tvar msg = 'Malformed response body from server: ' + e.message;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'NodeCometTransport.Request.readStream()', msg);\n\t\t\t\tself.complete(new errorinfo(msg, null, 400));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.emit('data', chunk);\n\t\t}\n\n\t\tres.on('data', (this.ondata = function(data) {\n\t\t\tvar newChunks = String(data).split('\\n'),\n\t\t\t\tchunks = self.chunks;\n\n\t\t\tif(newChunks.length > 1 && chunks.length > 0) {\n\t\t\t\t/* there is a \\n in this chunk, so it completes the partial chunks we had */\n\t\t\t\tchunks.push(newChunks.shift());\n\t\t\t\tself.chunks = [];\n\t\t\t\tonChunk(chunks.join(''));\n\t\t\t}\n\n\t\t\t/* if the trailing chunk wasn't empty, it's a new fragment */\n\t\t\tvar trailingNewChunk = newChunks.pop();\n\t\t\tif(trailingNewChunk.length) {\n\t\t\t\tself.chunks.push(trailingNewChunk);\n\t\t\t}\n\n\t\t\t/* the remaining new chunks are complete */\n\t\t\tnewChunks.map(onChunk);\n\t\t}));\n\n\t\tres.on('end', function () {\n\t\t\tself.streamComplete = true;\n\t\t\tprocess.nextTick(function() {\n\t\t\t\tself.complete();\n\t\t\t});\n\t\t});\n\t};\n\n\tRequest.prototype.readFully = function() {\n\t\tvar res = this.res,\n\t\t\tchunks = [],\n\t\t\tself = this;\n\n\t\tres.on('data', function(chunk) {\n\t\t\tchunks.push(chunk);\n\t\t});\n\n\t\tres.on('end', function () {\n\t\t\tprocess.nextTick(function() {\n\t\t\t\tvar body = Buffer.concat(chunks),\n\t\t\t\t\tstatusCode = res.statusCode;\n\n\t\t\t\ttry {\n\t\t\t\t\tbody = JSON.parse(String(body));\n\t\t\t\t} catch(e) {\n\t\t\t\t\tvar msg = 'Malformed response body from server: ' + e.message;\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'NodeCometTransport.Request.readFully()', msg);\n\t\t\t\t\tself.complete(new errorinfo(msg, null, 400));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/* If response is an array, it's an array of protocol messages -- even if\n\t\t\t\t * is contains an error action (hence the nonsuccess statuscode), we can\n\t\t\t\t * consider the request to have succeeded, just pass it on to\n\t\t\t\t * onProtocolMessage to decide what to do */\n\t\t\t\tif(statusCode < 400 || utils.isArray(body)) {\n\t\t\t\t\tself.complete(null, body);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar err = body.error && errorinfo.fromValues(body.error);\n\t\t\t\tif(!err) {\n\t\t\t\t\terr = new errorinfo('Error response received from server: ' + statusCode + ', body was: ' + utils.inspect(body), null, statusCode);\n\t\t\t\t}\n\t\t\t\tself.complete(err);\n\t\t\t});\n\t\t});\n\t};\n\n\tRequest.prototype.complete = function(err, body) {\n\t\tif(!this.requestComplete) {\n\t\t\tthis.requestComplete = true;\n\t\t\tif(body)\n\t\t\t\tthis.emit('data', body);\n\t\t\tthis.emit('complete', err, body);\n\t\t\tif(err) {\n\t\t\t\t/* if there was an error mid-stream, ensure\n\t\t\t\t * we get no new data events from the stream */\n\t\t\t\tif(this.ondata && !this.streamComplete)\n\t\t\t\t\tif(this.ondata && this.res) this.res.removeListener('data', this.ondata);\n\t\t\t}\n\t\t\tif(this.transport) {\n\t\t\t\tthis.transport.removePending();\n\t\t\t}\n\t\t}\n\t};\n\n\tRequest.prototype.abort = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'NodeCometTransport.Request.abort()', '');\n\t\tvar timer = this.timer;\n\t\tif(timer) {\n\t\t\tclearTimeout(timer);\n\t\t\tthis.timer = null;\n\t\t}\n\t\tvar req = this.req;\n\t\tif(req) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'NodeCometTransport.Request.abort()', 'aborting request');\n\t\t\treq.removeListener('error', this.onReqError);\n\t\t\treq.on('error', noop);\n\t\t\treq.abort();\n\t\t\tthis.req = null;\n\t\t}\n\t\tthis.complete({statusCode: 400, code: 80003, message: 'Cancelled'})\n\t};\n\n\treturn NodeCometTransport;\n};\n\n/* harmony default export */ var nodecomettransport = (nodecomettransport_NodeCometTransport);\n\n// CONCATENATED MODULE: ./nodejs/lib/transport/index.js\n\n\n/* harmony default export */ var lib_transport = ([\n  nodecomettransport\n]);\n\n// CONCATENATED MODULE: ./common/lib/transport/websockettransport.js\n\n\n\n\n\n\n\n\nvar websockettransport_WebSocketTransport = function(connectionManager) {\n\tvar WebSocket = platform.WebSocket;\n\tvar shortName = 'web_socket';\n\n\t/* public constructor */\n\tfunction WebSocketTransport(connectionManager, auth, params) {\n\t\tthis.shortName = shortName;\n\t\t/* If is a browser, can't detect pings, so request protocol heartbeats */\n\t\tparams.heartbeats = platform.useProtocolHeartbeats;\n\t\ttransport_transport.call(this, connectionManager, auth, params);\n\t\tthis.wsHost = util_defaults.getHost(params.options, params.host, true);\n\t}\n\tutils.inherits(WebSocketTransport, transport_transport);\n\n\tWebSocketTransport.isAvailable = function() {\n\t\treturn !!WebSocket;\n\t};\n\n\tif(WebSocketTransport.isAvailable())\n\t\tconnectionManager.supportedTransports[shortName] = WebSocketTransport;\n\n\tWebSocketTransport.tryConnect = function(connectionManager, auth, params, callback) {\n\t\tvar transport = new WebSocketTransport(connectionManager, auth, params);\n\t\tvar errorCb = function(err) { callback({event: this.event, error: err}); };\n\t\ttransport.on(['failed', 'disconnected'], errorCb);\n\t\ttransport.on('wsopen', function() {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.tryConnect()', 'viable transport ' + transport);\n\t\t\ttransport.off(['failed', 'disconnected'], errorCb);\n\t\t\tcallback(null, transport);\n\t\t});\n\t\ttransport.connect();\n\t};\n\n\tWebSocketTransport.prototype.createWebSocket = function(uri, connectParams) {\n\t\tthis.uri = uri + utils.toQueryString(connectParams)\n\t\treturn new WebSocket(this.uri);\n\t};\n\n\tWebSocketTransport.prototype.toString = function() {\n\t\treturn 'WebSocketTransport; uri=' + this.uri;\n\t};\n\n\tWebSocketTransport.prototype.connect = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.connect()', 'starting');\n\t\ttransport_transport.prototype.connect.call(this);\n\t\tvar self = this, params = this.params, options = params.options;\n\t\tvar wsScheme = options.tls ? 'wss://' : 'ws://';\n\t\tvar wsUri = wsScheme + this.wsHost + ':' + util_defaults.getPort(options) + '/';\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.connect()', 'uri: ' + wsUri);\n\t\tthis.auth.getAuthParams(function(err, authParams) {\n\t\t\tif(self.isDisposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar paramStr = ''; for(var param in authParams) paramStr += ' ' + param + ': ' + authParams[param] + ';';\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.connect()', 'authParams:' + paramStr + ' err: ' + err);\n\t\t\tif(err) {\n\t\t\t\tself.disconnect(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar connectParams = params.getConnectParams(authParams);\n\t\t\ttry {\n\t\t\t\tvar wsConnection = self.wsConnection = self.createWebSocket(wsUri, connectParams);\n\t\t\t\twsConnection.binaryType = platform.binaryType;\n\t\t\t\twsConnection.onopen = function() { self.onWsOpen(); };\n\t\t\t\twsConnection.onclose = function(ev) { self.onWsClose(ev); };\n\t\t\t\twsConnection.onmessage = function(ev) { self.onWsData(ev.data); };\n\t\t\t\twsConnection.onerror = function(ev) { self.onWsError(ev); };\n\t\t\t\tif(wsConnection.on) {\n\t\t\t\t\t/* node; browsers currently don't have a general eventemitter and can't detect\n\t\t\t\t\t * pings. Also, no need to reply with a pong explicitly, ws lib handles that */\n\t\t\t\t\twsConnection.on('ping', function() { self.onActivity(); });\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'WebSocketTransport.connect()', 'Unexpected exception creating websocket: err = ' + (e.stack || e.message));\n\t\t\t\tself.disconnect(e);\n\t\t\t}\n\t\t});\n\t};\n\n\tWebSocketTransport.prototype.send = function(message) {\n\t\tvar wsConnection = this.wsConnection;\n\t\tif(!wsConnection) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'WebSocketTransport.send()', 'No socket connection');\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\twsConnection.send(protocolmessage.serialize(message, this.params.format));\n\t\t} catch (e) {\n\t\t\tvar msg = 'Exception from ws connection when trying to send: ' + utils.inspectError(e);\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'WebSocketTransport.send()', msg);\n\t\t\t/* Don't try to request a disconnect, that'll just involve sending data\n\t\t\t * down the websocket again. Just finish the transport. */\n\t\t\tthis.finish('disconnected', new errorinfo(msg, 50000, 500));\n\t\t}\n\t};\n\n\tWebSocketTransport.prototype.onWsData = function(data) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'WebSocketTransport.onWsData()', 'data received; length = ' + data.length + '; type = ' + typeof(data));\n\t\ttry {\n\t\t\tthis.onProtocolMessage(protocolmessage.deserialize(data, this.format));\n\t\t} catch (e) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'WebSocketTransport.onWsData()', 'Unexpected exception handing channel message: ' + e.stack);\n\t\t}\n\t};\n\n\tWebSocketTransport.prototype.onWsOpen = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.onWsOpen()', 'opened WebSocket');\n\t\tthis.emit('wsopen');\n\t};\n\n\tWebSocketTransport.prototype.onWsClose = function(ev) {\n\t\tvar wasClean, code, reason;\n\t\tif(typeof(ev) == 'object') {\n\t\t\t/* W3C spec-compatible */\n\t\t\twasClean = ev.wasClean;\n\t\t\tcode = ev.code;\n\t\t} else /*if(typeof(ev) == 'number')*/ {\n\t\t\t/* ws in node */\n\t\t\tcode = ev;\n\t\t\twasClean = (code == 1000);\n\t\t}\n\t\tdelete this.wsConnection;\n\t\tif(wasClean) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.onWsClose()', 'Cleanly closed WebSocket');\n\t\t\tvar err = new errorinfo('Websocket closed', 80003, 400);\n\t\t\tthis.finish('disconnected', err);\n\t\t} else {\n\t\t\tvar msg = 'Unclean disconnection of WebSocket ; code = ' + code,\n\t\t\t\terr = new errorinfo(msg, 80003, 400);\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.onWsClose()', msg);\n\t\t\tthis.finish('disconnected', err);\n\t\t}\n\t\tthis.emit('disposed');\n\t};\n\n\tWebSocketTransport.prototype.onWsError = function(err) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.onError()', 'Error from WebSocket: ' + err.message);\n\t\t/* Wait a tick before aborting: if the websocket was connected, this event\n\t\t * will be immediately followed by an onclose event with a close code. Allow\n\t\t * that to close it (so we see the close code) rather than anticipating it */\n\t\tvar self = this;\n\t\tutils.nextTick(function() {\n\t\t\tself.disconnect(err);\n\t\t});\n\t};\n\n\tWebSocketTransport.prototype.dispose = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'WebSocketTransport.dispose()', '');\n\t\tthis.isDisposed = true;\n\t\tvar wsConnection = this.wsConnection;\n\t\tif(wsConnection) {\n\t\t\t/* Ignore any messages that come through after dispose() is called but before\n\t\t\t * websocket is actually closed. (mostly would be harmless, but if it's a\n\t\t\t * CONNECTED, it'll re-tick isConnected and cause all sorts of havoc) */\n\t\t\twsConnection.onmessage = function() {};\n\t\t\tdelete this.wsConnection;\n\t\t\t/* defer until the next event loop cycle before closing the socket,\n\t\t\t * giving some implementations the opportunity to send any outstanding close message */\n\t\t\tutils.nextTick(function() {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'WebSocketTransport.dispose()', 'closing websocket');\n\t\t\t\twsConnection.close();\n\t\t\t});\n\t\t}\n\t};\n\n\treturn WebSocketTransport;\n};\n\n/* harmony default export */ var websockettransport = (websockettransport_WebSocketTransport);\n\n// CONCATENATED MODULE: ./common/lib/transport/connectionmanager.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar connectionmanager_ConnectionManager = (function() {\n\tvar haveWebStorage = !!(typeof(webstorage) !== 'undefined' && webstorage.get);\n\tvar haveSessionStorage = !!(typeof(webstorage) !== 'undefined' && webstorage.getSession);\n\tvar actions = protocolmessage.Action;\n\tvar PendingMessage = protocol.PendingMessage;\n\tvar noop = function() {};\n\tvar transportPreferenceOrder = util_defaults.transportPreferenceOrder;\n\tvar optimalTransport = transportPreferenceOrder[transportPreferenceOrder.length - 1];\n\tvar transportPreferenceName = 'ably-transport-preference';\n\n\tvar sessionRecoveryName = 'ably-connection-recovery';\n\tfunction getSessionRecoverData() {\n\t\treturn haveSessionStorage && webstorage.getSession(sessionRecoveryName);\n\t}\n\tfunction setSessionRecoverData(value) {\n\t\treturn haveSessionStorage && webstorage.setSession(sessionRecoveryName, value);\n\t}\n\tfunction clearSessionRecoverData() {\n\t\treturn haveSessionStorage && webstorage.removeSession(sessionRecoveryName);\n\t}\n\n\tfunction betterTransportThan(a, b) {\n\t\treturn utils.arrIndexOf(transportPreferenceOrder, a.shortName) >\n\t\t   utils.arrIndexOf(transportPreferenceOrder, b.shortName);\n\t}\n\n\tfunction TransportParams(options, host, mode, connectionKey) {\n\t\tthis.options = options;\n\t\tthis.host = host;\n\t\tthis.mode = mode;\n\t\tthis.connectionKey = connectionKey;\n\t\tthis.format = options.useBinaryProtocol ? 'msgpack' : 'json';\n\n\t\tthis.connectionSerial = undefined;\n\t\tthis.timeSerial = undefined;\n\t}\n\n\tTransportParams.prototype.getConnectParams = function(authParams) {\n\t\tvar params = authParams ? utils.copy(authParams) : {};\n\t\tvar options = this.options;\n\t\tswitch(this.mode) {\n\t\t\tcase 'upgrade':\n\t\t\t\tparams.upgrade = this.connectionKey;\n\t\t\t\tbreak;\n\t\t\tcase 'resume':\n\t\t\t\tparams.resume = this.connectionKey;\n\t\t\t\tif(this.timeSerial !== undefined) {\n\t\t\t\t\tparams.timeSerial = this.timeSerial;\n\t\t\t\t} else if(this.connectionSerial !== undefined) {\n\t\t\t\t\tparams.connectionSerial = this.connectionSerial;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'recover':\n\t\t\t\tvar match = options.recover.split(':');\n\t\t\t\tif(match) {\n\t\t\t\t\tparams.recover = match[0];\n\t\t\t\t\tvar recoverSerial = match[1];\n\t\t\t\t\tif(isNaN(recoverSerial)) {\n\t\t\t\t\t\tparams.timeSerial = recoverSerial;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.connectionSerial = recoverSerial;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t\tif(options.clientId !== undefined) {\n\t\t\tparams.clientId = options.clientId;\n\t\t}\n\t\tif(options.echoMessages === false) {\n\t\t\tparams.echo = 'false';\n\t\t}\n\t\tif(this.format !== undefined) {\n\t\t\tparams.format = this.format;\n\t\t}\n\t\tif(this.stream !== undefined) {\n\t\t\tparams.stream = this.stream;\n\t\t}\n\t\tif(this.heartbeats !== undefined) {\n\t\t\tparams.heartbeats = this.heartbeats;\n\t\t}\n\t\tparams.v = util_defaults.apiVersion;\n\t\tparams.agent = util_defaults.agent;\n\t\tif(options.transportParams !== undefined) {\n\t\t\tutils.mixin(params, options.transportParams);\n\t\t}\n\t\treturn params;\n\t};\n\n\tTransportParams.prototype.toString = function() {\n\t\tvar result = '[mode=' + this.mode;\n\t\tif(this.host) { result += (',host=' + this.host); }\n\t\tif(this.connectionKey) { result += (',connectionKey=' + this.connectionKey); }\n\t\tif(this.connectionSerial !== undefined) { result += (',connectionSerial=' + this.connectionSerial); }\n\t\tif(this.timeSerial) { result += (',timeSerial=' + this.timeSerial); }\n\t\tif(this.format) { result += (',format=' + this.format); }\n\t\tresult += ']';\n\n\t\treturn result;\n\t};\n\n\t/* public constructor */\n\tfunction ConnectionManager(realtime, options) {\n\t\teventemitter.call(this);\n\t\tthis.realtime = realtime;\n\t\tthis.options = options;\n\t\tvar timeouts = options.timeouts;\n\t\tvar self = this;\n\t\t/* connectingTimeout: leave preferenceConnectTimeout (~6s) to try the\n\t\t * preference transport, then realtimeRequestTimeout (~10s) to establish\n\t\t * the base transport in case that fails */\n\t\tvar connectingTimeout = timeouts.preferenceConnectTimeout + timeouts.realtimeRequestTimeout;\n\t\tthis.states = {\n\t\t\tinitialized:   {state: 'initialized',   terminal: false, queueEvents: true,  sendEvents: false, failState: 'disconnected'},\n\t\t\tconnecting:    {state: 'connecting',    terminal: false, queueEvents: true,  sendEvents: false, retryDelay: connectingTimeout, failState: 'disconnected'},\n\t\t\tconnected:     {state: 'connected',     terminal: false, queueEvents: false, sendEvents: true,  failState: 'disconnected'},\n\t\t\tsynchronizing: {state: 'connected',     terminal: false, queueEvents: true,  sendEvents: false, forceQueueEvents: true, failState: 'disconnected'},\n\t\t\tdisconnected:  {state: 'disconnected',  terminal: false, queueEvents: true,  sendEvents: false, retryDelay: timeouts.disconnectedRetryTimeout, failState: 'disconnected'},\n\t\t\tsuspended:     {state: 'suspended',     terminal: false, queueEvents: false, sendEvents: false, retryDelay: timeouts.suspendedRetryTimeout, failState: 'suspended'},\n\t\t\tclosing:       {state: 'closing',       terminal: false, queueEvents: false, sendEvents: false, retryDelay: timeouts.realtimeRequestTimeout, failState: 'closed'},\n\t\t\tclosed:        {state: 'closed',        terminal: true,  queueEvents: false, sendEvents: false, failState: 'closed'},\n\t\t\tfailed:        {state: 'failed',        terminal: true,  queueEvents: false, sendEvents: false, failState: 'failed'}\n\t\t};\n\t\tthis.state = this.states.initialized;\n\t\tthis.errorReason = null;\n\n\t\tthis.queuedMessages = new messagequeue();\n\t\tthis.msgSerial = 0;\n\t\tthis.connectionDetails = undefined;\n\t\tthis.connectionId = undefined;\n\t\tthis.connectionKey = undefined;\n\t\tthis.timeSerial = undefined;\n\t\tthis.connectionSerial = undefined;\n\t\tthis.connectionStateTtl = timeouts.connectionStateTtl;\n\t\tthis.maxIdleInterval = null;\n\n\t\tthis.transports = utils.intersect((options.transports || util_defaults.defaultTransports), ConnectionManager.supportedTransports);\n\t\t/* baseTransports selects the leftmost transport in the Defaults.baseTransportOrder list\n\t\t* that's both requested and supported. Normally this will be xhr_polling;\n\t\t* if xhr isn't supported it will be jsonp. If the user has forced a\n\t\t* transport, it'll just be that one. */\n\t\tthis.baseTransport = utils.intersect(util_defaults.baseTransportOrder, this.transports)[0];\n\t\tthis.upgradeTransports = utils.intersect(this.transports, util_defaults.upgradeTransports);\n\t\tthis.transportPreference = null;\n\n\t\tthis.httpHosts = util_defaults.getHosts(options);\n\t\tthis.activeProtocol = null;\n\t\tthis.proposedTransports = [];\n\t\tthis.pendingTransports = [];\n\t\tthis.host = null;\n\t\tthis.lastAutoReconnectAttempt = null;\n\t\tthis.lastActivity = null;\n\t\tthis.mostRecentMsg = null;\n\t\tthis.forceFallbackHost = false;\n\t\tthis.connectCounter = 0;\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Realtime.ConnectionManager()', 'started');\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Realtime.ConnectionManager()', 'requested transports = [' + (options.transports || util_defaults.defaultTransports) + ']');\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Realtime.ConnectionManager()', 'available transports = [' + this.transports + ']');\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'Realtime.ConnectionManager()', 'http hosts = [' + this.httpHosts + ']');\n\n\t\tif(!this.transports.length) {\n\t\t\tvar msg = 'no requested transports available';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'realtime.ConnectionManager()', msg);\n\t\t\tthrow new Error(msg);\n\t\t}\n\n\t\tvar addEventListener = platform.addEventListener;\n\t\tif(addEventListener) {\n\t\t\t/* intercept close event in browser to persist connection id if requested */\n\t\t\tif(haveSessionStorage && typeof options.recover === 'function') {\n\t\t\t\t/* Usually can't use bind as not supported in IE8, but IE doesn't support sessionStorage, so... */\n\t\t\t\taddEventListener('beforeunload', this.persistConnection.bind(this));\n\t\t\t}\n\n\t\t\tif(options.closeOnUnload === true) {\n\t\t\t\taddEventListener('beforeunload', function() {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MAJOR, 'Realtime.ConnectionManager()', 'beforeunload event has triggered the connection to close as closeOnUnload is true');\n\t\t\t\t\tself.requestState({state: 'closing'});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/* Listen for online and offline events */\n\t\t\taddEventListener('online', function() {\n\t\t\t\tif(self.state == self.states.disconnected || self.state == self.states.suspended) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager caught browser \u2018online\u2019 event', 'reattempting connection');\n\t\t\t\t\tself.requestState({state: 'connecting'});\n\t\t\t\t}\n\t\t\t});\n\t\t\taddEventListener('offline', function() {\n\t\t\t\tif(self.state == self.states.connected) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager caught browser \u2018offline\u2019 event', 'disconnecting active transport');\n\t\t\t\t\t// Not sufficient to just go to the 'disconnected' state, want to\n\t\t\t\t\t// force all transports to reattempt the connection. Will immediately\n\t\t\t\t\t// retry.\n\t\t\t\t\tself.disconnectAllTransports();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tutils.inherits(ConnectionManager, eventemitter);\n\n\t/*********************\n\t * transport management\n\t *********************/\n\n\tConnectionManager.supportedTransports = {};\n\n\twebsockettransport(ConnectionManager);\n\tutils.arrForEach(lib_transport, function (initFn) {\n\t\tinitFn(ConnectionManager);\n\t});\n\n\tConnectionManager.prototype.createTransportParams = function(host, mode) {\n\t\tvar params = new TransportParams(this.options, host, mode, this.connectionKey);\n\t\tif(this.timeSerial) {\n\t\t\tparams.timeSerial = this.timeSerial;\n\t\t} else if(this.connectionSerial !== undefined) {\n\t\t\tparams.connectionSerial = this.connectionSerial;\n\t\t}\n\t\treturn params;\n\t};\n\n\tConnectionManager.prototype.getTransportParams = function(callback) {\n\t\tvar self = this;\n\n\t\tfunction decideMode(modeCb) {\n\t\t\tif(self.connectionKey) {\n\t\t\t\tmodeCb('resume');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(typeof self.options.recover === 'string') {\n\t\t\t\tmodeCb('recover');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar recoverFn = self.options.recover,\n\t\t\t\tlastSessionData = getSessionRecoverData();\n\t\t\tif(lastSessionData && typeof(recoverFn) === 'function') {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.getTransportParams()', 'Calling clientOptions-provided recover function with last session data');\n\t\t\t\trecoverFn(lastSessionData, function(shouldRecover) {\n\t\t\t\t\tif(shouldRecover) {\n\t\t\t\t\t\tself.options.recover = lastSessionData.recoveryKey;\n\t\t\t\t\t\tmodeCb('recover');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmodeCb('clean');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmodeCb('clean');\n\t\t}\n\n\t\tdecideMode(function(mode) {\n\t\t\tvar transportParams = self.createTransportParams(null, mode);\n\t\t\tif(mode === 'recover') {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.getTransportParams()', 'Transport recovery mode = recover; recoveryKey = ' + self.options.recover);\n\t\t\t\tvar match = self.options.recover.split(':');\n\t\t\t\tif(match && match[2]) {\n\t\t\t\t\tself.msgSerial = match[2];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.getTransportParams()', 'Transport params = ' + transportParams.toString());\n\t\t\t}\n\t\t\tcallback(transportParams);\n\t\t});\n\t};\n\n\t/**\n\t * Attempt to connect using a given transport\n\t * @param transportParams\n\t * @param candidate, the transport to try\n\t * @param callback\n\t */\n\tConnectionManager.prototype.tryATransport = function(transportParams, candidate, callback) {\n\t\tvar self = this, host = transportParams.host;\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.tryATransport()', 'trying ' + candidate);\n\t\t(ConnectionManager.supportedTransports[candidate]).tryConnect(this, this.realtime.auth, transportParams, function(wrappedErr, transport) {\n\t\t\tvar state = self.state;\n\t\t\tif(state == self.states.closing || state == self.states.closed || state == self.states.failed) {\n\t\t\t\tif(transport) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.tryATransport()', 'connection ' + state.state + ' while we were attempting the transport; closing ' + transport);\n\t\t\t\t\ttransport.close();\n\t\t\t\t}\n\t\t\t\tcallback(true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(wrappedErr) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.tryATransport()', 'transport ' + candidate + ' ' + wrappedErr.event + ', err: ' + wrappedErr.error.toString());\n\n\t\t\t\t/* Comet transport onconnect token errors can be dealt with here.\n\t\t\t\t* Websocket ones only happen after the transport claims to be viable,\n\t\t\t\t* so are dealt with as non-onconnect token errors */\n\t\t\t\tif(client_auth.isTokenErr(wrappedErr.error) && !(self.errorReason && client_auth.isTokenErr(self.errorReason))) {\n\t\t\t\t\tself.errorReason = wrappedErr.error;\n\t\t\t\t\t/* re-get a token and try again */\n\t\t\t\t\tself.realtime.auth._forceNewToken(null, null, function(err) {\n\t\t\t\t\t\tif(err) {\n\t\t\t\t\t\t\tself.actOnErrorFromAuthorize(err);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.tryATransport(transportParams, candidate, callback);\n\t\t\t\t\t});\n\t\t\t\t} else if(wrappedErr.event === 'failed') {\n\t\t\t\t\t/* Error that's fatal to the connection */\n\t\t\t\t\tself.notifyState({state: 'failed', error: wrappedErr.error});\n\t\t\t\t\tcallback(true);\n\t\t\t\t} else if(wrappedErr.event === 'disconnected') {\n\t\t\t\t\tif(!connectionerror.isRetriable(wrappedErr.error)) {\n\t\t\t\t\t\t/* Error received from the server that does not call for trying a fallback host, eg a rate limit */\n\t\t\t\t\t\tself.notifyState({state: self.states.connecting.failState, error: wrappedErr.error});\n\t\t\t\t\t\tcallback(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/* Error with that transport only; continue trying other fallback hosts */\n\t\t\t\t\t\tcallback(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.tryATransport()', 'viable transport ' + candidate + '; setting pending');\n\t\t\tself.setTransportPending(transport, transportParams);\n\t\t\tcallback(null, transport);\n\t\t});\n\t};\n\n\n\t/**\n\t * Called when a transport is indicated to be viable, and the connectionmanager\n\t * expects to activate this transport as soon as it is connected.\n\t * @param host\n\t * @param transportParams\n\t */\n\tConnectionManager.prototype.setTransportPending = function(transport, transportParams) {\n\t\tvar mode = transportParams.mode;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.setTransportPending()', 'transport = ' + transport + '; mode = ' + mode);\n\n\t\tutils.arrDeleteValue(this.proposedTransports, transport);\n\t\tthis.pendingTransports.push(transport);\n\n\t\tvar self = this;\n\t\ttransport.once('connected', function(error, connectionId, connectionDetails, connectionPosition) {\n\t\t\tif(mode == 'upgrade' && self.activeProtocol) {\n\t\t\t\t/*  if ws and xhrs are connecting in parallel, delay xhrs activation to let ws go ahead */\n\t\t\t\tif(transport.shortName !== optimalTransport && utils.arrIn(self.getUpgradePossibilities(), optimalTransport)) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.scheduleTransportActivation(error, transport, connectionId, connectionDetails, connectionPosition);\n\t\t\t\t\t}, self.options.timeouts.parallelUpgradeDelay);\n\t\t\t\t} else {\n\t\t\t\t\tself.scheduleTransportActivation(error, transport, connectionId, connectionDetails, connectionPosition);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.activateTransport(error, transport, connectionId, connectionDetails, connectionPosition);\n\n\t\t\t\t/* allow connectImpl to start the upgrade process if needed, but allow\n\t\t\t\t * other event handlers, including activating the transport, to run first */\n\t\t\t\tutils.nextTick(function() {\n\t\t\t\t\tself.connectImpl(transportParams);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(mode === 'recover' && self.options.recover) {\n\t\t\t\t/* After a successful recovery, we unpersist, as a recovery key cannot\n\t\t\t\t* be used more than once */\n\t\t\t\tself.options.recover = null;\n\t\t\t\tself.unpersistConnection();\n\t\t\t}\n\t\t});\n\n\t\ttransport.on(['disconnected', 'closed', 'failed'], function(error) {\n\t\t\tself.deactivateTransport(transport, this.event, error);\n\t\t});\n\n\t\tthis.emit('transport.pending', transport);\n\t};\n\n\t/**\n\t * Called when an upgrade transport is connected,\n\t * to schedule the activation of that transport.\n\t * @param error\n\t * @param transport\n\t * @param connectionId\n\t * @param connectionDetails\n\t * @param connectedMessage\n\t */\n\tConnectionManager.prototype.scheduleTransportActivation = function(error, transport, connectionId, connectionDetails, upgradeConnectionPosition) {\n\t\tvar self = this,\n\t\t\tcurrentTransport = this.activeProtocol && this.activeProtocol.getTransport(),\n\t\t\tabandon = function() {\n\t\t\t\ttransport.disconnect();\n\t\t\t\tutils.arrDeleteValue(self.pendingTransports, transport);\n\t\t\t};\n\n\t\tif(this.state !== this.states.connected && this.state !== this.states.connecting) {\n\t\t\t/* This is most likely to happen for the delayed xhrs, when xhrs and ws are scheduled in parallel*/\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Current connection state (' + this.state.state + (this.state === this.states.synchronizing ? ', but with an upgrade already in progress' : '') + ') is not valid to upgrade in; abandoning upgrade to ' + transport.shortName);\n\t\t\tabandon();\n\t\t\treturn;\n\t\t}\n\n\t\tif(currentTransport && !betterTransportThan(transport, currentTransport)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Proposed transport ' + transport.shortName + ' is no better than current active transport ' + currentTransport.shortName + ' - abandoning upgrade');\n\t\t\tabandon();\n\t\t\treturn;\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Scheduling transport upgrade; transport = ' + transport);\n\n\t\tthis.realtime.channels.onceNopending(function(err) {\n\t\t\tvar oldProtocol;\n\t\t\tif(err) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.scheduleTransportActivation()', 'Unable to activate transport; transport = ' + transport + '; err = ' + err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!transport.isConnected) {\n\t\t\t\t/* This is only possible if the xhr streaming transport was disconnected during the parallelUpgradeDelay */\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Proposed transport ' + transport.shortName + 'is no longer connected; abandoning upgrade');\n\t\t\t\tabandon();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(self.state === self.states.connected) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.scheduleTransportActivation()', 'Currently connected, so temporarily pausing events until the upgrade is complete');\n\t\t\t\tself.state = self.states.synchronizing;\n\t\t\t\toldProtocol = self.activeProtocol;\n\t\t\t} else if(self.state !== self.states.connecting) {\n\t\t\t\t/* Note: upgrading from the connecting state is valid if the old active\n\t\t\t\t* transport was deactivated after the upgrade transport first connected;\n\t\t\t\t* see logic in deactivateTransport */\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Current connection state (' + self.state.state + (self.state === self.states.synchronizing ? ', but with an upgrade already in progress' : '') + ') is not valid to upgrade in; abandoning upgrade to ' + transport.shortName);\n\t\t\t\tabandon();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* If the connectionId has changed, the upgrade hasn't worked. But as\n\t\t\t* it's still an upgrade, realtime still expects a sync - it just needs to\n\t\t\t* be a sync with the new connection position. (And it\n\t\t\t* needs to be set in the library, which is done by activateTransport). */\n\t\t\tvar connectionReset = connectionId !== self.connectionId,\n\t\t\t\tsyncPosition = connectionReset ? upgradeConnectionPosition : self;\n\n\t\t\tif(connectionReset) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.scheduleTransportActivation()', 'Upgrade resulted in new connectionId; resetting library connection position from ' + (self.timeSerial || self.connectionSerial) + ' to ' + (syncPosition.timeSerial || syncPosition.connectionSerial) + '; upgrade error was ' + error);\n\t\t\t}\n\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Syncing transport; transport = ' + transport);\n\t\t\tself.sync(transport, syncPosition, function(syncErr, connectionId, postSyncPosition) {\n\t\t\t\t/* If there's been some problem with syncing (and the connection hasn't\n\t\t\t\t * closed or something in the meantime), we have a problem -- we can't\n\t\t\t\t * just fall back on the old transport, as we don't know whether\n\t\t\t\t * realtime got the sync -- if it did, the old transport is no longer\n\t\t\t\t * valid. To be safe, we disconnect both and start again from scratch. */\n\t\t\t\tif(syncErr) {\n\t\t\t\t\tif(self.state === self.states.synchronizing) {\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.scheduleTransportActivation()', 'Unexpected error attempting to sync transport; transport = ' + transport + '; err = ' + syncErr);\n\t\t\t\t\t\tself.disconnectAllTransports();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar finishUpgrade = function() {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Activating transport; transport = ' + transport);\n\t\t\t\t\tself.activateTransport(error, transport, connectionId, connectionDetails, postSyncPosition);\n\t\t\t\t\t/* Restore pre-sync state. If state has changed in the meantime,\n\t\t\t\t\t * don't touch it -- since the websocket transport waits a tick before\n\t\t\t\t\t * disposing itself, it's possible for it to have happily synced\n\t\t\t\t\t * without err while, unknown to it, the connection has closed in the\n\t\t\t\t\t * meantime and the ws transport is scheduled for death */\n\t\t\t\t\tif(self.state === self.states.synchronizing) {\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.scheduleTransportActivation()', 'Pre-upgrade protocol idle, sending queued messages on upgraded transport; transport = ' + transport);\n\t\t\t\t\t\tself.state = self.states.connected;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.scheduleTransportActivation()', 'Pre-upgrade protocol idle, but state is now ' + self.state.state + ', so leaving unchanged');\n\t\t\t\t\t}\n\t\t\t\t\tif(self.state.sendEvents) {\n\t\t\t\t\t\tself.sendQueuedMessages();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/* Wait until sync is done and old transport is idle before activating new transport. This\n\t\t\t\t * guarantees that messages arrive at realtime in the same order they are sent.\n\t\t\t\t *\n\t\t\t\t * If a message times out on the old transport, since it's still the active transport the\n\t\t\t\t * message will be requeued. deactivateTransport will see the pending transport and notify\n\t\t\t\t * the `connecting` state without starting a new connection, so the new transport can take\n\t\t\t\t * over once deactivateTransport clears the old protocol's queue.\n\t\t\t\t *\n\t\t\t\t * If there is no old protocol, that meant that we weren't in the connected state at the\n\t\t\t\t * beginning of the sync - likely the base transport died just before the sync. So can just\n\t\t\t\t * finish the upgrade. If we're actually in closing/failed rather than connecting, that's\n\t\t\t\t * fine, activatetransport will deal with that. */\n\t\t\t\tif(oldProtocol) {\n\t\t\t\t /* Most of the time this will be already true: the new-transport sync will have given\n\t\t\t\t * enough time for in-flight messages on the old transport to complete. */\n\t\t\t\t\toldProtocol.onceIdle(finishUpgrade);\n\t\t\t\t} else {\n\t\t\t\t\tfinishUpgrade();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Called when a transport is connected, and the connectionmanager decides that\n\t * it will now be the active transport. Returns whether or not it activated\n\t * the transport (if the connection is closing/closed it will choose not to).\n\t * @param transport the transport instance\n\t * @param connectionId the id of the new active connection\n\t * @param connectionDetails the details of the new active connection\n\t * @param connectionPosition the position at the point activation; either {connectionSerial: <serial>} or {timeSerial: <serial>}\n\t */\n\tConnectionManager.prototype.activateTransport = function(error, transport, connectionId, connectionDetails, connectionPosition) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.activateTransport()', 'transport = ' + transport);\n\t\tif(error) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.activateTransport()', 'error = ' + error);\n\t\t}\n\t\tif(connectionId) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.activateTransport()', 'connectionId =  ' + connectionId);\n\t\t}\n\t\tif(connectionDetails) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.activateTransport()', 'connectionDetails =  ' + JSON.stringify(connectionDetails));\n\t\t}\n\t\tif(connectionPosition) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.activateTransport()', 'serial =  ' + (connectionPosition.timeSerial || connectionPosition.connectionSerial));\n\t\t}\n\n\t\tthis.persistTransportPreference(transport);\n\n\t\t/* if the connectionmanager moved to the closing/closed state before this\n\t\t * connection event, then we won't activate this transport */\n\t\tvar existingState = this.state,\n\t\t\tconnectedState = this.states.connected.state;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.activateTransport()', 'current state = ' + existingState.state);\n\t\tif(existingState.state == this.states.closing.state || existingState.state == this.states.closed.state || existingState.state == this.states.failed.state) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.activateTransport()', 'Disconnecting transport and abandoning');\n\t\t\ttransport.disconnect();\n\t\t\treturn false;\n\t\t}\n\n\t\t/* remove this transport from pending transports */\n\t\tutils.arrDeleteValue(this.pendingTransports, transport);\n\n\t\t/* if the transport is not connected (eg because it failed during a\n\t\t * scheduleTransportActivation#onceNoPending wait) then don't activate it */\n\t\tif(!transport.isConnected) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.activateTransport()', 'Declining to activate transport ' + transport + ' since it appears to no longer be connected');\n\t\t\treturn false;\n\t\t}\n\n\t\t/* the given transport is connected; this will immediately\n\t\t * take over as the active transport */\n\t\tvar existingActiveProtocol = this.activeProtocol;\n\t\tthis.activeProtocol = new protocol(transport);\n\t\tthis.host = transport.params.host;\n\n\t\tvar connectionKey = connectionDetails.connectionKey;\n\t\tif(connectionKey && this.connectionKey != connectionKey)  {\n\t\t\tthis.setConnection(connectionId, connectionDetails, connectionPosition, !!error);\n\t\t}\n\n\t\t/* Rebroadcast any new connectionDetails from the active transport, which\n\t\t * can come at any time (eg following a reauth), and emit an RTN24 UPDATE\n\t\t * event. (Listener added on nextTick because we're in a transport.on('connected')\n\t\t * callback at the moment; if we add it now we'll be adding it to the end\n\t\t * of the listeners array and it'll be called immediately) */\n\t\tthis.onConnectionDetailsUpdate(connectionDetails, transport);\n\t\tvar self = this;\n\t\tutils.nextTick(function() {\n\t\t\ttransport.on('connected', function(connectedErr, _connectionId, connectionDetails) {\n\t\t\t\tself.onConnectionDetailsUpdate(connectionDetails, transport);\n\t\t\t\tself.emit('update', new connectionstatechange(connectedState, connectedState, null, connectedErr));\n\t\t\t});\n\t\t})\n\n\t\t/* If previously not connected, notify the state change (including any\n\t\t * error). */\n\t\tif(existingState.state === this.states.connected.state) {\n\t\t\tif(error) {\n\t\t\t\t/* if upgrading without error, leave any existing errorReason alone */\n\t\t\t\tthis.errorReason = this.realtime.connection.errorReason = error;\n\t\t\t\t/* Only bother emitting an upgrade if there's an error; otherwise it's\n\t\t\t\t * just a transport upgrade, so auth details won't have changed */\n\t\t\t\tthis.emit('update', new connectionstatechange(connectedState, connectedState, null, error));\n\t\t\t}\n\t\t} else {\n\t\t\tthis.notifyState({state: 'connected', error: error});\n\t\t\tthis.errorReason = this.realtime.connection.errorReason = error || null;\n\t\t}\n\n\t\t/* Send after the connection state update, as Channels hooks into this to\n\t\t * resend attaches on a new transport if necessary */\n\t\tthis.emit('transport.active', transport);\n\n\t\t/* Gracefully terminate existing protocol */\n\t\tif(existingActiveProtocol) {\n\t\t\tif(existingActiveProtocol.messageQueue.count() > 0) {\n\t\t\t\t/* We could just requeue pending messages on the new transport, but\n\t\t\t\t * actually this should never happen: transports should only take over\n\t\t\t\t * from other active transports when upgrading, and upgrading waits for\n\t\t\t\t * the old transport to be idle. So log an error. */\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.activateTransport()', 'Previous active protocol (for transport ' + existingActiveProtocol.transport.shortName + ', new one is ' + transport.shortName + ') finishing with ' + existingActiveProtocol.messageQueue.count() + ' messages still pending');\n\t\t\t}\n\t\t\tif(existingActiveProtocol.transport === transport) {\n\t\t\t\tvar msg = 'Assumption violated: activating a transport that was also the transport for the previous active protocol; transport = ' + transport.shortName + '; stack = ' + new Error().stack;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.activateTransport()', msg);\n\t\t\t\terrorreporter.report('error', msg, 'transport-previously-active');\n\t\t\t} else {\n\t\t\t\texistingActiveProtocol.finish();\n\t\t\t}\n\t\t}\n\n\t\t/* Terminate any other pending transport(s), and\n\t\t * abort any not-yet-pending transport attempts */\n\t\tutils.safeArrForEach(this.pendingTransports, function(pendingTransport) {\n\t\t\tif(pendingTransport === transport) {\n\t\t\t\tvar msg = 'Assumption violated: activating a transport that is still marked as a pending transport; transport = ' + transport.shortName + '; stack = ' + new Error().stack;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.activateTransport()', msg);\n\t\t\t\terrorreporter.report('error', msg, 'transport-activating-pending');\n\t\t\t\tutils.arrDeleteValue(self.pendingTransports, transport);\n\t\t\t} else {\n\t\t\t\tpendingTransport.disconnect();\n\t\t\t}\n\t\t});\n\t\tutils.safeArrForEach(this.proposedTransports, function(proposedTransport) {\n\t\t\tif(proposedTransport === transport) {\n\t\t\t\tvar msg = 'Assumption violated: activating a transport that is still marked as a proposed transport; transport = ' + transport.shortName + '; stack = ' + new Error().stack;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.activateTransport()', msg);\n\t\t\t\terrorreporter.report('error', msg, 'transport-activating-proposed');\n\t\t\t\tutils.arrDeleteValue(self.proposedTransports, transport);\n\t\t\t} else {\n\t\t\t\tproposedTransport.dispose();\n\t\t\t}\n\t\t});\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Called when a transport is no longer the active transport. This can occur\n\t * in any transport connection state.\n\t * @param transport\n\t */\n\tConnectionManager.prototype.deactivateTransport = function(transport, state, error) {\n\t\tvar currentProtocol = this.activeProtocol,\n\t\t\twasActive = currentProtocol && currentProtocol.getTransport() === transport,\n\t\t\twasPending = utils.arrDeleteValue(this.pendingTransports, transport),\n\t\t\twasProposed = utils.arrDeleteValue(this.proposedTransports, transport),\n\t\t\tnoTransportsScheduledForActivation = this.noTransportsScheduledForActivation();\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.deactivateTransport()', 'transport = ' + transport);\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.deactivateTransport()', 'state = ' + state + (wasActive ? '; was active' : wasPending ? '; was pending' : wasProposed ? '; was proposed' : '') + (noTransportsScheduledForActivation ? '' : '; another transport is scheduled for activation'));\n\t\tif(error && error.message)\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.deactivateTransport()', 'reason =  ' + error.message);\n\n\t\tif(wasActive) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.deactivateTransport()', 'Getting, clearing, and requeuing ' + this.activeProtocol.messageQueue.count() + ' pending messages');\n\t\t\tthis.queuePendingMessages(currentProtocol.getPendingMessages());\n\t\t\t/* Clear any messages we requeue to allow the protocol to become idle.\n\t\t\t * In case of an upgrade, this will trigger an immediate activation of\n\t\t\t * the upgrade transport, so delay a tick so this transport can finish\n\t\t\t * deactivating */\n\t\t\tutils.nextTick(function() {\n\t\t\t\tcurrentProtocol.clearPendingMessages();\n\t\t\t});\n\t\t\tthis.activeProtocol = this.host = null;\n\t\t\tclearTimeout(this.channelResumeCheckTimer);\n\t\t}\n\n\t\tthis.emit('transport.inactive', transport);\n\n\t\t/* this transport state change is a state change for the connectionmanager if\n\t\t * - the transport was the active transport and there are no transports\n\t\t *   which are connected and scheduled for activation, just waiting for the\n\t\t *   active transport to finish what its doing; or\n\t\t * - the transport was the active transport and the error was fatal (so\n\t\t *   unhealable by another transport); or\n\t\t * - there is no active transport, and this is the last remaining\n\t\t *   pending transport (so we were in the connecting state)\n\t\t */\n\t\tif((wasActive && noTransportsScheduledForActivation) ||\n\t\t\t(wasActive && (state === 'failed') || (state === 'closed')) ||\n\t\t\t(currentProtocol === null && wasPending && this.pendingTransports.length === 0)) {\n\n\t\t\t/* If we're disconnected with a 5xx we need to try fallback hosts\n\t\t\t * (RTN14d), but (a) due to how the upgrade sequence works, the\n\t\t\t * host/transport selection sequence only cares about getting to\n\t\t\t * `preconnect` (eg establishing a websocket) getting a `disconnected`\n\t\t\t * protocol message afterwards is too late; and (b) host retry only\n\t\t\t * applies to connectBase unless the stored preference transport doesn't\n\t\t\t * work. We solve this by unpersisting the transport preference and\n\t\t\t * setting an instance variable to force fallback hosts to be used (if\n\t\t\t * any) here. Bit of a kludge, but no real better alternatives without\n\t\t\t * rewriting the entire thing */\n\t\t\tif(state === 'disconnected' && error && error.statusCode > 500 && this.httpHosts.length > 1) {\n\t\t\t\tthis.unpersistTransportPreference();\n\t\t\t\tthis.forceFallbackHost = true;\n\t\t\t\t/* and try to connect again to try a fallback host without waiting for the usual 15s disconnectedRetryTimeout */\n\t\t\t\tthis.notifyState({state: state, error: error, retryImmediately: true});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* TODO remove below line once realtime sends token errors as DISCONNECTEDs */\n\t\t\tvar newConnectionState = (state === 'failed' && client_auth.isTokenErr(error)) ? 'disconnected' : state;\n\t\t\tthis.notifyState({state: newConnectionState, error: error});\n\t\t\treturn;\n\t\t}\n\n\t\tif(wasActive && (state === 'disconnected') && (this.state !== this.states.synchronizing)) {\n\t\t\t/* If we were active but there is another transport scheduled for\n\t\t\t* activation, go into to the connecting state until that transport\n\t\t\t* activates and sets us back to connected. (manually starting the\n\t\t\t* transition timers in case that never happens). (If we were in the\n\t\t\t* synchronizing state, then that's fine, the old transport just got its\n\t\t\t* disconnected before the new one got the sync -- ignore it and keep\n\t\t\t* waiting for the sync. If it fails we have a separate sync timer that\n\t\t\t* will expire). */\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.deactivateTransport()', 'wasActive but another transport is connected and scheduled for activation, so going into the connecting state until it activates');\n\t\t\tthis.startSuspendTimer();\n\t\t\tthis.startTransitionTimer(this.states.connecting);\n\t\t\tthis.notifyState({state: 'connecting', error: error});\n\t\t}\n\t};\n\n\t/* Helper that returns true if there are no transports which are pending,\n\t* have been connected, and are just waiting for onceNoPending to fire before\n\t* being activated */\n\tConnectionManager.prototype.noTransportsScheduledForActivation = function() {\n\t\treturn utils.isEmpty(this.pendingTransports) ||\n\t\t\tthis.pendingTransports.every(function(transport) {\n\t\t\t\treturn !transport.isConnected;\n\t\t\t});\n\t};\n\n\t/**\n\t * Called when activating a new transport, to ensure message delivery\n\t * on the new transport synchronises with the messages already received\n\t */\n\tConnectionManager.prototype.sync = function(transport, requestedSyncPosition, callback) {\n\t\tvar timeout = setTimeout(function () {\n\t\t\ttransport.off('sync');\n\t\t\tcallback(new errorinfo('Timeout waiting for sync response', 50000, 500));\n\t\t}, this.options.timeouts.realtimeRequestTimeout);\n\n\t\t/* send sync request */\n\t\tvar syncMessage = protocolmessage.fromValues({\n\t\t\taction: actions.SYNC,\n\t\t\tconnectionKey: this.connectionKey\n\t\t});\n\n\t\tif(requestedSyncPosition.timeSerial) {\n\t\t\tsyncMessage.timeSerial = requestedSyncPosition.timeSerial;\n\t\t} else if(requestedSyncPosition.connectionSerial !== undefined) {\n\t\t\tsyncMessage.connectionSerial = requestedSyncPosition.connectionSerial;\n\t\t}\n\t\ttransport.send(syncMessage);\n\n\t\ttransport.once('sync', function(connectionId, syncPosition) {\n\t\t\tclearTimeout(timeout);\n\t\t\tcallback(null, connectionId, syncPosition);\n\t\t});\n\t};\n\n\tConnectionManager.prototype.setConnection = function(connectionId, connectionDetails, connectionPosition, hasConnectionError) {\n\t\t/* if connectionKey changes but connectionId stays the same, then just a\n\t\t * transport change on the same connection. If connectionId changes, we're\n\t\t * on a new connection, with implications for msgSerial and channel state,\n\t\t * and resetting the connectionSerial position */\n\t\tvar self = this;\n\t\t/* If no previous connectionId, don't reset the msgSerial as it may have\n\t\t * been set by recover data (unless the recover failed) */\n\t\tvar prevConnId = this.connectionid,\n\t\t\tconnIdChanged = prevConnId && (prevConnId !== connectionId),\n\t\t\trecoverFailure = !prevConnId && hasConnectionError;\n\t\tif(connIdChanged || recoverFailure)  {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.setConnection()', 'Resetting msgSerial');\n\t\t\tthis.msgSerial = 0;\n\t\t}\n\t\t/* but do need to reattach channels, for channels that were previously in\n\t\t * the attached state even though the connection mode was 'clean' due to a\n\t\t * freshness check - see https://github.com/ably/ably-js/issues/394 */\n\t\tif(this.connectionId !== connectionId)  {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.setConnection()', 'New connectionId; reattaching any attached channels');\n\t\t\t/* Wait till next tick before reattaching channels, so that connection\n\t\t\t * state will be updated and so that it will be applied after\n\t\t\t * Channels#onTransportUpdate, else channels will not have an ATTACHED\n\t\t\t * sent twice (once from this and once from that). */\n\t\t\tutils.nextTick(function() {\n\t\t\t\tself.realtime.channels.reattach();\n\t\t\t});\n\t\t} else if(this.options.checkChannelsOnResume) {\n\t\t\t/* For attached channels, set the attached msg indicator variable to false,\n\t\t\t * wait 30s, and check we got an attached for each one.\n\t\t\t * 30s was chosen to be 5s longer than the transport idle timeout expire\n\t\t\t * time, in an attempt to avoid false positives due to a transport\n\t\t\t * silently failing immediately after a resume */\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.setConnection()', 'Same connectionId; checkChannelsOnResume is enabled');\n\t\t\tclearTimeout(this.channelResumeCheckTimer);\n\t\t\tthis.realtime.channels.resetAttachedMsgIndicators();\n\t\t\tthis.channelResumeCheckTimer = setTimeout(function() {\n\t\t\t\tself.realtime.channels.checkAttachedMsgIndicators(connectionId);\n\t\t\t}, 30000);\n\t\t}\n\t\tthis.realtime.connection.id = this.connectionId = connectionId;\n\t\tthis.realtime.connection.key = this.connectionKey = connectionDetails.connectionKey;\n\t\tvar forceResetMessageSerial = connIdChanged || !prevConnId;\n\t\tthis.setConnectionSerial(connectionPosition, forceResetMessageSerial);\n\t};\n\n\tConnectionManager.prototype.clearConnection = function() {\n\t\tthis.realtime.connection.id = this.connectionId = undefined;\n\t\tthis.realtime.connection.key = this.connectionKey = undefined;\n\t\tthis.clearConnectionSerial();\n\t\tthis.msgSerial = 0;\n\t\tthis.unpersistConnection();\n\t};\n\n\t/* force: set the connectionSerial even if it's less than the current\n\t * connectionSerial. Used for new connections.\n\t * Returns true iff the message was rejected as a duplicate. */\n\tConnectionManager.prototype.setConnectionSerial = function(connectionPosition, force) {\n\t\tvar timeSerial = connectionPosition.timeSerial,\n\t\t\tconnectionSerial = connectionPosition.connectionSerial;\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.setConnectionSerial()', 'Updating connection serial; serial = ' + connectionSerial + '; timeSerial = ' + timeSerial + '; force = ' + force + '; previous = ' + this.connectionSerial);\n\t\tif(timeSerial !== undefined) {\n\t\t\tif(timeSerial <= this.timeSerial && !force) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.setConnectionSerial()', 'received message with timeSerial ' + timeSerial + ', but current timeSerial is ' + this.timeSerial + '; assuming message is a duplicate and discarding it');\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis.realtime.connection.timeSerial = this.timeSerial = timeSerial;\n\t\t\tthis.setRecoveryKey();\n\t\t\treturn;\n\t\t}\n\t\tif(connectionSerial !== undefined) {\n\t\t\tif(connectionSerial <= this.connectionSerial && !force) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.setConnectionSerial()', 'received message with connectionSerial ' + connectionSerial + ', but current connectionSerial is ' + this.connectionSerial + '; assuming message is a duplicate and discarding it');\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis.realtime.connection.serial = this.connectionSerial = connectionSerial;\n\t\t\tthis.setRecoveryKey();\n\t\t}\n\t};\n\n\tConnectionManager.prototype.clearConnectionSerial = function() {\n\t\tthis.realtime.connection.serial = this.connectionSerial = undefined;\n\t\tthis.realtime.connection.timeSerial = this.timeSerial = undefined;\n\t\tthis.clearRecoveryKey();\n\t};\n\n\tConnectionManager.prototype.setRecoveryKey = function() {\n\t\tthis.realtime.connection.recoveryKey = this.connectionKey + ':' + (this.timeSerial || this.connectionSerial) + ':' + this.msgSerial;\n\t};\n\n\tConnectionManager.prototype.clearRecoveryKey = function() {\n\t\tthis.realtime.connection.recoveryKey = null;\n\t};\n\n\tConnectionManager.prototype.checkConnectionStateFreshness = function() {\n\t\tif(!this.lastActivity || !this.connectionId) { return; }\n\n\t\tvar sinceLast = utils.now() - this.lastActivity;\n\t\tif(sinceLast > this.connectionStateTtl + this.maxIdleInterval) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.checkConnectionStateFreshness()', 'Last known activity from realtime was ' + sinceLast + 'ms ago; discarding connection state');\n\t\t\tthis.clearConnection();\n\t\t\tthis.states.connecting.failState = 'suspended';\n\t\t\tthis.states.connecting.queueEvents = false;\n\t\t}\n\t};\n\n\t/**\n\t * Called when the connectionmanager wants to persist transport\n\t * state for later recovery. Only applicable in the browser context.\n\t */\n\tConnectionManager.prototype.persistConnection = function() {\n\t\tif(haveSessionStorage) {\n\t\t\tvar recoveryKey = this.realtime.connection.recoveryKey;\n\t\t\tif(recoveryKey) {\n\t\t\t\tsetSessionRecoverData({\n\t\t\t\t\trecoveryKey: recoveryKey,\n\t\t\t\t\tdisconnectedAt: utils.now(),\n\t\t\t\t\tlocation: global.location,\n\t\t\t\t\tclientId: this.realtime.auth.clientId\n\t\t\t\t}, this.connectionStateTtl);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Called when the connectionmanager wants to persist transport\n\t * state for later recovery. Only applicable in the browser context.\n\t */\n\tConnectionManager.prototype.unpersistConnection = function() {\n\t\tclearSessionRecoverData();\n\t};\n\n\t/*********************\n\t * state management\n\t *********************/\n\n\tConnectionManager.prototype.getError = function() {\n\t\treturn this.errorReason || this.getStateError();\n\t};\n\n\tConnectionManager.prototype.getStateError = function() {\n\t\treturn connectionerror[this.state.state];\n\t};\n\n\tConnectionManager.prototype.activeState = function() {\n\t\treturn this.state.queueEvents || this.state.sendEvents;\n\t};\n\n\tConnectionManager.prototype.enactStateChange = function(stateChange) {\n\t\tvar logLevel = stateChange.current === 'failed' ? util_logger.LOG_ERROR : util_logger.LOG_MAJOR;\n\t\tutil_logger.logAction(logLevel, 'Connection state', stateChange.current + (stateChange.reason ? ('; reason: ' + stateChange.reason) : ''));\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.enactStateChange', 'setting new state: ' + stateChange.current + '; reason = ' + (stateChange.reason && stateChange.reason.message));\n\t\tvar newState = this.state = this.states[stateChange.current];\n\t\tif(stateChange.reason) {\n\t\t\tthis.errorReason = stateChange.reason;\n\t\t\tthis.realtime.connection.errorReason = stateChange.reason;\n\t\t}\n\t\tif(newState.terminal || newState.state === 'suspended') {\n\t\t\t/* suspended is nonterminal, but once in the suspended state, realtime\n\t\t\t * will have discarded our connection state, so futher connection\n\t\t\t * attempts should start from scratch */\n\t\t\tthis.clearConnection();\n\t\t}\n\t\tthis.emit('connectionstate', stateChange);\n\t};\n\n\t/****************************************\n\t * ConnectionManager connection lifecycle\n\t ****************************************/\n\n\tConnectionManager.prototype.startTransitionTimer = function(transitionState) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.startTransitionTimer()', 'transitionState: ' + transitionState.state);\n\n\t\tif(this.transitionTimer) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.startTransitionTimer()', 'clearing already-running timer');\n\t\t\tclearTimeout(this.transitionTimer);\n\t\t}\n\n\t\tvar self = this;\n\t\tthis.transitionTimer = setTimeout(function() {\n\t\t\tif(self.transitionTimer) {\n\t\t\t\tself.transitionTimer = null;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager ' + transitionState.state + ' timer expired', 'requesting new state: ' + transitionState.failState);\n\t\t\t\tself.notifyState({state: transitionState.failState});\n\t\t\t}\n\t\t}, transitionState.retryDelay);\n\t};\n\n\tConnectionManager.prototype.cancelTransitionTimer = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.cancelTransitionTimer()', '');\n\t\tif(this.transitionTimer) {\n\t\t\tclearTimeout(this.transitionTimer);\n\t\t\tthis.transitionTimer = null;\n\t\t}\n\t};\n\n\tConnectionManager.prototype.startSuspendTimer = function() {\n\t\tvar self = this;\n\t\tif(this.suspendTimer)\n\t\t\treturn;\n\t\tthis.suspendTimer = setTimeout(function() {\n\t\t\tif(self.suspendTimer) {\n\t\t\t\tself.suspendTimer = null;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager suspend timer expired', 'requesting new state: suspended');\n\t\t\t\tself.states.connecting.failState = 'suspended';\n\t\t\t\tself.states.connecting.queueEvents = false;\n\t\t\t\tself.notifyState({state: 'suspended'});\n\t\t\t}\n\t\t}, this.connectionStateTtl);\n\t};\n\n\tConnectionManager.prototype.checkSuspendTimer = function(state) {\n\t\tif(state !== 'disconnected' && state !== 'suspended' && state !== 'connecting')\n\t\t\tthis.cancelSuspendTimer();\n\t};\n\n\tConnectionManager.prototype.cancelSuspendTimer = function() {\n\t\tthis.states.connecting.failState = 'disconnected';\n\t\tthis.states.connecting.queueEvents = true;\n\t\tif(this.suspendTimer) {\n\t\t\tclearTimeout(this.suspendTimer);\n\t\t\tthis.suspendTimer = null;\n\t\t}\n\t};\n\n\tConnectionManager.prototype.startRetryTimer = function(interval) {\n\t\tvar self = this;\n\t\tthis.retryTimer = setTimeout(function() {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager retry timer expired', 'retrying');\n\t\t\tself.retryTimer = null;\n\t\t\tself.requestState({state: 'connecting'});\n\t\t}, interval);\n\t};\n\n\tConnectionManager.prototype.cancelRetryTimer = function() {\n\t\tif(this.retryTimer) {\n\t\t\tclearTimeout(this.retryTimer);\n\t\t\tthis.retryTimer = null;\n\t\t}\n\t};\n\n\tConnectionManager.prototype.notifyState = function(indicated) {\n\t\tvar state = indicated.state,\n\t\t\tself = this;\n\n\t\t/* We retry immediately if:\n\t\t * - something disconnects us while we're connected, or\n\t\t * - a viable (but not yet active) transport fails due to a token error (so\n\t\t *   this.errorReason will be set, and startConnect will do a forced\n\t\t *   authorize). If this.errorReason is already set (to a token error),\n\t\t *   then there has been at least one previous attempt to connect that also\n\t\t *   failed for a token error, so by RTN14b we go to DISCONNECTED and wait\n\t\t *   before trying again */\n\t\tvar retryImmediately = (state === 'disconnected' &&\n\t\t\t(this.state === this.states.connected     ||\n\t\t\t this.state === this.states.synchronizing ||\n\t\t\t indicated.retryImmediately               ||\n\t\t\t\t(this.state === this.states.connecting &&\n\t\t\t\t\tindicated.error && client_auth.isTokenErr(indicated.error) &&\n\t\t\t\t\t!(this.errorReason && client_auth.isTokenErr(this.errorReason)))));\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.notifyState()', 'new state: ' + state + (retryImmediately ? '; will retry connection immediately' : ''));\n\t\t/* do nothing if we're already in the indicated state */\n\t\tif(state == this.state.state)\n\t\t\treturn;\n\n\t\t/* kill timers (possibly excepting suspend timer depending on the notified\n\t\t* state), as these are superseded by this notification */\n\t\tthis.cancelTransitionTimer();\n\t\tthis.cancelRetryTimer();\n\t\tthis.checkSuspendTimer(indicated.state);\n\n\t\t/* do nothing if we're unable to move from the current state */\n\t\tif(this.state.terminal)\n\t\t\treturn;\n\n\t\t/* process new state */\n\t\tvar newState = this.states[indicated.state],\n\t\t\tchange = new connectionstatechange(this.state.state, newState.state, newState.retryDelay, (indicated.error || connectionerror[newState.state]));\n\n\t\tif(retryImmediately) {\n\t\t\tvar autoReconnect = function() {\n\t\t\t\tif(self.state === self.states.disconnected) {\n\t\t\t\t\tself.lastAutoReconnectAttempt = utils.now();\n\t\t\t\t\tself.requestState({state: 'connecting'});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar sinceLast = this.lastAutoReconnectAttempt && (utils.now() - this.lastAutoReconnectAttempt + 1);\n\t\t\tif(sinceLast && (sinceLast < 1000)) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.notifyState()', 'Last reconnect attempt was only ' + sinceLast + 'ms ago, waiting another ' + (1000 - sinceLast) + 'ms before trying again');\n\t\t\t\tsetTimeout(autoReconnect, 1000 - sinceLast);\n\t\t\t} else {\n\t\t\t\tutils.nextTick(autoReconnect);\n\t\t\t}\n\t\t} else if(state === 'disconnected' || state === 'suspended') {\n\t\t\tthis.startRetryTimer(newState.retryDelay);\n\t\t}\n\n\t\t /* If going into disconnect/suspended (and not retrying immediately), or a\n\t\t\t* terminal state, ensure there are no orphaned transports hanging around. */\n\t\tif((state === 'disconnected' && !retryImmediately) ||\n\t\t\t (state === 'suspended') ||\n\t\t\t newState.terminal) {\n\t\t\t\t /* Wait till the next tick so the connection state change is enacted,\n\t\t\t\t * so aborting transports doesn't trigger redundant state changes */\n\t\t\t\t utils.nextTick(function() {\n\t\t\t\t\t self.disconnectAllTransports();\n\t\t\t\t });\n\t\t }\n\n\t\tif(state == 'connected' && !this.activeProtocol) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.notifyState()', 'Broken invariant: attempted to go into connected state, but there is no active protocol');\n\t\t}\n\n\t\t/* implement the change and notify */\n\t\tthis.enactStateChange(change);\n\t\tif(this.state.sendEvents) {\n\t\t\tthis.sendQueuedMessages();\n\t\t} else if(!this.state.queueEvents) {\n\t\t\tthis.realtime.channels.propogateConnectionInterruption(state, change.reason);\n\t\t\tthis.failQueuedMessages(change.reason); // RTN7c\n\t\t}\n\t};\n\n\tConnectionManager.prototype.requestState = function(request) {\n\t\tvar state = request.state, self = this;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.requestState()', 'requested state: ' + state + '; current state: ' + this.state.state);\n\t\tif(state == this.state.state)\n\t\t\treturn; /* silently do nothing */\n\n\t\t/* kill running timers, as this request supersedes them */\n\t\tthis.cancelTransitionTimer();\n\t\tthis.cancelRetryTimer();\n\t\t/* for suspend timer check rather than cancel -- eg requesting a connecting\n\t\t* state should not reset the suspend timer */\n\t\tthis.checkSuspendTimer(state);\n\n\t\tif(state == 'connecting' && this.state.state == 'connected') return;\n\t\tif(state == 'closing' && this.state.state == 'closed') return;\n\n\t\tvar newState = this.states[state],\n\t\t\tchange = new connectionstatechange(this.state.state, newState.state, null, (request.error || connectionerror[newState.state]));\n\n\t\tthis.enactStateChange(change);\n\n\t\tif(state == 'connecting') {\n\t\t\tutils.nextTick(function() { self.startConnect(); });\n\t\t}\n\t\tif(state == 'closing') {\n\t\t\tthis.closeImpl();\n\t\t}\n\t};\n\n\n\tConnectionManager.prototype.startConnect = function() {\n\t\tif(this.state !== this.states.connecting) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.startConnect()', 'Must be in connecting state to connect, but was ' + this.state.state);\n\t\t\treturn;\n\t\t}\n\n\t\tvar auth = this.realtime.auth,\n\t\t\tself = this;\n\n\t\t/* The point of the connectCounter mechanism is to ensure that the\n\t\t * connection procedure can be cancelled. We want disconnectAllTransports\n\t\t * to be able to stop any in-progress connection, even before it gets to\n\t\t * the stage of having a pending (or even a proposed) transport that it can\n\t\t * dispose() of. So we check that it's still current after any async stage,\n\t\t * up until the stage that is synchronous with instantiating a transport */\n\t\tvar connectCount = ++this.connectCounter;\n\n\t\tvar connect = function() {\n\t\t\tself.checkConnectionStateFreshness();\n\t\t\tself.getTransportParams(function(transportParams) {\n\t\t\t\tif(connectCount !== self.connectCounter) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.connectImpl(transportParams, connectCount);\n\t\t\t});\n\t\t};\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.startConnect()', 'starting connection');\n\t\tthis.startSuspendTimer();\n\t\tthis.startTransitionTimer(this.states.connecting);\n\n\t\tif(auth.method === 'basic') {\n\t\t\tconnect();\n\t\t} else {\n\t\t\tvar authCb = function(err) {\n\t\t\t\tif(connectCount !== self.connectCounter) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(err) {\n\t\t\t\t\tself.actOnErrorFromAuthorize(err);\n\t\t\t\t} else {\n\t\t\t\t\tconnect();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif(this.errorReason && client_auth.isTokenErr(this.errorReason)) {\n\t\t\t\t/* Force a refetch of a new token */\n\t\t\t\tauth._forceNewToken(null, null, authCb);\n\t\t\t} else {\n\t\t\t\tauth._ensureValidAuthCredentials(false, authCb);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * There are three stages in connecting:\n\t * - preference: if there is a cached transport preference, we try to connect\n\t *   on that. If that fails or times out we abort the attempt, remove the\n\t *   preference and fall back to base. If it succeeds, we try upgrading it if\n\t *   needed (will only be in the case where the preference is xhrs and the\n\t *   browser supports ws).\n\t * - base: we try to connect with the best transport that we think will\n\t *   never fail for this browser (usually this is xhr_polling; for very old\n\t *   browsers will be jsonp, for node will be comet). If it doesn't work, we\n\t *   try fallback hosts.\n\t * - upgrade: given a connected transport, we see if there are any better\n\t *   ones, and if so, try to upgrade to them.\n\t *\n\t * connectImpl works out what stage you're at (which is purely a function of\n\t * the current connection state and whether there are any stored preferences),\n\t * and dispatches accordingly. After a transport has been set pending,\n\t * tryATransport calls connectImpl to see if there's another stage to be done.\n\t * */\n\tConnectionManager.prototype.connectImpl = function(transportParams, connectCount) {\n\t\tvar state = this.state.state;\n\n\t\tif(state !== this.states.connecting.state && state !== this.states.connected.state) {\n\t\t\t/* Only keep trying as long as in the 'connecting' state (or 'connected'\n\t\t\t * for upgrading). Any operation can put us into 'disconnected' to cancel\n\t\t\t * connection attempts and wait before retrying, or 'failed' to fail. */\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.connectImpl()', 'Must be in connecting state to connect (or connected to upgrade), but was ' + state);\n\t\t} else if(this.pendingTransports.length) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.connectImpl()', 'Transports ' + this.pendingTransports[0].toString() + ' currently pending; taking no action');\n\t\t} else if(state == this.states.connected.state) {\n\t\t\tthis.upgradeIfNeeded(transportParams);\n\t\t} else if(this.transports.length > 1 && this.getTransportPreference()) {\n\t\t\tthis.connectPreference(transportParams);\n\t\t} else {\n\t\t\tthis.connectBase(transportParams, connectCount);\n\t\t}\n\t};\n\n\n\tConnectionManager.prototype.connectPreference = function(transportParams) {\n\t\tvar preference = this.getTransportPreference(),\n\t\t\tself = this,\n\t\t\tpreferenceTimeoutExpired = false;\n\n\t\tif(!utils.arrIn(this.transports, preference)) {\n\t\t\tthis.unpersistTransportPreference();\n\t\t\tthis.connectImpl(transportParams);\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.connectPreference()', 'Trying to connect with stored transport preference ' + preference);\n\n\t\tvar preferenceTimeout = setTimeout(function() {\n\t\t\tpreferenceTimeoutExpired = true;\n\t\t\tif(!(self.state.state === self.states.connected.state)) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.connectPreference()', 'Shortcircuit connection attempt with ' + preference + ' failed; clearing preference and trying from scratch');\n\t\t\t\t/* Abort all connection attempts. (This also disconnects the active\n\t\t\t\t * protocol, but none exists if we're not in the connected state) */\n\t\t\t\tself.disconnectAllTransports();\n\t\t\t\t/* Be quite agressive about clearing the stored preference if ever it doesn't work */\n\t\t\t\tself.unpersistTransportPreference();\n\t\t\t}\n\t\t\tself.connectImpl(transportParams);\n\t\t}, this.options.timeouts.preferenceConnectTimeout);\n\n\t\t/* For connectPreference, just use the main host. If host fallback is needed, do it in connectBase.\n\t\t * The wstransport it will substitute the httphost for an appropriate wshost */\n\t\ttransportParams.host = self.httpHosts[0];\n\t\tself.tryATransport(transportParams, preference, function(fatal, transport) {\n\t\t\tclearTimeout(preferenceTimeout);\n\t\t\tif(preferenceTimeoutExpired && transport) {\n\t\t\t\t/* Viable, but too late - connectImpl() will already be trying\n\t\t\t\t* connectBase, and we weren't in upgrade mode. Just remove the\n\t\t\t\t* onconnected listener and get rid of it */\n\t\t\t\ttransport.off();\n\t\t\t\ttransport.disconnect();\n\t\t\t\tutils.arrDeleteValue(this.pendingTransports, transport);\n\t\t\t} else if(!transport && !fatal) {\n\t\t\t\t/* Preference failed in a transport-specific way. Try more */\n\t\t\t\tself.unpersistTransportPreference();\n\t\t\t\tself.connectImpl(transportParams);\n\t\t\t}\n\t\t\t/* If suceeded, or failed fatally, nothing to do */\n\t\t});\n\t};\n\n\n\t/**\n\t * Try to establish a transport on the base transport (the best transport\n\t * such that if it doesn't work, nothing will work) as determined through\n\t * static feature detection, checking for network connectivity and trying\n\t * fallback hosts if applicable.\n\t * @param transportParams\n\t */\n\tConnectionManager.prototype.connectBase = function(transportParams, connectCount) {\n\t\tvar self = this,\n\t\t\tgiveUp = function(err) {\n\t\t\t\tself.notifyState({state: self.states.connecting.failState, error: err});\n\t\t\t},\n\t\t\tcandidateHosts = this.httpHosts.slice(),\n\t\t\thostAttemptCb = function(fatal, transport) {\n\t\t\t\tif(connectCount !== self.connectCounter) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!transport && !fatal) {\n\t\t\t\t\ttryFallbackHosts();\n\t\t\t\t}\n\t\t\t};\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.connectBase()', 'Trying to connect with base transport ' + this.baseTransport);\n\n\t\t/* first try to establish a connection with the priority host with http transport */\n\t\tvar host = candidateHosts.shift();\n\t\tif(!host) {\n\t\t\tgiveUp(new errorinfo('Unable to connect (no available host)', 80003, 404));\n\t\t\treturn;\n\t\t}\n\t\ttransportParams.host = host;\n\n\t\t/* this is what we'll be doing if the attempt for the main host fails */\n\t\tfunction tryFallbackHosts() {\n\t\t\t/* if there aren't any fallback hosts, fail */\n\t\t\tif(!candidateHosts.length) {\n\t\t\t\tgiveUp(new errorinfo('Unable to connect (and no more fallback hosts to try)', 80003, 404));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* before trying any fallback (or any remaining fallback) we decide if\n\t\t\t * there is a problem with the ably host, or there is a general connectivity\n\t\t\t * problem */\n\t\t\tutil_http.checkConnectivity(function(err, connectivity) {\n\t\t\t\tif(connectCount !== self.connectCounter) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t/* we know err won't happen but handle it here anyway */\n\t\t\t\tif(err) {\n\t\t\t\t\tgiveUp(err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!connectivity) {\n\t\t\t\t\t/* the internet isn't reachable, so don't try the fallback hosts */\n\t\t\t\t\tgiveUp(new errorinfo('Unable to connect (network unreachable)', 80003, 404));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t/* the network is there, so there's a problem with the main host, or\n\t\t\t\t * its dns. Try the fallback hosts. We could try them simultaneously but\n\t\t\t\t * that would potentially cause a huge spike in load on the load balancer */\n\t\t\t\ttransportParams.host = utils.arrPopRandomElement(candidateHosts);\n\t\t\t\tself.tryATransport(transportParams, self.baseTransport, hostAttemptCb);\n\t\t\t});\n\t\t}\n\n\t\tif(this.forceFallbackHost && candidateHosts.length) {\n\t\t\tthis.forceFallbackHost = false;\n\t\t\ttryFallbackHosts();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.tryATransport(transportParams, this.baseTransport, hostAttemptCb);\n\t};\n\n\n\tConnectionManager.prototype.getUpgradePossibilities = function() {\n\t\t/* returns the subset of upgradeTransports to the right of the current\n\t\t * transport in upgradeTransports (if it's in there - if not, currentPosition\n\t\t * will be -1, so return upgradeTransports.slice(0) == upgradeTransports */\n\t\tvar current = this.activeProtocol.getTransport().shortName;\n\t\tvar currentPosition = utils.arrIndexOf(this.upgradeTransports, current);\n\t\treturn this.upgradeTransports.slice(currentPosition + 1);\n\t};\n\n\n\tConnectionManager.prototype.upgradeIfNeeded = function(transportParams) {\n\t\tvar upgradePossibilities = this.getUpgradePossibilities(),\n\t\t\tself = this;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.upgradeIfNeeded()', 'upgrade possibilities: ' + utils.inspect(upgradePossibilities));\n\n\t\tif(!upgradePossibilities.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tutils.arrForEach(upgradePossibilities, function(upgradeTransport) {\n\t\t\t/* Note: the transport may mutate the params, so give each transport a fresh one */\n\t\t\tvar upgradeTransportParams = self.createTransportParams(transportParams.host, 'upgrade');\n\t\t\tself.tryATransport(upgradeTransportParams, upgradeTransport, noop);\n\t\t});\n\t};\n\n\n\tConnectionManager.prototype.closeImpl = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.closeImpl()', 'closing connection');\n\t\tthis.cancelSuspendTimer();\n\t\tthis.startTransitionTimer(this.states.closing);\n\n\t\tutils.safeArrForEach(this.pendingTransports, function(transport) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.closeImpl()', 'Closing pending transport: ' + transport);\n\t\t\tif(transport) transport.close();\n\t\t});\n\n\t\tutils.safeArrForEach(this.proposedTransports, function(transport) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.closeImpl()', 'Disposing of proposed transport: ' + transport);\n\t\t\tif(transport) transport.dispose();\n\t\t});\n\n\t\tif(this.activeProtocol) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.closeImpl()', 'Closing active transport: ' + this.activeProtocol.getTransport());\n\t\t\tthis.activeProtocol.getTransport().close();\n\t\t}\n\n\t\t/* If there was an active transport, this will probably be\n\t\t * preempted by the notifyState call in deactivateTransport */\n\t\tthis.notifyState({state: 'closed'});\n\t};\n\n\tConnectionManager.prototype.onAuthUpdated = function(tokenDetails, callback) {\n\t\tvar self = this;\n\t\tswitch(this.state.state) {\n\t\t\tcase 'connected':\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.onAuthUpdated()', 'Sending AUTH message on active transport');\n\t\t\t\t/* If there are any proposed/pending transports (eg an upgrade that\n\t\t\t\t * isn't yet scheduled for activation) that hasn't yet started syncing,\n\t\t\t\t * just to get rid of them & restart the upgrade with the new token, to\n\t\t\t\t * avoid a race condition. (If it has started syncing, the AUTH will be\n\t\t\t\t * queued until the upgrade is complete, so everything's fine) */\n\t\t\t\tif((this.pendingTransports.length || this.proposedTransports.length) &&\n\t\t\t\t\tself.state !== self.states.synchronizing) {\n\t\t\t\t\tthis.disconnectAllTransports(/* exceptActive: */true);\n\t\t\t\t\tvar transportParams = this.activeProtocol.getTransport().params;\n\t\t\t\t\tutils.nextTick(function() {\n\t\t\t\t\t\tif(self.state.state === 'connected') {\n\t\t\t\t\t\t\tself.upgradeIfNeeded(transportParams);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t/* Do any transport-specific new-token action */\n\t\t\t\tthis.activeProtocol.getTransport().onAuthUpdated(tokenDetails);\n\n\t\t\t\tvar authMsg = protocolmessage.fromValues({\n\t\t\t\t\taction: actions.AUTH,\n\t\t\t\t\tauth: {\n\t\t\t\t\t\taccessToken: tokenDetails.token\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.send(authMsg);\n\n\t\t\t\t/* The answer will come back as either a connectiondetails event\n\t\t\t\t * (realtime sends a CONNECTED to asknowledge the reauth) or a\n\t\t\t\t * statechange to failed */\n\t\t\t\tvar successListener = function() {\n\t\t\t\t\tself.off(failureListener);\n\t\t\t\t\tcallback(null, tokenDetails);\n\t\t\t\t};\n\t\t\t\tvar failureListener = function(stateChange) {\n\t\t\t\t\tif(stateChange.current === 'failed') {\n\t\t\t\t\t\tself.off(successListener);\n\t\t\t\t\t\tself.off(failureListener);\n\t\t\t\t\t\tcallback(stateChange.reason || self.getStateError());\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.once('connectiondetails', successListener);\n\t\t\t\tthis.on('connectionstate', failureListener);\n\t\t\t\tbreak;\n\n\t\t\tcase 'connecting':\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.onAuthUpdated()',\n\t\t\t\t\t'Aborting current connection attempts in order to start again with the new auth details');\n\t\t\t\tthis.disconnectAllTransports();\n\t\t\t\t/* fallthrough to add statechange listener */\n\n\t\t\tdefault:\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.onAuthUpdated()',\n\t\t\t\t\t'Connection state is ' + this.state.state + '; waiting until either connected or failed');\n\t\t\t\tvar listener = function(stateChange) {\n\t\t\t\t\tswitch(stateChange.current) {\n\t\t\t\t\t\tcase 'connected':\n\t\t\t\t\t\t\tself.off(listener);\n\t\t\t\t\t\t\tcallback(null, tokenDetails);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'failed':\n\t\t\t\t\t\tcase 'closed':\n\t\t\t\t\t\tcase 'suspended':\n\t\t\t\t\t\t\tself.off(listener);\n\t\t\t\t\t\t\tcallback(stateChange.reason || self.getStateError());\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t/* ignore till we get either connected or failed */\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.on('connectionstate', listener);\n\t\t\t\tif(this.state.state === 'connecting') {\n\t\t\t\t\t/* can happen if in the connecting state but no transport was pending\n\t\t\t\t\t * yet, so disconnectAllTransports did not trigger a disconnected state */\n\t\t\t\t\tself.startConnect();\n\t\t\t\t} else {\n\t\t\t\t\tself.requestState({state: 'connecting'});\n\t\t\t\t}\n\t\t}\n\t};\n\n\tConnectionManager.prototype.disconnectAllTransports = function(exceptActive) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.disconnectAllTransports()', 'Disconnecting all transports' + (exceptActive ? ' except the active transport' : ''));\n\n\t\t/* This will prevent any connection procedure in an async part of one of its early stages from continuing */\n\t\tthis.connectCounter++;\n\n\t\tutils.safeArrForEach(this.pendingTransports, function(transport) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.disconnectAllTransports()', 'Disconnecting pending transport: ' + transport);\n\t\t\tif(transport) transport.disconnect();\n\t\t});\n\t\tthis.pendingTransports = [];\n\n\t\tutils.safeArrForEach(this.proposedTransports, function(transport) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.disconnectAllTransports()', 'Disposing of proposed transport: ' + transport);\n\t\t\tif(transport) transport.dispose();\n\t\t});\n\t\tthis.proposedTransports = [];\n\n\t\tif(this.activeProtocol && !exceptActive) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.disconnectAllTransports()', 'Disconnecting active transport: ' + this.activeProtocol.getTransport());\n\t\t\tthis.activeProtocol.getTransport().disconnect();\n\t\t}\n\t\t/* No need to notify state disconnected; disconnecting the active transport\n\t\t * will have that effect */\n\t};\n\n\t/******************\n\t * event queueing\n\t ******************/\n\n\tConnectionManager.prototype.send = function(msg, queueEvent, callback) {\n\t\tcallback = callback || noop;\n\t\tvar state = this.state;\n\n\t\tif(state.sendEvents) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.send()', 'sending event');\n\t\t\tthis.sendImpl(new PendingMessage(msg, callback));\n\t\t\treturn;\n\t\t}\n\t\tvar shouldQueue = (queueEvent && state.queueEvents) || state.forceQueueEvents;\n\t\tif(!shouldQueue) {\n\t\t\tvar err = 'rejecting event, queueEvent was ' + queueEvent + ', state was ' + state.state;\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.send()', err);\n\t\t\tcallback(this.errorReason || new errorinfo(err, 90000, 400));\n\t\t\treturn;\n\t\t}\n\t\tif(util_logger.shouldLog(util_logger.LOG_MICRO)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.send()', 'queueing msg; ' + protocolmessage.stringify(msg));\n\t\t}\n\t\tthis.queue(msg, callback);\n\t};\n\n\tConnectionManager.prototype.sendImpl = function(pendingMessage) {\n\t\tvar msg = pendingMessage.message;\n\t\t/* If have already attempted to send this, resend with the same msgSerial,\n\t\t * so Ably can dedup if the previous send succeeded */\n\t\tif(pendingMessage.ackRequired && !pendingMessage.sendAttempted) {\n\t\t\tmsg.msgSerial = this.msgSerial++;\n\t\t\tthis.setRecoveryKey();\n\t\t}\n\t\ttry {\n\t\t\tthis.activeProtocol.send(pendingMessage);\n\t\t} catch(e) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.sendImpl()', 'Unexpected exception in transport.send(): ' + e.stack);\n\t\t}\n\t};\n\n\tfunction bundleWith(dest, src, maxSize) {\n\t\tvar action;\n\t\tif(dest.channel !== src.channel) {\n\t\t\t/* RTL6d3 */\n\t\t\treturn false;\n\t\t}\n\t\tif((action = dest.action) !== actions.PRESENCE && action !== actions.MESSAGE) {\n\t\t\t/* RTL6d - can only bundle messages or presence */\n\t\t\treturn false;\n\t\t}\n\t\tif(action !== src.action) {\n\t\t\t/* RTL6d4 */\n\t\t\treturn false;\n\t\t}\n\t\tvar kind = (action === actions.PRESENCE) ? 'presence' : 'messages',\n\t\t\tproposed = dest[kind].concat(src[kind]),\n\t\t\tsize = types_message.getMessagesSize(proposed);\n\t\tif(size > maxSize) {\n\t\t\t/* RTL6d1 */\n\t\t\treturn false;\n\t\t}\n\t\tif(!utils.allSame(proposed, 'clientId')) {\n\t\t\t/* RTL6d2 */\n\t\t\treturn false;\n\t\t}\n\t\tif(!utils.arrEvery(proposed, function(msg) {\n\t\t\treturn !msg.id;\n\t\t})) {\n\t\t\t/* RTL6d7 */\n\t\t\treturn false;\n\t\t}\n\t\t/* we're good to go! */\n\t\tdest[kind] = proposed;\n\t\treturn true;\n\t};\n\n\tConnectionManager.prototype.queue = function(msg, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.queue()', 'queueing event');\n\t\tvar lastQueued = this.queuedMessages.last();\n\t\tvar maxSize = this.options.maxMessageSize;\n\t\t/* If have already attempted to send a message, don't merge more messages\n\t\t * into it, as if the previous send actually succeeded and realtime ignores\n\t\t * the dup, they'll be lost */\n\t\tif(lastQueued && !lastQueued.sendAttempted && bundleWith(lastQueued.message, msg, maxSize)) {\n\t\t\tif(!lastQueued.merged) {\n\t\t\t\tlastQueued.callback = util_multicaster([lastQueued.callback]);\n\t\t\t\tlastQueued.merged = true;\n\t\t\t}\n\t\t\tlastQueued.callback.push(callback);\n\t\t} else {\n\t\t\tthis.queuedMessages.push(new PendingMessage(msg, callback));\n\t\t}\n\t};\n\n\tConnectionManager.prototype.sendQueuedMessages = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.sendQueuedMessages()', 'sending ' + this.queuedMessages.count() + ' queued messages');\n\t\tvar pendingMessage;\n\t\twhile(pendingMessage = this.queuedMessages.shift())\n\t\t\tthis.sendImpl(pendingMessage);\n\t};\n\n\tConnectionManager.prototype.queuePendingMessages = function(pendingMessages) {\n\t\tif(pendingMessages && pendingMessages.length) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.queuePendingMessages()', 'queueing ' + pendingMessages.length + ' pending messages');\n\t\t\tthis.queuedMessages.prepend(pendingMessages);\n\t\t}\n\t};\n\n\tConnectionManager.prototype.failQueuedMessages = function(err) {\n\t\tvar numQueued = this.queuedMessages.count();\n\t\tif(numQueued > 0) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.failQueuedMessages()', 'failing ' + numQueued + ' queued messages, err = ' + utils.inspectError(err));\n\t\t\tthis.queuedMessages.completeAllMessages(err);\n\t\t}\n\t};\n\n\tConnectionManager.prototype.onChannelMessage = function(message, transport) {\n\t\tvar onActiveTransport = this.activeProtocol && transport === this.activeProtocol.getTransport(),\n\t\t\tonUpgradeTransport = utils.arrIn(this.pendingTransports, transport) && this.state == this.states.synchronizing,\n\t\t\tnotControlMsg = message.action === actions.MESSAGE || message.action === actions.PRESENCE;\n\n\t\t/* As the lib now has a period where the upgrade transport is synced but\n\t\t * before it's become active (while waiting for the old one to become\n\t\t * idle), message can validly arrive on it even though it isn't active */\n\t\tif(onActiveTransport || onUpgradeTransport) {\n\t\t\tif(notControlMsg) {\n\t\t\t\tvar suppressed = this.setConnectionSerial(message);\n\t\t\t\tif(suppressed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(protocolmessage.isDuplicate(message, this.mostRecentMsg)) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.onChannelMessage()', 'received message with different connectionSerial, but same message id as a previous; discarding; id = ' + message.id);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.mostRecentMsg = message;\n\t\t\t}\n\t\t\tthis.realtime.channels.onChannelMessage(message);\n\t\t} else {\n\t\t\t// Message came in on a defunct transport. Allow only acks, nacks, & errors for outstanding\n\t\t\t// messages,  no new messages (as sync has been sent on new transport so new messages will\n\t\t\t// be resent there, or connection has been closed so don't want new messages)\n\t\t\tif(utils.arrIndexOf([actions.ACK, actions.NACK, actions.ERROR], message.action) > -1) {\n\t\t\t\tthis.realtime.channels.onChannelMessage(message);\n\t\t\t} else {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'ConnectionManager.onChannelMessage()', 'received message ' + JSON.stringify(message) + 'on defunct transport; discarding');\n\t\t\t}\n\t\t}\n\t};\n\n\tConnectionManager.prototype.ping = function(transport, callback) {\n\t\t/* if transport is specified, try that */\n\t\tif(transport) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.ping()', 'transport = ' + transport);\n\n\t\t\tvar onTimeout = function () {\n\t\t\t\ttransport.off('heartbeat', onHeartbeat);\n\t\t\t\tcallback(new errorinfo('Timeout waiting for heartbeat response', 50000, 500));\n\t\t\t};\n\n\t\t\tvar pingStart = utils.now(),\n\t\t\t\tid = utils.cheapRandStr();\n\n\t\t\tvar onHeartbeat = function (responseId) {\n\t\t\t\tif(responseId === id) {\n\t\t\t\t\ttransport.off('heartbeat', onHeartbeat);\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\tvar responseTime = utils.now() - pingStart;\n\t\t\t\t\tcallback(null, responseTime);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timer = setTimeout(onTimeout, this.options.timeouts.realtimeRequestTimeout);\n\n\t\t\ttransport.on('heartbeat', onHeartbeat);\n\t\t\ttransport.ping(id);\n\t\t\treturn;\n\t\t}\n\n\t\t/* if we're not connected, don't attempt */\n\t\tif(this.state.state !== 'connected') {\n\t\t\tcallback(new errorinfo('Unable to ping service; not connected', 40000, 400));\n\t\t\treturn;\n\t\t}\n\n\t\t/* no transport was specified, so use the current (connected) one\n\t\t * but ensure that we retry if the transport is superseded before we complete */\n\t\tvar completed = false, self = this;\n\n\t\tvar onPingComplete = function(err, responseTime) {\n\t\t\tself.off('transport.active', onTransportActive);\n\t\t\tif(!completed) {\n\t\t\t\tcompleted = true;\n\t\t\t\tcallback(err, responseTime);\n\t\t\t}\n\t\t};\n\n\t\tvar onTransportActive = function() {\n\t\t\tif(!completed) {\n\t\t\t\t/* ensure that no callback happens for the currently outstanding operation */\n\t\t\t\tcompleted = true;\n\t\t\t\t/* repeat but picking up the new transport */\n\t\t\t\tutils.nextTick(function() {\n\t\t\t\t\tself.ping(null, callback);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.on('transport.active', onTransportActive);\n\t\tthis.ping(this.activeProtocol.getTransport(), onPingComplete);\n\t};\n\n\tConnectionManager.prototype.abort = function(error) {\n\t\tthis.activeProtocol.getTransport().fail(error);\n\t};\n\n\tConnectionManager.prototype.registerProposedTransport = function(transport) {\n\t\tthis.proposedTransports.push(transport);\n\t};\n\n\tConnectionManager.prototype.getTransportPreference = function() {\n\t\treturn this.transportPreference || (haveWebStorage && webstorage.get(transportPreferenceName));\n\t};\n\n\tConnectionManager.prototype.persistTransportPreference = function(transport) {\n\t\tif(utils.arrIn(util_defaults.upgradeTransports, transport.shortName)) {\n\t\t\tthis.transportPreference = transport.shortName;\n\t\t\tif(haveWebStorage) {\n\t\t\t\twebstorage.set(transportPreferenceName, transport.shortName);\n\t\t\t}\n\t\t}\n\t};\n\n\tConnectionManager.prototype.unpersistTransportPreference = function() {\n\t\tthis.transportPreference = null;\n\t\tif(haveWebStorage) {\n\t\t\twebstorage.remove(transportPreferenceName);\n\t\t}\n\t};\n\n\t/* This method is only used during connection attempts, so implements RSA4c1,\n\t * RSA4c2, and RSA4d. In particular it is not invoked for\n\t * serverside-triggered reauths or manual reauths, so RSA4c3 does not apply */\n\tConnectionManager.prototype.actOnErrorFromAuthorize = function(err) {\n\t\tif(err.code === 40171) {\n\t\t\t/* No way to reauth */\n\t\t\tthis.notifyState({state: 'failed', error: err});\n\t\t} else if(err.statusCode === 403) {\n\t\t\tvar msg = 'Client configured authentication provider returned 403; failing the connection';\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.actOnErrorFromAuthorize()', msg);\n\t\t\tthis.notifyState({state: 'failed', error: new errorinfo(msg, 80019, 403, err)});\n\t\t} else {\n\t\t\tvar msg = 'Client configured authentication provider request failed';\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'ConnectionManager.actOnErrorFromAuthorize', msg);\n\t\t\tthis.notifyState({state: this.state.failState, error: new errorinfo(msg, 80019, 401, err)});\n\t\t}\n\t};\n\n\tConnectionManager.prototype.onConnectionDetailsUpdate = function(connectionDetails, transport) {\n\t\tif(!connectionDetails) {\n\t\t\treturn;\n\t\t}\n\t\tthis.connectionDetails = connectionDetails;\n\t\tif(connectionDetails.maxMessageSize) {\n\t\t\tthis.options.maxMessageSize = connectionDetails.maxMessageSize;\n\t\t}\n\t\tvar clientId = connectionDetails.clientId;\n\t\tif(clientId) {\n\t\t\tvar err = this.realtime.auth._uncheckedSetClientId(clientId);\n\t\t\tif(err) {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'ConnectionManager.onConnectionDetailsUpdate()', err.message);\n\t\t\t\t/* Errors setting the clientId are fatal to the connection */\n\t\t\t\ttransport.fail(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvar connectionStateTtl = connectionDetails.connectionStateTtl;\n\t\tif(connectionStateTtl) {\n\t\t\tthis.connectionStateTtl = connectionStateTtl;\n\t\t}\n\t\tthis.maxIdleInterval = connectionDetails.maxIdleInterval;\n\t\tthis.emit('connectiondetails', connectionDetails);\n\t};\n\n\treturn ConnectionManager;\n})();\n\n/* harmony default export */ var connectionmanager = (connectionmanager_ConnectionManager);\n\n// CONCATENATED MODULE: ./common/lib/client/connection.js\n\n\n\n\n\n\nvar connection_Connection = (function() {\n\tfunction noop() {}\n\n\t/* public constructor */\n\tfunction Connection(ably, options) {\n\t\teventemitter.call(this);\n\t\tthis.ably = ably;\n\t\tthis.connectionManager = new connectionmanager(ably, options);\n\t\tthis.state = this.connectionManager.state.state;\n\t\tthis.key = undefined;\n\t\tthis.id = undefined;\n\t\tthis.serial = undefined;\n\t\tthis.timeSerial = undefined;\n\t\tthis.recoveryKey = undefined;\n\t\tthis.errorReason = null;\n\n\t\tvar self = this;\n\t\tthis.connectionManager.on('connectionstate', function(stateChange) {\n\t\t\tvar state = self.state = stateChange.current;\n\t\t\tutils.nextTick(function() {\n\t\t\t\tself.emit(state, stateChange);\n\t\t\t});\n\t\t});\n\t\tthis.connectionManager.on('update', function(stateChange) {\n\t\t\tutils.nextTick(function() {\n\t\t\t\tself.emit('update', stateChange);\n\t\t\t});\n\t\t});\n\t}\n\tutils.inherits(Connection, eventemitter);\n\n\tConnection.prototype.whenState = function(state, listener) {\n\t\treturn eventemitter.prototype.whenState.call(this, state, this.state, listener, new connectionstatechange(undefined, state));\n\t}\n\n\tConnection.prototype.connect = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Connection.connect()', '');\n\t\tthis.connectionManager.requestState({state: 'connecting'});\n\t};\n\n\tConnection.prototype.ping = function(callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Connection.ping()', '');\n\t\tif(!callback) {\n\t\t\tif(this.ably.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'ping', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\t\tthis.connectionManager.ping(null, callback);\n\t};\n\n\tConnection.prototype.close = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Connection.close()', 'connectionKey = ' + this.key);\n\t\tthis.connectionManager.requestState({state: 'closing'});\n\t};\n\n\treturn Connection;\n})();\n\n/* harmony default export */ var client_connection = (connection_Connection);\n\n// CONCATENATED MODULE: ./common/lib/client/channelstatechange.js\nvar ChannelStateChange = (function() {\n\n\t/* public constructor */\n\tfunction ChannelStateChange(previous, current, resumed, reason) {\n\t\tthis.previous = previous;\n\t\tthis.current = current;\n\t\tif(current === 'attached') this.resumed = resumed;\n\t\tif(reason) this.reason = reason;\n\t}\n\n\treturn ChannelStateChange;\n})();\n\n/* harmony default export */ var channelstatechange = (ChannelStateChange);\n\n// CONCATENATED MODULE: ./common/lib/client/realtimepresence.js\n\n\n\n\n\n\n\n\n\n\n\nvar realtimepresence_RealtimePresence = (function() {\n\tvar noop = function() {};\n\n\tfunction memberKey(item) {\n\t\treturn item.clientId + ':' + item.connectionId;\n\t}\n\n\tfunction getClientId(realtimePresence) {\n\t\treturn realtimePresence.channel.realtime.auth.clientId;\n\t}\n\n\tfunction isAnonymousOrWildcard(realtimePresence) {\n\t\tvar realtime = realtimePresence.channel.realtime;\n\t\t/* If not currently connected, we can't assume that we're an anonymous\n\t\t * client, as realtime may inform us of our clientId in the CONNECTED\n\t\t * message. So assume we're not anonymous and leave it to realtime to\n\t\t * return an error if we are */\n\t\tvar clientId = realtime.auth.clientId;\n\t\treturn (!clientId || (clientId === '*')) && realtime.connection.state === 'connected';\n\t}\n\n\t/* Callback is called only in the event of an error */\n\tfunction waitAttached(channel, callback, action) {\n\t\tswitch(channel.state) {\n\t\t\tcase 'attached':\n\t\t\tcase 'suspended':\n\t\t\t\taction();\n\t\t\t\tbreak;\n\t\t\tcase 'initialized':\n\t\t\tcase 'detached':\n\t\t\tcase 'detaching':\n\t\t\tcase 'attaching':\n\t\t\t\tchannel.attach(function(err) {\n\t\t\t\t\tif(err) callback(err);\n\t\t\t\t\telse action();\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcallback(errorinfo.fromValues(realtimechannel.invalidStateError(channel.state)));\n\t\t}\n\t}\n\n\tfunction RealtimePresence(channel, options) {\n\t\tclient_presence.call(this, channel);\n\t\tthis.syncComplete = false;\n\t\tthis.members = new PresenceMap(this);\n\t\tthis._myMembers = new PresenceMap(this);\n\t\tthis.subscriptions = new eventemitter();\n\t\tthis.pendingPresence = [];\n\t}\n\tutils.inherits(RealtimePresence, client_presence);\n\n\tRealtimePresence.prototype.enter = function(data, callback) {\n\t\tif(isAnonymousOrWildcard(this)) {\n\t\t\tthrow new errorinfo('clientId must be specified to enter a presence channel', 40012, 400);\n\t\t}\n\t\treturn this._enterOrUpdateClient(undefined, data, 'enter', callback);\n\t};\n\n\tRealtimePresence.prototype.update = function(data, callback) {\n\t\tif(isAnonymousOrWildcard(this)) {\n\t\t\tthrow new errorinfo('clientId must be specified to update presence data', 40012, 400);\n\t\t}\n\t\treturn this._enterOrUpdateClient(undefined, data, 'update', callback);\n\t};\n\n\tRealtimePresence.prototype.enterClient = function(clientId, data, callback) {\n\t\treturn this._enterOrUpdateClient(clientId, data, 'enter', callback);\n\t};\n\n\tRealtimePresence.prototype.updateClient = function(clientId, data, callback) {\n\t\treturn this._enterOrUpdateClient(clientId, data, 'update', callback);\n\t};\n\n\tRealtimePresence.prototype._enterOrUpdateClient = function(clientId, data, action, callback) {\n\t\tif (!callback) {\n\t\t\tif (typeof(data)==='function') {\n\t\t\t\tcallback = data;\n\t\t\t\tdata = null;\n\t\t\t} else {\n\t\t\t\tif(this.channel.realtime.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, '_enterOrUpdateClient', [clientId, data, action]);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\n\t\tvar channel = this.channel;\n\t\tif(!channel.connectionManager.activeState()) {\n\t\t\tcallback(channel.connectionManager.getError());\n\t\t\treturn;\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimePresence.' + action + 'Client()',\n\t\t  'channel = ' + channel.name + ', client = ' + (clientId || '(implicit) ' + getClientId(this)));\n\n\t\tvar presence = presencemessage.fromValues({\n\t\t\taction : action,\n\t\t\tdata   : data\n\t\t});\n\t\tif (clientId) {\n\t\t\tpresence.clientId = clientId;\n\t\t}\n\n\t\tvar self = this;\n\t\tpresencemessage.encode(presence, channel.channelOptions, function(err) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch(channel.state) {\n\t\t\t\tcase 'attached':\n\t\t\t\t\tchannel.sendPresence(presence, callback);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'initialized':\n\t\t\t\tcase 'detached':\n\t\t\t\t\tchannel.attach();\n\t\t\t\tcase 'attaching':\n\t\t\t\t\tself.pendingPresence.push({\n\t\t\t\t\t\tpresence : presence,\n\t\t\t\t\t\tcallback : callback\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\terr = new errorinfo('Unable to ' + action + ' presence channel while in ' + channel.state + ' state', 90001);\n\t\t\t\t\terr.code = 90001;\n\t\t\t\t\tcallback(err);\n\t\t\t}\n\t\t});\n\t};\n\n\tRealtimePresence.prototype.leave = function(data, callback) {\n\t\tif(isAnonymousOrWildcard(this)) {\n\t\t\tthrow new errorinfo('clientId must have been specified to enter or leave a presence channel', 40012, 400);\n\t\t}\n\t\treturn this.leaveClient(undefined, data, callback);\n\t};\n\n\tRealtimePresence.prototype.leaveClient = function(clientId, data, callback) {\n\t\tif (!callback) {\n\t\t\tif (typeof(data)==='function') {\n\t\t\t\tcallback = data;\n\t\t\t\tdata = null;\n\t\t\t} else {\n\t\t\t\tif(this.channel.realtime.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'leaveClient', [clientId, data]);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\n\t\tvar channel = this.channel;\n\t\tif(!channel.connectionManager.activeState()) {\n\t\t\tcallback(channel.connectionManager.getError());\n\t\t\treturn;\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimePresence.leaveClient()', 'leaving; channel = ' + this.channel.name + ', client = ' + clientId);\n\t\tvar presence = presencemessage.fromValues({\n\t\t\taction : 'leave',\n\t\t\tdata   : data\n\t\t});\n\t\tif (clientId) { presence.clientId = clientId; }\n\n\t\tswitch(channel.state) {\n\t\t\tcase 'attached':\n\t\t\t\tchannel.sendPresence(presence, callback);\n\t\t\t\tbreak;\n\t\t\tcase 'attaching':\n\t\t\t\tthis.pendingPresence.push({\n\t\t\t\t\tpresence : presence,\n\t\t\t\t\tcallback : callback\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'initialized':\n\t\t\tcase 'failed':\n\t\t\t\t/* we're not attached; therefore we let any entered status\n\t\t\t\t * timeout by itself instead of attaching just in order to leave */\n\t\t\t\tvar err = new errorinfo('Unable to leave presence channel (incompatible state)', 90001);\n\t\t\t\tcallback(err);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t/* there is no connection; therefore we let\n\t\t\t\t * any entered status timeout by itself */\n\t\t\t\tcallback(connectionerror.failed);\n\t\t}\n\t};\n\n\tRealtimePresence.prototype.get = function(/* params, callback */) {\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\tif(args.length == 1 && typeof(args[0]) == 'function')\n\t\t\targs.unshift(null);\n\n\t\tvar params = args[0],\n\t\t\tcallback = args[1],\n\t\t\twaitForSync = !params || ('waitForSync' in params ? params.waitForSync : true);\n\n\t\tif(!callback) {\n\t\t\tif(this.channel.realtime.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'get', args);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tfunction returnMembers(members) {\n\t\t\tcallback(null, params ? members.list(params) : members.values());\n\t\t}\n\n\t\t/* Special-case the suspended state: can still get (stale) presence set if waitForSync is false */\n\t\tif(this.channel.state === 'suspended') {\n\t\t\tif(waitForSync) {\n\t\t\t\tcallback(errorinfo.fromValues({\n\t\t\t\t\tstatusCode: 400,\n\t\t\t\t\tcode: 91005,\n\t\t\t\t\tmessage: 'Presence state is out of sync due to channel being in the SUSPENDED state'\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\treturnMembers(this.members);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tvar self = this;\n\t\twaitAttached(this.channel, callback, function() {\n\t\t\tvar members = self.members;\n\t\t\tif(waitForSync) {\n\t\t\t\tmembers.waitSync(function() {\n\t\t\t\t\treturnMembers(members);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturnMembers(members);\n\t\t\t}\n\t\t});\n\t};\n\n\tRealtimePresence.prototype.history = function(params, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimePresence.history()', 'channel = ' + this.name);\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.channel.realtime.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'history', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\n\t\tif(params && params.untilAttach) {\n\t\t\tif(this.channel.state === 'attached') {\n\t\t\t\tdelete params.untilAttach;\n\t\t\t\tparams.from_serial = this.channel.properties.attachSerial;\n\t\t\t} else {\n\t\t\t\tcallback(new errorinfo(\"option untilAttach requires the channel to be attached, was: \" + this.channel.state, 40000, 400));\n\t\t\t}\n\t\t}\n\n\t\tclient_presence.prototype._history.call(this, params, callback);\n\t};\n\n\tRealtimePresence.prototype.setPresence = function(presenceSet, isSync, syncChannelSerial) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimePresence.setPresence()', 'received presence for ' + presenceSet.length + ' participants; syncChannelSerial = ' + syncChannelSerial);\n\t\tvar syncCursor, match, members = this.members, myMembers = this._myMembers,\n\t\t\tbroadcastMessages = [], connId = this.channel.connectionManager.connectionId;\n\n\t\tif(isSync) {\n\t\t\tthis.members.startSync();\n\t\t\tif(syncChannelSerial && (match = syncChannelSerial.match(/^[\\w\\-]+:(.*)$/))) {\n\t\t\t\tsyncCursor = match[1];\n\t\t\t}\n\t\t}\n\n\t\tfor(var i = 0; i < presenceSet.length; i++) {\n\t\t\tvar presence = presencemessage.fromValues(presenceSet[i]);\n\t\t\tswitch(presence.action) {\n\t\t\t\tcase 'leave':\n\t\t\t\t\tif(members.remove(presence)) {\n\t\t\t\t\t\tbroadcastMessages.push(presence);\n\t\t\t\t\t}\n\t\t\t\t\tif(presence.connectionId === connId && !presence.isSynthesized()) {\n\t\t\t\t\t\tmyMembers.remove(presence);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'enter':\n\t\t\t\tcase 'present':\n\t\t\t\tcase 'update':\n\t\t\t\t\tif(members.put(presence)) {\n\t\t\t\t\t\tbroadcastMessages.push(presence);\n\t\t\t\t\t}\n\t\t\t\t\tif(presence.connectionId === connId) {\n\t\t\t\t\t\tmyMembers.put(presence);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t/* if this is the last (or only) message in a sequence of sync updates, end the sync */\n\t\tif(isSync && !syncCursor) {\n\t\t\tmembers.endSync();\n\t\t\t/* RTP5c2: re-enter our own members if they haven't shown up in the sync */\n\t\t\tthis._ensureMyMembersPresent();\n\t\t\tthis.channel.setInProgress(realtimechannel.progressOps.sync, false);\n\t\t\tthis.channel.syncChannelSerial = null;\n\t\t}\n\n\t\t/* broadcast to listeners */\n\t\tfor(var i = 0; i < broadcastMessages.length; i++) {\n\t\t\tvar presence = broadcastMessages[i];\n\t\t\tthis.subscriptions.emit(presence.action, presence);\n\t\t}\n\t};\n\n\tRealtimePresence.prototype.onAttached = function(hasPresence) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimePresence.onAttached()', 'channel = ' + this.channel.name + ', hasPresence = ' + hasPresence);\n\n\t\tif(hasPresence) {\n\t\t\tthis.members.startSync();\n\t\t} else {\n\t\t\tthis._synthesizeLeaves(this.members.values());\n\t\t\tthis.members.clear();\n\t\t\tthis._ensureMyMembersPresent();\n\t\t}\n\n\t\t/* NB this must be after the _ensureMyMembersPresent call, which may add items to pendingPresence */\n\t\tvar pendingPresence = this.pendingPresence,\n\t\t\tpendingPresCount = pendingPresence.length;\n\n\t\tif(pendingPresCount) {\n\t\t\tthis.pendingPresence = [];\n\t\t\tvar presenceArray = [];\n\t\t\tvar multicaster = util_multicaster();\n\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimePresence.onAttached', 'sending ' + pendingPresCount + ' queued presence messages');\n\t\t\tfor(var i = 0; i < pendingPresCount; i++) {\n\t\t\t\tvar event = pendingPresence[i];\n\t\t\t\tpresenceArray.push(event.presence);\n\t\t\t\tmulticaster.push(event.callback);\n\t\t\t}\n\t\t\tthis.channel.sendPresence(presenceArray, multicaster);\n\t\t}\n\t};\n\n\tRealtimePresence.prototype.actOnChannelState = function(state, hasPresence, err) {\n\t\tswitch(state) {\n\t\t\tcase 'attached':\n\t\t\t\tthis.onAttached(hasPresence);\n\t\t\t\tbreak;\n\t\t\tcase 'detached':\n\t\t\tcase 'failed':\n\t\t\t\tthis._clearMyMembers();\n\t\t\t\tthis.members.clear();\n\t\t\t\t/* falls through */\n\t\t\tcase 'suspended':\n\t\t\t\tthis.failPendingPresence(err);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tRealtimePresence.prototype.failPendingPresence = function(err) {\n\t\tif(this.pendingPresence.length) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel.failPendingPresence', 'channel; name = ' + this.channel.name + ', err = ' + utils.inspectError(err));\n\t\t\tfor(var i = 0; i < this.pendingPresence.length; i++)\n\t\t\t\ttry {\n\t\t\t\t\tthis.pendingPresence[i].callback(err);\n\t\t\t\t} catch(e) {}\n\t\t\tthis.pendingPresence = [];\n\t\t}\n\t};\n\n\tRealtimePresence.prototype._clearMyMembers = function() {\n\t\tthis._myMembers.clear();\n\t};\n\n\tRealtimePresence.prototype._ensureMyMembersPresent = function() {\n\t\tvar self = this, members = this.members, myMembers = this._myMembers,\n\t\t\treenterCb = function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tvar msg = 'Presence auto-re-enter failed: ' + err.toString();\n\t\t\t\t\tvar wrappedErr = new errorinfo(msg, 91004, 400);\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimePresence._ensureMyMembersPresent()', msg);\n\t\t\t\t\tvar change = new channelstatechange(self.channel.state, self.channel.state, true, wrappedErr);\n\t\t\t\t\tself.channel.emit('update', change);\n\t\t\t\t}\n\t\t\t};\n\n\t\tfor(var memberKey in myMembers.map) {\n\t\t\tif(!(memberKey in members.map)) {\n\t\t\t\tvar entry = myMembers.map[memberKey];\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimePresence._ensureMyMembersPresent()', 'Auto-reentering clientId \"' + entry.clientId + '\" into the presence set');\n\t\t\t\tthis._enterOrUpdateClient(entry.clientId, entry.data, 'enter', reenterCb);\n\t\t\t\tdelete myMembers.map[memberKey];\n\t\t\t}\n\t\t}\n\t};\n\n\tRealtimePresence.prototype._synthesizeLeaves = function(items) {\n\t\tvar subscriptions = this.subscriptions;\n\t\tutils.arrForEach(items, function(item) {\n\t\t\tvar presence = presencemessage.fromValues({\n\t\t\t\taction: 'leave',\n\t\t\t\tconnectionId: item.connectionId,\n\t\t\t\tclientId: item.clientId,\n\t\t\t\tdata: item.data,\n\t\t\t\tencoding: item.encoding,\n\t\t\t\ttimestamp: utils.now()\n\t\t\t});\n\t\t\tsubscriptions.emit('leave', presence);\n\t\t});\n\t};\n\n\t/* Deprecated */\n\tRealtimePresence.prototype.on = function() {\n\t\tutil_logger.deprecated('presence.on', 'presence.subscribe');\n\t\tthis.subscribe.apply(this, arguments);\n\t};\n\n\t/* Deprecated */\n\tRealtimePresence.prototype.off = function() {\n\t\tutil_logger.deprecated('presence.off', 'presence.unsubscribe');\n\t\tthis.unsubscribe.apply(this, arguments);\n\t};\n\n\tRealtimePresence.prototype.subscribe = function(/* [event], listener, [callback] */) {\n\t\tvar args = realtimechannel.processListenerArgs(arguments);\n\t\tvar event = args[0];\n\t\tvar listener = args[1];\n\t\tvar callback = args[2];\n\t\tvar channel = this.channel;\n\t\tvar self = this;\n\n\t\tif(!callback) {\n\t\t\tif(this.channel.realtime.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'subscribe', [event, listener]);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(channel.state === 'failed') {\n\t\t\tcallback(errorinfo.fromValues(realtimechannel.invalidStateError('failed')));\n\t\t\treturn;\n\t\t}\n\n\t\tthis.subscriptions.on(event, listener);\n\t\tchannel.attach(callback);\n\t};\n\n\tRealtimePresence.prototype.unsubscribe = function(/* [event], listener */) {\n\t\tvar args = realtimechannel.processListenerArgs(arguments);\n\t\tvar event = args[0];\n\t\tvar listener = args[1];\n\t\tthis.subscriptions.off(event, listener);\n\t};\n\n\tfunction PresenceMap(presence) {\n\t\teventemitter.call(this);\n\t\tthis.presence = presence;\n\t\tthis.map = Object.create(null);\n\t\tthis.syncInProgress = false;\n\t\tthis.residualMembers = null;\n\t}\n\tutils.inherits(PresenceMap, eventemitter);\n\n\tPresenceMap.prototype.get = function(key) {\n\t\treturn this.map[key];\n\t};\n\n\tPresenceMap.prototype.getClient = function(clientId) {\n\t\tvar map = this.map, result = [];\n\t\tfor(var key in map) {\n\t\t\tvar item = map[key];\n\t\t\tif(item.clientId == clientId && item.action != 'absent')\n\t\t\t\tresult.push(item);\n\t\t}\n\t\treturn result;\n\t};\n\n\tPresenceMap.prototype.list = function(params) {\n\t\tvar map = this.map,\n\t\t\tclientId = params && params.clientId,\n\t\t\tconnectionId = params && params.connectionId,\n\t\t\tresult = [];\n\n\t\tfor(var key in map) {\n\t\t\tvar item = map[key];\n\t\t\tif(item.action === 'absent') continue;\n\t\t\tif(clientId && clientId != item.clientId) continue;\n\t\t\tif(connectionId && connectionId != item.connectionId) continue;\n\t\t\tresult.push(item);\n\t\t}\n\t\treturn result;\n\t};\n\n\tfunction newerThan(item, existing) {\n\t\t/* RTP2b1: if either is synthesised, compare by timestamp */\n\t\tif(item.isSynthesized() || existing.isSynthesized()) {\n\t\t\treturn item.timestamp > existing.timestamp;\n\t\t}\n\n\t\t/* RTP2b2 */\n\t\tvar itemOrderings = item.parseId(),\n\t\t\texistingOrderings = existing.parseId();\n\t\tif(itemOrderings.msgSerial === existingOrderings.msgSerial) {\n\t\t\treturn itemOrderings.index > existingOrderings.index;\n\t\t} else {\n\t\t\treturn itemOrderings.msgSerial > existingOrderings.msgSerial;\n\t\t}\n\t}\n\n\tPresenceMap.prototype.put = function(item) {\n\t\tif(item.action === 'enter' || item.action === 'update') {\n\t\t\titem = presencemessage.fromValues(item);\n\t\t\titem.action = 'present';\n\t\t}\n\t\tvar map = this.map, key = memberKey(item);\n\t\t/* we've seen this member, so do not remove it at the end of sync */\n\t\tif(this.residualMembers)\n\t\t\tdelete this.residualMembers[key];\n\n\t\t/* compare the timestamp of the new item with any existing member (or ABSENT witness) */\n\t\tvar existingItem = map[key];\n\t\tif(existingItem && !newerThan(item, existingItem)) {\n\t\t\treturn false;\n\t\t}\n\t\tmap[key] = item;\n\t\treturn true;\n\n\t};\n\n\tPresenceMap.prototype.values = function() {\n\t\tvar map = this.map, result = [];\n\t\tfor(var key in map) {\n\t\t\tvar item = map[key];\n\t\t\tif(item.action != 'absent')\n\t\t\t\tresult.push(item);\n\t\t}\n\t\treturn result;\n\t};\n\n\tPresenceMap.prototype.remove = function(item) {\n\t\tvar map = this.map, key = memberKey(item);\n\t\tvar existingItem = map[key];\n\n\t\tif(existingItem && !newerThan(item, existingItem)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/* RTP2f */\n\t\tif(this.syncInProgress) {\n\t\t\titem = presencemessage.fromValues(item);\n\t\t\titem.action = 'absent';\n\t\t\tmap[key] = item;\n\t\t} else {\n\t\t\tdelete map[key];\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tPresenceMap.prototype.startSync = function() {\n\t\tvar map = this.map, syncInProgress = this.syncInProgress;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'PresenceMap.startSync()', 'channel = ' + this.presence.channel.name + '; syncInProgress = ' + syncInProgress);\n\t\t/* we might be called multiple times while a sync is in progress */\n\t\tif(!this.syncInProgress) {\n\t\t\tthis.residualMembers = utils.copy(map);\n\t\t\tthis.setInProgress(true);\n\t\t}\n\t};\n\n\tPresenceMap.prototype.endSync = function() {\n\t\tvar map = this.map, syncInProgress = this.syncInProgress;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'PresenceMap.endSync()', 'channel = ' + this.presence.channel.name + '; syncInProgress = ' + syncInProgress);\n\t\tif(syncInProgress) {\n\t\t\t/* we can now strip out the ABSENT members, as we have\n\t\t\t * received all of the out-of-order sync messages */\n\t\t\tfor(var memberKey in map) {\n\t\t\t\tvar entry = map[memberKey];\n\t\t\t\tif(entry.action === 'absent') {\n\t\t\t\t\tdelete map[memberKey];\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* any members that were present at the start of the sync,\n\t\t\t * and have not been seen in sync, can be removed, and leave events emitted */\n\t\t\tthis.presence._synthesizeLeaves(utils.valuesArray(this.residualMembers));\n\t\t\tfor(var memberKey in this.residualMembers) {\n\t\t\t\tdelete map[memberKey];\n\t\t\t}\n\t\t\tthis.residualMembers = null;\n\n\t\t\t/* finish, notifying any waiters */\n\t\t\tthis.setInProgress(false);\n\t\t}\n\t\tthis.emit('sync');\n\t};\n\n\tPresenceMap.prototype.waitSync = function(callback) {\n\t\tvar syncInProgress = this.syncInProgress;\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'PresenceMap.waitSync()', 'channel = ' + this.presence.channel.name + '; syncInProgress = ' + syncInProgress);\n\t\tif(!syncInProgress) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tthis.once('sync', callback);\n\t};\n\n\tPresenceMap.prototype.clear = function(callback) {\n\t\tthis.map = {};\n\t\tthis.setInProgress(false);\n\t\tthis.residualMembers = null;\n\t};\n\n\tPresenceMap.prototype.setInProgress = function(inProgress) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'PresenceMap.setInProgress()', 'inProgress = ' + inProgress);\n\t\tthis.syncInProgress = inProgress;\n\t\tthis.presence.syncComplete = !inProgress;\n\t};\n\n\treturn RealtimePresence;\n})();\n\n/* harmony default export */ var realtimepresence = (realtimepresence_RealtimePresence);\n\n// CONCATENATED MODULE: ./common/lib/client/realtimechannel.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar realtimechannel_RealtimeChannel = (function() {\n\tvar actions = protocolmessage.Action;\n\tvar noop = function() {};\n\tvar statechangeOp = 'statechange';\n\tvar syncOp = 'sync';\n\n\t/* public constructor */\n\tfunction RealtimeChannel(realtime, name, options) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel()', 'started; name = ' + name);\n\t\tclient_channel.call(this, realtime, name, options);\n\t\tthis.realtime = realtime;\n\t\tthis.presence = new realtimepresence(this, realtime.options);\n\t\tthis.connectionManager = realtime.connection.connectionManager;\n\t\tthis.state = 'initialized';\n\t\tthis.subscriptions = new eventemitter();\n\t\tthis.syncChannelSerial = undefined;\n\t\tthis.properties = {\n\t\t\tattachSerial: undefined\n\t\t};\n\t\tthis.setOptions(options);\n\t\tthis.errorReason = null;\n\t\tthis._requestedFlags = null;\n\t\tthis._mode = null;\n\t\t/* Temporary; only used for the checkChannelsOnResume option */\n\t\tthis._attachedMsgIndicator = false;\n\t\tthis._attachResume = false;\n\t\tthis._decodingContext = {\n\t\t\tchannelOptions: this.channelOptions,\n\t\t\tplugins: realtime.options.plugins || { },\n\t\t\tbaseEncodedPreviousPayload: undefined\n\t\t};\n\t\tthis._lastPayload = {\n\t\t\tmessageId: null,\n\t\t\tprotocolMessageChannelSerial: null,\n\t\t\tdecodeFailureRecoveryInProgress: null\n\t\t};\n\t\t/* Only differences between this and the public event emitter is that this emits an\n\t\t * update event for all ATTACHEDs, whether resumed or not */\n\t\tthis._allChannelChanges = new eventemitter();\n\t}\n\tutils.inherits(RealtimeChannel, client_channel);\n\n\tRealtimeChannel.invalidStateError = function(state) {\n\t\treturn {\n\t\t\tstatusCode: 400,\n\t\t\tcode: 90001,\n\t\t\tmessage: 'Channel operation failed as channel state is ' + state\n\t\t};\n\t};\n\n\tRealtimeChannel.progressOps = {\n\t\tstatechange: statechangeOp,\n\t\tsync: syncOp\n\t};\n\n\tRealtimeChannel.processListenerArgs = function(args) {\n\t\t/* [event], listener, [callback] */\n\t\targs = Array.prototype.slice.call(args);\n\t\tif(typeof args[0] === 'function') {\n\t\t\targs.unshift(null);\n\t\t}\n\t\tif(args[args.length - 1] == undefined) {\n\t\t\targs.pop();\n\t\t}\n\t\treturn args;\n\t};\n\n\tRealtimeChannel.prototype.setOptions = function(options, callback) {\n\t\tif(!callback) {\n\t\t\tif (this.rest.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'setOptions', arguments);\n\t\t\t}\n\n\t\t\tcallback = function(err){\n\t\t\t\tif(err) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimeChannel.setOptions()', 'Set options failed: ' + err.toString());\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tvar err = validateChannelOptions(options);\n\t\tif(err) {\n\t\t\tcallback(err);\n\t\t\treturn;\n\t\t}\n\t\tclient_channel.prototype.setOptions.call(this, options);\n\t\tif (this._decodingContext)\n\t\t\tthis._decodingContext.channelOptions = this.channelOptions;\n\t\tif(this._shouldReattachToSetOptions(options)) {\n\t\t\t/* This does not just do _attach(true, null, callback) because that would put us\n\t\t\t * into the 'attaching' state until we receive the new attached, which is\n\t\t\t * conceptually incorrect: we are still attached, we just have a pending request to\n\t\t\t * change some channel params. Per RTL17 going into the attaching state would mean\n\t\t\t * rejecting messages until we have confirmation that the options have changed,\n\t\t\t * which would unnecessarily lose message continuity. */\n\t\t\tthis.attachImpl();\n\t\t\tthis._allChannelChanges.once(function(stateChange) {\n\t\t\t\tswitch(this.event) {\n\t\t\t\t\tcase 'update':\n\t\t\t\t\tcase 'attached':\n\t\t\t\t\t\tcallback(null);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcallback(stateChange.reason);\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t};\n\n\tfunction validateChannelOptions(options) {\n\t\tif(options && 'params' in options && !utils.isObject(options.params)) {\n\t\t\treturn new errorinfo('options.params must be an object', 40000, 400);\n\t\t}\n\t\tif(options && 'modes' in options){\n\t\t\tif(!utils.isArray(options.modes)){\n\t\t\t\treturn new errorinfo('options.modes must be an array', 40000, 400);\n\t\t\t}\n\t\t\tfor(var i = 0; i < options.modes.length; i++){\n\t\t\t\tvar currentMode = options.modes[i];\n\t\t\t\tif(!currentMode || typeof currentMode !== 'string' || !utils.arrIn(protocolmessage.channelModes, String.prototype.toUpperCase.call(currentMode))){\n\t\t\t\t\treturn new errorinfo('Invalid channel mode: ' + currentMode, 40000, 400);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tRealtimeChannel.prototype._shouldReattachToSetOptions = function(options) {\n\t\treturn (this.state === 'attached' || this.state === 'attaching') && (options.params || options.modes);\n\t};\n\n\tRealtimeChannel.prototype.publish = function() {\n\t\tvar argCount = arguments.length,\n\t\t\tmessages = arguments[0],\n\t\t\tcallback = arguments[argCount - 1];\n\n\t\tif(typeof(callback) !== 'function') {\n\t\t\tif(this.realtime.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'publish', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t\t++argCount;\n\t\t}\n\t\tif(!this.connectionManager.activeState()) {\n\t\t\tcallback(this.connectionManager.getError());\n\t\t\treturn;\n\t\t}\n\t\tif(argCount == 2) {\n\t\t\tif(utils.isObject(messages))\n\t\t\t\tmessages = [types_message.fromValues(messages)];\n\t\t\telse if(utils.isArray(messages))\n\t\t\t\tmessages = types_message.fromValuesArray(messages);\n\t\t\telse\n\t\t\t\tthrow new errorinfo('The single-argument form of publish() expects a message object or an array of message objects', 40013, 400);\n\t\t} else {\n\t\t\tmessages = [types_message.fromValues({name: arguments[0], data: arguments[1]})];\n\t\t}\n\t\tvar self = this,\n\t\t\tmaxMessageSize = this.realtime.options.maxMessageSize;\n\t\ttypes_message.encodeArray(messages, this.channelOptions, function(err) {\n\t\t\tif (err) {\n\t\t\t\tcallback(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/* RSL1i */\n\t\t\tvar size = types_message.getMessagesSize(messages);\n\t\t\tif(size > maxMessageSize) {\n\t\t\t\tcallback(new errorinfo('Maximum size of messages that can be published at once exceeded ( was ' + size + ' bytes; limit is ' + maxMessageSize + ' bytes)', 40009, 400));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself._publish(messages, callback);\n\t\t});\n\t};\n\n\tRealtimeChannel.prototype._publish = function(messages, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.publish()', 'message count = ' + messages.length);\n\t\tvar state = this.state;\n\t\tswitch(state) {\n\t\t\tcase 'failed':\n\t\t\tcase 'suspended':\n\t\t\t\tcallback(errorinfo.fromValues(RealtimeChannel.invalidStateError(state)));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.publish()', 'sending message; channel state is ' + state);\n\t\t\t\tvar msg = new protocolmessage();\n\t\t\t\tmsg.action = actions.MESSAGE;\n\t\t\t\tmsg.channel = this.name;\n\t\t\t\tmsg.messages = messages;\n\t\t\t\tthis.sendMessage(msg, callback);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.onEvent = function(messages) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.onEvent()', 'received message');\n\t\tvar subscriptions = this.subscriptions;\n\t\tfor(var i = 0; i < messages.length; i++) {\n\t\t\tvar message = messages[i];\n\t\t\tsubscriptions.emit(message.name, message);\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.attach = function(flags, callback) {\n\t\tif(typeof(flags) === 'function') {\n\t\t\tcallback = flags;\n\t\t\tflags = null;\n\t\t}\n\t\tif(!callback) {\n\t\t\tif(this.realtime.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'attach', arguments);\n\t\t\t}\n\t\t\tcallback = function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_MAJOR, 'RealtimeChannel.attach()', 'Channel attach failed: ' + err.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(flags) {\n\t\t\tutil_logger.deprecated('channel.attach() with flags', 'channel.setOptions() with channelOptions.params');\n\t\t\t/* If flags requested, always do a re-attach. TODO only do this if\n\t\t\t * current mode differs from requested mode */\n\t\t\tthis._requestedFlags = flags;\n\t\t} else if (this.state === 'attached') {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._attach(false, null, callback);\n\t};\n\n\tRealtimeChannel.prototype._attach = function(forceReattach, attachReason, callback) {\n\t\tif(!callback) {\n\t\t\tcallback = function(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimeChannel._attach()', 'Channel attach failed: ' + err.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar connectionManager = this.connectionManager;\n\t\tif(!connectionManager.activeState()) {\n\t\t\tcallback(connectionManager.getError());\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state !== 'attaching' || forceReattach) {\n\t\t\tthis.requestState('attaching', attachReason);\n\t\t}\n\n\t\tthis.once(function(stateChange) {\n\t\t\tswitch(this.event) {\n\t\t\t\tcase 'attached':\n\t\t\t\t\tcallback();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'detached':\n\t\t\t\tcase 'suspended':\n\t\t\t\tcase 'failed':\n\t\t\t\t\tcallback(stateChange.reason || connectionManager.getError() || new errorinfo('Unable to attach; reason unknown; state = ' + this.event, 90000, 500));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'detaching':\n\t\t\t\t\tcallback(new errorinfo('Attach request superseded by a subsequent detach request', 90000, 409));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t};\n\n\tRealtimeChannel.prototype.attachImpl = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.attachImpl()', 'sending ATTACH message');\n\t\tthis.setInProgress(statechangeOp, true);\n\t\tvar attachMsg = protocolmessage.fromValues({action: actions.ATTACH, channel: this.name, params: this.channelOptions.params});\n\t\tif(this._requestedFlags) {\n\t\t\tattachMsg.encodeModesToFlags(this._requestedFlags);\n\t\t} else if(this.channelOptions.modes) {\n\t\t\tattachMsg.encodeModesToFlags(utils.allToUpperCase(this.channelOptions.modes));\n\t\t}\n\t\tif(this._attachResume) {\n\t\t\tattachMsg.setFlag('ATTACH_RESUME');\n\t\t}\n\t\tif(this._lastPayload.decodeFailureRecoveryInProgress) {\n\t\t\tattachMsg.channelSerial = this._lastPayload.protocolMessageChannelSerial;\n\t\t}\n\t\tthis.sendMessage(attachMsg, noop);\n\t};\n\n\tRealtimeChannel.prototype.detach = function(callback) {\n\t\tif(!callback) {\n\t\t\tif(this.realtime.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'detach', arguments);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\t\tvar connectionManager = this.connectionManager;\n\t\tif(!connectionManager.activeState()) {\n\t\t\tcallback(connectionManager.getError());\n\t\t\treturn;\n\t\t}\n\t\tswitch(this.state) {\n                        case 'suspended':\n                                this.notifyState('detached');\n                                callback();\n                                break;\n\t\t\tcase 'detached':\n\t\t\t\tcallback();\n\t\t\t\tbreak;\n\t\t\tcase 'failed':\n\t\t\t\tcallback(new errorinfo('Unable to detach; channel state = failed', 90001, 400));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.requestState('detaching');\n\t\t\tcase 'detaching':\n\t\t\t\tthis.once(function(stateChange) {\n\t\t\t\t\tswitch(this.event) {\n\t\t\t\t\t\tcase 'detached':\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attached':\n\t\t\t\t\t\tcase 'suspended':\n\t\t\t\t\t\tcase 'failed':\n\t\t\t\t\t\t\tcallback(stateChange.reason || connectionManager.getError() || new errorinfo('Unable to detach; reason unknown; state = ' + this.event, 90000, 500));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attaching':\n\t\t\t\t\t\t\tcallback(new errorinfo('Detach request superseded by a subsequent attach request', 90000, 409));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.detachImpl = function(callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.detach()', 'sending DETACH message');\n\t\tthis.setInProgress(statechangeOp, true);\n\t\tvar msg = protocolmessage.fromValues({action: actions.DETACH, channel: this.name});\n\t\tthis.sendMessage(msg, (callback || noop));\n\t};\n\n\tRealtimeChannel.prototype.subscribe = function(/* [event], listener, [callback] */) {\n\t\tvar args = RealtimeChannel.processListenerArgs(arguments);\n\t\tvar event = args[0];\n\t\tvar listener = args[1];\n\t\tvar callback = args[2];\n\n\t\tif(!callback) {\n\t\t\tif(this.realtime.options.promises) {\n\t\t\t\treturn utils.promisify(this, 'subscribe', [event, listener]);\n\t\t\t}\n\t\t\tcallback = noop;\n\t\t}\n\n\t\tif(this.state === 'failed') {\n\t\t\tcallback(errorinfo.fromValues(RealtimeChannel.invalidStateError('failed')));\n\t\t\treturn;\n\t\t}\n\n\t\tthis.subscriptions.on(event, listener);\n\n\t\treturn this.attach(callback);\n\t};\n\n\tRealtimeChannel.prototype.unsubscribe = function(/* [event], listener */) {\n\t\tvar args = RealtimeChannel.processListenerArgs(arguments);\n\t\tvar event = args[0];\n\t\tvar listener = args[1];\n\t\tthis.subscriptions.off(event, listener);\n\t};\n\n\tRealtimeChannel.prototype.sync = function() {\n\t\t/* check preconditions */\n\t\tswitch(this.state) {\n\t\t\tcase 'initialized':\n\t\t\tcase 'detaching':\n\t\t\tcase 'detached':\n\t\t\t\tthrow new errorinfo(\"Unable to sync to channel; not attached\", 40000);\n\t\t\tdefault:\n\t\t}\n\t\tvar connectionManager = this.connectionManager;\n\t\tif(!connectionManager.activeState()) {\n\t\t\tthrow connectionManager.getError();\n\t\t}\n\n\t\t/* send sync request */\n\t\tvar syncMessage = protocolmessage.fromValues({action: actions.SYNC, channel: this.name});\n\t\tif(this.syncChannelSerial) {\n\t\t\tsyncMessage.channelSerial = this.syncChannelSerial;\n\t\t}\n\t\tconnectionManager.send(syncMessage);\n\t};\n\n\tRealtimeChannel.prototype.sendMessage = function(msg, callback) {\n\t\tthis.connectionManager.send(msg, this.realtime.options.queueMessages, callback);\n\t};\n\n\tRealtimeChannel.prototype.sendPresence = function(presence, callback) {\n\t\tvar msg = protocolmessage.fromValues({\n\t\t\taction: actions.PRESENCE,\n\t\t\tchannel: this.name,\n\t\t\tpresence: (utils.isArray(presence) ?\n\t\t\t\tpresencemessage.fromValuesArray(presence) :\n\t\t\t\t[presencemessage.fromValues(presence)])\n\t\t});\n\t\tthis.sendMessage(msg, callback);\n\t};\n\n\tRealtimeChannel.prototype.onMessage = function(message) {\n\t\tvar syncChannelSerial, isSync = false;\n\t\tswitch(message.action) {\n\t\tcase actions.ATTACHED:\n\t\t\tthis._attachedMsgIndicator = true;\n\t\t\tthis.properties.attachSerial = message.channelSerial;\n\t\t\tthis._mode = message.getMode();\n\t\t\tthis.params = message.params || {};\n\t\t\tvar modesFromFlags = message.decodeModesFromFlags();\n\t\t\tthis.modes = (modesFromFlags && utils.allToLowerCase(modesFromFlags)) || undefined;\n\t\t\tvar resumed = message.hasFlag('RESUMED');\n\t\t\tvar hasPresence = message.hasFlag('HAS_PRESENCE');\n\t\t\tif(this.state === 'attached') {\n\t\t\t\t/* attached operations to change options set the inprogress mutex, but leave\n\t\t\t\t * channel in the attached state */\n\t\t\t\tthis.setInProgress(statechangeOp, false);\n\t\t\t\tif(!resumed) {\n\t\t\t\t\t/* On a loss of continuity, the presence set needs to be re-synced */\n\t\t\t\t\tthis.presence.onAttached(hasPresence);\n\t\t\t\t}\n\t\t\t\tvar change = new channelstatechange(this.state, this.state, resumed, message.error);\n\t\t\t\tthis._allChannelChanges.emit('update', change);\n\t\t\t\tif(!resumed || this.channelOptions.updateOnAttached) {\n\t\t\t\t\tthis.emit('update', change);\n\t\t\t\t}\n\t\t\t} else if(this.state === 'detaching') {\n\t\t\t\t/* RTL5i: re-send DETACH and remain in the 'detaching' state */\n\t\t\t\tthis.checkPendingState();\n\t\t\t} else {\n\t\t\t\tthis.notifyState('attached', message.error, resumed, hasPresence);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase actions.DETACHED:\n\t\t\tvar err = message.error ? errorinfo.fromValues(message.error) : new errorinfo('Channel detached', 90001, 404);\n\t\t\tif(this.state === 'detaching') {\n                                if (this.connectionManager.mostRecentMsg && this.connectionManager.mostRecentMsg.channel === this.name) {\n                                  this.connectionManager.mostRecentMsg = null;\n                                }\n\t\t\t\tthis.notifyState('detached', err);\n\t\t\t} else if(this.state === 'attaching') {\n\t\t\t\t/* Only retry immediately if we were previously attached. If we were\n\t\t\t\t * attaching, go into suspended, fail messages, and wait a few seconds\n\t\t\t\t * before retrying */\n\t\t\t\tthis.notifyState('suspended', err);\n\t\t\t} else {\n\t\t\t\tthis.requestState('attaching', err);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase actions.SYNC:\n\t\t\t/* syncs can have channelSerials, but might not if the sync is one page long */\n\t\t\tisSync = true;\n\t\t\tsyncChannelSerial = this.syncChannelSerial = message.channelSerial;\n\t\t\t/* syncs can happen on channels with no presence data as part of connection\n\t\t\t * resuming, in which case protocol message has no presence property */\n\t\t\tif(!message.presence) break;\n\t\tcase actions.PRESENCE:\n\t\t\tvar presence = message.presence,\n\t\t\t\tid = message.id,\n\t\t\t\tconnectionId = message.connectionId,\n\t\t\t\ttimestamp = message.timestamp;\n\n\t\t\tvar options = this.channelOptions;\n\t\t\tfor(var i = 0; i < presence.length; i++) {\n\t\t\t\ttry {\n\t\t\t\t\tvar presenceMsg = presence[i];\n\t\t\t\t\tpresencemessage.decode(presenceMsg, options);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimeChannel.onMessage()', e.toString());\n\t\t\t\t}\n\t\t\t\tif(!presenceMsg.connectionId) presenceMsg.connectionId = connectionId;\n\t\t\t\tif(!presenceMsg.timestamp) presenceMsg.timestamp = timestamp;\n\t\t\t\tif(!presenceMsg.id) presenceMsg.id = id + ':' + i;\n\t\t\t}\n\t\t\tthis.presence.setPresence(presence, isSync, syncChannelSerial);\n\t\t\tbreak;\n\n\t\tcase actions.MESSAGE:\n\n\t\t\t//RTL17\n\t\t\tif(this.state !== 'attached') {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MAJOR, 'RealtimeChannel.onMessage()', 'Message \"' + message.id + '\" skipped as this channel \"' + this.name + '\" state is not \"attached\" (state is \"' + this.state + '\").');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar messages = message.messages,\n\t\t\t\tfirstMessage = messages[0],\n\t\t\t\tlastMessage = messages[messages.length - 1],\n\t\t\t\tid = message.id,\n\t\t\t\tconnectionId = message.connectionId,\n\t\t\t\ttimestamp = message.timestamp;\n\n\t\t\tif(firstMessage.extras && firstMessage.extras.delta && firstMessage.extras.delta.from !== this._lastPayload.messageId) {\n\t\t\t\tvar msg = 'Delta message decode failure - previous message not available for message \"' + message.id + '\" on this channel \"' + this.name + '\".';\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimeChannel.onMessage()', msg);\n\t\t\t\tthis._startDecodeFailureRecovery(new errorinfo(msg, 40018, 400));\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < messages.length; i++) {\n\t\t\t\tvar msg = messages[i];\n\t\t\t\ttry {\n\t\t\t\t\ttypes_message.decode(msg, this._decodingContext);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t/* decrypt failed .. the most likely cause is that we have the wrong key */\n\t\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimeChannel.onMessage()', e.toString());\n\t\t\t\t\tswitch(e.code) {\n\t\t\t\t\t\tcase 40018:\n\t\t\t\t\t\t\t/* decode failure */\n\t\t\t\t\t\t\tthis._startDecodeFailureRecovery(e);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase 40019:\n\t\t\t\t\t\t\t/* No vcdiff plugin passed in - no point recovering, give up */\n\t\t\t\t\t\tcase 40021:\n\t\t\t\t\t\t\t/* Browser does not support deltas, similarly no point recovering */\n\t\t\t\t\t\t\tthis.notifyState('failed', e);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!msg.connectionId) msg.connectionId = connectionId;\n\t\t\t\tif(!msg.timestamp) msg.timestamp = timestamp;\n\t\t\t\tif(!msg.id) msg.id = id + ':' + i;\n\t\t\t}\n\t\t\tthis._lastPayload.messageId = lastMessage.id;\n\t\t\tthis._lastPayload.protocolMessageChannelSerial = message.channelSerial;\n\t\t\tthis.onEvent(messages);\n\t\t\tbreak;\n\n\t\tcase actions.ERROR:\n\t\t\t/* there was a channel-specific error */\n\t\t\tvar err = message.error;\n\t\t\tif(err && err.code == 80016) {\n\t\t\t\t/* attach/detach operation attempted on superseded transport handle */\n\t\t\t\tthis.checkPendingState();\n\t\t\t} else {\n\t\t\t\tthis.notifyState('failed', errorinfo.fromValues(err));\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'RealtimeChannel.onMessage()', 'Fatal protocol error: unrecognised action (' + message.action + ')');\n\t\t\tthis.connectionManager.abort(connectionerror.unknownChannelErr);\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype._startDecodeFailureRecovery = function(reason) {\n\t\tvar self = this;\n\t\tif(!this._lastPayload.decodeFailureRecoveryInProgress) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MAJOR, 'RealtimeChannel.onMessage()', 'Starting decode failure recovery process.');\n\t\t\tthis._lastPayload.decodeFailureRecoveryInProgress = true;\n\t\t\tthis._attach(true, reason, function() {\n\t\t\t\tself._lastPayload.decodeFailureRecoveryInProgress = false;\n\t\t\t});\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.onAttached = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel.onAttached', 'activating channel; name = ' + this.name);\n\t};\n\n\tRealtimeChannel.prototype.notifyState = function(state, reason, resumed, hasPresence) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.notifyState', 'name = ' + this.name + ', current state = ' + this.state + ', notifying state ' + state);\n\t\tthis.clearStateTimer();\n\n\t\tif(state === this.state) {\n\t\t\treturn;\n\t\t}\n\t\tthis.presence.actOnChannelState(state, hasPresence, reason);\n\t\tif(state === 'suspended' && this.connectionManager.state.sendEvents) {\n\t\t\tthis.startRetryTimer();\n\t\t} else {\n\t\t\tthis.cancelRetryTimer();\n\t\t}\n\t\tif(reason) {\n\t\t\tthis.errorReason = reason;\n\t\t}\n\t\tvar change = new channelstatechange(this.state, state, resumed, reason);\n\t\tvar logLevel = state === 'failed' ? util_logger.LOG_ERROR : util_logger.LOG_MAJOR;\n\t\tutil_logger.logAction(logLevel, 'Channel state for channel \"' + this.name + '\"', state + (reason ? ('; reason: ' + reason) : ''));\n\n\t\t/* Note: we don't set inProgress for pending states until the request is actually in progress */\n\t\tif(state === 'attached') {\n\t\t\tthis.onAttached();\n\t\t\tthis.setInProgress(syncOp, hasPresence);\n\t\t\tthis.setInProgress(statechangeOp, false);\n\t\t} else if(state === 'detached' || state === 'failed' || state === 'suspended') {\n\t\t\tthis.setInProgress(statechangeOp, false);\n\t\t\tthis.setInProgress(syncOp, false);\n\t\t}\n\n\t\tif(state === 'attached') {\n\t\t\tthis._attachResume = true;\n\t\t} else if(state === 'detaching' || state === 'failed') {\n\t\t\tthis._attachResume = false;\n\t\t}\n\n\t\tthis.state = state;\n\t\tthis._allChannelChanges.emit(state, change);\n\t\tthis.emit(state, change);\n\t};\n\n\tRealtimeChannel.prototype.requestState = function(state, reason) {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel.requestState', 'name = ' + this.name + ', state = ' + state);\n\t\tthis.notifyState(state, reason);\n\t\t/* send the event and await response */\n\t\tthis.checkPendingState();\n\t};\n\n\tRealtimeChannel.prototype.checkPendingState = function() {\n\t\t/* if can't send events, do nothing */\n\t\tvar cmState = this.connectionManager.state;\n\t\t/* Allow attach messages to queue up when synchronizing, since this will be\n\t\t * the state we'll be in when upgrade transport.active triggers a checkpendingstate */\n\t\tif(!(cmState.sendEvents || cmState.forceQueueEvents)) {\n\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel.checkPendingState', 'sendEvents is false; state is ' + this.connectionManager.state.state);\n\t\t\treturn;\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel.checkPendingState', 'name = ' + this.name + ', state = ' + this.state);\n\t\t/* Only start the state timer running when actually sending the event */\n\t\tswitch(this.state) {\n\t\t\tcase 'attaching':\n\t\t\t\tthis.startStateTimerIfNotRunning();\n\t\t\t\tthis.attachImpl();\n\t\t\t\tbreak;\n\t\t\tcase 'detaching':\n\t\t\t\tthis.startStateTimerIfNotRunning();\n\t\t\t\tthis.detachImpl();\n\t\t\t\tbreak;\n\t\t\tcase 'attached':\n\t\t\t\t/* resume any sync operation that was in progress */\n\t\t\t\tthis.sync();\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.timeoutPendingState = function() {\n\t\tswitch(this.state) {\n\t\t\tcase 'attaching':\n\t\t\t\tvar err = new errorinfo('Channel attach timed out', 90007, 408);\n\t\t\t\tthis.notifyState('suspended', err);\n\t\t\t\tbreak;\n\t\t\tcase 'detaching':\n\t\t\t\tvar err = new errorinfo('Channel detach timed out', 90007, 408);\n\t\t\t\tthis.notifyState('attached', err);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.checkPendingState();\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.startStateTimerIfNotRunning = function() {\n\t\tvar self = this;\n\t\tif(!this.stateTimer) {\n\t\t\tthis.stateTimer = setTimeout(function() {\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel.startStateTimerIfNotRunning', 'timer expired');\n\t\t\t\tself.stateTimer = null;\n\t\t\t\tself.timeoutPendingState();\n\t\t\t}, this.realtime.options.timeouts.realtimeRequestTimeout);\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.clearStateTimer = function() {\n\t\tvar stateTimer = this.stateTimer;\n\t\tif(stateTimer) {\n\t\t\tclearTimeout(stateTimer);\n\t\t\tthis.stateTimer = null;\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.startRetryTimer = function() {\n\t\tvar self = this;\n\t\tif(this.retryTimer) return;\n\n\t\tthis.retryTimer = setTimeout(function() {\n\t\t\t/* If connection is not connected, just leave in suspended, a reattach\n\t\t\t * will be triggered once it connects again */\n\t\t\tif(self.state === 'suspended' && self.connectionManager.state.sendEvents) {\n\t\t\t\tself.retryTimer = null;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'RealtimeChannel retry timer expired', 'attempting a new attach');\n\t\t\t\tself.requestState('attaching');\n\t\t\t}\n\t\t}, this.realtime.options.timeouts.channelRetryTimeout);\n\t};\n\n\tRealtimeChannel.prototype.cancelRetryTimer = function() {\n\t\tif(this.retryTimer) {\n\t\t\tclearTimeout(this.retryTimer);\n\t\t\tthis.suspendTimer = null;\n\t\t}\n\t};\n\n\tRealtimeChannel.prototype.setInProgress = function(operation, value) {\n\t\tthis.rest.channels.setInProgress(this, operation, value);\n\t};\n\n\tRealtimeChannel.prototype.history = function(params, callback) {\n\t\tutil_logger.logAction(util_logger.LOG_MICRO, 'RealtimeChannel.history()', 'channel = ' + this.name);\n\t\t/* params and callback are optional; see if params contains the callback */\n\t\tif(callback === undefined) {\n\t\t\tif(typeof(params) == 'function') {\n\t\t\t\tcallback = params;\n\t\t\t\tparams = null;\n\t\t\t} else {\n\t\t\t\tif(this.rest.options.promises) {\n\t\t\t\t\treturn utils.promisify(this, 'history', arguments);\n\t\t\t\t}\n\t\t\t\tcallback = noop;\n\t\t\t}\n\t\t}\n\n\t\tif(params && params.untilAttach) {\n\t\t\tif(this.state !== 'attached') {\n\t\t\t\tcallback(new errorinfo(\"option untilAttach requires the channel to be attached\", 40000, 400));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!this.properties.attachSerial) {\n\t\t\t\tcallback(new errorinfo(\"untilAttach was specified and channel is attached, but attachSerial is not defined\", 40000, 400));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdelete params.untilAttach;\n\t\t\tparams.from_serial = this.properties.attachSerial;\n\t\t}\n\n\t\tclient_channel.prototype._history.call(this, params, callback);\n\t};\n\n\tRealtimeChannel.prototype.whenState = function(state, listener) {\n\t\treturn eventemitter.prototype.whenState.call(this, state, this.state, listener);\n\t}\n\n\t/* @returns null (if can safely be released) | ErrorInfo (if cannot) */\n\tRealtimeChannel.prototype.getReleaseErr = function() {\n\t\tvar s = this.state;\n\t\tif(s === 'initialized' || s === 'detached' || s === 'failed') {\n\t\t\treturn null;\n\t\t}\n\t\treturn new errorinfo('Can only release a channel in a state where there is no possibility of further updates from the server being received (initialized, detached, or failed); was ' + s, 90001, 400);\n\t}\n\n\treturn RealtimeChannel;\n})();\n\n/* harmony default export */ var realtimechannel = (realtimechannel_RealtimeChannel);\n\n// CONCATENATED MODULE: ./common/lib/client/realtime.js\n\n\n\n\n\n\n\n\n\n\nvar realtime_Realtime = (function() {\n\n\tfunction Realtime(options) {\n\t\tif(!(this instanceof Realtime)){\n\t\t\treturn new Realtime(options);\n\t\t}\n\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Realtime()', '');\n\t\tclient_rest.call(this, options);\n\t\tthis.connection = new client_connection(this, this.options);\n\t\tthis.channels = new Channels(this);\n\t\tif(options.autoConnect !== false)\n\t\t\tthis.connect();\n\t}\n\tutils.inherits(Realtime, client_rest);\n\n\tRealtime.prototype.connect = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Realtime.connect()', '');\n\t\tthis.connection.connect();\n\t};\n\n\tRealtime.prototype.close = function() {\n\t\tutil_logger.logAction(util_logger.LOG_MINOR, 'Realtime.close()', '');\n\t\tthis.connection.close();\n\t};\n\n\tfunction Channels(realtime) {\n\t\teventemitter.call(this);\n\t\tthis.realtime = realtime;\n\t\tthis.all = Object.create(null);\n\t\tthis.inProgress = Object.create(null);\n\t\tvar self = this;\n\t\trealtime.connection.connectionManager.on('transport.active', function() {\n\t\t\tself.onTransportActive();\n\t\t});\n\t}\n\tutils.inherits(Channels, eventemitter);\n\n\tChannels.prototype.onChannelMessage = function(msg) {\n\t\tvar channelName = msg.channel;\n\t\tif(channelName === undefined) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Channels.onChannelMessage()', 'received event unspecified channel, action = ' + msg.action);\n\t\t\treturn;\n\t\t}\n\t\tvar channel = this.all[channelName];\n\t\tif(!channel) {\n\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Channels.onChannelMessage()', 'received event for non-existent channel: ' + channelName);\n\t\t\treturn;\n\t\t}\n\t\tchannel.onMessage(msg);\n\t};\n\n\t/* called when a transport becomes connected; reattempt attach/detach\n\t * for channels that are attaching or detaching.\n\t * Note that this does not use inProgress as inProgress is only channels which have already made\n\t* at least one attempt to attach/detach */\n\tChannels.prototype.onTransportActive = function() {\n\t\tfor(var channelName in this.all) {\n\t\t\tvar channel = this.all[channelName];\n\t\t\tif(channel.state === 'attaching' || channel.state === 'detaching') {\n\t\t\t\tchannel.checkPendingState();\n\t\t\t} else if(channel.state === 'suspended') {\n\t\t\t\tchannel.attach();\n\t\t\t}\n\t\t}\n\t};\n\n\tChannels.prototype.reattach = function(reason) {\n\t\tfor(var channelId in this.all) {\n\t\t\tvar channel = this.all[channelId];\n\t\t\t/* NB this should not trigger for merely attaching channels, as they will\n\t\t\t * be reattached anyway through the onTransportActive checkPendingState */\n\t\t\tif(channel.state === 'attached') {\n\t\t\t\tchannel.requestState('attaching', reason);\n\t\t\t}\n\t\t}\n\t};\n\n\tChannels.prototype.resetAttachedMsgIndicators = function() {\n\t\tfor(var channelId in this.all) {\n\t\t\tvar channel = this.all[channelId];\n\t\t\tif(channel.state === 'attached') {\n\t\t\tchannel._attachedMsgIndicator = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tChannels.prototype.checkAttachedMsgIndicators = function(connectionId) {\n\t\tfor(var channelId in this.all) {\n\t\t\tvar channel = this.all[channelId];\n\t\t\tif(channel.state === 'attached' && channel._attachedMsgIndicator === false) {\n\t\t\t\tvar msg = '30s after a resume, found channel which has not received an attached; channelId = ' + channelId + '; connectionId = ' + connectionId;\n\t\t\t\tutil_logger.logAction(util_logger.LOG_ERROR, 'Channels.checkAttachedMsgIndicators()', msg);\n\t\t\t\terrorreporter.report('error', msg, 'channel-no-attached-after-resume');\n\t\t\t\tchannel.requestState('attaching');\n\t\t\t};\n\t\t}\n\t};\n\n\t/* Connection interruptions (ie when the connection will no longer queue\n\t * events) imply connection state changes for any channel which is either\n\t * attached, pending, or will attempt to become attached in the future */\n\tChannels.prototype.propogateConnectionInterruption = function(connectionState, reason) {\n\t\tvar connectionStateToChannelState = {\n\t\t\t'closing'  : 'detached',\n\t\t\t'closed'   : 'detached',\n\t\t\t'failed'   : 'failed',\n\t\t\t'suspended': 'suspended'\n\t\t};\n\t\tvar fromChannelStates = ['attaching', 'attached', 'detaching', 'suspended'];\n\t\tvar toChannelState = connectionStateToChannelState[connectionState];\n\n\t\tfor(var channelId in this.all) {\n\t\t\tvar channel = this.all[channelId];\n\t\t\tif(utils.arrIn(fromChannelStates, channel.state)) {\n\t\t\t\t channel.notifyState(toChannelState, reason);\n\t\t\t}\n\t\t}\n\t};\n\n\tChannels.prototype.get = function(name, channelOptions) {\n\t\tname = String(name);\n\t\tvar channel = this.all[name];\n\t\tif(!channel) {\n\t\t\tchannel = this.all[name] = new realtimechannel(this.realtime, name, channelOptions);\n\t\t} else if(channelOptions) {\n\t\t\tif (channel._shouldReattachToSetOptions(channelOptions)) {\n\t\t\t\tthrow new errorinfo(\"Channels.get() cannot be used to set channel options that would cause the channel to reattach. Please, use RealtimeChannel.setOptions() instead.\", 40000, 400);\n\t\t\t}\n\t\t\tchannel.setOptions(channelOptions);\n\t\t}\n\t\treturn channel;\n\t};\n\n\t/* Included to support certain niche use-cases; most users should ignore this.\n\t * Please do not use this unless you know what you're doing */\n\tChannels.prototype.release = function(name) {\n\t\tname = String(name);\n\t\tvar channel = this.all[name];\n\t\tif(!channel) {\n\t\t\treturn;\n\t\t}\n\t\tvar releaseErr = channel.getReleaseErr();\n\t\tif(releaseErr) {\n\t\t\tthrow releaseErr;\n\t\t}\n\t\tdelete this.all[name];\n\t\tdelete this.inProgress[name];\n\t};\n\n\t/* Records operations currently pending on a transport; used by connectionManager to decide when\n\t * it's safe to upgrade. Note that a channel might be in the attaching state without any pending\n\t * operations (eg if attached while the connection state is connecting) - such a channel must not\n\t * hold up an upgrade, so is not considered inProgress.\n\t * Operation is currently one of either 'statechange' or 'sync' */\n\tChannels.prototype.setInProgress = function(channel, operation, inProgress) {\n\t\tthis.inProgress[channel.name] = this.inProgress[channel.name] || {};\n\t\tthis.inProgress[channel.name][operation] = inProgress;\n\t\tif(!inProgress && this.hasNopending()) {\n\t\t\tthis.emit('nopending');\n\t\t}\n\t};\n\n\tChannels.prototype.onceNopending = function(listener) {\n\t\tif(this.hasNopending()) {\n\t\t\tlistener();\n\t\t\treturn;\n\t\t}\n\t\tthis.once('nopending', listener);\n\t};\n\n\tChannels.prototype.hasNopending = function() {\n\t\treturn utils.arrEvery(utils.valuesArray(this.inProgress, true), function(operations) {\n\t\t\treturn !utils.containsValue(operations, true);\n\t\t});\n\t};\n\n\treturn Realtime;\n})();\n\nrealtime_Realtime.Promise = function(options) {\n\toptions = util_defaults.objectifyOptions(options);\n\toptions.promises = true;\n\treturn new realtime_Realtime(options);\n};\n\nrealtime_Realtime.Callbacks = realtime_Realtime;\n\n/* harmony default export */ var client_realtime = (realtime_Realtime);\n\n// CONCATENATED MODULE: ./browser/lib/util/msgpack.js\nvar msgpack_msgpack = (function() {\n\t\"use strict\";\n\n\tvar exports = {};\n\n\texports.inspect = inspect;\n\tfunction inspect(buffer) {\n\t\tif (buffer === undefined)\n\t\t\treturn \"undefined\";\n\t\tvar view;\n\t\tvar type;\n\t\tif ( buffer instanceof ArrayBuffer) {\n\t\t\ttype = \"ArrayBuffer\";\n\t\t\tview = new DataView(buffer);\n\t\t} else if ( buffer instanceof DataView) {\n\t\t\ttype = \"DataView\";\n\t\t\tview = buffer;\n\t\t}\n\t\tif (!view)\n\t\t\treturn JSON.stringify(buffer);\n\t\tvar bytes = [];\n\t\tfor (var i = 0; i < buffer.byteLength; i++) {\n\t\t\tif (i > 20) {\n\t\t\t\tbytes.push(\"...\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar byte_ = view.getUint8(i).toString(16);\n\t\t\tif (byte_.length === 1)\n\t\t\t\tbyte_ = \"0\" + byte_;\n\t\t\tbytes.push(byte_);\n\t\t}\n\t\treturn \"<\" + type + \" \" + bytes.join(\" \") + \">\";\n\t}\n\n\t// Encode string as utf8 into dataview at offset\n\texports.utf8Write = utf8Write;\n\tfunction utf8Write(view, offset, string) {\n\t\tvar byteLength = view.byteLength;\n\t\tfor (var i = 0, l = string.length; i < l; i++) {\n\t\t\tvar codePoint = string.charCodeAt(i);\n\n\t\t\t// One byte of UTF-8\n\t\t\tif (codePoint < 0x80) {\n\t\t\t\tview.setUint8(offset++, codePoint >>> 0 & 0x7f | 0x00);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Two bytes of UTF-8\n\t\t\tif (codePoint < 0x800) {\n\t\t\t\tview.setUint8(offset++, codePoint >>> 6 & 0x1f | 0xc0);\n\t\t\t\tview.setUint8(offset++, codePoint >>> 0 & 0x3f | 0x80);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Three bytes of UTF-8.\n\t\t\tif (codePoint < 0x10000) {\n\t\t\t\tview.setUint8(offset++, codePoint >>> 12 & 0x0f | 0xe0);\n\t\t\t\tview.setUint8(offset++, codePoint >>> 6 & 0x3f | 0x80);\n\t\t\t\tview.setUint8(offset++, codePoint >>> 0 & 0x3f | 0x80);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Four bytes of UTF-8\n\t\t\tif (codePoint < 0x110000) {\n\t\t\t\tview.setUint8(offset++, codePoint >>> 18 & 0x07 | 0xf0);\n\t\t\t\tview.setUint8(offset++, codePoint >>> 12 & 0x3f | 0x80);\n\t\t\t\tview.setUint8(offset++, codePoint >>> 6 & 0x3f | 0x80);\n\t\t\t\tview.setUint8(offset++, codePoint >>> 0 & 0x3f | 0x80);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(\"bad codepoint \" + codePoint);\n\t\t}\n\t}\n\n\n\texports.utf8Read = utf8Read;\n\tfunction utf8Read(view, offset, length) {\n\t\tvar string = \"\";\n\t\tfor (var i = offset, end = offset + length; i < end; i++) {\n\t\t\tvar byte_ = view.getUint8(i);\n\t\t\t// One byte character\n\t\t\tif ((byte_ & 0x80) === 0x00) {\n\t\t\t\tstring += String.fromCharCode(byte_);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// Two byte character\n\t\t\tif ((byte_ & 0xe0) === 0xc0) {\n\t\t\t\tstring += String.fromCharCode(((byte_ & 0x0f) << 6) | (view.getUint8(++i) & 0x3f));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// Three byte character\n\t\t\tif ((byte_ & 0xf0) === 0xe0) {\n\t\t\t\tstring += String.fromCharCode(((byte_ & 0x0f) << 12) | ((view.getUint8(++i) & 0x3f) << 6) | ((view.getUint8(++i) & 0x3f) << 0));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// Four byte character\n\t\t\tif ((byte_ & 0xf8) === 0xf0) {\n\t\t\t\tstring += String.fromCharCode(((byte_ & 0x07) << 18) | ((view.getUint8(++i) & 0x3f) << 12) | ((view.getUint8(++i) & 0x3f) << 6) | ((view.getUint8(++i) & 0x3f) << 0));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(\"Invalid byte \" + byte_.toString(16));\n\t\t}\n\t\treturn string;\n\t}\n\n\n\texports.utf8ByteCount = utf8ByteCount;\n\tfunction utf8ByteCount(string) {\n\t\tvar count = 0;\n\t\tfor (var i = 0, l = string.length; i < l; i++) {\n\t\t\tvar codePoint = string.charCodeAt(i);\n\t\t\tif (codePoint < 0x80) {\n\t\t\t\tcount += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (codePoint < 0x800) {\n\t\t\t\tcount += 2;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (codePoint < 0x10000) {\n\t\t\t\tcount += 3;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (codePoint < 0x110000) {\n\t\t\t\tcount += 4;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(\"bad codepoint \" + codePoint);\n\t\t}\n\t\treturn count;\n\t}\n\n\n\texports.encode = function(value, sparse) {\n\t\tvar size = sizeof(value, sparse);\n\t\tif(size == 0)\n\t\t\treturn undefined;\n\t\tvar buffer = new ArrayBuffer(size);\n\t\tvar view = new DataView(buffer);\n\t\tencode(value, view, 0, sparse);\n\t\treturn buffer;\n\t};\n\n\texports.decode = decode;\n\n\tvar SH_L_32 = (1 << 16) * (1 << 16), SH_R_32 = 1 / SH_L_32;\n\tfunction getInt64(view, offset) {\n\t\toffset = offset || 0;\n\t\treturn view.getInt32(offset) * SH_L_32 + view.getUint32(offset + 4);\n\t}\n\n\tfunction getUint64(view, offset) {\n\t\toffset = offset || 0;\n\t\treturn view.getUint32(offset) * SH_L_32 + view.getUint32(offset + 4);\n\t}\n\n\tfunction setInt64(view, offset, val) {\n\t\tif (val < 0x8000000000000000) {\n\t\t\tview.setInt32(offset, Math.floor(val * SH_R_32));\n\t\t\tview.setInt32(offset + 4, val & -1);\n\t\t} else {\n\t\t\tview.setUint32(offset, 0x7fffffff);\n\t\t\tview.setUint32(offset + 4, 0x7fffffff);\n\t\t}\n\t}\n\n\tfunction setUint64(view, offset, val) {\n\t\tif (val < 0x10000000000000000) {\n\t\t\tview.setUint32(offset, Math.floor(val * SH_R_32));\n\t\t\tview.setInt32(offset + 4, val & -1);\n\t\t} else {\n\t\t\tview.setUint32(offset, 0xffffffff);\n\t\t\tview.setUint32(offset + 4, 0xffffffff);\n\t\t}\n\t}\n\n// https://gist.github.com/frsyuki/5432559 - v5 spec\n//\n// I've used one extension point from `fixext 1` to store `undefined`. On the wire this\n// should translate to exactly 0xd40000\n//\n// +--------+--------+--------+\n// |  0xd4  |  0x00  |  0x00  |\n// +--------+--------+--------+\n//    ^ fixext |        ^ value part unused (fixed to be 0)\n//             ^ indicates undefined value\n//\n\n\tfunction Decoder(view, offset) {\n\t\tthis.offset = offset || 0;\n\t\tthis.view = view;\n\t}\n\n\n\tDecoder.prototype.map = function(length) {\n\t\tvar value = {};\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tvar key = this.parse();\n\t\t\tvalue[key] = this.parse();\n\t\t}\n\t\treturn value;\n\t};\n\n\tDecoder.prototype.bin = Decoder.prototype.buf = function(length) {\n\t\tvar value = new ArrayBuffer(length);\n\t\t(new Uint8Array(value)).set(new Uint8Array(this.view.buffer, this.offset, length), 0);\n\t\tthis.offset += length;\n\t\treturn value;\n\t};\n\n\tDecoder.prototype.str = function(length) {\n\t\tvar value = utf8Read(this.view, this.offset, length);\n\t\tthis.offset += length;\n\t\treturn value;\n\t};\n\n\tDecoder.prototype.array = function(length) {\n\t\tvar value = new Array(length);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tvalue[i] = this.parse();\n\t\t}\n\t\treturn value;\n\t};\n\n\tDecoder.prototype.ext = function(length) {\n\t\tvar value = {};\n\t\t// Get the type byte\n\t\tvalue['type'] = this.view.getInt8(this.offset);\n\t\tthis.offset++;\n\t\t// Get the data array (length)\n\t\tvalue['data'] = this.buf(length);\n\t\tthis.offset += length;\n\t\treturn value;\n\t};\n\n\tDecoder.prototype.parse = function() {\n\t\tvar type = this.view.getUint8(this.offset);\n\t\tvar value, length;\n\n\t\t// Positive FixInt - 0xxxxxxx\n\t\tif ((type & 0x80) === 0x00) {\n\t\t\tthis.offset++;\n\t\t\treturn type;\n\t\t}\n\n\t\t// FixMap - 1000xxxx\n\t\tif ((type & 0xf0) === 0x80) {\n\t\t\tlength = type & 0x0f;\n\t\t\tthis.offset++;\n\t\t\treturn this.map(length);\n\t\t}\n\n\t\t// FixArray - 1001xxxx\n\t\tif ((type & 0xf0) === 0x90) {\n\t\t\tlength = type & 0x0f;\n\t\t\tthis.offset++;\n\t\t\treturn this.array(length);\n\t\t}\n\n\t\t// FixStr - 101xxxxx\n\t\tif ((type & 0xe0) === 0xa0) {\n\t\t\tlength = type & 0x1f;\n\t\t\tthis.offset++;\n\t\t\treturn this.str(length);\n\t\t}\n\n\t\t// Negative FixInt - 111xxxxx\n\t\tif ((type & 0xe0) === 0xe0) {\n\t\t\tvalue = this.view.getInt8(this.offset);\n\t\t\tthis.offset++;\n\t\t\treturn value;\n\t\t}\n\n\t\tswitch (type) {\n\n\t\t\t// nil\n\t\t\tcase 0xc0:\n\t\t\t\tthis.offset++;\n\t\t\t\treturn null;\n\n\t\t\t// 0xc1 never used - use for undefined (NON-STANDARD)\n\t\t\tcase 0xc1:\n\t\t\t\tthis.offset++;\n\t\t\t\treturn undefined;\n\n\t\t\t// false\n\t\t\tcase 0xc2:\n\t\t\t\tthis.offset++;\n\t\t\t\treturn false;\n\n\t\t\t// true\n\t\t\tcase 0xc3:\n\t\t\t\tthis.offset++;\n\t\t\t\treturn true;\n\n\t\t\t// bin 8\n\t\t\tcase 0xc4:\n\t\t\t\tlength = this.view.getUint8(this.offset + 1);\n\t\t\t\tthis.offset += 2;\n\t\t\t\treturn this.bin(length);\n\n\t\t\t// bin 16\n\t\t\tcase 0xc5:\n\t\t\t\tlength = this.view.getUint16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn this.bin(length);\n\n\t\t\t// bin 32\n\t\t\tcase 0xc6:\n\t\t\t\tlength = this.view.getUint32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn this.bin(length);\n\n\t\t\t// ext 8\n\t\t\tcase 0xc7:\n\t\t\t\tlength = this.view.getUint8(this.offset + 1);\n\t\t\t\tthis.offset += 2;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// ext 16\n\t\t\tcase 0xc8:\n\t\t\t\tlength = this.view.getUint16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// ext 32\n\t\t\tcase 0xc9:\n\t\t\t\tlength = this.view.getUint32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// float 32\n\t\t\tcase 0xca:\n\t\t\t\tvalue = this.view.getFloat32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn value;\n\n\t\t\t// float 64\n\t\t\tcase 0xcb:\n\t\t\t\tvalue = this.view.getFloat64(this.offset + 1);\n\t\t\t\tthis.offset += 9;\n\t\t\t\treturn value;\n\n\t\t\t// uint8\n\t\t\tcase 0xcc:\n\t\t\t\tvalue = this.view.getUint8(this.offset + 1);\n\t\t\t\tthis.offset += 2;\n\t\t\t\treturn value;\n\n\t\t\t// uint 16\n\t\t\tcase 0xcd:\n\t\t\t\tvalue = this.view.getUint16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn value;\n\n\t\t\t// uint 32\n\t\t\tcase 0xce:\n\t\t\t\tvalue = this.view.getUint32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn value;\n\n\t\t\t// uint 64\n\t\t\tcase 0xcf:\n\t\t\t\tvalue = getUint64(this.view, this.offset + 1);\n\t\t\t\tthis.offset += 9;\n\t\t\t\treturn value;\n\n\t\t\t// int 8\n\t\t\tcase 0xd0:\n\t\t\t\tvalue = this.view.getInt8(this.offset + 1);\n\t\t\t\tthis.offset += 2;\n\t\t\t\treturn value;\n\n\t\t\t// int 16\n\t\t\tcase 0xd1:\n\t\t\t\tvalue = this.view.getInt16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn value;\n\n\t\t\t// int 32\n\t\t\tcase 0xd2:\n\t\t\t\tvalue = this.view.getInt32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn value;\n\n\t\t\t// int 64\n\t\t\tcase 0xd3:\n\t\t\t\tvalue = getInt64(this.view, this.offset + 1);\n\t\t\t\tthis.offset += 9;\n\t\t\t\treturn value;\n\n\t\t\t// fixext 1\n\t\t\tcase 0xd4:\n\t\t\t\tlength = 1;\n\t\t\t\tthis.offset++;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// fixext 2\n\t\t\tcase 0xd5:\n\t\t\t\tlength = 2;\n\t\t\t\tthis.offset++;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// fixext 4\n\t\t\tcase 0xd6:\n\t\t\t\tlength = 4;\n\t\t\t\tthis.offset++;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// fixext 8\n\t\t\tcase 0xd7:\n\t\t\t\tlength = 8;\n\t\t\t\tthis.offset++;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// fixext 16\n\t\t\tcase 0xd8:\n\t\t\t\tlength = 16;\n\t\t\t\tthis.offset++;\n\t\t\t\treturn this.ext(length);\n\n\t\t\t// str8\n\t\t\tcase 0xd9:\n\t\t\t\tlength = this.view.getUint8(this.offset + 1);\n\t\t\t\tthis.offset += 2;\n\t\t\t\treturn this.str(length);\n\n\t\t\t// str 16\n\t\t\tcase 0xda:\n\t\t\t\tlength = this.view.getUint16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn this.str(length);\n\n\t\t\t// str 32\n\t\t\tcase 0xdb:\n\t\t\t\tlength = this.view.getUint32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn this.str(length);\n\n\t\t\t// array 16\n\t\t\tcase 0xdc:\n\t\t\t\tlength = this.view.getUint16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn this.array(length);\n\n\t\t\t// array 32\n\t\t\tcase 0xdd:\n\t\t\t\tlength = this.view.getUint32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn this.array(length);\n\n\t\t\t// map 16\n\t\t\tcase 0xde:\n\t\t\t\tlength = this.view.getUint16(this.offset + 1);\n\t\t\t\tthis.offset += 3;\n\t\t\t\treturn this.map(length);\n\n\t\t\t// map 32\n\t\t\tcase 0xdf:\n\t\t\t\tlength = this.view.getUint32(this.offset + 1);\n\t\t\t\tthis.offset += 5;\n\t\t\t\treturn this.map(length);\n\t\t}\n\t\tthrow new Error(\"Unknown type 0x\" + type.toString(16));\n\t};\n\n\tfunction decode(buffer) {\n\t\tvar view = new DataView(buffer);\n\t\tvar decoder = new Decoder(view);\n\t\tvar value = decoder.parse();\n\t\tif (decoder.offset !== buffer.byteLength)\n\t\t\tthrow new Error((buffer.byteLength - decoder.offset) + \" trailing bytes\");\n\t\treturn value;\n\t}\n\n\tfunction encodeableKeys(value, sparse) {\n\t\tvar keys = []; // TODO: use Object.keys when we are able to transpile to ES3\n\t\tfor (var key in value) {\n\t\t\tif (!value.hasOwnProperty(key)) continue;\n\t\t\tkeys.push(key);\n\t\t}\n\t\treturn keys.filter(function (e) {\n\t\t\tvar val = value[e], type = typeof(val);\n\t\t\treturn (!sparse || (val !== undefined && val !== null)) && ('function' !== type || !!val.toJSON);\n\t\t})\n\t}\n\n\tfunction encode(value, view, offset, sparse) {\n\t\tvar type = typeof value;\n\n\t\t// Strings Bytes\n\t\t// There are four string types: fixstr/str8/str16/str32\n\t\tif (type === \"string\") {\n\t\t\tvar length = utf8ByteCount(value);\n\n\t\t\t// fixstr\n\t\t\tif (length < 0x20) {\n\t\t\t\tview.setUint8(offset, length | 0xa0);\n\t\t\t\tutf8Write(view, offset + 1, value);\n\t\t\t\treturn 1 + length;\n\t\t\t}\n\n\t\t\t// str8\n\t\t\tif (length < 0x100) {\n\t\t\t\tview.setUint8(offset, 0xd9);\n\t\t\t\tview.setUint8(offset + 1, length);\n\t\t\t\tutf8Write(view, offset + 2, value);\n\t\t\t\treturn 2 + length;\n\t\t\t}\n\n\t\t\t// str16\n\t\t\tif (length < 0x10000) {\n\t\t\t\tview.setUint8(offset, 0xda);\n\t\t\t\tview.setUint16(offset + 1, length);\n\t\t\t\tutf8Write(view, offset + 3, value);\n\t\t\t\treturn 3 + length;\n\t\t\t}\n\t\t\t// str32\n\t\t\tif (length < 0x100000000) {\n\t\t\t\tview.setUint8(offset, 0xdb);\n\t\t\t\tview.setUint32(offset + 1, length);\n\t\t\t\tutf8Write(view, offset + 5, value);\n\t\t\t\treturn 5 + length;\n\t\t\t}\n\t\t}\n\n\t\tif(ArrayBuffer.isView && ArrayBuffer.isView(value)) {\n\t\t\t// extract the arraybuffer and fallthrough\n\t\t\tvalue = value.buffer;\n\t\t}\n\n\t\t// There are three bin types: bin8/bin16/bin32\n\t\tif (value instanceof ArrayBuffer) {\n\t\t\tvar length = value.byteLength;\n\n\t\t\t// bin8\n\t\t\tif (length < 0x100) {\n\t\t\t\tview.setUint8(offset, 0xc4);\n\t\t\t\tview.setUint8(offset + 1, length);\n\t\t\t\t(new Uint8Array(view.buffer)).set(new Uint8Array(value), offset + 2);\n\t\t\t\treturn 2 + length;\n\t\t\t}\n\n\t\t\t// bin16\n\t\t\tif (length < 0x10000) {\n\t\t\t\tview.setUint8(offset, 0xc5);\n\t\t\t\tview.setUint16(offset + 1, length);\n\t\t\t\t(new Uint8Array(view.buffer)).set(new Uint8Array(value), offset + 3);\n\t\t\t\treturn 3 + length;\n\t\t\t}\n\n\t\t\t// bin 32\n\t\t\tif (length < 0x100000000) {\n\t\t\t\tview.setUint8(offset, 0xc6);\n\t\t\t\tview.setUint32(offset + 1, length);\n\t\t\t\t(new Uint8Array(view.buffer)).set(new Uint8Array(value), offset + 5);\n\t\t\t\treturn 5 + length;\n\t\t\t}\n\t\t}\n\n\t\tif (type === \"number\") {\n\n\t\t\t// Floating Point\n\t\t\t// NOTE: We're always using float64\n\t\t\tif (Math.floor(value) !== value) {\n\t\t\t\tview.setUint8(offset, 0xcb);\n\t\t\t\tview.setFloat64(offset + 1, value);\n\t\t\t\treturn 9;\n\t\t\t}\n\n\t\t\t// Integers\n\t\t\tif (value >= 0) {\n\t\t\t\t// positive fixnum\n\t\t\t\tif (value < 0x80) {\n\t\t\t\t\tview.setUint8(offset, value);\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\t// uint 8\n\t\t\t\tif (value < 0x100) {\n\t\t\t\t\tview.setUint8(offset, 0xcc);\n\t\t\t\t\tview.setUint8(offset + 1, value);\n\t\t\t\t\treturn 2;\n\t\t\t\t}\n\t\t\t\t// uint 16\n\t\t\t\tif (value < 0x10000) {\n\t\t\t\t\tview.setUint8(offset, 0xcd);\n\t\t\t\t\tview.setUint16(offset + 1, value);\n\t\t\t\t\treturn 3;\n\t\t\t\t}\n\t\t\t\t// uint 32\n\t\t\t\tif (value < 0x100000000) {\n\t\t\t\t\tview.setUint8(offset, 0xce);\n\t\t\t\t\tview.setUint32(offset + 1, value);\n\t\t\t\t\treturn 5;\n\t\t\t\t}\n\t\t\t\t// uint 64\n\t\t\t\tif (value < 0x10000000000000000) {\n\t\t\t\t\tview.setUint8(offset, 0xcf);\n\t\t\t\t\tsetUint64(view, offset + 1, value);\n\t\t\t\t\treturn 9;\n\t\t\t\t}\n\t\t\t\tthrow new Error(\"Number too big 0x\" + value.toString(16));\n\t\t\t}\n\n\t\t\t// negative fixnum\n\t\t\tif (value >= -0x20) {\n\t\t\t\tview.setInt8(offset, value);\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\t// int 8\n\t\t\tif (value >= -0x80) {\n\t\t\t\tview.setUint8(offset, 0xd0);\n\t\t\t\tview.setInt8(offset + 1, value);\n\t\t\t\treturn 2;\n\t\t\t}\n\t\t\t// int 16\n\t\t\tif (value >= -0x8000) {\n\t\t\t\tview.setUint8(offset, 0xd1);\n\t\t\t\tview.setInt16(offset + 1, value);\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t\t// int 32\n\t\t\tif (value >= -0x80000000) {\n\t\t\t\tview.setUint8(offset, 0xd2);\n\t\t\t\tview.setInt32(offset + 1, value);\n\t\t\t\treturn 5;\n\t\t\t}\n\t\t\t// int 64\n\t\t\tif (value >= -0x8000000000000000) {\n\t\t\t\tview.setUint8(offset, 0xd3);\n\t\t\t\tsetInt64(view, offset + 1, value);\n\t\t\t\treturn 9;\n\t\t\t}\n\t\t\tthrow new Error(\"Number too small -0x\" + (-value).toString(16).substr(1));\n\t\t}\n\n\t\t// undefined - use d4 (NON-STANDARD)\n\t\tif (type === \"undefined\") {\n\t\t\tif(sparse) return 0;\n\t\t\tview.setUint8(offset, 0xd4);\n\t\t\tview.setUint8(offset + 1, 0x00);\n\t\t\tview.setUint8(offset + 2, 0x00);\n\t\t\treturn 3;\n\t\t}\n\n\t\t// null\n\t\tif (value === null) {\n\t\t\tif(sparse) return 0;\n\t\t\tview.setUint8(offset, 0xc0);\n\t\t\treturn 1;\n\t\t}\n\n\t\t// Boolean\n\t\tif (type === \"boolean\") {\n\t\t\tview.setUint8(offset, value ? 0xc3 : 0xc2);\n\t\t\treturn 1;\n\t\t}\n\n\t\tif('function' === typeof value.toJSON)\n\t\t\treturn encode(value.toJSON(), view, offset, sparse);\n\n\t\t// Container Types\n\t\tif (type === \"object\") {\n\t\t\tvar length, size = 0;\n\t\t\tvar isArray = Array.isArray(value);\n\n\t\t\tif (isArray) {\n\t\t\t\tlength = value.length;\n\t\t\t} else {\n\t\t\t\tvar keys = encodeableKeys(value, sparse);\n\t\t\t\tlength = keys.length;\n\t\t\t}\n\n\t\t\tvar size;\n\t\t\tif (length < 0x10) {\n\t\t\t\tview.setUint8(offset, length | ( isArray ? 0x90 : 0x80));\n\t\t\t\tsize = 1;\n\t\t\t} else if (length < 0x10000) {\n\t\t\t\tview.setUint8(offset, isArray ? 0xdc : 0xde);\n\t\t\t\tview.setUint16(offset + 1, length);\n\t\t\t\tsize = 3;\n\t\t\t} else if (length < 0x100000000) {\n\t\t\t\tview.setUint8(offset, isArray ? 0xdd : 0xdf);\n\t\t\t\tview.setUint32(offset + 1, length);\n\t\t\t\tsize = 5;\n\t\t\t}\n\n\t\t\tif (isArray) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tsize += encode(value[i], view, offset + size, sparse);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tsize += encode(key, view, offset + size);\n\t\t\t\t\tsize += encode(value[key], view, offset + size, sparse);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn size;\n\t\t}\n\t\tif(type === \"function\")\n\t\t\treturn 0;\n\n\t\tthrow new Error(\"Unknown type \" + type);\n\t}\n\n\tfunction sizeof(value, sparse) {\n\t\tvar type = typeof value;\n\n\t\t// fixstr or str8 or str16 or str32\n\t\tif (type === \"string\") {\n\t\t\tvar length = utf8ByteCount(value);\n\t\t\tif (length < 0x20) {\n\t\t\t\treturn 1 + length;\n\t\t\t}\n\t\t\tif (length < 0x100) {\n\t\t\t\treturn 2 + length;\n\t\t\t}\n\t\t\tif (length < 0x10000) {\n\t\t\t\treturn 3 + length;\n\t\t\t}\n\t\t\tif (length < 0x100000000) {\n\t\t\t\treturn 5 + length;\n\t\t\t}\n\t\t}\n\n\t\tif(ArrayBuffer.isView && ArrayBuffer.isView(value)) {\n\t\t\t// extract the arraybuffer and fallthrough\n\t\t\tvalue = value.buffer;\n\t\t}\n\n\t\t// bin8 or bin16 or bin32\n\t\tif (value instanceof ArrayBuffer) {\n\t\t\tvar length = value.byteLength;\n\t\t\tif (length < 0x100) {\n\t\t\t\treturn 2 + length;\n\t\t\t}\n\t\t\tif (length < 0x10000) {\n\t\t\t\treturn 3 + length;\n\t\t\t}\n\t\t\tif (length < 0x100000000) {\n\t\t\t\treturn 5 + length;\n\t\t\t}\n\t\t}\n\n\t\tif (type === \"number\") {\n\t\t\t// Floating Point (32 bits)\n\t\t\t// double\n\t\t\tif (Math.floor(value) !== value)\n\t\t\t\treturn 9;\n\n\t\t\t// Integers\n\t\t\tif (value >= 0) {\n\t\t\t\t// positive fixint\n\t\t\t\tif (value < 0x80)\n\t\t\t\t\treturn 1;\n\t\t\t\t// uint 8\n\t\t\t\tif (value < 0x100)\n\t\t\t\t\treturn 2;\n\t\t\t\t// uint 16\n\t\t\t\tif (value < 0x10000)\n\t\t\t\t\treturn 3;\n\t\t\t\t// uint 32\n\t\t\t\tif (value < 0x100000000)\n\t\t\t\t\treturn 5;\n\t\t\t\t// uint 64\n\t\t\t\tif (value < 0x10000000000000000)\n\t\t\t\t\treturn 9;\n\t\t\t\t// Too big\n\t\t\t\tthrow new Error(\"Number too big 0x\" + value.toString(16));\n\t\t\t}\n\t\t\t// negative fixint\n\t\t\tif (value >= -0x20)\n\t\t\t\treturn 1;\n\t\t\t// int 8\n\t\t\tif (value >= -0x80)\n\t\t\t\treturn 2;\n\t\t\t// int 16\n\t\t\tif (value >= -0x8000)\n\t\t\t\treturn 3;\n\t\t\t// int 32\n\t\t\tif (value >= -0x80000000)\n\t\t\t\treturn 5;\n\t\t\t// int 64\n\t\t\tif (value >= -0x8000000000000000)\n\t\t\t\treturn 9;\n\t\t\t// Too small\n\t\t\tthrow new Error(\"Number too small -0x\" + value.toString(16).substr(1));\n\t\t}\n\n\t\t// Boolean\n\t\tif (type === \"boolean\") return 1;\n\n\t\t// undefined, null\n\t\tif (value === null) return sparse ? 0 : 1;\n\t\tif (value === undefined) return sparse ? 0 : 3;\n\n\t\tif('function' === typeof value.toJSON)\n\t\t\treturn sizeof(value.toJSON(), sparse);\n\n\t\t// Container Types\n\t\tif (type === \"object\") {\n\t\t\tvar length, size = 0;\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tlength = value.length;\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tsize += sizeof(value[i], sparse);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = encodeableKeys(value, sparse)\n\t\t\t\tlength = keys.length;\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tsize += sizeof(key) + sizeof(value[key], sparse);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (length < 0x10) {\n\t\t\t\treturn 1 + size;\n\t\t\t}\n\t\t\tif (length < 0x10000) {\n\t\t\t\treturn 3 + size;\n\t\t\t}\n\t\t\tif (length < 0x100000000) {\n\t\t\t\treturn 5 + size;\n\t\t\t}\n\t\t\tthrow new Error(\"Array or object too long 0x\" + length.toString(16));\n\t\t}\n\t\tif(type === \"function\")\n\t\t\treturn 0;\n\n\t\tthrow new Error(\"Unknown type \" + type);\n\t}\n\n\treturn exports;\n})();\n\n/* harmony default export */ var util_msgpack = (msgpack_msgpack);\n\n// CONCATENATED MODULE: ./common/lib/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclient_rest.Utils = utils;\nclient_rest.BufferUtils = bufferutils;\nclient_rest.Crypto = util_crypto;\nclient_rest.Defaults = util_defaults;\nclient_rest.Http = util_http;\nclient_rest.Resource = client_resource;\nclient_rest.Message = types_message;\nclient_rest.PresenceMessage = presencemessage;\n\nclient_realtime.Utils = utils;\nclient_realtime.BufferUtils = bufferutils;\nclient_realtime.Crypto = util_crypto;\nclient_realtime.Defaults = util_defaults;\nclient_realtime.Http = util_http;\nclient_realtime.Message = types_message;\nclient_realtime.PresenceMessage = presencemessage;\nclient_realtime.ProtocolMessage = protocolmessage;\nclient_realtime.ConnectionManager = connectionmanager;\n\n/* harmony default export */ var lib = __webpack_exports__[\"default\"] = ({\n  Rest: client_rest,\n  Realtime: client_realtime,\n  msgpack: util_msgpack\n});\n\n\n/***/ })\n/******/ ])[\"default\"];\n});", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  default: () => Routes,\n  load: () => load\n});\nvar import_index_08869495 = __toModule(require(\"../../chunks/index-08869495.js\"));\nvar import_load_user_data_ba355a80 = __toModule(require(\"../../chunks/load_user_data-ba355a80.js\"));\nvar Ably = __toModule(require(\"ably\"));\nconst browser = false;\nconst subscriber_queue = [];\nfunction writable(value, start = import_index_08869495.n) {\n  let stop;\n  const subscribers = new Set();\n  function set(new_value) {\n    if ((0, import_index_08869495.a)(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        const run_queue = !subscriber_queue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriber_queue.push(subscriber, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n  function update(fn) {\n    set(fn(value));\n  }\n  function subscribe2(run, invalidate = import_index_08869495.n) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set) || import_index_08869495.n;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n  return { set, update, subscribe: subscribe2 };\n}\nasync function load({ session }) {\n  return (0, import_load_user_data_ba355a80.l)(session, \"/index.svelte\");\n}\nconst Routes = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let $remote_id, $$unsubscribe_remote_id;\n  const remote_id = writable(\"\");\n  $$unsubscribe_remote_id = (0, import_index_08869495.b)(remote_id, (value) => $remote_id = value);\n  var local_id;\n  var local_video_element;\n  var remote_video_element;\n  let { user } = $$props;\n  let { ably_token } = $$props;\n  var ably;\n  if ($$props.remote_id === void 0 && $$bindings.remote_id && remote_id !== void 0)\n    $$bindings.remote_id(remote_id);\n  if ($$props.user === void 0 && $$bindings.user && user !== void 0)\n    $$bindings.user(user);\n  if ($$props.ably_token === void 0 && $$bindings.ably_token && ably_token !== void 0)\n    $$bindings.ably_token(ably_token);\n  {\n    {\n      if (ably_token && browser) {\n        console.log(\"can listen to ably channel now!\");\n        let clientOptions = {\n          token: ably_token,\n          authUrl: `${window.location.origin}/ably_auth`,\n          ttl: 36e5\n        };\n        ably = new Ably.Realtime.Promise(clientOptions);\n        ably.connection.on(\"connected\", function() {\n          console.log(\"Connected to Ably\");\n        });\n        ably.connection.on(\"failed\", function(err) {\n          console.log(\"Failed to connect to Ably\", err);\n        });\n        ably.connection.on(\"disconnected\", function() {\n          console.log(\"Disconnected from Ably\");\n        });\n        ably.connection.on(\"suspended\", function() {\n          console.log(\"Suspended from Ably\");\n        });\n        ably.connection.on(\"closed\", function() {\n          console.log(\"Closed from Ably\");\n        });\n        ably.channels.get(\"user_list\").subscribe(function(msg) {\n          console.log(\"Received message: \" + msg);\n        });\n      }\n    }\n  }\n  $$unsubscribe_remote_id();\n  return `${!user ? `<section class=\"${\"hero is-small is-info\"}\"><div class=\"${\"hero-body\"}\"><p class=\"${\"title\"}\">Welcome!</p>\n\t\t\t<p class=\"${\"subtitle\"}\">This is an audio/video chatting site to help you find kindred spirits.</p></div></section>\n\t<section class=\"${\"section\"}\"><h1 class=\"${\"title\"}\">How&#39;s it work?</h1>\n\n\t\t<div class=\"${\"columns is-desktop\"}\"><div class=\"${\"column\"}\"><article class=\"${\"message is-info\"}\"><div class=\"${\"message-header\"}\"><p>1. Sign up <span class=\"${\"icon\"}\"><i class=\"${\"fas fa-user-plus\"}\"></i></span></p></div>\n\t\t\t\t\t<div class=\"${\"message-body\"}\">You can signup using your pre-existing accounts on:<br>\n\t\t\t\t\t\t<div class=\"${\"content p-2 m-2\"}\"><div class=\"${\"tags\"}\"><span class=\"${\"tag is-dark\"}\">Github <span class=\"${\"icon\"}\"><i class=\"${\"fab fa-github\"}\"></i></span></span>\n\t\t\t\t\t\t\t\t<span class=\"${\"tag is-dark\"}\">Linkedin <span class=\"${\"icon\"}\"><i class=\"${\"fab fa-linkedin\"}\"></i></span></span>\n\t\t\t\t\t\t\t\t<span class=\"${\"tag is-dark\"}\">Discord <span class=\"${\"icon\"}\"><i class=\"${\"fab fa-discord\"}\"></i></span></span>\n\t\t\t\t\t\t\t\t<span class=\"${\"tag is-dark\"}\">Google <span class=\"${\"icon\"}\"><i class=\"${\"fab fa-google\"}\"></i></span></span></div></div>\n\t\t\t\t\t\tAlternatively, you can sign up using a standard email<span class=\"${\"icon\"}\"><i class=\"${\"fas fa-envelope\"}\"></i></span>\n\t\t\t\t\t\tand password <span class=\"${\"icon\"}\"><i class=\"${\"fas fa-key\"}\"></i></span>.\n\t\t\t\t\t</div></article></div>\n\t\t\t<div class=\"${\"column\"}\"><article class=\"${\"message is-success\"}\"><div class=\"${\"message-header\"}\"><p>2. Interact <span class=\"${\"icon\"}\"><i class=\"${\"fas fa-comments\"}\"></i></span></p></div>\n\t\t\t\t\t<div class=\"${\"message-body\"}\">We use learning algorithms to match you with the most suitable available user. Based on\n\t\t\t\t\t\tyour interaction, you can either <strong>like</strong> or <strong>dislike</strong> the user.\n\t\t\t\t\t\tThese ratings will inform the algorithm to match you in the future.\n\t\t\t\t\t</div></article></div>\n\t\t\t<div class=\"${\"column\"}\"><article class=\"${\"message is-warning\"}\"><div class=\"${\"message-header\"}\"><p>3. Bad interactions <span class=\"${\"icon\"}\"><i class=\"${\"fas fa-exclamation-triangle\"}\"></i></span></p></div>\n\t\t\t\t\t<div class=\"${\"message-body\"}\">If you encounter a bad interaction, you can report it. This is not like other reporting\n\t\t\t\t\t\tprocesses.\n\n\t\t\t\t\t\t<strong>Reporting an interaction will kick off a remediation process. </strong>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\tThis process consists of the following steps:\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<div class=\"${\"content\"}\"><ol><li>Both members will be notified of the bad interaction. Both accounts are\n\t\t\t\t\t\t\t\t\ttemporarily blocked from interacting with others until they either resolve the\n\t\t\t\t\t\t\t\t\tissue or agree to the remediation process.\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>The video of the interaction will be reviewed by 3 community members and see if\n\t\t\t\t\t\t\t\t\tthe interaction conforms to the rules of the server at the time of interaction.\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>If the reported bad interaction does not conform to the global and server rules, a\n\t\t\t\t\t\t\t\t\tredemption will be required by the offender to resolve the issue. Each server must\n\t\t\t\t\t\t\t\t\tdefine its own redemption process.\n\t\t\t\t\t\t\t\t</li></ol></div></div></article></div></div></section>` : ``}\n\n${user ? `<section class=\"${\"hero is-small is-success\"}\"><div class=\"${\"hero-body\"}\"><p class=\"${\"title\"}\">Welcome back!</p></div></section>\n\t${``}\n\n\t<section class=\"${\"section\"}\"><div class=\"${\"columns\"}\"><div class=\"${\"column\"}\"><div class=\"${\"box\"}\"><div class=\"${\"content\"}\"><p class=\"${\"title\"}\">Your Video</p>\n\n\t\t\t\t\t\t<video class=\"${\"column is-full is-dark\"}\"${(0, import_index_08869495.d)(\"this\", local_video_element, 0)}><track kind=\"${\"captions\"}\"></video>\n\t\t\t\t\t\t<div class=\"${\"field\"}\"><div class=\"${\"control\"}\"><label class=\"${\"label\"}\">Peer id\n\t\t\t\t\t\t\t\t\t<input class=\"${\"input\"}\" type=\"${\"text\"}\"${(0, import_index_08869495.d)(\"value\", local_id, 0)} readonly></label></div>\n\n\t\t\t\t\t\t\t<small>(Send this peer id to your chatting partner. It is your identifier.)</small></div></div></div></div>\n\t\t\t<div class=\"${\"column\"}\"><div class=\"${\"box\"}\"><div class=\"${\"content\"}\"><p class=\"${\"title\"}\">Remote Video</p>\n\n\t\t\t\t\t\t<video class=\"${\"column is-full is-dark\"}\"${(0, import_index_08869495.d)(\"this\", remote_video_element, 0)}><track kind=\"${\"captions\"}\"></video>\n\t\t\t\t\t\t<div class=\"${\"field\"}\"><div class=\"${\"control\"}\"><label class=\"${\"label\"}\">Remote ID\n\t\t\t\t\t\t\t\t\t<input class=\"${\"input\"}\" type=\"${\"text\"}\"${(0, import_index_08869495.d)(\"value\", $remote_id, 0)} readonly></label></div></div></div></div></div></div></section>\n\t<section class=\"${\"section\"}\"><div class=\"${\"card\"}\"><div class=\"${\"card-content\"}\"><div class=\"${\"content\"}\">\n\t\t\t\t\t<div class=\"${\"field\"}\"><div class=\"${\"control\"}\"><label class=\"${\"label\"}\">Call Remote ID\n\t\t\t\t\t\t\t\t<input class=\"${\"input\"}\" type=\"${\"text\"}\" placeholder=\"${\"Remote ID\"}\"${(0, import_index_08869495.d)(\"value\", $remote_id, 0)}></label></div></div></div></div></div></section>` : ``}`;\n});\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module3, desc) => {\n  if (module3 && typeof module3 === \"object\" || typeof module3 === \"function\") {\n    for (let key of __getOwnPropNames(module3))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module3[key], enumerable: !(desc = __getOwnPropDesc(module3, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module3) => {\n  return __reExport(__markAsModule(__defProp(module3 != null ? __create(__getProtoOf(module3)) : {}, \"default\", module3 && module3.__esModule && \"default\" in module3 ? { get: () => module3.default, enumerable: true } : { value: module3, enumerable: true })), module3);\n};\n__export(exports, {\n  css: () => css,\n  entry: () => entry,\n  js: () => js,\n  module: () => module2\n});\nvar module2 = __toModule(require(\"../entries/pages/index.svelte.js\"));\nconst entry = \"pages/index.svelte-737b6076.js\";\nconst js = [\"pages/index.svelte-737b6076.js\", \"chunks/preload-helper-ec9aa979.js\", \"chunks/vendor-1860a60a.js\", \"chunks/load_user_data-ba355a80.js\"];\nconst css = [];\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  default: () => Account,\n  load: () => load\n});\nvar import_index_08869495 = __toModule(require(\"../../chunks/index-08869495.js\"));\nvar import_load_user_data_ba355a80 = __toModule(require(\"../../chunks/load_user_data-ba355a80.js\"));\nconst User_card = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let { user } = $$props;\n  if ($$props.user === void 0 && $$bindings.user && user !== void 0)\n    $$bindings.user(user);\n  return `<div class=\"${\"card\"}\"><div class=\"${\"card-content\"}\"><div class=\"${\"media\"}\"><div class=\"${\"media-left\"}\"><figure class=\"${\"image is-48x48\"}\"><img${(0, import_index_08869495.d)(\"src\", user.picture, 0)} alt=\"${\"This User's Avatar\"}\"></figure></div>\n        <div class=\"${\"media-content\"}\"><p class=\"${\"title is-4\"}\">${(0, import_index_08869495.e)(user.name || user.email)}</p>\n          <p class=\"${\"subtitle is-6\"}\">@${(0, import_index_08869495.e)(user.nickname || user.name)}</p></div></div></div></div>`;\n});\nasync function load({ session }) {\n  return (0, import_load_user_data_ba355a80.l)(session, \"/account.svelte\");\n}\nconst Account = (0, import_index_08869495.c)(($$result, $$props, $$bindings, slots) => {\n  let { user } = $$props;\n  if ($$props.user === void 0 && $$bindings.user && user !== void 0)\n    $$bindings.user(user);\n  return `${user ? `<section class=\"${\"hero is-small is-warning\"}\"><div class=\"${\"hero-body\"}\"><p class=\"${\"title\"}\">Account Info:</p>\n\t\t\t${(0, import_index_08869495.v)(User_card, \"UserCard\").$$render($$result, { user }, {}, {})}</div></section>` : ``}\n`;\n});\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module3, desc) => {\n  if (module3 && typeof module3 === \"object\" || typeof module3 === \"function\") {\n    for (let key of __getOwnPropNames(module3))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module3[key], enumerable: !(desc = __getOwnPropDesc(module3, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module3) => {\n  return __reExport(__markAsModule(__defProp(module3 != null ? __create(__getProtoOf(module3)) : {}, \"default\", module3 && module3.__esModule && \"default\" in module3 ? { get: () => module3.default, enumerable: true } : { value: module3, enumerable: true })), module3);\n};\n__export(exports, {\n  css: () => css,\n  entry: () => entry,\n  js: () => js,\n  module: () => module2\n});\nvar module2 = __toModule(require(\"../entries/pages/account.svelte.js\"));\nconst entry = \"pages/account.svelte-79370477.js\";\nconst js = [\"pages/account.svelte-79370477.js\", \"chunks/vendor-1860a60a.js\", \"chunks/load_user_data-ba355a80.js\"];\nconst css = [];\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  get: () => get\n});\nvar Ably = __toModule(require(\"ably\"));\nprocess.env[\"ABLY_ADMIN_KEY\"];\nconst ably_subscribe_key = process.env[\"ABLY_SUBSCRIBE_KEY\"];\nasync function get({ url, params, locals }) {\n  console.log(\"params\", params);\n  console.log(\"url\", url);\n  console.log(\"locals\", locals);\n  let my_url = new URL(url);\n  let rnd = my_url.searchParams.get(\"rnd\");\n  let ably = new Ably.Rest.Promise(ably_subscribe_key);\n  let tokenParams = {\n    rnd,\n    ttl: 36e5\n  };\n  let token = await ably.auth.createTokenRequest(tokenParams);\n  console.log(\"ASDFtoken\", token);\n  locals.ably_token = token;\n  return {\n    body: token,\n    status: 200,\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n}\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);\n};\n__export(exports, {\n  get: () => get\n});\nvar Ably = __toModule(require(\"ably\"));\nconst baseURL = process.env[\"AUTH0_BASE_URL\"];\nconst client_id = process.env[\"CLIENT_ID\"];\nconst client_secret = process.env[\"CLIENT_SECRET\"];\nprocess.env[\"ABLY_ADMIN_KEY\"];\nconst ably_subscribe_key = process.env[\"ABLY_SUBSCRIBE_KEY\"];\nasync function get({ url, locals }) {\n  let my_url = new URL(url);\n  let code = my_url.searchParams.get(\"code\");\n  let redirect_uri = url.origin.replace(/\\/login$/, \"\");\n  let response = await getToken(code, redirect_uri);\n  let json = await response.json();\n  let access_token = json.access_token;\n  let user = await getUser(access_token);\n  let user_json = await user.json();\n  locals.user = user_json;\n  let token = await get_ably_user_using_api_key(user_json.email, url.origin);\n  locals.ably_token = token;\n  let able_add_channel_url = \"https://make_ably_channel.robert-admin.workers.dev/?user_identifier=\" + user_json.email;\n  let ably_channel_add_response = await fetch(able_add_channel_url, {\n    method: \"GET\"\n  });\n  locals.ably_channel_add_response = await ably_channel_add_response.json();\n  console.log(\"In the callback endpoint: \" + JSON.stringify(locals, null, 2));\n  return {\n    status: 301,\n    headers: {\n      location: \"/\"\n    }\n  };\n}\nasync function get_ably_user_using_api_key(email, origin) {\n  const ably = new Ably.Realtime.Promise({ key: ably_subscribe_key });\n  var tokenParams = {\n    ttl: 36e5,\n    clientId: email,\n    authUrl: `${origin}/ably_auth`\n  };\n  return await ably.auth.authorize(tokenParams);\n}\nasync function getToken(code, redirect_uri) {\n  let grant_type = \"authorization_code\";\n  let tokenURL = `${baseURL}/oauth/token`;\n  return await fetch(tokenURL, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    },\n    body: `grant_type=${grant_type}&client_id=${client_id}&client_secret=${client_secret}&code=${code}&redirect_uri=${redirect_uri}`\n  });\n}\nasync function getUser(access_token) {\n  let userURL = `${baseURL}/userinfo`;\n  return await fetch(userURL, {\n    headers: {\n      Authorization: `Bearer ${access_token}`\n    }\n  });\n}\n", "var __defProp = Object.defineProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n__export(exports, {\n  get: () => get\n});\nfunction get({ url, headers }) {\n  console.log(\"Logout Endpoint: \" + JSON.stringify(url, null, 2));\n  return {\n    status: 301,\n    headers: {\n      location: \"/\"\n    }\n  };\n}\n", "var __defProp = Object.defineProperty;\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __export = (target, all) => {\n  __markAsModule(target);\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n__export(exports, {\n  get: () => get\n});\nconst client_id = process.env[\"CLIENT_ID\"];\nconst baseURL = process.env[\"AUTH0_BASE_URL\"];\nasync function get({ url, headers }) {\n  let my_url = new URL(url);\n  let params = my_url.searchParams.get(\"screen_hint\");\n  console.log(\"login params: \" + JSON.stringify(params, null, 2));\n  let redirect_uri = url.origin.replace(/\\/login$/, \"\") + \"/callback/\";\n  let response_type = \"code\";\n  let scope = \"openid profile email\";\n  let screen_hint = params == \"signup\" ? \"signup\" : \"login\";\n  return {\n    status: 301,\n    headers: {\n      location: `${baseURL}/authorize?response_type=${response_type}&client_id=${client_id}&redirect_uri=${redirect_uri}&scope=${scope}&screen_hint=${screen_hint}`\n    }\n  };\n}\n", "const { init } = require('../handler.js');\n\nexports.handler = init({\n\tappDir: \"_app\",\n\tassets: new Set([\"favicon.png\"]),\n\t_: {\n\t\tmime: {\".png\":\"image/png\"},\n\t\tentry: {\"file\":\"start-e6529f45.js\",\"js\":[\"start-e6529f45.js\",\"chunks/vendor-1860a60a.js\",\"chunks/preload-helper-ec9aa979.js\",\"chunks/singletons-a42a5e91.js\"],\"css\":[\"assets/start-61d1577b.css\"]},\n\t\tnodes: [\n\t\t\t() => Promise.resolve().then(() => require('../server/nodes/0.js')),\n\t\t\t() => Promise.resolve().then(() => require('../server/nodes/1.js')),\n\t\t\t() => Promise.resolve().then(() => require('../server/nodes/2.js')),\n\t\t\t() => Promise.resolve().then(() => require('../server/nodes/3.js'))\n\t\t],\n\t\troutes: [\n\t\t\t{\n\t\t\t\ttype: 'page',\n\t\t\t\tpattern: /^\\/$/,\n\t\t\t\tparams: null,\n\t\t\t\tpath: \"/\",\n\t\t\t\ta: [0,2],\n\t\t\t\tb: [1]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'endpoint',\n\t\t\t\tpattern: /^\\/ably_auth\\/?$/,\n\t\t\t\tparams: null,\n\t\t\t\tload: () => Promise.resolve().then(() => require('../server/entries/endpoints/ably_auth.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'endpoint',\n\t\t\t\tpattern: /^\\/callback\\/?$/,\n\t\t\t\tparams: null,\n\t\t\t\tload: () => Promise.resolve().then(() => require('../server/entries/endpoints/callback.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'page',\n\t\t\t\tpattern: /^\\/account\\/?$/,\n\t\t\t\tparams: null,\n\t\t\t\tpath: \"/account\",\n\t\t\t\ta: [0,3],\n\t\t\t\tb: [1]\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'endpoint',\n\t\t\t\tpattern: /^\\/logout\\/?$/,\n\t\t\t\tparams: null,\n\t\t\t\tload: () => Promise.resolve().then(() => require('../server/entries/endpoints/logout.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'endpoint',\n\t\t\t\tpattern: /^\\/login\\/?$/,\n\t\t\t\tparams: null,\n\t\t\t\tload: () => Promise.resolve().then(() => require('../server/entries/endpoints/login.js'))\n\t\t\t}\n\t\t]\n\t}\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,QAAI,aAAY,OAAO;AACvB,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,aAAS,UAAS;AAAA,MAChB,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA,MACT,GAAG,MAAM;AAAA;AAEX,oBAAgB;AAAA;AAEhB,iBAAa,IAAI;AACf,aAAO;AAAA;AAET,4BAAwB;AACtB,aAAO,OAAO,OAAO;AAAA;AAEvB,qBAAiB,KAAK;AACpB,UAAI,QAAQ;AAAA;AAEd,4BAAwB,GAAG,GAAG;AAC5B,aAAO,KAAK,IAAI,KAAK,IAAI,MAAM,KAAM,MAAK,OAAO,MAAM,YAAY,OAAO,MAAM;AAAA;AAElF,uBAAmB,UAAU,WAAW;AACtC,UAAI,SAAS,MAAM;AACjB,eAAO;AAAA;AAET,YAAM,QAAQ,MAAM,UAAU,GAAG;AACjC,aAAO,MAAM,cAAc,MAAM,MAAM,gBAAgB;AAAA;AAEzD,QAAI;AACJ,mCAA+B,WAAW;AACxC,0BAAoB;AAAA;AAEtB,qCAAiC;AAC/B,UAAI,CAAC;AACH,cAAM,IAAI,MAAM;AAClB,aAAO;AAAA;AAET,wBAAoB,KAAK,SAAS;AAChC,8BAAwB,GAAG,QAAQ,IAAI,KAAK;AAAA;AAE9C,YAAQ;AACR,QAAM,qBAAqB,IAAI,IAAI;AAAA,MACjC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEF,QAAM,UAAU;AAAA,MACd,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA;AAEP,qBAAgB,MAAM;AACpB,aAAO,OAAO,MAAM,QAAQ,YAAY,CAAC,UAAU,QAAQ;AAAA;AAE7D,QAAM,oBAAoB;AAAA,MACxB,UAAU,MAAM;AAAA;AAElB,gCAA4B,WAAW,MAAM;AAC3C,UAAI,CAAC,aAAa,CAAC,UAAU,UAAU;AACrC,YAAI,SAAS;AACX,kBAAQ;AACV,cAAM,IAAI,MAAM,IAAI;AAAA;AAEtB,aAAO;AAAA;AAET,QAAI;AACJ,kCAA8B,IAAI;AAChC,wBAAkB,QAAQ,OAAO,UAAU,OAAO,SAAS;AACzD,cAAM,mBAAmB;AACzB,cAAM,KAAK;AAAA,UACT;AAAA,UACA,SAAS,IAAI,IAAI,WAAY,oBAAmB,iBAAiB,GAAG,UAAU;AAAA,UAC9E,UAAU;AAAA,UACV,eAAe;AAAA,UACf,cAAc;AAAA,UACd,WAAW;AAAA;AAEb,8BAAsB,EAAE;AACxB,cAAM,OAAO,GAAG,QAAQ,OAAO,UAAU;AACzC,8BAAsB;AACtB,eAAO;AAAA;AAET,aAAO;AAAA,QACL,QAAQ,CAAC,QAAQ,IAAI,EAAE,UAAU,IAAI,UAAU,IAAI,UAAU,OAAO;AAClE,uBAAa;AACb,gBAAM,SAAS,EAAE,OAAO,IAAI,MAAM,IAAI,KAAK,IAAI;AAC/C,gBAAM,OAAO,SAAS,QAAQ,OAAO,IAAI,SAAS;AAClD,kBAAQ;AACR,iBAAO;AAAA,YACL;AAAA,YACA,KAAK;AAAA,cACH,MAAM,MAAM,KAAK,OAAO,KAAK,IAAI,CAAC,QAAQ,IAAI,MAAM,KAAK;AAAA,cACzD,KAAK;AAAA;AAAA,YAEP,MAAM,OAAO,QAAQ,OAAO;AAAA;AAAA;AAAA,QAGhC;AAAA;AAAA;AAGJ,2BAAuB,MAAM,OAAO,SAAS;AAC3C,UAAI,SAAS,QAAQ,WAAW,CAAC;AAC/B,eAAO;AACT,aAAO,IAAI,OAAO,UAAU,QAAQ,mBAAmB,IAAI,QAAQ,KAAK,IAAI,OAAO,UAAU,WAAW,KAAK,UAAU,QAAO,UAAU,IAAI;AAAA;AAAA;AAAA;;;ACzI9I;AAAA;AAOA;AAOA,aAAQ,QAAQ;AAChB,aAAQ,YAAY;AAOpB,QAAI,SAAS;AACb,QAAI,SAAS;AACb,QAAI,kBAAkB;AAUtB,QAAI,qBAAqB;AAczB,mBAAe,KAAK,SAAS;AAC3B,UAAI,OAAO,QAAQ,UAAU;AAC3B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,MAAM;AACV,UAAI,MAAM,WAAW;AACrB,UAAI,QAAQ,IAAI,MAAM;AACtB,UAAI,MAAM,IAAI,UAAU;AAExB,eAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,YAAI,OAAO,MAAM;AACjB,YAAI,SAAS,KAAK,QAAQ;AAG1B,YAAI,SAAS,GAAG;AACd;AAAA;AAGF,YAAI,MAAM,KAAK,OAAO,GAAG,QAAQ;AACjC,YAAI,MAAM,KAAK,OAAO,EAAE,QAAQ,KAAK,QAAQ;AAG7C,YAAI,AAAO,IAAI,MAAX,KAAe;AACjB,gBAAM,IAAI,MAAM,GAAG;AAAA;AAIrB,YAAI,AAAa,IAAI,QAAjB,QAAuB;AACzB,cAAI,OAAO,UAAU,KAAK;AAAA;AAAA;AAI9B,aAAO;AAAA;AAmBT,uBAAmB,MAAM,KAAK,SAAS;AACrC,UAAI,MAAM,WAAW;AACrB,UAAI,MAAM,IAAI,UAAU;AAExB,UAAI,OAAO,QAAQ,YAAY;AAC7B,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,CAAC,mBAAmB,KAAK,OAAO;AAClC,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,QAAQ,IAAI;AAEhB,UAAI,SAAS,CAAC,mBAAmB,KAAK,QAAQ;AAC5C,cAAM,IAAI,UAAU;AAAA;AAGtB,UAAI,MAAM,OAAO,MAAM;AAEvB,UAAI,AAAQ,IAAI,UAAZ,MAAoB;AACtB,YAAI,SAAS,IAAI,SAAS;AAE1B,YAAI,MAAM,WAAW,CAAC,SAAS,SAAS;AACtC,gBAAM,IAAI,UAAU;AAAA;AAGtB,eAAO,eAAe,KAAK,MAAM;AAAA;AAGnC,UAAI,IAAI,QAAQ;AACd,YAAI,CAAC,mBAAmB,KAAK,IAAI,SAAS;AACxC,gBAAM,IAAI,UAAU;AAAA;AAGtB,eAAO,cAAc,IAAI;AAAA;AAG3B,UAAI,IAAI,MAAM;AACZ,YAAI,CAAC,mBAAmB,KAAK,IAAI,OAAO;AACtC,gBAAM,IAAI,UAAU;AAAA;AAGtB,eAAO,YAAY,IAAI;AAAA;AAGzB,UAAI,IAAI,SAAS;AACf,YAAI,OAAO,IAAI,QAAQ,gBAAgB,YAAY;AACjD,gBAAM,IAAI,UAAU;AAAA;AAGtB,eAAO,eAAe,IAAI,QAAQ;AAAA;AAGpC,UAAI,IAAI,UAAU;AAChB,eAAO;AAAA;AAGT,UAAI,IAAI,QAAQ;AACd,eAAO;AAAA;AAGT,UAAI,IAAI,UAAU;AAChB,YAAI,WAAW,OAAO,IAAI,aAAa,WACnC,IAAI,SAAS,gBAAgB,IAAI;AAErC,gBAAQ;AAAA,eACD;AACH,mBAAO;AACP;AAAA,eACG;AACH,mBAAO;AACP;AAAA,eACG;AACH,mBAAO;AACP;AAAA,eACG;AACH,mBAAO;AACP;AAAA;AAEA,kBAAM,IAAI,UAAU;AAAA;AAAA;AAI1B,aAAO;AAAA;AAWT,uBAAmB,KAAK,SAAQ;AAC9B,UAAI;AACF,eAAO,QAAO;AAAA,eACP,GAAP;AACA,eAAO;AAAA;AAAA;AAAA;AAAA;;;ACvMX;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,cAAa,OAAO;AACxB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,qBAAoB,OAAO;AAC/B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,uBAAsB,OAAO;AACjC,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,mBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAM,WAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,WAAW,IAAI,OAAO;AAC1J,QAAI,kBAAiB,CAAC,GAAG,MAAM;AAC7B,eAAS,QAAQ,KAAM,KAAI;AACzB,YAAI,cAAa,KAAK,GAAG;AACvB,2BAAgB,GAAG,MAAM,EAAE;AAC/B,UAAI;AACF,iBAAS,QAAQ,qBAAoB,IAAI;AACvC,cAAI,cAAa,KAAK,GAAG;AACvB,6BAAgB,GAAG,MAAM,EAAE;AAAA;AAEjC,aAAO;AAAA;AAET,QAAI,iBAAgB,CAAC,GAAG,MAAM,YAAW,GAAG,mBAAkB;AAC9D,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA,MACX,UAAU,MAAM;AAAA;AAElB,QAAI,wBAAwB,WAAW;AACvC,QAAI,gBAAgB,WAAW;AAC/B,QAAI,iBAAgB,CAAC,KAAK,QAAQ,QAAQ;AACxC,UAAI,CAAC,OAAO,IAAI;AACd,cAAM,UAAU,YAAY;AAAA;AAEhC,QAAI,gBAAe,CAAC,KAAK,QAAQ,WAAW;AAC1C,qBAAc,KAAK,QAAQ;AAC3B,aAAO,SAAS,OAAO,KAAK,OAAO,OAAO,IAAI;AAAA;AAEhD,QAAI,gBAAe,CAAC,KAAK,QAAQ,UAAU;AACzC,UAAI,OAAO,IAAI;AACb,cAAM,UAAU;AAClB,wBAAkB,UAAU,OAAO,IAAI,OAAO,OAAO,IAAI,KAAK;AAAA;AAEhE,QAAI,gBAAe,CAAC,KAAK,QAAQ,OAAO,WAAW;AACjD,qBAAc,KAAK,QAAQ;AAC3B,eAAS,OAAO,KAAK,KAAK,SAAS,OAAO,IAAI,KAAK;AACnD,aAAO;AAAA;AAET,QAAI;AACJ,sCAAkC,SAAS,KAAK;AAC9C,YAAM,QAAQ,QAAQ;AACtB,UAAI,MAAM,QAAQ,QAAQ;AACxB,YAAI,MAAM,WAAW,GAAG;AACtB,iBAAO;AAAA;AAET,YAAI,MAAM,SAAS,GAAG;AACpB,gBAAM,IAAI,MAAM,iCAAiC;AAAA;AAEnD,eAAO,MAAM;AAAA;AAEf,aAAO;AAAA;AAET,4BAAwB,KAAK;AAC3B,YAAM,QAAQ;AACd,iBAAW,OAAO,KAAK;AACrB,cAAM,IAAI,iBAAiB,IAAI;AAAA;AAEjC,aAAO;AAAA;AAET,2BAAuB,QAAQ;AAC7B,iBAAW,OAAO,QAAQ;AACxB,eAAO,OAAO,OAAO,KAAK,QAAQ,QAAQ,KAAK,QAAQ,WAAW,KAAK,QAAQ,WAAW,KAAK,QAAQ,WAAW,KAAK,QAAQ,WAAW,KAAK,QAAQ,WAAW,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,WAAW,KAAK,QAAQ,WAAW,KAAK,QAAQ,QAAQ;AAAA;AAEnR,aAAO;AAAA;AAET,mBAAe,MAAM;AACnB,aAAO;AAAA,QACL,QAAQ;AAAA,QACR;AAAA,QACA,SAAS;AAAA;AAAA;AAGb,uBAAmB,IAAI;AACrB,aAAO,OAAO,OAAO,YAAY,cAAc;AAAA;AAEjD,QAAM,aAAa,IAAI,IAAI;AAAA,MACzB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEF,qBAAiB,cAAc;AAC7B,UAAI,CAAC;AACH,eAAO;AACT,YAAM,OAAO,aAAa,MAAM,KAAK,GAAG;AACxC,aAAO,KAAK,WAAW,YAAY,KAAK,SAAS,WAAW,WAAW,IAAI;AAAA;AAE7E,mCAA+B,SAAS,OAAO,OAAO;AACpD,YAAM,MAAM,MAAM,MAAM;AACxB,YAAM,UAAU,IAAI,QAAQ,OAAO,cAAc,QAAQ,UAAU;AACnE,UAAI,CAAC,SAAS;AACZ;AAAA;AAEF,cAAQ,SAAS,MAAM,SAAS,cAAc,MAAM,OAAO,UAAU;AACrE,YAAM,WAAW,MAAM,QAAQ;AAC/B,YAAM,UAAU,+BAA+B,QAAQ,IAAI;AAC3D,UAAI,CAAC,UAAU;AACb;AAAA;AAEF,UAAI,OAAO,aAAa,UAAU;AAChC,eAAO,MAAM,GAAG,oCAAoC,OAAO;AAAA;AAE7D,UAAI,EAAE,SAAS,KAAK,MAAM,UAAU,OAAO;AAC3C,gBAAU,eAAe;AACzB,YAAM,OAAO,yBAAyB,SAAS;AAC/C,UAAI,CAAC,QAAQ,SAAS,CAAE,iBAAgB,cAAc,UAAU,QAAQ;AACtE,eAAO,MAAM,GAAG;AAAA;AAElB,UAAI;AACJ,UAAK,QAAO,SAAS,YAAY,OAAO,SAAS,gBAAgB,CAAE,iBAAgB,eAAgB,EAAC,QAAQ,KAAK,WAAW,sBAAsB;AAChJ,kBAAU,eAAc,gBAAe,IAAI,UAAU,EAAE,gBAAgB;AACvE,0BAAkB,KAAK,UAAU,OAAO,SAAS,cAAc,KAAK;AAAA,aAC/D;AACL,0BAAkB;AAAA;AAEpB,aAAO,EAAE,QAAQ,MAAM,iBAAiB;AAAA;AAE1C,QAAI,QAAQ;AACZ,QAAI,cAAc;AAClB,QAAI,WAAW;AACf,QAAI,UAAU;AAAA,MACZ,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,KAAK;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA;AAEZ,QAAI,8BAA8B,OAAO,oBAAoB,OAAO,WAAW,OAAO,KAAK;AAC3F,qBAAiB,OAAO;AACtB,UAAI,SAAS,IAAI;AACjB,oBAAc,OAAO;AACnB,YAAI,OAAO,UAAU,YAAY;AAC/B,gBAAM,IAAI,MAAM;AAAA;AAElB,YAAI,OAAO,IAAI,QAAQ;AACrB,iBAAO,IAAI,OAAO,OAAO,IAAI,SAAS;AACtC;AAAA;AAEF,eAAO,IAAI,OAAO;AAClB,YAAI,CAAC,YAAY,QAAQ;AACvB,cAAI,OAAO,QAAQ;AACnB,kBAAQ;AAAA,iBACD;AAAA,iBACA;AAAA,iBACA;AAAA,iBACA;AAAA,iBACA;AACH;AAAA,iBACG;AACH,oBAAM,QAAQ;AACd;AAAA,iBACG;AAAA,iBACA;AACH,oBAAM,KAAK,OAAO,QAAQ;AAC1B;AAAA;AAEA,kBAAI,QAAQ,OAAO,eAAe;AAClC,kBAAI,UAAU,OAAO,aAAa,UAAU,QAAQ,OAAO,oBAAoB,OAAO,OAAO,KAAK,UAAU,6BAA6B;AACvI,sBAAM,IAAI,MAAM;AAAA;AAElB,kBAAI,OAAO,sBAAsB,OAAO,SAAS,GAAG;AAClD,sBAAM,IAAI,MAAM;AAAA;AAElB,qBAAO,KAAK,OAAO,QAAQ,SAAS,KAAK;AACvC,uBAAO,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAK5B,WAAK;AACL,UAAI,QAAQ,IAAI;AAChB,YAAM,KAAK,QAAQ,OAAO,SAAS,OAAO;AACxC,eAAO,MAAM,KAAK;AAAA,SACjB,KAAK,SAAS,GAAG,GAAG;AACrB,eAAO,EAAE,KAAK,EAAE;AAAA,SACf,QAAQ,SAAS,OAAO,GAAG;AAC5B,cAAM,IAAI,MAAM,IAAI,QAAQ;AAAA;AAE9B,yBAAmB,OAAO;AACxB,YAAI,MAAM,IAAI,QAAQ;AACpB,iBAAO,MAAM,IAAI;AAAA;AAEnB,YAAI,YAAY,QAAQ;AACtB,iBAAO,mBAAmB;AAAA;AAE5B,YAAI,OAAO,QAAQ;AACnB,gBAAQ;AAAA,eACD;AAAA,eACA;AAAA,eACA;AACH,mBAAO,YAAY,UAAU,MAAM,aAAa;AAAA,eAC7C;AACH,mBAAO,gBAAgB,gBAAgB,MAAM,UAAU,QAAQ,MAAM,QAAQ;AAAA,eAC1E;AACH,mBAAO,cAAc,MAAM,YAAY;AAAA,eACpC;AACH,gBAAI,UAAU,MAAM,IAAI,SAAS,GAAG,GAAG;AACrC,qBAAO,KAAK,QAAQ,UAAU,KAAK;AAAA;AAErC,gBAAI,OAAO,MAAM,WAAW,KAAK,MAAM,SAAS,KAAK,QAAQ,KAAK;AAClE,mBAAO,MAAM,QAAQ,KAAK,OAAO,OAAO;AAAA,eACrC;AAAA,eACA;AACH,mBAAO,SAAS,OAAO,OAAO,MAAM,KAAK,OAAO,IAAI,WAAW,KAAK,OAAO;AAAA;AAE3E,gBAAI,MAAM,MAAM,OAAO,KAAK,OAAO,IAAI,SAAS,KAAK;AACnD,qBAAO,QAAQ,OAAO,MAAM,UAAU,MAAM;AAAA,eAC3C,KAAK,OAAO;AACf,gBAAI,QAAQ,OAAO,eAAe;AAClC,gBAAI,UAAU,MAAM;AAClB,qBAAO,OAAO,KAAK,OAAO,SAAS,IAAI,uCAAuC,MAAM,MAAM;AAAA;AAE5F,mBAAO;AAAA;AAAA;AAGb,UAAI,MAAM,UAAU;AACpB,UAAI,MAAM,MAAM;AACd,YAAI,WAAW;AACf,YAAI,eAAe;AACnB,YAAI,WAAW;AACf,cAAM,QAAQ,SAAS,MAAM,OAAO;AAClC,mBAAS,KAAK;AACd,cAAI,YAAY,QAAQ;AACtB,qBAAS,KAAK,mBAAmB;AACjC;AAAA;AAEF,cAAI,OAAO,QAAQ;AACnB,kBAAQ;AAAA,iBACD;AAAA,iBACA;AAAA,iBACA;AACH,uBAAS,KAAK,YAAY,UAAU,MAAM,aAAa;AACvD;AAAA,iBACG;AACH,uBAAS,KAAK,MAAM;AACpB;AAAA,iBACG;AACH,uBAAS,KAAK,cAAc,MAAM,YAAY;AAC9C;AAAA,iBACG;AACH,uBAAS,KAAK,WAAW,MAAM,SAAS;AACxC,oBAAM,QAAQ,SAAS,GAAG,GAAG;AAC3B,6BAAa,KAAK,OAAO,MAAM,IAAI,OAAO,UAAU;AAAA;AAEtD;AAAA,iBACG;AACH,uBAAS,KAAK;AACd,2BAAa,KAAK,OAAO,MAAM,MAAM,KAAK,OAAO,IAAI,SAAS,GAAG;AAC/D,uBAAO,SAAS,UAAU,KAAK;AAAA,iBAC9B,KAAK;AACR;AAAA,iBACG;AACH,uBAAS,KAAK;AACd,2BAAa,KAAK,OAAO,MAAM,MAAM,KAAK,OAAO,IAAI,SAAS,IAAI;AAChE,oBAAI,IAAI,GAAG,IAAI,IAAI,GAAG;AACtB,uBAAO,SAAS,UAAU,KAAK,OAAO,UAAU,KAAK;AAAA,iBACpD,KAAK;AACR;AAAA;AAEA,uBAAS,KAAK,OAAO,eAAe,WAAW,OAAO,wBAAwB;AAC9E,qBAAO,KAAK,OAAO,QAAQ,SAAS,KAAK;AACvC,6BAAa,KAAK,KAAK,OAAO,SAAS,OAAO,MAAM,UAAU,MAAM;AAAA;AAAA;AAAA;AAI5E,qBAAa,KAAK,YAAY;AAC9B,eAAO,eAAe,SAAS,KAAK,OAAO,OAAO,aAAa,KAAK,OAAO,OAAO,SAAS,KAAK,OAAO;AAAA,aAClG;AACL,eAAO;AAAA;AAAA;AAGX,qBAAiB,KAAK;AACpB,UAAI,OAAO;AACX,SAAG;AACD,eAAO,MAAM,MAAM,MAAM,UAAU;AACnC,cAAM,CAAC,CAAE,OAAM,MAAM,UAAU;AAAA,eACxB,OAAO;AAChB,aAAO,SAAS,KAAK,QAAQ,OAAO,MAAM;AAAA;AAE5C,yBAAqB,OAAO;AAC1B,aAAO,OAAO,WAAW;AAAA;AAE3B,gCAA4B,OAAO;AACjC,UAAI,OAAO,UAAU;AACnB,eAAO,gBAAgB;AACzB,UAAI,UAAU;AACZ,eAAO;AACT,UAAI,UAAU,KAAK,IAAI,QAAQ;AAC7B,eAAO;AACT,UAAI,MAAM,OAAO;AACjB,UAAI,OAAO,UAAU;AACnB,eAAO,IAAI,QAAQ,YAAY;AACjC,aAAO;AAAA;AAET,qBAAiB,OAAO;AACtB,aAAO,OAAO,UAAU,SAAS,KAAK,OAAO,MAAM,GAAG;AAAA;AAExD,8BAA0B,GAAG;AAC3B,aAAO,QAAQ,MAAM;AAAA;AAEvB,+BAA2B,KAAK;AAC9B,aAAO,IAAI,QAAQ,aAAa;AAAA;AAElC,qBAAiB,KAAK;AACpB,aAAO,6BAA6B,KAAK,OAAO,MAAM,kBAAkB,KAAK,UAAU;AAAA;AAEzF,sBAAkB,KAAK;AACrB,aAAO,6BAA6B,KAAK,OAAO,MAAM,MAAM,MAAM,kBAAkB,KAAK,UAAU,QAAQ;AAAA;AAE7G,6BAAyB,KAAK;AAC5B,UAAI,SAAS;AACb,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK,GAAG;AACtC,YAAI,OAAO,IAAI,OAAO;AACtB,YAAI,OAAO,KAAK,WAAW;AAC3B,YAAI,SAAS,KAAK;AAChB,oBAAU;AAAA,mBACD,QAAQ,SAAS;AAC1B,oBAAU,QAAQ;AAAA,mBACT,QAAQ,SAAS,QAAQ,OAAO;AACzC,cAAI,OAAO,IAAI,WAAW,IAAI;AAC9B,cAAI,QAAQ,SAAU,SAAQ,SAAS,QAAQ,QAAQ;AACrD,sBAAU,OAAO,IAAI,EAAE;AAAA,iBAClB;AACL,sBAAU,QAAQ,KAAK,SAAS,IAAI;AAAA;AAAA,eAEjC;AACL,oBAAU;AAAA;AAAA;AAGd,gBAAU;AACV,aAAO;AAAA;AAET,oBAAgB;AAAA;AAEhB,4BAAwB,GAAG,GAAG;AAC5B,aAAO,KAAK,IAAI,KAAK,IAAI,MAAM,KAAM,MAAK,OAAO,MAAM,YAAY,OAAO,MAAM;AAAA;AAElF,YAAQ;AACR,QAAM,mBAAmB;AACzB,sBAAkB,OAAO,QAAQ,MAAM;AACrC,UAAI;AACJ,YAAM,cAAc,IAAI;AACxB,mBAAa,WAAW;AACtB,YAAI,eAAe,OAAO,YAAY;AACpC,kBAAQ;AACR,cAAI,MAAM;AACR,kBAAM,YAAY,CAAC,iBAAiB;AACpC,uBAAW,cAAc,aAAa;AACpC,yBAAW;AACX,+BAAiB,KAAK,YAAY;AAAA;AAEpC,gBAAI,WAAW;AACb,uBAAS,IAAI,GAAG,IAAI,iBAAiB,QAAQ,KAAK,GAAG;AACnD,iCAAiB,GAAG,GAAG,iBAAiB,IAAI;AAAA;AAE9C,+BAAiB,SAAS;AAAA;AAAA;AAAA;AAAA;AAKlC,sBAAgB,IAAI;AAClB,YAAI,GAAG;AAAA;AAET,yBAAmB,KAAK,aAAa,MAAM;AACzC,cAAM,aAAa,CAAC,KAAK;AACzB,oBAAY,IAAI;AAChB,YAAI,YAAY,SAAS,GAAG;AAC1B,iBAAO,MAAM,QAAQ;AAAA;AAEvB,YAAI;AACJ,eAAO,MAAM;AACX,sBAAY,OAAO;AACnB,cAAI,YAAY,SAAS,GAAG;AAC1B;AACA,mBAAO;AAAA;AAAA;AAAA;AAIb,aAAO,EAAE,KAAK,QAAQ;AAAA;AAExB,+BAA2B,KAAK;AAC9B,aAAO,eAAe,SAAS,OAAO,IAAI,QAAQ,IAAI,UAAU,MAAM,IAAI,MAAM,KAAK,UAAU;AAAA;AAEjG,kBAAc,OAAO;AACnB,UAAI,QAAQ;AACZ,UAAI,IAAI,MAAM;AACd,UAAI,OAAO,UAAU,UAAU;AAC7B,eAAO;AACL,kBAAQ,QAAQ,KAAK,MAAM,WAAW,EAAE;AAAA,aACrC;AACL,eAAO;AACL,kBAAQ,QAAQ,KAAK,MAAM,EAAE;AAAA;AAEjC,aAAQ,WAAU,GAAG,SAAS;AAAA;AAEhC,QAAM,kCAAkC;AAAA,MACtC,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,KAAK;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA;AAEZ,wCAAoC,KAAK;AACvC,aAAO,QAAO,KAAK,iCAAiC,CAAC,SAAS,MAAM,KAAK,SAAS,IAAI;AAAA;AAExF,QAAM,wBAAwB;AAAA,MAC5B,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA;AAEP,8BAA0B,KAAK;AAC7B,aAAO,MAAM,QAAO,KAAK,uBAAuB,CAAC,SAAS,KAAK,WAAW;AAAA;AAE5E,qBAAgB,KAAK,MAAM,iBAAiB;AAC1C,UAAI,SAAS;AACb,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK,GAAG;AACtC,cAAM,OAAO,IAAI,OAAO;AACxB,cAAM,OAAO,KAAK,WAAW;AAC7B,YAAI,QAAQ,MAAM;AAChB,oBAAU,KAAK;AAAA,mBACN,QAAQ,SAAS,QAAQ,OAAO;AACzC,gBAAM,OAAO,IAAI,WAAW,IAAI;AAChC,cAAI,QAAQ,SAAS,QAAQ,SAAS,QAAQ,OAAO;AACnD,sBAAU,OAAO,IAAI,EAAE;AAAA,iBAClB;AACL,sBAAU,gBAAgB;AAAA;AAAA,eAEvB;AACL,oBAAU;AAAA;AAAA;AAGd,aAAO;AAAA;AAET,QAAM,IAAI,KAAK;AACf,mCAA+B;AAAA,MAC7B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,OAAO;AAAA,MACP;AAAA,MACA;AAAA,OACC;AACD,YAAM,OAAO,IAAI,IAAI,QAAQ,SAAS,EAAE,MAAM;AAC9C,YAAM,KAAK,IAAI,IAAI,QAAQ,SAAS,EAAE,MAAM;AAC5C,YAAM,SAAS,IAAI;AACnB,YAAM,kBAAkB;AACxB,UAAI;AACJ,UAAI,aAAa;AACjB,UAAI;AACJ,UAAI,QAAQ;AACV,eAAO,QAAQ,QAAQ,UAAU;AAAA;AAEnC,UAAI,YAAY,KAAK;AACnB,eAAO,QAAQ,CAAC,EAAE,MAAM,QAAQ,SAAS,uBAAuB;AAC9D,cAAI,KAAK;AACP,iBAAK,IAAI,QAAQ,CAAC,SAAS,KAAK,IAAI;AACtC,cAAI,KAAK;AACP,iBAAK,GAAG,QAAQ,CAAC,SAAS,GAAG,IAAI;AACnC,cAAI,KAAK;AACP,iBAAK,OAAO,QAAQ,CAAC,YAAY,OAAO,IAAI;AAC9C,cAAI,WAAW,YAAY;AACzB,4BAAgB,KAAK,GAAG;AAC1B,cAAI;AACF,yBAAa;AACf,mBAAS,OAAO;AAAA;AAElB,cAAM,UAAU,SAAS;AACzB,cAAM,QAAQ;AAAA,UACZ,QAAQ;AAAA,YACN,MAAM,SAAS;AAAA,YACf,YAAY,SAAS;AAAA,YACrB;AAAA;AAAA,UAEF,MAAM,EAAE,KAAK,QAAQ,QAAQ,OAAO;AAAA,UACpC,YAAY,OAAO,IAAI,CAAC,EAAE,WAAW,KAAK,OAAO;AAAA;AAEnD,cAAM,cAAc,CAAC,UAAU,gBAAgB;AAC7C,iBAAO,eAAe,MAAM,MAAM,UAAU;AAAA,YAC1C,KAAK,MAAM;AACT,oBAAM,IAAI,MAAM,SAAS,2CAA2C;AAAA;AAAA;AAAA;AAI1E,oBAAY,UAAU;AACtB,oBAAY,QAAQ;AACpB,oBAAY,SAAS;AACrB,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK,GAAG;AACzC,gBAAM,SAAS,OAAO,MAAM,OAAO,GAAG,OAAO;AAAA;AAE/C,YAAI,0BAA0B;AAC9B,cAAM,cAAc,QAAQ,UAAU,MAAM;AAC1C,cAAI;AACF,yBAAa;AAAA;AAEjB,kCAA0B;AAC1B,YAAI;AACF,qBAAW,QAAQ,KAAK,OAAO;AAAA,kBAC/B;AACA;AAAA;AAAA,aAEG;AACL,mBAAW,EAAE,MAAM,IAAI,MAAM,IAAI,KAAK,EAAE,MAAM,IAAI,KAAK;AAAA;AAEzD,YAAM,aAAa,YAAY,UAAU,YAAY;AACrD,UAAI,CAAC;AACH,WAAG;AACL,YAAM,QAAQ,QAAQ,MAAM,OAAO,OAAO,KAAK,SAAS,IAAI,KAAK,SAAS,IAAI,qBAAqB,MAAM,KAAK,QAAQ,OAAO,SAAS,IAAI,MAAM,KAAK,kBAAkB,KAAK;AAAA,QAC1K,GAAG,MAAM,KAAK,MAAM,IAAI,CAAC,QAAQ,gCAAgC,QAAQ,SAAS;AAAA,QAClF,GAAG,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,mCAAmC,QAAQ,SAAS;AAAA,QACnF,KAAK;AACP,UAAI,QAAO;AACX,UAAI,QAAQ,KAAK;AACf,gBAAO;AAAA;AAAA;AAAA;AAIP,iBAAQ,QAAQ,iBAAiB,6IAA6I;AAAA,iBACrK,YAAY;AACrB,gBAAO;AAAA,2BACgB,EAAE,QAAQ,SAAS,QAAQ,SAAS,EAAE,MAAM;AAAA;AAAA,cAEzD,QAAQ,SAAS,0BAA0B,EAAE,QAAQ,aAAa;AAAA,aACnE,EAAE,QAAQ;AAAA,eACR,cAAc,UAAU,CAAC,WAAW;AAC7C,gBAAM,IAAI,MAAM,qCAAqC,OAAO;AAAA;AAAA,aAErD,CAAC,CAAC,YAAY;AAAA,WAChB,CAAC,YAAY;AAAA,sBACF,EAAE,QAAQ;AAAA,eACjB,YAAY,OAAO,YAAY,UAAU;AAAA,eACzC;AAAA,cACD,gBAAgB;AAAA;AAAA,QAErB,WAAU,IAAI,IAAI,CAAC,EAAE,WAAW,UAAU,EAAE,QAAQ,SAAS,KAAK,WAAW,KAAK;AAAA;AAAA,oBAEvE,EAAE,IAAI;AAAA,eACX,QAAQ;AAAA,SACd;AAAA;AAAA;AAAA;AAIP,UAAI,QAAQ,kBAAkB,CAAC,QAAQ,KAAK;AAC1C,iBAAQ;AAAA;AAAA,wCAE4B,QAAQ;AAAA;AAAA;AAAA;AAI9C,YAAM,OAAO;AAAA,QACX,SAAS;AAAA,QACT,OAAO,QAAQ,CAAC,QAAQ,MAAM,sBAAsB,MAAM,KAAK,QAAQ,KAAK,kBAAkB;AAAA,QAC9F;AAAA,QACA;AAAA,QACA,KAAK;AACP,UAAI,OAAO,SAAS;AACpB,UAAI,QAAQ,KAAK;AACf,YAAI,QAAQ,gBAAgB;AAC1B,kBAAQ,mCAAmC,QAAQ;AAAA;AAAA,aAEhD;AACL,gBAAQ,gBAAgB,IAAI,CAAC,EAAE,KAAK,MAAM,MAAM,OAAO,WAAW;AAChE,cAAI,aAAa,4DAA4D,iBAAiB;AAC9F,cAAI;AACF,0BAAc,eAAe,KAAK;AACpC,iBAAO,WAAW,cAAc;AAAA,WAC/B,KAAK;AAAA;AAEV,YAAM,UAAU;AAAA,QACd,gBAAgB;AAAA;AAElB,UAAI,QAAQ;AACV,gBAAQ,mBAAmB,GAAG,aAAa,YAAY,qBAAqB;AAAA;AAE9E,UAAI,CAAC,QAAQ,MAAM;AACjB,gBAAQ,wBAAwB;AAAA;AAElC,YAAM,WAAW,IAAI,SAAS,MAAM,QAAQ,MAAM,KAAK,QAAQ,MAAM,KAAK,MAAM;AAChF,YAAM,UAAU,QAAQ,MAAM,UAAW,UAAS,SAAS,IAAI,SAAS,IAAI,MAAM,MAAM,KAAK,OAAO;AACpG,aAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA,MAAM,QAAQ,SAAS;AAAA,UACrB;AAAA,UACA;AAAA,UACA,QAAQ;AAAA;AAAA;AAAA;AAId,2BAAuB,MAAM,MAAM;AACjC,UAAI;AACF,eAAO,QAAQ;AAAA,eACR,KAAP;AACA,YAAI;AACF,eAAK,kBAAkB;AACzB,eAAO;AAAA;AAAA;AAGX,6BAAyB,QAAQ;AAC/B,UAAI,CAAC;AACH,eAAO;AACT,UAAI,aAAa,cAAc;AAC/B,UAAI,CAAC,YAAY;AACf,cAAM,EAAE,MAAM,SAAS,UAAU;AACjC,qBAAa,cAAc,eAAc,gBAAe,IAAI,SAAS,EAAE,MAAM,SAAS;AAAA;AAExF,UAAI,CAAC,YAAY;AACf,qBAAa;AAAA;AAEf,aAAO;AAAA;AAET,uBAAmB,QAAQ;AACzB,YAAM,mBAAmB,OAAO,UAAU,OAAO,UAAU,OAAO,OAAO,UAAU,OAAO,CAAC,OAAO;AAClG,UAAI,OAAO,SAAS,kBAAkB;AACpC,cAAM,SAAS,OAAO;AACtB,YAAI,CAAC,OAAO,SAAS,kBAAkB;AACrC,iBAAO;AAAA,YACL,QAAQ,UAAU;AAAA,YAClB,OAAO,IAAI;AAAA;AAAA;AAGf,cAAM,SAAS,OAAO,OAAO,UAAU,WAAW,IAAI,MAAM,OAAO,SAAS,OAAO;AACnF,YAAI,CAAE,mBAAkB,QAAQ;AAC9B,iBAAO;AAAA,YACL,QAAQ;AAAA,YACR,OAAO,IAAI,MAAM,+FAA+F,OAAO;AAAA;AAAA;AAG3H,YAAI,CAAC,UAAU,SAAS,OAAO,SAAS,KAAK;AAC3C,kBAAQ,KAAK;AACb,iBAAO,EAAE,QAAQ,KAAK,OAAO;AAAA;AAE/B,eAAO,EAAE,QAAQ,OAAO;AAAA;AAE1B,UAAI,OAAO,UAAU;AACnB,YAAI,CAAC,OAAO,UAAU,KAAK,MAAM,OAAO,SAAS,SAAS,GAAG;AAC3D,iBAAO;AAAA,YACL,QAAQ;AAAA,YACR,OAAO,IAAI,MAAM;AAAA;AAAA;AAGrB,YAAI,OAAO,OAAO,aAAa,UAAU;AACvC,iBAAO;AAAA,YACL,QAAQ;AAAA,YACR,OAAO,IAAI,MAAM;AAAA;AAAA;AAAA;AAIvB,UAAI,OAAO,SAAS;AAClB,cAAM,IAAI,MAAM;AAAA;AAElB,aAAO;AAAA;AAET,QAAM,WAAW;AACjB,QAAM,SAAS;AACf,qBAAiB,OAAO,MAAM;AAC5B,UAAI,OAAO,KAAK;AACd,eAAO;AACT,YAAM,aAAa,SAAS,KAAK;AACjC,YAAM,aAAa,SAAS,KAAK;AACjC,UAAI,CAAC,YAAY;AACf,cAAM,IAAI,MAAM,mBAAmB;AAAA;AAErC,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,WAAW,GAAG,QAAQ,MAAM;AAC5E,YAAM,YAAY,aAAa,KAAK,MAAM,WAAW,GAAG,QAAQ,MAAM,OAAO,KAAK,MAAM;AACxF,gBAAU;AACV,eAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK,GAAG;AAC5C,cAAM,OAAO,UAAU;AACvB,YAAI,SAAS;AACX;AAAA,iBACO,SAAS;AAChB,oBAAU;AAAA;AAEV,oBAAU,KAAK;AAAA;AAEnB,YAAM,SAAS,cAAc,WAAW,MAAM,cAAc,WAAW,MAAM;AAC7E,aAAO,GAAG,SAAS,UAAU,KAAK;AAAA;AAEpC,8BAA0B,MAAM;AAC9B,aAAO,KAAK,OAAO,OAAO,KAAK,OAAO;AAAA;AAExC,6BAAyB;AAAA,MACvB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,OAAO;AAAA,OACN;AACD,YAAM,EAAE,QAAQ,aAAY;AAC5B,UAAI,mBAAmB;AACvB,YAAM,UAAU;AAChB,UAAI,qBAAqB;AACzB,UAAI;AACJ,YAAM,YAAY,IAAI,MAAM,KAAK;AAAA,QAC/B,KAAK,CAAC,QAAQ,MAAM,aAAa;AAC/B,cAAI,qBAAsB,UAAS,YAAY,SAAS,iBAAiB;AACvE,kBAAM,IAAI,MAAM;AAAA;AAElB,iBAAO,QAAQ,IAAI,QAAQ,MAAM;AAAA;AAAA;AAGrC,UAAI,SAAQ,MAAM;AAChB,cAAM,aAAa;AAAA,UACjB,KAAK;AAAA,UACL;AAAA,cACI,UAAU;AACZ,+BAAmB;AACnB,mBAAO;AAAA;AAAA,UAET,OAAO,OAAO,UAAU,OAAO,OAAO;AACpC,gBAAI;AACJ,gBAAI,OAAO,aAAa,UAAU;AAChC,0BAAY;AAAA,mBACP;AACL,0BAAY,SAAS;AACrB,qBAAO,gBAAe;AAAA,gBACpB,QAAQ,SAAS;AAAA,gBACjB,SAAS,SAAS;AAAA,gBAClB,MAAM,SAAS;AAAA,gBACf,MAAM,SAAS;AAAA,gBACf,aAAa,SAAS;AAAA,gBACtB,OAAO,SAAS;AAAA,gBAChB,UAAU,SAAS;AAAA,gBACnB,UAAU,SAAS;AAAA,gBACnB,WAAW,SAAS;AAAA,iBACnB;AAAA;AAEL,iBAAK,UAAU,IAAI,QAAQ,KAAK;AAChC,kBAAM,WAAW,QAAQ,QAAQ,IAAI,UAAU,UAAU,MAAM,KAAK;AACpE,gBAAI;AACJ,kBAAM,SAAS,QAAQ,MAAM,UAAU,QAAQ,MAAM;AACrD,kBAAM,WAAY,UAAS,WAAW,UAAU,SAAS,MAAM,OAAO,UAAU,UAAU,MAAM;AAChG,kBAAM,gBAAgB,GAAG;AACzB,kBAAM,WAAW,QAAQ,SAAS,OAAO,IAAI;AAC7C,kBAAM,gBAAgB,QAAQ,SAAS,OAAO,IAAI;AAClD,gBAAI,YAAY,eAAe;AAC7B,oBAAM,OAAO,WAAW,WAAW;AACnC,kBAAI,QAAQ,MAAM;AAChB,sBAAM,OAAO,WAAW,QAAQ,SAAS,EAAE,KAAK,SAAS,MAAM,SAAS,YAAY,SAAS;AAC7F,2BAAW,IAAI,SAAS,QAAQ,KAAK,OAAO;AAAA,kBAC1C,SAAS,OAAO,EAAE,gBAAgB,SAAS;AAAA;AAAA,qBAExC;AACL,2BAAW,MAAM,MAAM,GAAG,IAAI,UAAU,QAAQ;AAAA;AAAA,uBAEzC,iBAAiB,WAAW;AACrC,oBAAM,WAAW;AACjB,kBAAI,KAAK,gBAAgB,QAAQ;AAC/B,mCAAmB;AACnB,oBAAI,QAAQ,QAAQ,QAAQ;AAC1B,uBAAK,QAAQ,IAAI,UAAU,QAAQ,QAAQ;AAAA;AAE7C,oBAAI,QAAQ,QAAQ,iBAAiB,CAAC,KAAK,QAAQ,IAAI,kBAAkB;AACvE,uBAAK,QAAQ,IAAI,iBAAiB,QAAQ,QAAQ;AAAA;AAAA;AAGtD,kBAAI,KAAK,QAAQ,OAAO,KAAK,SAAS,UAAU;AAC9C,sBAAM,IAAI,MAAM;AAAA;AAElB,oBAAM,WAAW,MAAM,QAAQ;AAAA,gBAC7B,KAAK,IAAI,IAAI,WAAW,QAAQ;AAAA,gBAChC,QAAQ,KAAK,UAAU;AAAA,gBACvB,SAAS,OAAO,YAAY,KAAK;AAAA,gBACjC,SAAS,KAAK,QAAQ,OAAO,OAAO,IAAI,cAAc,OAAO,KAAK;AAAA,iBACjE,SAAS;AAAA,gBACV,SAAS;AAAA,gBACT,WAAW;AAAA;AAEb,kBAAI,UAAU;AACZ,oBAAI,MAAM,WAAW;AACnB,wBAAM,UAAU,aAAa,IAAI,UAAU;AAAA;AAE7C,2BAAW,IAAI,SAAS,SAAS,MAAM;AAAA,kBACrC,QAAQ,SAAS;AAAA,kBACjB,SAAS,SAAS;AAAA;AAAA,qBAEf;AACL,uBAAO,MAAM,IAAI,IAAI,WAAW,QAAQ,KAAK,MAAM;AAAA,kBACjD,QAAQ,KAAK,UAAU;AAAA,kBACvB,SAAS,KAAK;AAAA;AAAA;AAAA,mBAGb;AACL,kBAAI,SAAS,WAAW,OAAO;AAC7B,sBAAM,IAAI,MAAM,yCAAyC;AAAA;AAE3D,kBAAI,IAAI,IAAI,IAAI,WAAW,WAAW,SAAS,IAAI,QAAQ,IAAI,eAAe,KAAK,gBAAgB,QAAQ;AACzG,mCAAmB;AACnB,qBAAK,QAAQ,IAAI,UAAU,QAAQ,QAAQ;AAAA;AAE7C,oBAAM,mBAAmB,IAAI,QAAQ,WAAW;AAChD,yBAAW,MAAM,QAAQ,MAAM,cAAc,KAAK,MAAM;AAAA;AAE1D,gBAAI,UAAU;AACZ,oBAAM,QAAQ,IAAI,MAAM,UAAU;AAAA,gBAChC,IAAI,WAAW,KAAK,WAAW;AAC7B,wCAAsB;AACpB,0BAAM,OAAO,MAAM,UAAU;AAC7B,0BAAM,UAAU;AAChB,+BAAW,CAAC,MAAM,UAAU,UAAU,SAAS;AAC7C,0BAAI,SAAS,cAAc;AACzB,6CAAqB,mBAAmB,OAAO;AAAA,iCACtC,SAAS,QAAQ;AAC1B,gCAAQ,QAAQ;AAAA;AAAA;AAGpB,wBAAI,CAAC,KAAK,QAAQ,OAAO,KAAK,SAAS,UAAU;AAC/C,8BAAQ,KAAK;AAAA,wBACX,KAAK;AAAA,wBACL,MAAM,KAAK;AAAA,wBACX,MAAM,aAAa,UAAU,uBAAuB,EAAE,UAAU,yBAAyB,EAAE,oBAAoB,2BAA2B;AAAA;AAAA;AAG9I,2BAAO;AAAA;AAET,sBAAI,QAAQ,QAAQ;AAClB,2BAAO;AAAA;AAET,sBAAI,QAAQ,QAAQ;AAClB,2BAAO,YAAY;AACjB,6BAAO,KAAK,MAAM,MAAM;AAAA;AAAA;AAG5B,yBAAO,QAAQ,IAAI,WAAW,KAAK;AAAA;AAAA;AAGvC,qBAAO;AAAA;AAET,mBAAO,YAAY,IAAI,SAAS,aAAa;AAAA,cAC3C,QAAQ;AAAA;AAAA;AAAA,UAGZ,OAAO,gBAAe,IAAI;AAAA;AAE5B,YAAI,QAAQ,KAAK;AACf,iBAAO,eAAe,YAAY,QAAQ;AAAA,YACxC,KAAK,MAAM;AACT,oBAAM,IAAI,MAAM;AAAA;AAAA;AAAA;AAItB,YAAI,UAAU;AACZ,qBAAW,SAAS;AACpB,qBAAW,QAAQ;AAAA;AAErB,iBAAS,MAAM,SAAQ,KAAK,KAAK,MAAM;AAAA,aAClC;AACL,iBAAS;AAAA;AAEX,UAAI,CAAC,UAAU,WAAW,CAAC;AACzB;AACF,UAAI,CAAC,QAAQ;AACX,cAAM,IAAI,MAAM,GAAG,KAAK;AAAA;AAE1B,aAAO;AAAA,QACL;AAAA,QACA,QAAQ,UAAU;AAAA,QAClB,OAAO,OAAO,SAAS;AAAA,QACvB;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAGJ,sCAAkC,EAAE,SAAS,SAAS,OAAO,UAAU,QAAQ,OAAO,UAAU;AAC9F,YAAM,iBAAiB,MAAM,QAAQ,SAAS,EAAE,MAAM;AACtD,YAAM,gBAAgB,MAAM,QAAQ,SAAS,EAAE,MAAM;AACrD,YAAM,SAAS;AACf,YAAM,SAAS,MAAM,UAAU;AAAA,QAC7B;AAAA,QACA;AAAA,QACA;AAAA,QACA,OAAO;AAAA,QACP,KAAK,QAAQ;AAAA,QACb;AAAA,QACA,MAAM;AAAA,QACN;AAAA,QACA,OAAO;AAAA,QACP,mBAAmB,qBAAqB,SAAS,eAAe;AAAA,QAChE,SAAS;AAAA,QACT,UAAU;AAAA;AAEZ,YAAM,SAAS;AAAA,QACb;AAAA,QACA,MAAM,UAAU;AAAA,UACd;AAAA,UACA;AAAA,UACA;AAAA,UACA,OAAO;AAAA,UACP,KAAK,QAAQ;AAAA,UACb;AAAA,UACA,MAAM;AAAA,UACN;AAAA,UACA,OAAO,SAAS,OAAO,QAAQ;AAAA,UAC/B,mBAAmB,qBAAqB,SAAS,eAAe;AAAA,UAChE,SAAS;AAAA,UACT,UAAU;AAAA,UACV;AAAA,UACA,OAAO;AAAA;AAAA;AAGX,UAAI;AACF,eAAO,MAAM,gBAAgB;AAAA,UAC3B;AAAA,UACA;AAAA,UACA,aAAa;AAAA,YACX,SAAS,QAAQ;AAAA,YACjB,QAAQ,QAAQ;AAAA,YAChB,KAAK,QAAQ;AAAA;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA,KAAK,QAAQ;AAAA,UACb;AAAA;AAAA,eAEK,KAAP;AACA,cAAM,SAAS,kBAAkB;AACjC,gBAAQ,aAAa,QAAQ;AAC7B,eAAO;AAAA,UACL,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,MAAM,OAAO;AAAA;AAAA;AAAA;AAInB,kCAA8B,SAAS,MAAM,OAAO;AAClD,aAAO,QAAQ,aAAc,EAAC,CAAC,KAAK,OAAO,aAAa,CAAC,CAAC,MAAM,aAAa,MAAM,UAAU;AAAA;AAE/F,6BAAyB,MAAM;AAC7B,YAAM,EAAE,SAAS,SAAS,OAAO,UAAU,UAAU;AACrD,UAAI;AACJ,UAAI;AACF,gBAAQ,MAAM,QAAQ,IAAI,MAAM,EAAE,IAAI,CAAC,MAAM,QAAQ,SAAS,EAAE,MAAM,MAAM,QAAQ,SAAS,EAAE,MAAM;AAAA,eAC9F,KAAP;AACA,cAAM,SAAS,kBAAkB;AACjC,gBAAQ,aAAa,QAAQ;AAC7B,eAAO,MAAM,mBAAmB;AAAA,UAC9B;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,QAAQ;AAAA,UACR,OAAO;AAAA;AAAA;AAGX,YAAM,OAAO,MAAM,MAAM,SAAS,GAAG;AACrC,UAAI,cAAc,gBAAgB,MAAM;AACxC,UAAI,CAAC,KAAK,aAAa,MAAM,aAAa,CAAC,MAAM,UAAU,KAAK;AAC9D,eAAO;AAAA,UACL,QAAQ;AAAA,UACR,SAAS;AAAA;AAAA;AAGb,UAAI,SAAS;AACb,UAAI,SAAS;AACb,UAAI;AACJ,UAAI,qBAAqB;AACzB;AACE,YAAI,YAAY,KAAK;AACnB,cAAI,QAAQ;AACZ,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACxC,kBAAM,OAAO,MAAM;AACnB,gBAAI;AACJ,gBAAI,MAAM;AACR,kBAAI;AACF,yBAAS,MAAM,UAAU,eAAc,gBAAe,IAAI,OAAO;AAAA,kBAC/D,KAAK,QAAQ;AAAA,kBACb;AAAA,kBACA;AAAA,kBACA,mBAAmB,qBAAqB,SAAS,MAAM;AAAA,kBACvD,SAAS,MAAM,MAAM,SAAS;AAAA,kBAC9B,UAAU;AAAA;AAEZ,oBAAI,CAAC;AACH;AACF,qCAAqB,mBAAmB,OAAO,OAAO;AACtD,oBAAI,OAAO,OAAO,UAAU;AAC1B,yBAAO,aAAa;AAAA,oBAClB,QAAQ,OAAO,OAAO;AAAA,oBACtB,SAAS;AAAA,sBACP,UAAU,UAAU,OAAO,OAAO;AAAA;AAAA,qBAEnC;AAAA;AAEL,oBAAI,OAAO,OAAO,OAAO;AACvB,kBAAC,GAAE,QAAQ,OAAO,WAAW,OAAO;AAAA;AAAA,uBAE/B,KAAP;AACA,sBAAM,IAAI,kBAAkB;AAC5B,wBAAQ,aAAa,GAAG;AACxB,yBAAS;AACT,yBAAS;AAAA;AAEX,kBAAI,UAAU,CAAC,QAAQ;AACrB,uBAAO,KAAK;AAAA;AAEd,kBAAI,QAAQ;AACV,uBAAO,KAAK;AACV,sBAAI,MAAM,EAAE,IAAI;AACd,0BAAM,aAAa,MAAM,QAAQ,SAAS,EAAE,MAAM,MAAM,EAAE;AAC1D,wBAAI;AACJ,wBAAI,IAAI;AACR,2BAAO,CAAE,eAAc,OAAO,KAAK;AACjC,2BAAK;AAAA;AAEP,wBAAI;AACF,4BAAM,eAAe,MAAM,UAAU,eAAc,gBAAe,IAAI,OAAO;AAAA,wBAC3E,KAAK,QAAQ;AAAA,wBACb,MAAM;AAAA,wBACN,OAAO,YAAY;AAAA,wBACnB,mBAAmB,qBAAqB,SAAS,YAAY;AAAA,wBAC7D,SAAS;AAAA,wBACT,UAAU;AAAA,wBACV;AAAA,wBACA,OAAO;AAAA;AAET,0BAAI,aAAa,OAAO,OAAO;AAC7B;AAAA;AAEF,oCAAc,gBAAgB,WAAW,QAAQ;AACjD,+BAAS,OAAO,MAAM,GAAG,IAAI,GAAG,OAAO;AACvC;AAAA,6BACO,KAAP;AACA,4BAAM,IAAI,kBAAkB;AAC5B,8BAAQ,aAAa,GAAG;AACxB;AAAA;AAAA;AAAA;AAIN,uBAAO,aAAa,MAAM,mBAAmB;AAAA,kBAC3C;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA,OAAO;AAAA,oBACL;AAAA;AAAA;AAGR,gBAAI,UAAU,OAAO,OAAO,OAAO;AACjC,sBAAQ,gBAAe,gBAAe,IAAI,QAAQ,OAAO,OAAO;AAAA;AAAA;AAAA;AAIxE,UAAI;AACF,eAAO,aAAa,MAAM,gBAAgB,eAAc,gBAAe,IAAI,OAAO;AAAA,UAChF,KAAK,QAAQ;AAAA,UACb;AAAA,UACA;AAAA,UACA,OAAO;AAAA,UACP,QAAQ,OAAO,OAAO;AAAA,aACnB;AAAA,eACE,KAAP;AACA,cAAM,SAAS,kBAAkB;AACjC,gBAAQ,aAAa,QAAQ;AAC7B,eAAO,aAAa,MAAM,mBAAmB,eAAc,gBAAe,IAAI,OAAO;AAAA,UACnF,QAAQ;AAAA,UACR,OAAO;AAAA,aACJ;AAAA;AAAA;AAGT,6BAAyB,MAAM,SAAS;AACtC,aAAO;AAAA,QACL,KAAK,SAAS,OAAO,CAAC,CAAC,KAAK,MAAM,QAAQ;AAAA,QAC1C,QAAQ,YAAY,OAAO,CAAC,CAAC,KAAK,SAAS,QAAQ;AAAA,QACnD,SAAS,aAAa,OAAO,CAAC,CAAC,KAAK,UAAU,QAAQ;AAAA;AAAA;AAG1D,0BAAsB,UAAU,oBAAoB;AAClD,UAAI,mBAAmB,QAAQ;AAC7B,iBAAS,QAAQ,gBAAgB;AAAA;AAEnC,aAAO;AAAA;AAET,+BAA2B,SAAS,OAAO,OAAO,SAAS,OAAO;AAChE,UAAI,MAAM,cAAc,OAAO;AAC7B,eAAO;AAAA,UACL,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,MAAM,cAAc,QAAQ,IAAI;AAAA;AAAA;AAGpC,YAAM,SAAS,MAAM,SAAS,cAAc,MAAM,OAAO,UAAU;AACnE,YAAM,WAAW,MAAM,QAAQ,MAAM,WAAW;AAChD,YAAM,WAAW,MAAM,UAAU;AAAA,QAC/B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAEF,UAAI,UAAU;AACZ,eAAO;AAAA;AAET,UAAI,MAAM,SAAS;AACjB,eAAO;AAAA,UACL,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,MAAM,iDAAiD,MAAM;AAAA;AAAA;AAAA;AAInE,mCAA+B;AAC7B,YAAM,MAAM,IAAI;AAChB,aAAO;AAAA,QACL,OAAO,KAAK,OAAO;AACjB,cAAI,IAAI,IAAI,MAAM;AAChB,YAAC,KAAI,IAAI,QAAQ,IAAI,KAAK;AAAA,iBACrB;AACL,gBAAI,IAAI,KAAK,CAAC;AAAA;AAAA;AAAA,QAGlB,MAAM,IAAI,iBAAiB;AAAA;AAAA;AAG/B,iCAAuB;AAAA,MACrB,YAAY,KAAK;AACf,sBAAa,MAAM,MAAM;AACzB,sBAAa,MAAM,MAAM;AAAA;AAAA,MAE3B,IAAI,KAAK;AACP,cAAM,QAAQ,cAAa,MAAM,MAAM,IAAI;AAC3C,eAAO,SAAS,MAAM;AAAA;AAAA,MAExB,OAAO,KAAK;AACV,eAAO,cAAa,MAAM,MAAM,IAAI;AAAA;AAAA,MAEtC,IAAI,KAAK;AACP,eAAO,cAAa,MAAM,MAAM,IAAI;AAAA;AAAA,QAEpC,OAAO,YAAY;AACnB,mBAAW,CAAC,KAAK,UAAU,cAAa,MAAM,OAAO;AACnD,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACxC,kBAAM,CAAC,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA,OAIvB,UAAU;AACT,mBAAW,CAAC,KAAK,UAAU,cAAa,MAAM,OAAO;AACnD,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACxC,kBAAM,CAAC,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA,OAIvB,OAAO;AACN,mBAAW,CAAC,QAAQ,cAAa,MAAM;AACrC,gBAAM;AAAA;AAAA,OAET,SAAS;AACR,mBAAW,CAAC,EAAE,UAAU,cAAa,MAAM,OAAO;AAChD,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACxC,kBAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAKpB,WAAO,IAAI;AACX,wBAAoB,KAAK,SAAS;AAChC,UAAI,CAAC;AACH,eAAO;AACT,YAAM,eAAe,QAAQ;AAC7B,YAAM,CAAC,SAAS,cAAc,eAAe,aAAa,MAAM,UAAU;AAC1E,YAAM,OAAO,MAAM,IAAI,YAAY,QAAQ,uBAAuB,SAAS,OAAO;AAClF,cAAQ;AAAA,aACD;AACH,iBAAO;AAAA,aACJ;AACH,iBAAO,KAAK,MAAM;AAAA,aACf;AACH,iBAAO,eAAe;AAAA,aACnB,uBAAuB;AAC1B,gBAAM,WAAW,WAAW,KAAK,CAAC,cAAc,UAAU,WAAW;AACrE,cAAI,CAAC;AACH,kBAAM,IAAI,MAAM;AAClB,iBAAO,cAAc,QAAQ,SAAS,MAAM,YAAY;AAAA;AAAA;AAGxD,iBAAO;AAAA;AAAA;AAGb,4BAAwB,MAAM;AAC5B,YAAM,EAAE,MAAM,WAAW;AACzB,WAAK,QAAQ,OAAO,KAAK,MAAM,KAAK,QAAQ,CAAC,QAAQ;AACnD,cAAM,CAAC,KAAK,SAAS,IAAI,MAAM;AAC/B,eAAO,mBAAmB,MAAM,mBAAmB;AAAA;AAErD,aAAO;AAAA;AAET,2BAAuB,MAAM,UAAU;AACrC,YAAM,QAAQ,KAAK,MAAM,KAAK;AAC9B,UAAI,MAAM,OAAO,MAAM,MAAM,MAAM,SAAS,GAAG,WAAW,MAAM;AAC9D,cAAM,IAAI,MAAM;AAAA;AAElB,YAAM,EAAE,MAAM,WAAW;AACzB,YAAM,MAAM,GAAG,IAAI,QAAQ,CAAC,SAAS;AACnC,cAAM,QAAQ,oCAAoC,KAAK;AACvD,YAAI,CAAC,OAAO;AACV,gBAAM,IAAI,MAAM;AAAA;AAElB,cAAM,cAAc,MAAM;AAC1B,cAAM,OAAO,MAAM,GAAG;AACtB,YAAI;AACJ,cAAM,UAAU;AAChB,oBAAY,MAAM,QAAQ,QAAQ,CAAC,QAAQ;AACzC,gBAAM,CAAC,eAAe,kBAAkB,IAAI,MAAM;AAClD,cAAI,CAAC,MAAM,SAAS,WAAW,MAAM;AACrC,iBAAO,KAAK;AACZ,kBAAQ,QAAQ;AAChB,gBAAM,aAAa;AACnB,yBAAe,QAAQ,CAAC,kBAAkB;AACxC,kBAAM,CAAC,OAAO,UAAU,cAAc,MAAM;AAC5C,uBAAW,SAAS,KAAK,MAAM;AAAA;AAEjC,cAAI,SAAS,uBAAuB;AAClC,gBAAI,UAAU;AACZ,oBAAM,IAAI,MAAM;AAClB,gBAAI,WAAW,UAAU;AACvB,oBAAM,IAAI,MAAM;AAAA;AAElB,gBAAI,WAAW,MAAM;AACnB,oBAAM,WAAW;AAAA;AAAA;AAAA;AAIvB,YAAI,CAAC;AACH,gBAAM,IAAI,MAAM;AAClB,eAAO,KAAK;AAAA;AAEd,aAAO;AAAA;AAET,2BAAuB,UAAU,SAAS,QAAQ,IAAI;AACpD,UAAI,SAAS,IAAI,aAAa,OAAO,QAAQ,mBAAmB,UAAU;AACxE,cAAM,qBAAqB,SAAS,IAAI,SAAS,SAAS;AAC1D,YAAI,sBAAsB,QAAQ,mBAAmB,WAAW,CAAC,sBAAsB,QAAQ,mBAAmB,YAAY,CAAE,UAAS,IAAI,SAAS,MAAM,KAAK,SAAS,IAAI,SAAS,MAAM;AAC3L,mBAAS,IAAI,WAAW,qBAAqB,SAAS,IAAI,SAAS,MAAM,GAAG,MAAM,SAAS,IAAI,WAAW;AAC1G,cAAI,SAAS,IAAI,WAAW;AAC1B,qBAAS,IAAI,SAAS;AACxB,iBAAO;AAAA,YACL,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,UAAU,SAAS,IAAI,WAAW,SAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAKvD,YAAM,UAAU,eAAe,SAAS;AACxC,YAAM,UAAU,eAAc,gBAAe,IAAI,WAAW;AAAA,QAC1D;AAAA,QACA,MAAM,WAAW,SAAS,SAAS;AAAA,QACnC,QAAQ;AAAA,QACR,QAAQ;AAAA;AAEV,YAAM,cAAc,CAAC,UAAU,gBAAgB;AAC7C,eAAO,eAAe,SAAS,UAAU;AAAA,UACvC,KAAK,MAAM;AACT,kBAAM,IAAI,MAAM,WAAW,6CAA6C;AAAA;AAAA;AAAA;AAI9E,kBAAY,UAAU;AACtB,kBAAY,QAAQ;AACpB,kBAAY,SAAS;AACrB,UAAI;AACF,eAAO,MAAM,QAAQ,MAAM,OAAO;AAAA,UAChC;AAAA,UACA,SAAS,OAAO,aAAa;AAC3B,gBAAI,MAAM,aAAa,MAAM,UAAU,UAAU;AAC/C,qBAAO,MAAM,gBAAgB;AAAA,gBAC3B,KAAK,SAAS;AAAA,gBACd,QAAQ,SAAS;AAAA,gBACjB;AAAA,gBACA,UAAU,MAAM,QAAQ,MAAM,WAAW;AAAA,gBACzC,aAAa,EAAE,KAAK,OAAO,QAAQ,MAAM,SAAS;AAAA,gBAClD,QAAQ;AAAA,gBACR,QAAQ;AAAA;AAAA;AAGZ,kBAAM,UAAU,UAAU,SAAS,IAAI,UAAU,QAAQ,QAAQ,MAAM,MAAM;AAC7E,uBAAW,SAAS,QAAQ,SAAS,EAAE,QAAQ;AAC7C,oBAAM,QAAQ,MAAM,QAAQ,KAAK;AACjC,kBAAI,CAAC;AACH;AACF,oBAAM,WAAW,MAAM,SAAS,aAAa,MAAM,gBAAgB,UAAU,OAAO,SAAS,MAAM,YAAY,UAAU,OAAO,OAAO,SAAS;AAChJ,kBAAI,UAAU;AACZ,oBAAI,SAAS,WAAW,KAAK;AAC3B,wBAAM,gBAAgB,yBAAyB,SAAS,SAAS;AACjE,sBAAI,CAAC,iBAAiB,CAAC,uBAAuB,KAAK,gBAAgB;AACjE,wBAAI,sBAAsB,SAAS,QAAQ;AAC3C,wBAAI,uBAAuB,OAAO,SAAS,oBAAoB,WAAW,QAAQ;AAChF,4CAAsB,oBAAoB,UAAU;AAAA;AAEtD,0BAAM,OAAO,IAAI,KAAK,SAAS,QAAQ;AACvC,wBAAI,wBAAwB,MAAM;AAChC,6BAAO;AAAA,wBACL,QAAQ;AAAA,wBACR,SAAS;AAAA;AAAA;AAGb,6BAAS,QAAQ,UAAU;AAAA;AAAA;AAG/B,uBAAO;AAAA;AAAA;AAGX,gBAAI,CAAC,MAAM,WAAW;AACpB,oBAAM,WAAW,MAAM,QAAQ,MAAM,WAAW;AAChD,qBAAO,MAAM,mBAAmB;AAAA,gBAC9B,SAAS;AAAA,gBACT;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA,QAAQ;AAAA,gBACR,OAAO,IAAI,MAAM,cAAc,SAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,eAK7C,KAAP;AACA,cAAM,IAAI,kBAAkB;AAC5B,gBAAQ,aAAa,GAAG;AACxB,eAAO;AAAA,UACL,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,MAAM,QAAQ,MAAM,EAAE,QAAQ,EAAE;AAAA;AAAA;AAAA;AAItC,2BAAuB;AAAA;AAGvB,QAAM,MAAM;AAAA,MACV,MAAM;AAAA,MACN,KAAK;AAAA;AAEP,QAAM,OAAQ,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AAClF,UAAI,EAAE,WAAW;AACjB,UAAI,EAAE,SAAS;AACf,UAAI,EAAE,eAAe;AACrB,UAAI,EAAE,UAAU,SAAS;AACzB,UAAI,EAAE,UAAU,SAAS;AACzB,UAAI,EAAE,UAAU,SAAS;AACzB,MAAC,IAAG,sBAAsB,GAAG,cAAc;AAC3C,kBAAY,OAAO,KAAK;AACxB,UAAI,QAAQ,WAAW,UAAU,WAAW,UAAU,WAAW;AAC/D,mBAAW,OAAO;AACpB,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK;AAClB,UAAI,QAAQ,eAAe,UAAU,WAAW,cAAc,eAAe;AAC3E,mBAAW,WAAW;AACxB,UAAI,QAAQ,YAAY,UAAU,WAAW,WAAW,YAAY;AAClE,mBAAW,QAAQ;AACrB,UAAI,QAAQ,YAAY,UAAU,WAAW,WAAW,YAAY;AAClE,mBAAW,QAAQ;AACrB,UAAI,QAAQ,YAAY,UAAU,WAAW,WAAW,YAAY;AAClE,mBAAW,QAAQ;AACrB,eAAS,IAAI,IAAI;AACjB;AACE,eAAO,KAAK,IAAI;AAAA;AAElB,aAAO;AAAA;AAAA;AAAA,EAGP,WAAW,KAAK,GAAI,IAAG,sBAAsB,GAAG,WAAW,MAAM,sBAAsB,GAAG,oBAAoB,SAAS,UAAU,OAAO,OAAO,WAAW,KAAK,IAAI;AAAA,QACjK,SAAS,MAAM,GAAG,WAAW,KAAK,GAAI,IAAG,sBAAsB,GAAG,WAAW,MAAM,sBAAsB,GAAG,oBAAoB,SAAS,UAAU,OAAO,OAAO,WAAW,KAAK,IAAI;AAAA,UACnL,SAAS,MAAM,GAAI,IAAG,sBAAsB,GAAG,WAAW,MAAM,sBAAsB,GAAG,oBAAoB,SAAS,UAAU,OAAO,OAAO,WAAW,KAAK,IAAI;AAAA,eAC7J,GAAI,IAAG,sBAAsB,GAAG,WAAW,MAAM,sBAAsB,GAAG,oBAAoB,SAAS,UAAU,OAAO,OAAO,WAAW,KAAK,IAAI;AAAA,aACrJ,GAAI,IAAG,sBAAsB,GAAG,WAAW,MAAM,sBAAsB,GAAG,oBAAoB,SAAS,UAAU,OAAO,OAAO,WAAW,KAAK,IAAI;AAAA;AAAA,EAE1J;AAAA;AAEF,QAAI,OAAO;AACX,QAAI,SAAS;AACb,uBAAmB,OAAO;AACxB,aAAO,MAAM;AACb,eAAS,MAAM,UAAU;AAAA;AAE3B,8BAA0B,OAAO;AAAA;AAEjC,0BAAsB,EAAE,SAAS,SAAS,YAAY;AACpD,UAAI,UAAU,cAAc,QAAQ,MAAM,QAAQ,QAAQ,UAAU;AACpE,UAAI,QAAQ,IAAI,aAAa,WAAW;AACtC,gBAAQ,IAAI;AACZ,kBAAU;AACV,gBAAQ,SAAS;AAAA;AAEnB,cAAQ,IAAI,qCAAqC,KAAK,UAAU,SAAS,MAAM;AAC/E,UAAI;AACF,gBAAQ,SAAS,KAAK,MAAM,QAAQ;AAAA,eAC7B,GAAP;AACA,gBAAQ,IAAI;AACZ,gBAAQ,SAAS;AAAA;AAEnB,cAAQ,IAAI,8BAA8B,KAAK,UAAU,QAAQ,QAAQ,MAAM;AAC/E,YAAM,WAAW,MAAM,SAAS;AAChC,cAAQ,IAAI,6BAA6B,KAAK,UAAU,QAAQ,QAAQ,MAAM;AAC9E,eAAS,QAAQ,gBAAgB,QAAQ,KAAK,UAAU,QAAQ,WAAW;AAC3E,aAAO;AAAA;AAET,8BAA0B,SAAS;AACjC,cAAQ,IAAI,0BAA0B,KAAK,UAAU,SAAS,MAAM;AACpE,aAAO,QAAQ,SAAS;AAAA,QACtB,MAAM,QAAQ;AAAA,UACZ,EAAE,MAAM;AAAA;AAEd,QAAI,aAA6B,uBAAO,OAAO;AAAA,MAC7C,WAAW;AAAA,OACV,OAAO,cAAc;AAAA,MACtB;AAAA,MACA;AAAA;AAEF,QAAM,WAAW,CAAC,EAAE,MAAM,MAAM,QAAQ,cAAc,gJAAgJ,UAAU,mGAAmG,OAAO,6CAA6C,OAAO;AAC9W,QAAI,OAAO;AACX,cAAU,EAAE,QAAQ,IAAI,UAAU;AAClC,QAAM,YAAY,CAAC,UAAW;AAAA,MAC5B,YAAY,MAAM,cAAe,OAAO;AAAA,MACxC,QAAQ,MAAM,UAAW,EAAC,EAAE,SAAS,SAAS,eAAe,SAAS;AAAA,MACtE,aAAa,MAAM,eAAgB,EAAC,EAAE,OAAO,aAAa,QAAQ,MAAM,OAAO;AAAA,MAC/E,eAAe,MAAM,iBAAiB;AAAA;AAExC,QAAI,mBAAmB;AACvB,sBAAkB,UAAU;AAC1B,yBAAmB,SAAS,YAAY;AACxC,gBAAU,SAAS;AACnB,uBAAiB,SAAS;AAC1B,aAAO,SAAS;AAAA;AAElB,oBAAU;AAAA,MACR,YAAY,UAAU;AACpB,cAAM,QAAQ,UAAU;AACxB,aAAK,UAAU;AAAA,UACb,KAAK;AAAA,UACL,KAAK;AAAA,UACL,MAAM;AAAA,UACN,WAAW,CAAC,WAAW,OAAO;AAAA,UAC9B,cAAc,CAAC,QAAQ,YAAY;AACjC,kBAAM,YAAY,EAAE,OAAO,QAAQ;AACnC,mBAAO,QAAQ,KAAK,QAAQ,UAAU;AAAA;AAAA,UAExC;AAAA,UACA,SAAS;AAAA,UACT;AAAA,UACA,OAAO,EAAE,MAAM;AAAA,UACf,QAAQ,SAAS;AAAA,UACjB,WAAW;AAAA,UACX;AAAA,UACA,MAAM;AAAA,UACN,gBAAgB;AAAA,UAChB,QAAQ;AAAA,UACR,KAAK;AAAA,UACL,QAAQ;AAAA,UACR;AAAA,UACA,gBAAgB;AAAA;AAAA;AAAA,MAGpB,OAAO,SAAS;AAAA,QACd;AAAA,UACE,IAAI;AACN,YAAI,OAAO,KAAK,SAAS,OAAO,WAAW,8BAA8B;AACvE,gBAAM,IAAI,MAAM;AAAA;AAElB,cAAM,OAAO,QAAQ,QAAQ;AAC7B,cAAM,WAAW;AACjB,eAAO,QAAQ,eAAc,gBAAe,IAAI,UAAU,EAAE,KAAK,IAAI,IAAI,QAAQ,KAAK,WAAW,QAAQ,UAAU,KAAK,SAAS,EAAE;AAAA;AAAA;AAAA;AAAA;;;AC1+CvI;AAAA;AAAA;AAEA,YAAQ;AACR,YAAQ;AACR,QAAI,sBAAsB,QAAQ;AAClC,QAAI,UAAU;AACd,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR;AAEA,eAAW,gBAAiB,OAAM;AAChC,YAAM,OAAO,IAAI,oBAAoB,iBAAiB;AACtD,YAAM,KAAK,IAAI,YAAY;AAC3B,UAAI;AAAE,aAAK,YAAY,IAAI,CAAC,IAAI;AAAA,eAAe,KAAP;AAAc,eAAO,IAAI;AAAA;AAAA;AAGnE,QAAI,IAAI;AACR,QAAM,IAAI;AAAA,MACT,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,MACpB,cAAc;AAAA,MACd,oBAAoB;AAAA,MACpB,cAAc;AAAA,MACd,0BAA0B;AAAA,MAC1B,qBAAqB;AAAA,MACrB,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,KAAK;AAAA;AAGN,QAAI,IAAI;AACR,QAAM,IAAI;AAAA,MACT,eAAe;AAAA,MACf,eAAe,KAAK;AAAA;AAGrB,QAAM,KAAK;AACX,QAAM,KAAK;AACX,QAAM,QAAQ;AACd,QAAM,SAAS;AACf,QAAM,QAAQ;AACd,QAAM,IAAI;AACV,QAAM,IAAI;AAEV,QAAM,QAAQ,OAAK,IAAI;AAEvB,QAAM,OAAO,MAAM;AAAA;AAEnB,gCAAsB;AAAA,MAIrB,YAAY,UAAU;AACrB,aAAK,QAAQ;AACb,aAAK,QAAQ;AAEb,aAAK,cAAc;AACnB,aAAK,gBAAgB;AACrB,aAAK,eAAe;AACpB,aAAK,gBAAgB;AACrB,aAAK,cAAc;AACnB,aAAK,aAAa;AAClB,aAAK,YAAY;AAEjB,aAAK,gBAAgB;AAErB,mBAAW,WAAW;AACtB,cAAM,OAAO,IAAI,WAAW,SAAS;AACrC,iBAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACzC,eAAK,KAAK,SAAS,WAAW;AAC9B,eAAK,cAAc,KAAK,MAAM;AAAA;AAG/B,aAAK,WAAW;AAChB,aAAK,aAAa,IAAI,WAAW,KAAK,SAAS,SAAS;AACxD,aAAK,QAAQ,EAAE;AAAA;AAAA,MAMhB,MAAM,MAAM;AACX,YAAI,IAAI;AACR,cAAM,UAAU,KAAK;AACrB,YAAI,gBAAgB,KAAK;AACzB,YAAI,EAAC,YAAY,UAAU,eAAe,OAAO,OAAO,UAAS;AACjE,cAAM,iBAAiB,KAAK,SAAS;AACrC,cAAM,cAAc,iBAAiB;AACrC,cAAM,eAAe,KAAK;AAC1B,YAAI;AACJ,YAAI;AAEJ,cAAM,OAAO,UAAQ;AACpB,eAAK,OAAO,UAAU;AAAA;AAGvB,cAAM,QAAQ,UAAQ;AACrB,iBAAO,KAAK,OAAO;AAAA;AAGpB,cAAM,WAAW,CAAC,gBAAgB,OAAO,KAAK,SAAS;AACtD,cAAI,UAAU,UAAa,UAAU,KAAK;AACzC,iBAAK,gBAAgB,QAAQ,KAAK,SAAS,OAAO;AAAA;AAAA;AAIpD,cAAM,eAAe,CAAC,MAAM,WAAU;AACrC,gBAAM,aAAa,OAAO;AAC1B,cAAI,CAAE,eAAc,OAAO;AAC1B;AAAA;AAGD,cAAI,QAAO;AACV,qBAAS,MAAM,KAAK,aAAa,GAAG;AACpC,mBAAO,KAAK;AAAA,iBACN;AACN,qBAAS,MAAM,KAAK,aAAa,KAAK,QAAQ;AAC9C,iBAAK,cAAc;AAAA;AAAA;AAIrB,aAAK,IAAI,GAAG,IAAI,SAAS,KAAK;AAC7B,cAAI,KAAK;AAET,kBAAQ;AAAA,iBACF,EAAE;AACN,kBAAI,UAAU,SAAS,SAAS,GAAG;AAClC,oBAAI,MAAM,QAAQ;AACjB,2BAAS,EAAE;AAAA,2BACD,MAAM,IAAI;AACpB;AAAA;AAGD;AACA;AAAA,yBACU,QAAQ,MAAM,SAAS,SAAS,GAAG;AAC7C,oBAAI,QAAQ,EAAE,iBAAiB,MAAM,QAAQ;AAC5C,0BAAQ,EAAE;AACV,0BAAQ;AAAA,2BACE,CAAE,SAAQ,EAAE,kBAAkB,MAAM,IAAI;AAClD,0BAAQ;AACR,2BAAS;AACT,0BAAQ,EAAE;AAAA,uBACJ;AACN;AAAA;AAGD;AAAA;AAGD,kBAAI,MAAM,SAAS,QAAQ,IAAI;AAC9B,wBAAQ;AAAA;AAGT,kBAAI,MAAM,SAAS,QAAQ,IAAI;AAC9B;AAAA;AAGD;AAAA,iBACI,EAAE;AACN,sBAAQ,EAAE;AACV,mBAAK;AACL,sBAAQ;AAAA,iBAEJ,EAAE;AACN,kBAAI,MAAM,IAAI;AACb,sBAAM;AACN,wBAAQ,EAAE;AACV;AAAA;AAGD;AACA,kBAAI,MAAM,QAAQ;AACjB;AAAA;AAGD,kBAAI,MAAM,OAAO;AAChB,oBAAI,UAAU,GAAG;AAEhB;AAAA;AAGD,6BAAa,iBAAiB;AAC9B,wBAAQ,EAAE;AACV;AAAA;AAGD,mBAAK,MAAM;AACX,kBAAI,KAAK,KAAK,KAAK,GAAG;AACrB;AAAA;AAGD;AAAA,iBACI,EAAE;AACN,kBAAI,MAAM,OAAO;AAChB;AAAA;AAGD,mBAAK;AACL,sBAAQ,EAAE;AAAA,iBAEN,EAAE;AACN,kBAAI,MAAM,IAAI;AACb,6BAAa,iBAAiB;AAC9B,yBAAS;AACT,wBAAQ,EAAE;AAAA;AAGX;AAAA,iBACI,EAAE;AACN,kBAAI,MAAM,IAAI;AACb;AAAA;AAGD,sBAAQ,EAAE;AACV;AAAA,iBACI,EAAE;AACN,kBAAI,MAAM,IAAI;AACb;AAAA;AAGD,uBAAS;AACT,sBAAQ,EAAE;AACV;AAAA,iBACI,EAAE;AACN,sBAAQ,EAAE;AACV,mBAAK;AAAA,iBAED,EAAE;AACN,8BAAgB;AAEhB,kBAAI,UAAU,GAAG;AAEhB,qBAAK;AACL,uBAAO,IAAI,gBAAgB,CAAE,MAAK,MAAM,gBAAgB;AACvD,uBAAK;AAAA;AAGN,qBAAK;AACL,oBAAI,KAAK;AAAA;AAGV,kBAAI,QAAQ,SAAS,QAAQ;AAC5B,oBAAI,SAAS,WAAW,GAAG;AAC1B,sBAAI,UAAU,GAAG;AAChB,iCAAa,cAAc;AAAA;AAG5B;AAAA,uBACM;AACN,0BAAQ;AAAA;AAAA,yBAEC,UAAU,SAAS,QAAQ;AACrC;AACA,oBAAI,MAAM,IAAI;AAEb,2BAAS,EAAE;AAAA,2BACD,MAAM,QAAQ;AAExB,2BAAS,EAAE;AAAA,uBACL;AACN,0BAAQ;AAAA;AAAA,yBAEC,QAAQ,MAAM,SAAS,QAAQ;AACzC,oBAAI,QAAQ,EAAE,eAAe;AAC5B,0BAAQ;AACR,sBAAI,MAAM,IAAI;AAEb,6BAAS,CAAC,EAAE;AACZ,6BAAS;AACT,6BAAS;AACT,4BAAQ,EAAE;AACV;AAAA;AAAA,2BAES,QAAQ,EAAE,eAAe;AACnC,sBAAI,MAAM,QAAQ;AACjB,6BAAS;AACT,4BAAQ,EAAE;AACV,4BAAQ;AAAA,yBACF;AACN,4BAAQ;AAAA;AAAA,uBAEH;AACN,0BAAQ;AAAA;AAAA;AAIV,kBAAI,QAAQ,GAAG;AAGd,2BAAW,QAAQ,KAAK;AAAA,yBACd,gBAAgB,GAAG;AAG7B,sBAAM,cAAc,IAAI,WAAW,WAAW,QAAQ,WAAW,YAAY,WAAW;AACxF,yBAAS,cAAc,GAAG,eAAe;AACzC,gCAAgB;AAChB,qBAAK;AAIL;AAAA;AAGD;AAAA,iBACI,EAAE;AACN;AAAA;AAEA,oBAAM,IAAI,MAAM,6BAA6B;AAAA;AAAA;AAIhD,qBAAa;AACb,qBAAa;AACb,qBAAa;AAGb,aAAK,QAAQ;AACb,aAAK,QAAQ;AACb,aAAK,QAAQ;AAAA;AAAA,MAGd,MAAM;AACL,YAAK,KAAK,UAAU,EAAE,sBAAsB,KAAK,UAAU,KACzD,KAAK,UAAU,EAAE,aAAa,KAAK,UAAU,KAAK,SAAS,QAAS;AACrE,eAAK;AAAA,mBACK,KAAK,UAAU,EAAE,KAAK;AAChC,gBAAM,IAAI,MAAM;AAAA;AAAA;AAAA;AAKnB,uBAAmB,aAAa;AAE/B,YAAM,IAAI,YAAY,MAAM;AAC5B,UAAI,CAAC,GAAG;AACP;AAAA;AAGD,YAAM,QAAQ,EAAE,MAAM,EAAE,MAAM;AAC9B,UAAI,WAAW,MAAM,MAAM,MAAM,YAAY,QAAQ;AACrD,iBAAW,SAAS,QAAQ,QAAQ;AACpC,iBAAW,SAAS,QAAQ,eAAe,CAAC,IAAG,SAAS;AACvD,eAAO,OAAO,aAAa;AAAA;AAE5B,aAAO;AAAA;AAGR,8BAA0B,MAAM,IAAI;AACnC,UAAI,CAAC,aAAa,KAAK,KAAK;AAC3B,cAAM,IAAI,UAAU;AAAA;AAGrB,YAAM,IAAI,GAAG,MAAM;AAEnB,UAAI,CAAC,GAAG;AACP,cAAM,IAAI,UAAU;AAAA;AAGrB,YAAM,SAAS,IAAI,gBAAgB,EAAE,MAAM,EAAE;AAE7C,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,YAAM,cAAc;AACpB,YAAM,WAAW,IAAI,QAAQ;AAE7B,YAAM,aAAa,UAAQ;AAC1B,sBAAc,QAAQ,OAAO,MAAM,EAAC,QAAQ;AAAA;AAG7C,YAAM,eAAe,UAAQ;AAC5B,oBAAY,KAAK;AAAA;AAGlB,YAAM,uBAAuB,MAAM;AAClC,cAAM,OAAO,IAAI,QAAQ,KAAK,aAAa,UAAU,EAAC,MAAM;AAC5D,iBAAS,OAAO,WAAW;AAAA;AAG5B,YAAM,wBAAwB,MAAM;AACnC,iBAAS,OAAO,WAAW;AAAA;AAG5B,YAAM,UAAU,IAAI,YAAY;AAChC,cAAQ;AAER,aAAO,cAAc,WAAY;AAChC,eAAO,aAAa;AACpB,eAAO,YAAY;AAEnB,sBAAc;AACd,sBAAc;AACd,qBAAa;AACb,oBAAY;AACZ,sBAAc;AACd,mBAAW;AACX,oBAAY,SAAS;AAAA;AAGtB,aAAO,gBAAgB,SAAU,MAAM;AACtC,uBAAe,QAAQ,OAAO,MAAM,EAAC,QAAQ;AAAA;AAG9C,aAAO,gBAAgB,SAAU,MAAM;AACtC,uBAAe,QAAQ,OAAO,MAAM,EAAC,QAAQ;AAAA;AAG9C,aAAO,cAAc,WAAY;AAChC,uBAAe,QAAQ;AACvB,sBAAc,YAAY;AAE1B,YAAI,gBAAgB,uBAAuB;AAE1C,gBAAM,KAAI,YAAY,MAAM;AAE5B,cAAI,IAAG;AACN,wBAAY,GAAE,MAAM,GAAE,MAAM;AAAA;AAG7B,qBAAW,UAAU;AAErB,cAAI,UAAU;AACb,mBAAO,aAAa;AACpB,mBAAO,YAAY;AAAA;AAAA,mBAEV,gBAAgB,gBAAgB;AAC1C,wBAAc;AAAA;AAGf,sBAAc;AACd,sBAAc;AAAA;AAGf,uBAAiB,SAAS,MAAM;AAC/B,eAAO,MAAM;AAAA;AAGd,aAAO;AAEP,aAAO;AAAA;AAGR,aAAQ,aAAa;AAAA;AAAA;;;ACncrB;AAAA;AAAA;AAEA,QAAI,OAAO,QAAQ;AACnB,QAAI,QAAQ,QAAQ;AACpB,QAAI,OAAO,QAAQ;AACnB,QAAI,SAAS,QAAQ;AACrB,QAAI,YAAY,QAAQ;AACxB,QAAI,WAAW,QAAQ;AACvB,QAAI,MAAM,QAAQ;AAClB,QAAI,SAAS;AAEb,mCAAgC,IAAG;AAAE,aAAO,MAAK,OAAO,OAAM,YAAY,aAAa,KAAI,KAAI,EAAE,WAAW;AAAA;AAE5G,QAAI,gBAA6B,sCAAsB;AACvD,QAAI,iBAA8B,sCAAsB;AACxD,QAAI,gBAA6B,sCAAsB;AACvD,QAAI,kBAA+B,sCAAsB;AASzD,6BAAyB,KAAK;AAC1B,UAAI,CAAC,UAAU,KAAK,MAAM;AACtB,cAAM,IAAI,UAAU;AAAA;AAGxB,YAAM,IAAI,QAAQ,UAAU;AAE5B,YAAM,aAAa,IAAI,QAAQ;AAC/B,UAAI,eAAe,MAAM,cAAc,GAAG;AACtC,cAAM,IAAI,UAAU;AAAA;AAGxB,YAAM,OAAO,IAAI,UAAU,GAAG,YAAY,MAAM;AAChD,UAAI,UAAU;AACd,UAAI,SAAS;AACb,YAAM,OAAO,KAAK,MAAM;AACxB,UAAI,WAAW;AACf,eAAS,KAAI,GAAG,KAAI,KAAK,QAAQ,MAAK;AAClC,YAAI,KAAK,QAAO,UAAU;AACtB,mBAAS;AAAA,eAER;AACD,sBAAY,IAAI,KAAK;AACrB,cAAI,KAAK,IAAG,QAAQ,gBAAgB,GAAG;AACnC,sBAAU,KAAK,IAAG,UAAU;AAAA;AAAA;AAAA;AAKxC,UAAI,CAAC,KAAK,MAAM,CAAC,QAAQ,QAAQ;AAC7B,oBAAY;AACZ,kBAAU;AAAA;AAGd,YAAM,WAAW,SAAS,WAAW;AACrC,YAAM,OAAO,SAAS,IAAI,UAAU,aAAa;AACjD,YAAM,SAAS,OAAO,KAAK,MAAM;AAEjC,aAAO,OAAO;AACd,aAAO,WAAW;AAElB,aAAO,UAAU;AACjB,aAAO;AAAA;AAGX,QAAI,iBAAiB,OAAO,eAAe,cAAc,aAAa,OAAO,WAAW,cAAc,SAAS,OAAO,WAAW,cAAc,SAAS,OAAO,SAAS,cAAc,OAAO;AAE7L,QAAI,kBAAkB,EAAC,SAAS;AAMhC,IAAC,UAAU,SAAQ,UAAS;AAC5B,MAAC,UAAU,SAAQ,SAAS;AACxB,gBAAQ;AAAA,SACV,gBAAiB,SAAU,UAAS;AAElC,cAAM,iBAAiB,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAC9E,SACA,iBAAe,UAAU;AAG7B,wBAAgB;AACZ,iBAAO;AAAA;AAEX,8BAAsB;AAClB,cAAI,OAAO,SAAS,aAAa;AAC7B,mBAAO;AAAA,qBAEF,OAAO,WAAW,aAAa;AACpC,mBAAO;AAAA,qBAEF,OAAO,mBAAmB,aAAa;AAC5C,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,cAAM,UAAU;AAEhB,8BAAsB,IAAG;AACrB,iBAAQ,OAAO,OAAM,YAAY,OAAM,QAAS,OAAO,OAAM;AAAA;AAEjE,cAAM,iCAAiC;AAEvC,cAAM,kBAAkB;AACxB,cAAM,sBAAsB,QAAQ,UAAU;AAC9C,cAAM,yBAAyB,QAAQ,QAAQ,KAAK;AACpD,cAAM,wBAAwB,QAAQ,OAAO,KAAK;AAClD,4BAAoB,UAAU;AAC1B,iBAAO,IAAI,gBAAgB;AAAA;AAE/B,qCAA6B,OAAO;AAChC,iBAAO,uBAAuB;AAAA;AAElC,qCAA6B,QAAQ;AACjC,iBAAO,sBAAsB;AAAA;AAEjC,oCAA4B,SAAS,aAAa,YAAY;AAG1D,iBAAO,oBAAoB,KAAK,SAAS,aAAa;AAAA;AAE1D,6BAAqB,SAAS,aAAa,YAAY;AACnD,6BAAmB,mBAAmB,SAAS,aAAa,aAAa,QAAW;AAAA;AAExF,iCAAyB,SAAS,aAAa;AAC3C,sBAAY,SAAS;AAAA;AAEzB,+BAAuB,SAAS,YAAY;AACxC,sBAAY,SAAS,QAAW;AAAA;AAEpC,sCAA8B,SAAS,oBAAoB,kBAAkB;AACzE,iBAAO,mBAAmB,SAAS,oBAAoB;AAAA;AAE3D,2CAAmC,SAAS;AACxC,6BAAmB,SAAS,QAAW;AAAA;AAE3C,cAAM,iBAAkB,OAAM;AAC1B,gBAAM,uBAAuB,WAAW,QAAQ;AAChD,cAAI,OAAO,yBAAyB,YAAY;AAC5C,mBAAO;AAAA;AAEX,gBAAM,kBAAkB,oBAAoB;AAC5C,iBAAO,CAAC,OAAO,mBAAmB,iBAAiB;AAAA;AAEvD,6BAAqB,GAAG,GAAG,MAAM;AAC7B,cAAI,OAAO,MAAM,YAAY;AACzB,kBAAM,IAAI,UAAU;AAAA;AAExB,iBAAO,SAAS,UAAU,MAAM,KAAK,GAAG,GAAG;AAAA;AAE/C,6BAAqB,GAAG,GAAG,MAAM;AAC7B,cAAI;AACA,mBAAO,oBAAoB,YAAY,GAAG,GAAG;AAAA,mBAE1C,OAAP;AACI,mBAAO,oBAAoB;AAAA;AAAA;AAMnC,cAAM,uBAAuB;AAO7B,0BAAkB;AAAA,UACd,cAAc;AACV,iBAAK,UAAU;AACf,iBAAK,QAAQ;AAEb,iBAAK,SAAS;AAAA,cACV,WAAW;AAAA,cACX,OAAO;AAAA;AAEX,iBAAK,QAAQ,KAAK;AAIlB,iBAAK,UAAU;AAEf,iBAAK,QAAQ;AAAA;AAAA,cAEb,SAAS;AACT,mBAAO,KAAK;AAAA;AAAA,UAMhB,KAAK,SAAS;AACV,kBAAM,UAAU,KAAK;AACrB,gBAAI,UAAU;AACd,gBAAI,QAAQ,UAAU,WAAW,uBAAuB,GAAG;AACvD,wBAAU;AAAA,gBACN,WAAW;AAAA,gBACX,OAAO;AAAA;AAAA;AAKf,oBAAQ,UAAU,KAAK;AACvB,gBAAI,YAAY,SAAS;AACrB,mBAAK,QAAQ;AACb,sBAAQ,QAAQ;AAAA;AAEpB,cAAE,KAAK;AAAA;AAAA,UAIX,QAAQ;AACJ,kBAAM,WAAW,KAAK;AACtB,gBAAI,WAAW;AACf,kBAAM,YAAY,KAAK;AACvB,gBAAI,YAAY,YAAY;AAC5B,kBAAM,WAAW,SAAS;AAC1B,kBAAM,UAAU,SAAS;AACzB,gBAAI,cAAc,sBAAsB;AACpC,yBAAW,SAAS;AACpB,0BAAY;AAAA;AAGhB,cAAE,KAAK;AACP,iBAAK,UAAU;AACf,gBAAI,aAAa,UAAU;AACvB,mBAAK,SAAS;AAAA;AAGlB,qBAAS,aAAa;AACtB,mBAAO;AAAA;AAAA,UAUX,QAAQ,UAAU;AACd,gBAAI,KAAI,KAAK;AACb,gBAAI,OAAO,KAAK;AAChB,gBAAI,WAAW,KAAK;AACpB,mBAAO,OAAM,SAAS,UAAU,KAAK,UAAU,QAAW;AACtD,kBAAI,OAAM,SAAS,QAAQ;AACvB,uBAAO,KAAK;AACZ,2BAAW,KAAK;AAChB,qBAAI;AACJ,oBAAI,SAAS,WAAW,GAAG;AACvB;AAAA;AAAA;AAGR,uBAAS,SAAS;AAClB,gBAAE;AAAA;AAAA;AAAA,UAKV,OAAO;AACH,kBAAM,QAAQ,KAAK;AACnB,kBAAM,SAAS,KAAK;AACpB,mBAAO,MAAM,UAAU;AAAA;AAAA;AAI/B,uDAA+C,QAAQ,QAAQ;AAC3D,iBAAO,uBAAuB;AAC9B,iBAAO,UAAU;AACjB,cAAI,OAAO,WAAW,YAAY;AAC9B,iDAAqC;AAAA,qBAEhC,OAAO,WAAW,UAAU;AACjC,2DAA+C;AAAA,iBAE9C;AACD,2DAA+C,QAAQ,OAAO;AAAA;AAAA;AAKtE,mDAA2C,QAAQ,QAAQ;AACvD,gBAAM,SAAS,OAAO;AACtB,iBAAO,qBAAqB,QAAQ;AAAA;AAExC,oDAA4C,QAAQ;AAChD,cAAI,OAAO,qBAAqB,WAAW,YAAY;AACnD,6CAAiC,QAAQ,IAAI,UAAU;AAAA,iBAEtD;AACD,sDAA0C,QAAQ,IAAI,UAAU;AAAA;AAEpE,iBAAO,qBAAqB,UAAU;AACtC,iBAAO,uBAAuB;AAAA;AAGlC,qCAA6B,MAAM;AAC/B,iBAAO,IAAI,UAAU,YAAY,OAAO;AAAA;AAG5C,sDAA8C,QAAQ;AAClD,iBAAO,iBAAiB,WAAW,CAAC,SAAS,WAAW;AACpD,mBAAO,yBAAyB;AAChC,mBAAO,wBAAwB;AAAA;AAAA;AAGvC,gEAAwD,QAAQ,QAAQ;AACpE,+CAAqC;AACrC,2CAAiC,QAAQ;AAAA;AAE7C,gEAAwD,QAAQ;AAC5D,+CAAqC;AACrC,4CAAkC;AAAA;AAEtC,kDAA0C,QAAQ,QAAQ;AACtD,cAAI,OAAO,0BAA0B,QAAW;AAC5C;AAAA;AAEJ,oCAA0B,OAAO;AACjC,iBAAO,sBAAsB;AAC7B,iBAAO,yBAAyB;AAChC,iBAAO,wBAAwB;AAAA;AAEnC,2DAAmD,QAAQ,QAAQ;AAC/D,yDAA+C,QAAQ;AAAA;AAE3D,mDAA2C,QAAQ;AAC/C,cAAI,OAAO,2BAA2B,QAAW;AAC7C;AAAA;AAEJ,iBAAO,uBAAuB;AAC9B,iBAAO,yBAAyB;AAChC,iBAAO,wBAAwB;AAAA;AAGnC,cAAM,aAAa,eAAe;AAClC,cAAM,aAAa,eAAe;AAClC,cAAM,cAAc,eAAe;AACnC,cAAM,YAAY,eAAe;AAIjC,cAAM,iBAAiB,OAAO,YAAY,SAAU,IAAG;AACnD,iBAAO,OAAO,OAAM,YAAY,SAAS;AAAA;AAK7C,cAAM,YAAY,KAAK,SAAS,SAAU,GAAG;AACzC,iBAAO,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,MAAM;AAAA;AAI7C,8BAAsB,IAAG;AACrB,iBAAO,OAAO,OAAM,YAAY,OAAO,OAAM;AAAA;AAEjD,kCAA0B,KAAK,SAAS;AACpC,cAAI,QAAQ,UAAa,CAAC,aAAa,MAAM;AACzC,kBAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAI/B,gCAAwB,IAAG,SAAS;AAChC,cAAI,OAAO,OAAM,YAAY;AACzB,kBAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAI/B,0BAAkB,IAAG;AACjB,iBAAQ,OAAO,OAAM,YAAY,OAAM,QAAS,OAAO,OAAM;AAAA;AAEjE,8BAAsB,IAAG,SAAS;AAC9B,cAAI,CAAC,SAAS,KAAI;AACd,kBAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAG/B,wCAAgC,IAAG,UAAU,SAAS;AAClD,cAAI,OAAM,QAAW;AACjB,kBAAM,IAAI,UAAU,aAAa,4BAA4B;AAAA;AAAA;AAGrE,qCAA6B,IAAG,OAAO,SAAS;AAC5C,cAAI,OAAM,QAAW;AACjB,kBAAM,IAAI,UAAU,GAAG,yBAAyB;AAAA;AAAA;AAIxD,2CAAmC,OAAO;AACtC,iBAAO,OAAO;AAAA;AAElB,oCAA4B,IAAG;AAC3B,iBAAO,OAAM,IAAI,IAAI;AAAA;AAEzB,6BAAqB,IAAG;AACpB,iBAAO,mBAAmB,UAAU;AAAA;AAGxC,yDAAiD,OAAO,SAAS;AAC7D,gBAAM,aAAa;AACnB,gBAAM,aAAa,OAAO;AAC1B,cAAI,KAAI,OAAO;AACf,eAAI,mBAAmB;AACvB,cAAI,CAAC,eAAe,KAAI;AACpB,kBAAM,IAAI,UAAU,GAAG;AAAA;AAE3B,eAAI,YAAY;AAChB,cAAI,KAAI,cAAc,KAAI,YAAY;AAClC,kBAAM,IAAI,UAAU,GAAG,4CAA4C,iBAAiB;AAAA;AAExF,cAAI,CAAC,eAAe,OAAM,OAAM,GAAG;AAC/B,mBAAO;AAAA;AAMX,iBAAO;AAAA;AAGX,sCAA8B,IAAG,SAAS;AACtC,cAAI,CAAC,iBAAiB,KAAI;AACtB,kBAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAK/B,oDAA4C,QAAQ;AAChD,iBAAO,IAAI,4BAA4B;AAAA;AAG3C,8CAAsC,QAAQ,aAAa;AACvD,iBAAO,QAAQ,cAAc,KAAK;AAAA;AAEtC,kDAA0C,QAAQ,OAAO,MAAM;AAC3D,gBAAM,SAAS,OAAO;AACtB,gBAAM,cAAc,OAAO,cAAc;AACzC,cAAI,MAAM;AACN,wBAAY;AAAA,iBAEX;AACD,wBAAY,YAAY;AAAA;AAAA;AAGhC,kDAA0C,QAAQ;AAC9C,iBAAO,OAAO,QAAQ,cAAc;AAAA;AAExC,gDAAwC,QAAQ;AAC5C,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB,mBAAO;AAAA;AAEX,cAAI,CAAC,8BAA8B,SAAS;AACxC,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAOX,0CAAkC;AAAA,UAC9B,YAAY,QAAQ;AAChB,mCAAuB,QAAQ,GAAG;AAClC,iCAAqB,QAAQ;AAC7B,gBAAI,uBAAuB,SAAS;AAChC,oBAAM,IAAI,UAAU;AAAA;AAExB,kDAAsC,MAAM;AAC5C,iBAAK,gBAAgB,IAAI;AAAA;AAAA,cAMzB,SAAS;AACT,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,mBAAO,KAAK;AAAA;AAAA,UAKhB,OAAO,SAAS,QAAW;AACvB,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,gBAAI,KAAK,yBAAyB,QAAW;AACzC,qBAAO,oBAAoB,oBAAoB;AAAA;AAEnD,mBAAO,kCAAkC,MAAM;AAAA;AAAA,UAOnD,OAAO;AACH,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,gBAAI,KAAK,yBAAyB,QAAW;AACzC,qBAAO,oBAAoB,oBAAoB;AAAA;AAEnD,gBAAI;AACJ,gBAAI;AACJ,kBAAM,UAAU,WAAW,CAAC,SAAS,WAAW;AAC5C,+BAAiB;AACjB,8BAAgB;AAAA;AAEpB,kBAAM,cAAc;AAAA,cAChB,aAAa,WAAS,eAAe,EAAE,OAAO,OAAO,MAAM;AAAA,cAC3D,aAAa,MAAM,eAAe,EAAE,OAAO,QAAW,MAAM;AAAA,cAC5D,aAAa,QAAK,cAAc;AAAA;AAEpC,4CAAgC,MAAM;AACtC,mBAAO;AAAA;AAAA,UAWX,cAAc;AACV,gBAAI,CAAC,8BAA8B,OAAO;AACtC,oBAAM,iCAAiC;AAAA;AAE3C,gBAAI,KAAK,yBAAyB,QAAW;AACzC;AAAA;AAEJ,gBAAI,KAAK,cAAc,SAAS,GAAG;AAC/B,oBAAM,IAAI,UAAU;AAAA;AAExB,+CAAmC;AAAA;AAAA;AAG3C,eAAO,iBAAiB,4BAA4B,WAAW;AAAA,UAC3D,QAAQ,EAAE,YAAY;AAAA,UACtB,MAAM,EAAE,YAAY;AAAA,UACpB,aAAa,EAAE,YAAY;AAAA,UAC3B,QAAQ,EAAE,YAAY;AAAA;AAE1B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,4BAA4B,WAAW,eAAe,aAAa;AAAA,YACrF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,+CAAuC,IAAG;AACtC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,kBAAkB;AAC3D,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,iDAAyC,QAAQ,aAAa;AAC1D,gBAAM,SAAS,OAAO;AACtB,iBAAO,aAAa;AACpB,cAAI,OAAO,WAAW,UAAU;AAC5B,wBAAY;AAAA,qBAEP,OAAO,WAAW,WAAW;AAClC,wBAAY,YAAY,OAAO;AAAA,iBAE9B;AACD,mBAAO,0BAA0B,WAAW;AAAA;AAAA;AAIpD,kDAA0C,MAAM;AAC5C,iBAAO,IAAI,UAAU,yCAAyC;AAAA;AAKlE,cAAM,yBAAyB,OAAO,eAAe,OAAO,eAAe,mBAAmB;AAAA,WAAK;AAGnG,8CAAsC;AAAA,UAClC,YAAY,QAAQ,eAAe;AAC/B,iBAAK,kBAAkB;AACvB,iBAAK,cAAc;AACnB,iBAAK,UAAU;AACf,iBAAK,iBAAiB;AAAA;AAAA,UAE1B,OAAO;AACH,kBAAM,YAAY,MAAM,KAAK;AAC7B,iBAAK,kBAAkB,KAAK,kBACxB,qBAAqB,KAAK,iBAAiB,WAAW,aACtD;AACJ,mBAAO,KAAK;AAAA;AAAA,UAEhB,OAAO,OAAO;AACV,kBAAM,cAAc,MAAM,KAAK,aAAa;AAC5C,mBAAO,KAAK,kBACR,qBAAqB,KAAK,iBAAiB,aAAa,eACxD;AAAA;AAAA,UAER,aAAa;AACT,gBAAI,KAAK,aAAa;AAClB,qBAAO,QAAQ,QAAQ,EAAE,OAAO,QAAW,MAAM;AAAA;AAErD,kBAAM,SAAS,KAAK;AACpB,gBAAI,OAAO,yBAAyB,QAAW;AAC3C,qBAAO,oBAAoB,oBAAoB;AAAA;AAEnD,gBAAI;AACJ,gBAAI;AACJ,kBAAM,UAAU,WAAW,CAAC,SAAS,WAAW;AAC5C,+BAAiB;AACjB,8BAAgB;AAAA;AAEpB,kBAAM,cAAc;AAAA,cAChB,aAAa,WAAS;AAClB,qBAAK,kBAAkB;AAGvB,+BAAe,MAAM,eAAe,EAAE,OAAO,OAAO,MAAM;AAAA;AAAA,cAE9D,aAAa,MAAM;AACf,qBAAK,kBAAkB;AACvB,qBAAK,cAAc;AACnB,mDAAmC;AACnC,+BAAe,EAAE,OAAO,QAAW,MAAM;AAAA;AAAA,cAE7C,aAAa,YAAU;AACnB,qBAAK,kBAAkB;AACvB,qBAAK,cAAc;AACnB,mDAAmC;AACnC,8BAAc;AAAA;AAAA;AAGtB,4CAAgC,QAAQ;AACxC,mBAAO;AAAA;AAAA,UAEX,aAAa,OAAO;AAChB,gBAAI,KAAK,aAAa;AAClB,qBAAO,QAAQ,QAAQ,EAAE,OAAO,MAAM;AAAA;AAE1C,iBAAK,cAAc;AACnB,kBAAM,SAAS,KAAK;AACpB,gBAAI,OAAO,yBAAyB,QAAW;AAC3C,qBAAO,oBAAoB,oBAAoB;AAAA;AAEnD,gBAAI,CAAC,KAAK,gBAAgB;AACtB,oBAAM,SAAS,kCAAkC,QAAQ;AACzD,iDAAmC;AACnC,qBAAO,qBAAqB,QAAQ,MAAO,GAAE,OAAO,MAAM;AAAA;AAE9D,+CAAmC;AACnC,mBAAO,oBAAoB,EAAE,OAAO,MAAM;AAAA;AAAA;AAGlD,cAAM,uCAAuC;AAAA,UACzC,OAAO;AACH,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,uCAAuC;AAAA;AAEtE,mBAAO,KAAK,mBAAmB;AAAA;AAAA,UAEnC,OAAO,OAAO;AACV,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,uCAAuC;AAAA;AAEtE,mBAAO,KAAK,mBAAmB,OAAO;AAAA;AAAA;AAG9C,YAAI,2BAA2B,QAAW;AACtC,iBAAO,eAAe,sCAAsC;AAAA;AAGhE,oDAA4C,QAAQ,eAAe;AAC/D,gBAAM,SAAS,mCAAmC;AAClD,gBAAM,OAAO,IAAI,gCAAgC,QAAQ;AACzD,gBAAM,WAAW,OAAO,OAAO;AAC/B,mBAAS,qBAAqB;AAC9B,iBAAO;AAAA;AAEX,+CAAuC,IAAG;AACtC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,uBAAuB;AAChE,mBAAO;AAAA;AAEX,cAAI;AAEA,mBAAO,GAAE,8BACL;AAAA,mBAED,KAAP;AACI,mBAAO;AAAA;AAAA;AAIf,wDAAgD,MAAM;AAClD,iBAAO,IAAI,UAAU,+BAA+B;AAAA;AAKxD,cAAM,cAAc,OAAO,SAAS,SAAU,IAAG;AAE7C,iBAAO,OAAM;AAAA;AAGjB,qCAA6B,UAAU;AAGnC,iBAAO,SAAS;AAAA;AAEpB,oCAA4B,MAAM,YAAY,KAAK,WAAW,GAAG;AAC7D,cAAI,WAAW,MAAM,IAAI,IAAI,WAAW,KAAK,WAAW,IAAI;AAAA;AAGhE,qCAA6B,GAAG;AAC5B,iBAAO;AAAA;AAIX,kCAA0B,GAAG;AACzB,iBAAO;AAAA;AAEX,kCAA0B,QAAQ,OAAO,KAAK;AAG1C,cAAI,OAAO,OAAO;AACd,mBAAO,OAAO,MAAM,OAAO;AAAA;AAE/B,gBAAM,SAAS,MAAM;AACrB,gBAAM,QAAQ,IAAI,YAAY;AAC9B,6BAAmB,OAAO,GAAG,QAAQ,OAAO;AAC5C,iBAAO;AAAA;AAGX,qCAA6B,GAAG;AAC5B,cAAI,OAAO,MAAM,UAAU;AACvB,mBAAO;AAAA;AAEX,cAAI,YAAY,IAAI;AAChB,mBAAO;AAAA;AAEX,cAAI,IAAI,GAAG;AACP,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,mCAA2B,GAAG;AAC1B,gBAAM,SAAS,iBAAiB,EAAE,QAAQ,EAAE,YAAY,EAAE,aAAa,EAAE;AACzE,iBAAO,IAAI,WAAW;AAAA;AAG1B,8BAAsB,WAAW;AAC7B,gBAAM,OAAO,UAAU,OAAO;AAC9B,oBAAU,mBAAmB,KAAK;AAClC,cAAI,UAAU,kBAAkB,GAAG;AAC/B,sBAAU,kBAAkB;AAAA;AAEhC,iBAAO,KAAK;AAAA;AAEhB,sCAA8B,WAAW,OAAO,MAAM;AAClD,cAAI,CAAC,oBAAoB,SAAS,SAAS,UAAU;AACjD,kBAAM,IAAI,WAAW;AAAA;AAEzB,oBAAU,OAAO,KAAK,EAAE,OAAO;AAC/B,oBAAU,mBAAmB;AAAA;AAEjC,gCAAwB,WAAW;AAC/B,gBAAM,OAAO,UAAU,OAAO;AAC9B,iBAAO,KAAK;AAAA;AAEhB,4BAAoB,WAAW;AAC3B,oBAAU,SAAS,IAAI;AACvB,oBAAU,kBAAkB;AAAA;AAQhC,wCAAgC;AAAA,UAC5B,cAAc;AACV,kBAAM,IAAI,UAAU;AAAA;AAAA,cAKpB,OAAO;AACP,gBAAI,CAAC,4BAA4B,OAAO;AACpC,oBAAM,+BAA+B;AAAA;AAEzC,mBAAO,KAAK;AAAA;AAAA,UAEhB,QAAQ,cAAc;AAClB,gBAAI,CAAC,4BAA4B,OAAO;AACpC,oBAAM,+BAA+B;AAAA;AAEzC,mCAAuB,cAAc,GAAG;AACxC,2BAAe,wCAAwC,cAAc;AACrE,gBAAI,KAAK,4CAA4C,QAAW;AAC5D,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,iBAAiB,KAAK,MAAM;AAAS;AACzC,gDAAoC,KAAK,yCAAyC;AAAA;AAAA,UAEtF,mBAAmB,MAAM;AACrB,gBAAI,CAAC,4BAA4B,OAAO;AACpC,oBAAM,+BAA+B;AAAA;AAEzC,mCAAuB,MAAM,GAAG;AAChC,gBAAI,CAAC,YAAY,OAAO,OAAO;AAC3B,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,KAAK,4CAA4C,QAAW;AAC5D,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,iBAAiB,KAAK;AAAS;AACnC,2DAA+C,KAAK,yCAAyC;AAAA;AAAA;AAGrG,eAAO,iBAAiB,0BAA0B,WAAW;AAAA,UACzD,SAAS,EAAE,YAAY;AAAA,UACvB,oBAAoB,EAAE,YAAY;AAAA,UAClC,MAAM,EAAE,YAAY;AAAA;AAExB,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,0BAA0B,WAAW,eAAe,aAAa;AAAA,YACnF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAQtB,2CAAmC;AAAA,UAC/B,cAAc;AACV,kBAAM,IAAI,UAAU;AAAA;AAAA,cAKpB,cAAc;AACd,gBAAI,CAAC,+BAA+B,OAAO;AACvC,oBAAM,wCAAwC;AAAA;AAElD,mBAAO,2CAA2C;AAAA;AAAA,cAMlD,cAAc;AACd,gBAAI,CAAC,+BAA+B,OAAO;AACvC,oBAAM,wCAAwC;AAAA;AAElD,mBAAO,2CAA2C;AAAA;AAAA,UAMtD,QAAQ;AACJ,gBAAI,CAAC,+BAA+B,OAAO;AACvC,oBAAM,wCAAwC;AAAA;AAElD,gBAAI,KAAK,iBAAiB;AACtB,oBAAM,IAAI,UAAU;AAAA;AAExB,kBAAM,QAAQ,KAAK,8BAA8B;AACjD,gBAAI,UAAU,YAAY;AACtB,oBAAM,IAAI,UAAU,kBAAkB;AAAA;AAE1C,8CAAkC;AAAA;AAAA,UAEtC,QAAQ,OAAO;AACX,gBAAI,CAAC,+BAA+B,OAAO;AACvC,oBAAM,wCAAwC;AAAA;AAElD,mCAAuB,OAAO,GAAG;AACjC,gBAAI,CAAC,YAAY,OAAO,QAAQ;AAC5B,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,MAAM,eAAe,GAAG;AACxB,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,MAAM,OAAO,eAAe,GAAG;AAC/B,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,KAAK,iBAAiB;AACtB,oBAAM,IAAI,UAAU;AAAA;AAExB,kBAAM,QAAQ,KAAK,8BAA8B;AACjD,gBAAI,UAAU,YAAY;AACtB,oBAAM,IAAI,UAAU,kBAAkB;AAAA;AAE1C,gDAAoC,MAAM;AAAA;AAAA,UAK9C,MAAM,KAAI,QAAW;AACjB,gBAAI,CAAC,+BAA+B,OAAO;AACvC,oBAAM,wCAAwC;AAAA;AAElD,8CAAkC,MAAM;AAAA;AAAA,WAG3C,aAAa,QAAQ;AAClB,8DAAkD;AAClD,uBAAW;AACX,kBAAM,SAAS,KAAK,iBAAiB;AACrC,wDAA4C;AAC5C,mBAAO;AAAA;AAAA,WAGV,WAAW,aAAa;AACrB,kBAAM,SAAS,KAAK;AACpB,gBAAI,KAAK,kBAAkB,GAAG;AAC1B,oBAAM,QAAQ,KAAK,OAAO;AAC1B,mBAAK,mBAAmB,MAAM;AAC9B,2DAA6C;AAC7C,oBAAM,OAAO,IAAI,WAAW,MAAM,QAAQ,MAAM,YAAY,MAAM;AAClE,0BAAY,YAAY;AACxB;AAAA;AAEJ,kBAAM,wBAAwB,KAAK;AACnC,gBAAI,0BAA0B,QAAW;AACrC,kBAAI;AACJ,kBAAI;AACA,yBAAS,IAAI,YAAY;AAAA,uBAEtB,SAAP;AACI,4BAAY,YAAY;AACxB;AAAA;AAEJ,oBAAM,qBAAqB;AAAA,gBACvB;AAAA,gBACA,kBAAkB;AAAA,gBAClB,YAAY;AAAA,gBACZ,YAAY;AAAA,gBACZ,aAAa;AAAA,gBACb,aAAa;AAAA,gBACb,iBAAiB;AAAA,gBACjB,YAAY;AAAA;AAEhB,mBAAK,kBAAkB,KAAK;AAAA;AAEhC,yCAA6B,QAAQ;AACrC,yDAA6C;AAAA;AAAA;AAGrD,eAAO,iBAAiB,6BAA6B,WAAW;AAAA,UAC5D,OAAO,EAAE,YAAY;AAAA,UACrB,SAAS,EAAE,YAAY;AAAA,UACvB,OAAO,EAAE,YAAY;AAAA,UACrB,aAAa,EAAE,YAAY;AAAA,UAC3B,aAAa,EAAE,YAAY;AAAA;AAE/B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,6BAA6B,WAAW,eAAe,aAAa;AAAA,YACtF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,gDAAwC,IAAG;AACvC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,kCAAkC;AAC3E,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,6CAAqC,IAAG;AACpC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,4CAA4C;AACrF,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,8DAAsD,YAAY;AAC9D,gBAAM,aAAa,2CAA2C;AAC9D,cAAI,CAAC,YAAY;AACb;AAAA;AAEJ,cAAI,WAAW,UAAU;AACrB,uBAAW,aAAa;AACxB;AAAA;AAEJ,qBAAW,WAAW;AAEtB,gBAAM,cAAc,WAAW;AAC/B,sBAAY,aAAa,MAAM;AAC3B,uBAAW,WAAW;AACtB,gBAAI,WAAW,YAAY;AACvB,yBAAW,aAAa;AACxB,2DAA6C;AAAA;AAAA,aAElD,QAAK;AACJ,8CAAkC,YAAY;AAAA;AAAA;AAGtD,mEAA2D,YAAY;AACnE,4DAAkD;AAClD,qBAAW,oBAAoB,IAAI;AAAA;AAEvC,sEAA8D,QAAQ,oBAAoB;AACtF,cAAI,OAAO;AACX,cAAI,OAAO,WAAW,UAAU;AAC5B,mBAAO;AAAA;AAEX,gBAAM,aAAa,sDAAsD;AACzE,cAAI,mBAAmB,eAAe,WAAW;AAC7C,6CAAiC,QAAQ,YAAY;AAAA,iBAEpD;AACD,iDAAqC,QAAQ,YAAY;AAAA;AAAA;AAGjE,uEAA+D,oBAAoB;AAC/E,gBAAM,cAAc,mBAAmB;AACvC,gBAAM,cAAc,mBAAmB;AACvC,iBAAO,IAAI,mBAAmB,gBAAgB,mBAAmB,QAAQ,mBAAmB,YAAY,cAAc;AAAA;AAE1H,iEAAyD,YAAY,QAAQ,YAAY,YAAY;AACjG,qBAAW,OAAO,KAAK,EAAE,QAAQ,YAAY;AAC7C,qBAAW,mBAAmB;AAAA;AAElC,6EAAqE,YAAY,oBAAoB;AACjG,gBAAM,cAAc,mBAAmB;AACvC,gBAAM,sBAAsB,mBAAmB,cAAc,mBAAmB,cAAc;AAC9F,gBAAM,iBAAiB,KAAK,IAAI,WAAW,iBAAiB,mBAAmB,aAAa,mBAAmB;AAC/G,gBAAM,iBAAiB,mBAAmB,cAAc;AACxD,gBAAM,kBAAkB,iBAAiB,iBAAiB;AAC1D,cAAI,4BAA4B;AAChC,cAAI,QAAQ;AACZ,cAAI,kBAAkB,qBAAqB;AACvC,wCAA4B,kBAAkB,mBAAmB;AACjE,oBAAQ;AAAA;AAEZ,gBAAM,QAAQ,WAAW;AACzB,iBAAO,4BAA4B,GAAG;AAClC,kBAAM,cAAc,MAAM;AAC1B,kBAAM,cAAc,KAAK,IAAI,2BAA2B,YAAY;AACpE,kBAAM,YAAY,mBAAmB,aAAa,mBAAmB;AACrE,+BAAmB,mBAAmB,QAAQ,WAAW,YAAY,QAAQ,YAAY,YAAY;AACrG,gBAAI,YAAY,eAAe,aAAa;AACxC,oBAAM;AAAA,mBAEL;AACD,0BAAY,cAAc;AAC1B,0BAAY,cAAc;AAAA;AAE9B,uBAAW,mBAAmB;AAC9B,mEAAuD,YAAY,aAAa;AAChF,yCAA6B;AAAA;AAEjC,iBAAO;AAAA;AAEX,wEAAgE,YAAY,MAAM,oBAAoB;AAClG,6BAAmB,eAAe;AAAA;AAEtC,8DAAsD,YAAY;AAC9D,cAAI,WAAW,oBAAoB,KAAK,WAAW,iBAAiB;AAChE,wDAA4C;AAC5C,gCAAoB,WAAW;AAAA,iBAE9B;AACD,yDAA6C;AAAA;AAAA;AAGrD,mEAA2D,YAAY;AACnE,cAAI,WAAW,iBAAiB,MAAM;AAClC;AAAA;AAEJ,qBAAW,aAAa,0CAA0C;AAClE,qBAAW,aAAa,QAAQ;AAChC,qBAAW,eAAe;AAAA;AAE9B,kFAA0E,YAAY;AAClF,iBAAO,WAAW,kBAAkB,SAAS,GAAG;AAC5C,gBAAI,WAAW,oBAAoB,GAAG;AAClC;AAAA;AAEJ,kBAAM,qBAAqB,WAAW,kBAAkB;AACxD,gBAAI,4DAA4D,YAAY,qBAAqB;AAC7F,+DAAiD;AACjD,mEAAqD,WAAW,+BAA+B;AAAA;AAAA;AAAA;AAI3G,sDAA8C,YAAY,MAAM,iBAAiB;AAC7E,gBAAM,SAAS,WAAW;AAC1B,cAAI,cAAc;AAClB,cAAI,KAAK,gBAAgB,UAAU;AAC/B,0BAAc,KAAK,YAAY;AAAA;AAEnC,gBAAM,OAAO,KAAK;AAElB,gBAAM,SAAS,oBAAoB,KAAK;AAKxC,gBAAM,qBAAqB;AAAA,YACvB;AAAA,YACA,kBAAkB,OAAO;AAAA,YACzB,YAAY,KAAK;AAAA,YACjB,YAAY,KAAK;AAAA,YACjB,aAAa;AAAA,YACb;AAAA,YACA,iBAAiB;AAAA,YACjB,YAAY;AAAA;AAEhB,cAAI,WAAW,kBAAkB,SAAS,GAAG;AACzC,uBAAW,kBAAkB,KAAK;AAIlC,6CAAiC,QAAQ;AACzC;AAAA;AAEJ,cAAI,OAAO,WAAW,UAAU;AAC5B,kBAAM,YAAY,IAAI,KAAK,mBAAmB,QAAQ,mBAAmB,YAAY;AACrF,4BAAgB,YAAY;AAC5B;AAAA;AAEJ,cAAI,WAAW,kBAAkB,GAAG;AAChC,gBAAI,4DAA4D,YAAY,qBAAqB;AAC7F,oBAAM,aAAa,sDAAsD;AACzE,2DAA6C;AAC7C,8BAAgB,YAAY;AAC5B;AAAA;AAEJ,gBAAI,WAAW,iBAAiB;AAC5B,oBAAM,KAAI,IAAI,UAAU;AACxB,gDAAkC,YAAY;AAC9C,8BAAgB,YAAY;AAC5B;AAAA;AAAA;AAGR,qBAAW,kBAAkB,KAAK;AAClC,2CAAiC,QAAQ;AACzC,uDAA6C;AAAA;AAEjD,kEAA0D,YAAY,iBAAiB;AACnF,gBAAM,SAAS,WAAW;AAC1B,cAAI,4BAA4B,SAAS;AACrC,mBAAO,qCAAqC,UAAU,GAAG;AACrD,oBAAM,qBAAqB,iDAAiD;AAC5E,mEAAqD,QAAQ;AAAA;AAAA;AAAA;AAIzE,oEAA4D,YAAY,cAAc,oBAAoB;AACtG,iEAAuD,YAAY,cAAc;AACjF,cAAI,mBAAmB,cAAc,mBAAmB,aAAa;AACjE;AAAA;AAEJ,2DAAiD;AACjD,gBAAM,gBAAgB,mBAAmB,cAAc,mBAAmB;AAC1E,cAAI,gBAAgB,GAAG;AACnB,kBAAM,MAAM,mBAAmB,aAAa,mBAAmB;AAC/D,kBAAM,YAAY,iBAAiB,mBAAmB,QAAQ,MAAM,eAAe;AACnF,4DAAgD,YAAY,WAAW,GAAG,UAAU;AAAA;AAExF,6BAAmB,eAAe;AAClC,+DAAqD,WAAW,+BAA+B;AAC/F,2EAAiE;AAAA;AAErE,6DAAqD,YAAY,cAAc;AAC3E,gBAAM,kBAAkB,WAAW,kBAAkB;AACrD,4DAAkD;AAClD,gBAAM,QAAQ,WAAW,8BAA8B;AACvD,cAAI,UAAU,UAAU;AACpB,6DAAiD;AAAA,iBAEhD;AACD,+DAAmD,YAAY,cAAc;AAAA;AAEjF,uDAA6C;AAAA;AAEjD,kEAA0D,YAAY;AAClE,gBAAM,aAAa,WAAW,kBAAkB;AAChD,iBAAO;AAAA;AAEX,4DAAoD,YAAY;AAC5D,gBAAM,SAAS,WAAW;AAC1B,cAAI,OAAO,WAAW,YAAY;AAC9B,mBAAO;AAAA;AAEX,cAAI,WAAW,iBAAiB;AAC5B,mBAAO;AAAA;AAEX,cAAI,CAAC,WAAW,UAAU;AACtB,mBAAO;AAAA;AAEX,cAAI,+BAA+B,WAAW,iCAAiC,UAAU,GAAG;AACxF,mBAAO;AAAA;AAEX,cAAI,4BAA4B,WAAW,qCAAqC,UAAU,GAAG;AACzF,mBAAO;AAAA;AAEX,gBAAM,cAAc,2CAA2C;AAC/D,cAAI,cAAc,GAAG;AACjB,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,6DAAqD,YAAY;AAC7D,qBAAW,iBAAiB;AAC5B,qBAAW,mBAAmB;AAAA;AAGlC,mDAA2C,YAAY;AACnD,gBAAM,SAAS,WAAW;AAC1B,cAAI,WAAW,mBAAmB,OAAO,WAAW,YAAY;AAC5D;AAAA;AAEJ,cAAI,WAAW,kBAAkB,GAAG;AAChC,uBAAW,kBAAkB;AAC7B;AAAA;AAEJ,cAAI,WAAW,kBAAkB,SAAS,GAAG;AACzC,kBAAM,uBAAuB,WAAW,kBAAkB;AAC1D,gBAAI,qBAAqB,cAAc,GAAG;AACtC,oBAAM,KAAI,IAAI,UAAU;AACxB,gDAAkC,YAAY;AAC9C,oBAAM;AAAA;AAAA;AAGd,sDAA4C;AAC5C,8BAAoB;AAAA;AAExB,qDAA6C,YAAY,OAAO;AAC5D,gBAAM,SAAS,WAAW;AAC1B,cAAI,WAAW,mBAAmB,OAAO,WAAW,YAAY;AAC5D;AAAA;AAEJ,gBAAM,SAAS,MAAM;AACrB,gBAAM,aAAa,MAAM;AACzB,gBAAM,aAAa,MAAM;AACzB,gBAAM,oBAAoB,oBAAoB;AAC9C,cAAI,WAAW,kBAAkB,SAAS,GAAG;AACzC,kBAAM,uBAAuB,WAAW,kBAAkB;AAC1D,gBAAI,iBAAiB,qBAAqB;AAAS;AACnD,iCAAqB,SAAS,oBAAoB,qBAAqB;AAAA;AAE3E,4DAAkD;AAClD,cAAI,+BAA+B,SAAS;AACxC,gBAAI,iCAAiC,YAAY,GAAG;AAChD,8DAAgD,YAAY,mBAAmB,YAAY;AAAA,mBAE1F;AACD,kBAAI,WAAW,kBAAkB,SAAS,GAAG;AACzC,iEAAiD;AAAA;AAErD,oBAAM,kBAAkB,IAAI,WAAW,mBAAmB,YAAY;AACtE,+CAAiC,QAAQ,iBAAiB;AAAA;AAAA,qBAGzD,4BAA4B,SAAS;AAE1C,4DAAgD,YAAY,mBAAmB,YAAY;AAC3F,6EAAiE;AAAA,iBAEhE;AACD,4DAAgD,YAAY,mBAAmB,YAAY;AAAA;AAE/F,uDAA6C;AAAA;AAEjD,mDAA2C,YAAY,IAAG;AACtD,gBAAM,SAAS,WAAW;AAC1B,cAAI,OAAO,WAAW,YAAY;AAC9B;AAAA;AAEJ,4DAAkD;AAClD,qBAAW;AACX,sDAA4C;AAC5C,8BAAoB,QAAQ;AAAA;AAEhC,4DAAoD,YAAY;AAC5D,cAAI,WAAW,iBAAiB,QAAQ,WAAW,kBAAkB,SAAS,GAAG;AAC7E,kBAAM,kBAAkB,WAAW,kBAAkB;AACrD,kBAAM,OAAO,IAAI,WAAW,gBAAgB,QAAQ,gBAAgB,aAAa,gBAAgB,aAAa,gBAAgB,aAAa,gBAAgB;AAC3J,kBAAM,cAAc,OAAO,OAAO,0BAA0B;AAC5D,2CAA+B,aAAa,YAAY;AACxD,uBAAW,eAAe;AAAA;AAE9B,iBAAO,WAAW;AAAA;AAEtB,4DAAoD,YAAY;AAC5D,gBAAM,QAAQ,WAAW,8BAA8B;AACvD,cAAI,UAAU,WAAW;AACrB,mBAAO;AAAA;AAEX,cAAI,UAAU,UAAU;AACpB,mBAAO;AAAA;AAEX,iBAAO,WAAW,eAAe,WAAW;AAAA;AAEhD,qDAA6C,YAAY,cAAc;AACnE,gBAAM,kBAAkB,WAAW,kBAAkB;AACrD,gBAAM,QAAQ,WAAW,8BAA8B;AACvD,cAAI,UAAU,UAAU;AACpB,gBAAI,iBAAiB,GAAG;AACpB,oBAAM,IAAI,UAAU;AAAA;AAAA,iBAGvB;AACD,gBAAI,iBAAiB,GAAG;AACpB,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,gBAAgB,cAAc,eAAe,gBAAgB,YAAY;AACzE,oBAAM,IAAI,WAAW;AAAA;AAAA;AAG7B,0BAAgB,SAAS,oBAAoB,gBAAgB;AAC7D,sDAA4C,YAAY;AAAA;AAE5D,gEAAwD,YAAY,MAAM;AACtE,gBAAM,kBAAkB,WAAW,kBAAkB;AACrD,gBAAM,QAAQ,WAAW,8BAA8B;AACvD,cAAI,UAAU,UAAU;AACpB,gBAAI,KAAK,eAAe,GAAG;AACvB,oBAAM,IAAI,UAAU;AAAA;AAAA,iBAGvB;AACD,gBAAI,KAAK,eAAe,GAAG;AACvB,oBAAM,IAAI,UAAU;AAAA;AAAA;AAG5B,cAAI,gBAAgB,aAAa,gBAAgB,gBAAgB,KAAK,YAAY;AAC9E,kBAAM,IAAI,WAAW;AAAA;AAEzB,cAAI,gBAAgB,qBAAqB,KAAK,OAAO,YAAY;AAC7D,kBAAM,IAAI,WAAW;AAAA;AAEzB,cAAI,gBAAgB,cAAc,KAAK,aAAa,gBAAgB,YAAY;AAC5E,kBAAM,IAAI,WAAW;AAAA;AAEzB,gBAAM,iBAAiB,KAAK;AAC5B,0BAAgB,SAAS,oBAAoB,KAAK;AAClD,sDAA4C,YAAY;AAAA;AAE5D,mDAA2C,QAAQ,YAAY,gBAAgB,eAAe,iBAAiB,eAAe,uBAAuB;AACjJ,qBAAW,gCAAgC;AAC3C,qBAAW,aAAa;AACxB,qBAAW,WAAW;AACtB,qBAAW,eAAe;AAE1B,qBAAW,SAAS,WAAW,kBAAkB;AACjD,qBAAW;AACX,qBAAW,kBAAkB;AAC7B,qBAAW,WAAW;AACtB,qBAAW,eAAe;AAC1B,qBAAW,iBAAiB;AAC5B,qBAAW,mBAAmB;AAC9B,qBAAW,yBAAyB;AACpC,qBAAW,oBAAoB,IAAI;AACnC,iBAAO,4BAA4B;AACnC,gBAAM,cAAc;AACpB,sBAAY,oBAAoB,cAAc,MAAM;AAChD,uBAAW,WAAW;AACtB,yDAA6C;AAAA,aAC9C,QAAK;AACJ,8CAAkC,YAAY;AAAA;AAAA;AAGtD,uEAA+D,QAAQ,sBAAsB,eAAe;AACxG,gBAAM,aAAa,OAAO,OAAO,6BAA6B;AAC9D,cAAI,iBAAiB,MAAM;AAC3B,cAAI,gBAAgB,MAAM,oBAAoB;AAC9C,cAAI,kBAAkB,MAAM,oBAAoB;AAChD,cAAI,qBAAqB,UAAU,QAAW;AAC1C,6BAAiB,MAAM,qBAAqB,MAAM;AAAA;AAEtD,cAAI,qBAAqB,SAAS,QAAW;AACzC,4BAAgB,MAAM,qBAAqB,KAAK;AAAA;AAEpD,cAAI,qBAAqB,WAAW,QAAW;AAC3C,8BAAkB,YAAU,qBAAqB,OAAO;AAAA;AAE5D,gBAAM,wBAAwB,qBAAqB;AACnD,cAAI,0BAA0B,GAAG;AAC7B,kBAAM,IAAI,UAAU;AAAA;AAExB,4CAAkC,QAAQ,YAAY,gBAAgB,eAAe,iBAAiB,eAAe;AAAA;AAEzH,gDAAwC,SAAS,YAAY,MAAM;AAC/D,kBAAQ,0CAA0C;AAClD,kBAAQ,QAAQ;AAAA;AAGpB,gDAAwC,MAAM;AAC1C,iBAAO,IAAI,UAAU,uCAAuC;AAAA;AAGhE,yDAAiD,MAAM;AACnD,iBAAO,IAAI,UAAU,0CAA0C;AAAA;AAInE,iDAAyC,QAAQ;AAC7C,iBAAO,IAAI,yBAAyB;AAAA;AAGxC,kDAA0C,QAAQ,iBAAiB;AAC/D,iBAAO,QAAQ,kBAAkB,KAAK;AAAA;AAE1C,sDAA8C,QAAQ,OAAO,MAAM;AAC/D,gBAAM,SAAS,OAAO;AACtB,gBAAM,kBAAkB,OAAO,kBAAkB;AACjD,cAAI,MAAM;AACN,4BAAgB,YAAY;AAAA,iBAE3B;AACD,4BAAgB,YAAY;AAAA;AAAA;AAGpC,sDAA8C,QAAQ;AAClD,iBAAO,OAAO,QAAQ,kBAAkB;AAAA;AAE5C,6CAAqC,QAAQ;AACzC,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB,mBAAO;AAAA;AAEX,cAAI,CAAC,2BAA2B,SAAS;AACrC,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAOX,uCAA+B;AAAA,UAC3B,YAAY,QAAQ;AAChB,mCAAuB,QAAQ,GAAG;AAClC,iCAAqB,QAAQ;AAC7B,gBAAI,uBAAuB,SAAS;AAChC,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,CAAC,+BAA+B,OAAO,4BAA4B;AACnE,oBAAM,IAAI,UAAU;AAAA;AAGxB,kDAAsC,MAAM;AAC5C,iBAAK,oBAAoB,IAAI;AAAA;AAAA,cAM7B,SAAS;AACT,gBAAI,CAAC,2BAA2B,OAAO;AACnC,qBAAO,oBAAoB,8BAA8B;AAAA;AAE7D,mBAAO,KAAK;AAAA;AAAA,UAKhB,OAAO,SAAS,QAAW;AACvB,gBAAI,CAAC,2BAA2B,OAAO;AACnC,qBAAO,oBAAoB,8BAA8B;AAAA;AAE7D,gBAAI,KAAK,yBAAyB,QAAW;AACzC,qBAAO,oBAAoB,oBAAoB;AAAA;AAEnD,mBAAO,kCAAkC,MAAM;AAAA;AAAA,UAOnD,KAAK,MAAM;AACP,gBAAI,CAAC,2BAA2B,OAAO;AACnC,qBAAO,oBAAoB,8BAA8B;AAAA;AAE7D,gBAAI,CAAC,YAAY,OAAO,OAAO;AAC3B,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,gBAAI,KAAK,eAAe,GAAG;AACvB,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,gBAAI,KAAK,OAAO,eAAe,GAAG;AAC9B,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,gBAAI,iBAAiB,KAAK;AAAS;AACnC,gBAAI,KAAK,yBAAyB,QAAW;AACzC,qBAAO,oBAAoB,oBAAoB;AAAA;AAEnD,gBAAI;AACJ,gBAAI;AACJ,kBAAM,UAAU,WAAW,CAAC,SAAS,WAAW;AAC5C,+BAAiB;AACjB,8BAAgB;AAAA;AAEpB,kBAAM,kBAAkB;AAAA,cACpB,aAAa,WAAS,eAAe,EAAE,OAAO,OAAO,MAAM;AAAA,cAC3D,aAAa,WAAS,eAAe,EAAE,OAAO,OAAO,MAAM;AAAA,cAC3D,aAAa,QAAK,cAAc;AAAA;AAEpC,yCAA6B,MAAM,MAAM;AACzC,mBAAO;AAAA;AAAA,UAWX,cAAc;AACV,gBAAI,CAAC,2BAA2B,OAAO;AACnC,oBAAM,8BAA8B;AAAA;AAExC,gBAAI,KAAK,yBAAyB,QAAW;AACzC;AAAA;AAEJ,gBAAI,KAAK,kBAAkB,SAAS,GAAG;AACnC,oBAAM,IAAI,UAAU;AAAA;AAExB,+CAAmC;AAAA;AAAA;AAG3C,eAAO,iBAAiB,yBAAyB,WAAW;AAAA,UACxD,QAAQ,EAAE,YAAY;AAAA,UACtB,MAAM,EAAE,YAAY;AAAA,UACpB,aAAa,EAAE,YAAY;AAAA,UAC3B,QAAQ,EAAE,YAAY;AAAA;AAE1B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,yBAAyB,WAAW,eAAe,aAAa;AAAA,YAClF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,4CAAoC,IAAG;AACnC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,sBAAsB;AAC/D,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,8CAAsC,QAAQ,MAAM,iBAAiB;AACjE,gBAAM,SAAS,OAAO;AACtB,iBAAO,aAAa;AACpB,cAAI,OAAO,WAAW,WAAW;AAC7B,4BAAgB,YAAY,OAAO;AAAA,iBAElC;AACD,iDAAqC,OAAO,2BAA2B,MAAM;AAAA;AAAA;AAIrF,+CAAuC,MAAM;AACzC,iBAAO,IAAI,UAAU,sCAAsC;AAAA;AAG/D,sCAA8B,UAAU,YAAY;AAChD,gBAAM,EAAE,kBAAkB;AAC1B,cAAI,kBAAkB,QAAW;AAC7B,mBAAO;AAAA;AAEX,cAAI,YAAY,kBAAkB,gBAAgB,GAAG;AACjD,kBAAM,IAAI,WAAW;AAAA;AAEzB,iBAAO;AAAA;AAEX,sCAA8B,UAAU;AACpC,gBAAM,EAAE,SAAS;AACjB,cAAI,CAAC,MAAM;AACP,mBAAO,MAAM;AAAA;AAEjB,iBAAO;AAAA;AAGX,wCAAgC,OAAM,SAAS;AAC3C,2BAAiB,OAAM;AACvB,gBAAM,gBAAgB,UAAS,QAAQ,UAAS,SAAS,SAAS,MAAK;AACvE,gBAAM,OAAO,UAAS,QAAQ,UAAS,SAAS,SAAS,MAAK;AAC9D,iBAAO;AAAA,YACH,eAAe,kBAAkB,SAAY,SAAY,0BAA0B;AAAA,YACnF,MAAM,SAAS,SAAY,SAAY,2BAA2B,MAAM,GAAG;AAAA;AAAA;AAGnF,4CAAoC,IAAI,SAAS;AAC7C,yBAAe,IAAI;AACnB,iBAAO,WAAS,0BAA0B,GAAG;AAAA;AAGjD,uCAA+B,UAAU,SAAS;AAC9C,2BAAiB,UAAU;AAC3B,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,gBAAM,OAAO,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC1E,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,iBAAO;AAAA,YACH,OAAO,UAAU,SACb,SACA,mCAAmC,OAAO,UAAU,GAAG;AAAA,YAC3D,OAAO,UAAU,SACb,SACA,mCAAmC,OAAO,UAAU,GAAG;AAAA,YAC3D,OAAO,UAAU,SACb,SACA,mCAAmC,OAAO,UAAU,GAAG;AAAA,YAC3D,OAAO,UAAU,SACb,SACA,mCAAmC,OAAO,UAAU,GAAG;AAAA,YAC3D;AAAA;AAAA;AAGR,oDAA4C,IAAI,UAAU,SAAS;AAC/D,yBAAe,IAAI;AACnB,iBAAO,CAAC,WAAW,YAAY,IAAI,UAAU,CAAC;AAAA;AAElD,oDAA4C,IAAI,UAAU,SAAS;AAC/D,yBAAe,IAAI;AACnB,iBAAO,MAAM,YAAY,IAAI,UAAU;AAAA;AAE3C,oDAA4C,IAAI,UAAU,SAAS;AAC/D,yBAAe,IAAI;AACnB,iBAAO,CAAC,eAAe,YAAY,IAAI,UAAU,CAAC;AAAA;AAEtD,oDAA4C,IAAI,UAAU,SAAS;AAC/D,yBAAe,IAAI;AACnB,iBAAO,CAAC,OAAO,eAAe,YAAY,IAAI,UAAU,CAAC,OAAO;AAAA;AAGpE,sCAA8B,IAAG,SAAS;AACtC,cAAI,CAAC,iBAAiB,KAAI;AACtB,kBAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAI/B,gCAAuB,OAAO;AAC1B,cAAI,OAAO,UAAU,YAAY,UAAU,MAAM;AAC7C,mBAAO;AAAA;AAEX,cAAI;AACA,mBAAO,OAAO,MAAM,YAAY;AAAA,mBAE7B,KAAP;AAEI,mBAAO;AAAA;AAAA;AAGf,cAAM,0BAA0B,OAAO,oBAAoB;AAM3D,yCAAiC;AAC7B,cAAI,yBAAyB;AACzB,mBAAO,IAAI;AAAA;AAEf,iBAAO;AAAA;AAQX,6BAAqB;AAAA,UACjB,YAAY,oBAAoB,IAAI,cAAc,IAAI;AAClD,gBAAI,sBAAsB,QAAW;AACjC,kCAAoB;AAAA,mBAEnB;AACD,2BAAa,mBAAmB;AAAA;AAEpC,kBAAM,WAAW,uBAAuB,aAAa;AACrD,kBAAM,iBAAiB,sBAAsB,mBAAmB;AAChE,qCAAyB;AACzB,kBAAM,OAAO,eAAe;AAC5B,gBAAI,SAAS,QAAW;AACpB,oBAAM,IAAI,WAAW;AAAA;AAEzB,kBAAM,gBAAgB,qBAAqB;AAC3C,kBAAM,gBAAgB,qBAAqB,UAAU;AACrD,mEAAuD,MAAM,gBAAgB,eAAe;AAAA;AAAA,cAK5F,SAAS;AACT,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,mBAAO,uBAAuB;AAAA;AAAA,UAWlC,MAAM,SAAS,QAAW;AACtB,gBAAI,CAAC,iBAAiB,OAAO;AACzB,qBAAO,oBAAoB,4BAA4B;AAAA;AAE3D,gBAAI,uBAAuB,OAAO;AAC9B,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,mBAAO,oBAAoB,MAAM;AAAA;AAAA,UAUrC,QAAQ;AACJ,gBAAI,CAAC,iBAAiB,OAAO;AACzB,qBAAO,oBAAoB,4BAA4B;AAAA;AAE3D,gBAAI,uBAAuB,OAAO;AAC9B,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,gBAAI,oCAAoC,OAAO;AAC3C,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,mBAAO,oBAAoB;AAAA;AAAA,UAU/B,YAAY;AACR,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,mBAAO,mCAAmC;AAAA;AAAA;AAGlD,eAAO,iBAAiB,eAAe,WAAW;AAAA,UAC9C,OAAO,EAAE,YAAY;AAAA,UACrB,OAAO,EAAE,YAAY;AAAA,UACrB,WAAW,EAAE,YAAY;AAAA,UACzB,QAAQ,EAAE,YAAY;AAAA;AAE1B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,eAAe,WAAW,eAAe,aAAa;AAAA,YACxE,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,oDAA4C,QAAQ;AAChD,iBAAO,IAAI,4BAA4B;AAAA;AAG3C,sCAA8B,gBAAgB,gBAAgB,gBAAgB,gBAAgB,gBAAgB,GAAG,gBAAgB,MAAM,GAAG;AACtI,gBAAM,SAAS,OAAO,OAAO,eAAe;AAC5C,mCAAyB;AACzB,gBAAM,aAAa,OAAO,OAAO,gCAAgC;AACjE,+CAAqC,QAAQ,YAAY,gBAAgB,gBAAgB,gBAAgB,gBAAgB,eAAe;AACxI,iBAAO;AAAA;AAEX,0CAAkC,QAAQ;AACtC,iBAAO,SAAS;AAGhB,iBAAO,eAAe;AACtB,iBAAO,UAAU;AAGjB,iBAAO,4BAA4B;AAGnC,iBAAO,iBAAiB,IAAI;AAG5B,iBAAO,wBAAwB;AAG/B,iBAAO,gBAAgB;AAGvB,iBAAO,wBAAwB;AAE/B,iBAAO,uBAAuB;AAE9B,iBAAO,gBAAgB;AAAA;AAE3B,kCAA0B,IAAG;AACzB,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,8BAA8B;AACvE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,wCAAgC,QAAQ;AACpC,cAAI,OAAO,YAAY,QAAW;AAC9B,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,qCAA6B,QAAQ,QAAQ;AACzC,cAAI;AACJ,cAAI,OAAO,WAAW,YAAY,OAAO,WAAW,WAAW;AAC3D,mBAAO,oBAAoB;AAAA;AAE/B,iBAAO,0BAA0B,eAAe;AAChD,UAAC,OAAK,OAAO,0BAA0B,sBAAsB,QAAQ,QAAO,SAAS,SAAS,IAAG;AAIjG,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,YAAY,UAAU,WAAW;AAC3C,mBAAO,oBAAoB;AAAA;AAE/B,cAAI,OAAO,yBAAyB,QAAW;AAC3C,mBAAO,OAAO,qBAAqB;AAAA;AAEvC,cAAI,qBAAqB;AACzB,cAAI,UAAU,YAAY;AACtB,iCAAqB;AAErB,qBAAS;AAAA;AAEb,gBAAM,UAAU,WAAW,CAAC,SAAS,WAAW;AAC5C,mBAAO,uBAAuB;AAAA,cAC1B,UAAU;AAAA,cACV,UAAU;AAAA,cACV,SAAS;AAAA,cACT,SAAS;AAAA,cACT,qBAAqB;AAAA;AAAA;AAG7B,iBAAO,qBAAqB,WAAW;AACvC,cAAI,CAAC,oBAAoB;AACrB,wCAA4B,QAAQ;AAAA;AAExC,iBAAO;AAAA;AAEX,qCAA6B,QAAQ;AACjC,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,YAAY,UAAU,WAAW;AAC3C,mBAAO,oBAAoB,IAAI,UAAU,kBAAkB;AAAA;AAE/D,gBAAM,UAAU,WAAW,CAAC,SAAS,WAAW;AAC5C,kBAAM,eAAe;AAAA,cACjB,UAAU;AAAA,cACV,SAAS;AAAA;AAEb,mBAAO,gBAAgB;AAAA;AAE3B,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,UAAa,OAAO,iBAAiB,UAAU,YAAY;AACtE,6CAAiC;AAAA;AAErC,+CAAqC,OAAO;AAC5C,iBAAO;AAAA;AAGX,+CAAuC,QAAQ;AAC3C,gBAAM,UAAU,WAAW,CAAC,SAAS,WAAW;AAC5C,kBAAM,eAAe;AAAA,cACjB,UAAU;AAAA,cACV,SAAS;AAAA;AAEb,mBAAO,eAAe,KAAK;AAAA;AAE/B,iBAAO;AAAA;AAEX,iDAAyC,QAAQ,OAAO;AACpD,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,YAAY;AACtB,wCAA4B,QAAQ;AACpC;AAAA;AAEJ,uCAA6B;AAAA;AAEjC,6CAAqC,QAAQ,QAAQ;AACjD,gBAAM,aAAa,OAAO;AAC1B,iBAAO,SAAS;AAChB,iBAAO,eAAe;AACtB,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB,kEAAsD,QAAQ;AAAA;AAElE,cAAI,CAAC,yCAAyC,WAAW,WAAW,UAAU;AAC1E,yCAA6B;AAAA;AAAA;AAGrC,8CAAsC,QAAQ;AAC1C,iBAAO,SAAS;AAChB,iBAAO,0BAA0B;AACjC,gBAAM,cAAc,OAAO;AAC3B,iBAAO,eAAe,QAAQ,kBAAgB;AAC1C,yBAAa,QAAQ;AAAA;AAEzB,iBAAO,iBAAiB,IAAI;AAC5B,cAAI,OAAO,yBAAyB,QAAW;AAC3C,8DAAkD;AAClD;AAAA;AAEJ,gBAAM,eAAe,OAAO;AAC5B,iBAAO,uBAAuB;AAC9B,cAAI,aAAa,qBAAqB;AAClC,yBAAa,QAAQ;AACrB,8DAAkD;AAClD;AAAA;AAEJ,gBAAM,UAAU,OAAO,0BAA0B,YAAY,aAAa;AAC1E,sBAAY,SAAS,MAAM;AACvB,yBAAa;AACb,8DAAkD;AAAA,aACnD,CAAC,WAAW;AACX,yBAAa,QAAQ;AACrB,8DAAkD;AAAA;AAAA;AAG1D,mDAA2C,QAAQ;AAC/C,iBAAO,sBAAsB,SAAS;AACtC,iBAAO,wBAAwB;AAAA;AAEnC,4DAAoD,QAAQ,OAAO;AAC/D,iBAAO,sBAAsB,QAAQ;AACrC,iBAAO,wBAAwB;AAC/B,0CAAgC,QAAQ;AAAA;AAE5C,mDAA2C,QAAQ;AAC/C,iBAAO,sBAAsB,SAAS;AACtC,iBAAO,wBAAwB;AAC/B,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,YAAY;AAEtB,mBAAO,eAAe;AACtB,gBAAI,OAAO,yBAAyB,QAAW;AAC3C,qBAAO,qBAAqB;AAC5B,qBAAO,uBAAuB;AAAA;AAAA;AAGtC,iBAAO,SAAS;AAChB,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB,8CAAkC;AAAA;AAAA;AAG1C,4DAAoD,QAAQ,OAAO;AAC/D,iBAAO,sBAAsB,QAAQ;AACrC,iBAAO,wBAAwB;AAE/B,cAAI,OAAO,yBAAyB,QAAW;AAC3C,mBAAO,qBAAqB,QAAQ;AACpC,mBAAO,uBAAuB;AAAA;AAElC,0CAAgC,QAAQ;AAAA;AAG5C,qDAA6C,QAAQ;AACjD,cAAI,OAAO,kBAAkB,UAAa,OAAO,0BAA0B,QAAW;AAClF,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,0DAAkD,QAAQ;AACtD,cAAI,OAAO,0BAA0B,UAAa,OAAO,0BAA0B,QAAW;AAC1F,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,wDAAgD,QAAQ;AACpD,iBAAO,wBAAwB,OAAO;AACtC,iBAAO,gBAAgB;AAAA;AAE3B,6DAAqD,QAAQ;AACzD,iBAAO,wBAAwB,OAAO,eAAe;AAAA;AAEzD,mEAA2D,QAAQ;AAC/D,cAAI,OAAO,kBAAkB,QAAW;AACpC,mBAAO,cAAc,QAAQ,OAAO;AACpC,mBAAO,gBAAgB;AAAA;AAE3B,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB,6CAAiC,QAAQ,OAAO;AAAA;AAAA;AAGxD,kDAA0C,QAAQ,cAAc;AAC5D,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,UAAa,iBAAiB,OAAO,eAAe;AAC/D,gBAAI,cAAc;AACd,6CAA+B;AAAA,mBAE9B;AACD,+CAAiC;AAAA;AAAA;AAGzC,iBAAO,gBAAgB;AAAA;AAO3B,0CAAkC;AAAA,UAC9B,YAAY,QAAQ;AAChB,mCAAuB,QAAQ,GAAG;AAClC,iCAAqB,QAAQ;AAC7B,gBAAI,uBAAuB,SAAS;AAChC,oBAAM,IAAI,UAAU;AAAA;AAExB,iBAAK,uBAAuB;AAC5B,mBAAO,UAAU;AACjB,kBAAM,QAAQ,OAAO;AACrB,gBAAI,UAAU,YAAY;AACtB,kBAAI,CAAC,oCAAoC,WAAW,OAAO,eAAe;AACtE,oDAAoC;AAAA,qBAEnC;AACD,8DAA8C;AAAA;AAElD,mDAAqC;AAAA,uBAEhC,UAAU,YAAY;AAC3B,4DAA8C,MAAM,OAAO;AAC3D,mDAAqC;AAAA,uBAEhC,UAAU,UAAU;AACzB,4DAA8C;AAC9C,6DAA+C;AAAA,mBAE9C;AACD,oBAAM,cAAc,OAAO;AAC3B,4DAA8C,MAAM;AACpD,6DAA+C,MAAM;AAAA;AAAA;AAAA,cAOzD,SAAS;AACT,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,mBAAO,KAAK;AAAA;AAAA,cAUZ,cAAc;AACd,gBAAI,CAAC,8BAA8B,OAAO;AACtC,oBAAM,iCAAiC;AAAA;AAE3C,gBAAI,KAAK,yBAAyB,QAAW;AACzC,oBAAM,2BAA2B;AAAA;AAErC,mBAAO,0CAA0C;AAAA;AAAA,cAUjD,QAAQ;AACR,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,mBAAO,KAAK;AAAA;AAAA,UAKhB,MAAM,SAAS,QAAW;AACtB,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,gBAAI,KAAK,yBAAyB,QAAW;AACzC,qBAAO,oBAAoB,2BAA2B;AAAA;AAE1D,mBAAO,iCAAiC,MAAM;AAAA;AAAA,UAKlD,QAAQ;AACJ,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,kBAAM,SAAS,KAAK;AACpB,gBAAI,WAAW,QAAW;AACtB,qBAAO,oBAAoB,2BAA2B;AAAA;AAE1D,gBAAI,oCAAoC,SAAS;AAC7C,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,mBAAO,iCAAiC;AAAA;AAAA,UAY5C,cAAc;AACV,gBAAI,CAAC,8BAA8B,OAAO;AACtC,oBAAM,iCAAiC;AAAA;AAE3C,kBAAM,SAAS,KAAK;AACpB,gBAAI,WAAW,QAAW;AACtB;AAAA;AAEJ,+CAAmC;AAAA;AAAA,UAEvC,MAAM,QAAQ,QAAW;AACrB,gBAAI,CAAC,8BAA8B,OAAO;AACtC,qBAAO,oBAAoB,iCAAiC;AAAA;AAEhE,gBAAI,KAAK,yBAAyB,QAAW;AACzC,qBAAO,oBAAoB,2BAA2B;AAAA;AAE1D,mBAAO,iCAAiC,MAAM;AAAA;AAAA;AAGtD,eAAO,iBAAiB,4BAA4B,WAAW;AAAA,UAC3D,OAAO,EAAE,YAAY;AAAA,UACrB,OAAO,EAAE,YAAY;AAAA,UACrB,aAAa,EAAE,YAAY;AAAA,UAC3B,OAAO,EAAE,YAAY;AAAA,UACrB,QAAQ,EAAE,YAAY;AAAA,UACtB,aAAa,EAAE,YAAY;AAAA,UAC3B,OAAO,EAAE,YAAY;AAAA;AAEzB,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,4BAA4B,WAAW,eAAe,aAAa;AAAA,YACrF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,+CAAuC,IAAG;AACtC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,yBAAyB;AAClE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAGxB,kDAA0C,QAAQ,QAAQ;AACtD,gBAAM,SAAS,OAAO;AACtB,iBAAO,oBAAoB,QAAQ;AAAA;AAEvC,kDAA0C,QAAQ;AAC9C,gBAAM,SAAS,OAAO;AACtB,iBAAO,oBAAoB;AAAA;AAE/B,sEAA8D,QAAQ;AAClE,gBAAM,SAAS,OAAO;AACtB,gBAAM,QAAQ,OAAO;AACrB,cAAI,oCAAoC,WAAW,UAAU,UAAU;AACnE,mBAAO,oBAAoB;AAAA;AAE/B,cAAI,UAAU,WAAW;AACrB,mBAAO,oBAAoB,OAAO;AAAA;AAEtC,iBAAO,iCAAiC;AAAA;AAE5C,wEAAgE,QAAQ,OAAO;AAC3E,cAAI,OAAO,wBAAwB,WAAW;AAC1C,6CAAiC,QAAQ;AAAA,iBAExC;AACD,sDAA0C,QAAQ;AAAA;AAAA;AAG1D,uEAA+D,QAAQ,OAAO;AAC1E,cAAI,OAAO,uBAAuB,WAAW;AACzC,4CAAgC,QAAQ;AAAA,iBAEvC;AACD,qDAAyC,QAAQ;AAAA;AAAA;AAGzD,2DAAmD,QAAQ;AACvD,gBAAM,SAAS,OAAO;AACtB,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,aAAa,UAAU,YAAY;AAC7C,mBAAO;AAAA;AAEX,cAAI,UAAU,UAAU;AACpB,mBAAO;AAAA;AAEX,iBAAO,8CAA8C,OAAO;AAAA;AAEhE,oDAA4C,QAAQ;AAChD,gBAAM,SAAS,OAAO;AACtB,gBAAM,gBAAgB,IAAI,UAAU;AACpC,gEAAsD,QAAQ;AAG9D,iEAAuD,QAAQ;AAC/D,iBAAO,UAAU;AACjB,iBAAO,uBAAuB;AAAA;AAElC,kDAA0C,QAAQ,OAAO;AACrD,gBAAM,SAAS,OAAO;AACtB,gBAAM,aAAa,OAAO;AAC1B,gBAAM,YAAY,4CAA4C,YAAY;AAC1E,cAAI,WAAW,OAAO,sBAAsB;AACxC,mBAAO,oBAAoB,2BAA2B;AAAA;AAE1D,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,WAAW;AACrB,mBAAO,oBAAoB,OAAO;AAAA;AAEtC,cAAI,oCAAoC,WAAW,UAAU,UAAU;AACnE,mBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,cAAI,UAAU,YAAY;AACtB,mBAAO,oBAAoB,OAAO;AAAA;AAEtC,gBAAM,UAAU,8BAA8B;AAC9C,+CAAqC,YAAY,OAAO;AACxD,iBAAO;AAAA;AAEX,cAAM,gBAAgB;AAMtB,8CAAsC;AAAA,UAClC,cAAc;AACV,kBAAM,IAAI,UAAU;AAAA;AAAA,cASpB,cAAc;AACd,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,mBAAO,KAAK;AAAA;AAAA,cAKZ,SAAS;AACT,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,gBAAI,KAAK,qBAAqB,QAAW;AAIrC,oBAAM,IAAI,UAAU;AAAA;AAExB,mBAAO,KAAK,iBAAiB;AAAA;AAAA,UASjC,MAAM,KAAI,QAAW;AACjB,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,kBAAM,QAAQ,KAAK,0BAA0B;AAC7C,gBAAI,UAAU,YAAY;AAGtB;AAAA;AAEJ,iDAAqC,MAAM;AAAA;AAAA,WAG9C,YAAY,QAAQ;AACjB,kBAAM,SAAS,KAAK,gBAAgB;AACpC,2DAA+C;AAC/C,mBAAO;AAAA;AAAA,WAGV,cAAc;AACX,uBAAW;AAAA;AAAA;AAGnB,eAAO,iBAAiB,gCAAgC,WAAW;AAAA,UAC/D,aAAa,EAAE,YAAY;AAAA,UAC3B,QAAQ,EAAE,YAAY;AAAA,UACtB,OAAO,EAAE,YAAY;AAAA;AAEzB,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,gCAAgC,WAAW,eAAe,aAAa;AAAA,YACzF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,mDAA2C,IAAG;AAC1C,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,8BAA8B;AACvE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,sDAA8C,QAAQ,YAAY,gBAAgB,gBAAgB,gBAAgB,gBAAgB,eAAe,eAAe;AAC5J,qBAAW,4BAA4B;AACvC,iBAAO,4BAA4B;AAEnC,qBAAW,SAAS;AACpB,qBAAW,kBAAkB;AAC7B,qBAAW;AACX,qBAAW,eAAe;AAC1B,qBAAW,mBAAmB;AAC9B,qBAAW,WAAW;AACtB,qBAAW,yBAAyB;AACpC,qBAAW,eAAe;AAC1B,qBAAW,kBAAkB;AAC7B,qBAAW,kBAAkB;AAC7B,qBAAW,kBAAkB;AAC7B,gBAAM,eAAe,+CAA+C;AACpE,2CAAiC,QAAQ;AACzC,gBAAM,cAAc;AACpB,gBAAM,eAAe,oBAAoB;AACzC,sBAAY,cAAc,MAAM;AAC5B,uBAAW,WAAW;AACtB,gEAAoD;AAAA,aACrD,QAAK;AACJ,uBAAW,WAAW;AACtB,4CAAgC,QAAQ;AAAA;AAAA;AAGhD,wEAAgE,QAAQ,gBAAgB,eAAe,eAAe;AAClH,gBAAM,aAAa,OAAO,OAAO,gCAAgC;AACjE,cAAI,iBAAiB,MAAM;AAC3B,cAAI,iBAAiB,MAAM,oBAAoB;AAC/C,cAAI,iBAAiB,MAAM,oBAAoB;AAC/C,cAAI,iBAAiB,MAAM,oBAAoB;AAC/C,cAAI,eAAe,UAAU,QAAW;AACpC,6BAAiB,MAAM,eAAe,MAAM;AAAA;AAEhD,cAAI,eAAe,UAAU,QAAW;AACpC,6BAAiB,WAAS,eAAe,MAAM,OAAO;AAAA;AAE1D,cAAI,eAAe,UAAU,QAAW;AACpC,6BAAiB,MAAM,eAAe;AAAA;AAE1C,cAAI,eAAe,UAAU,QAAW;AACpC,6BAAiB,YAAU,eAAe,MAAM;AAAA;AAEpD,+CAAqC,QAAQ,YAAY,gBAAgB,gBAAgB,gBAAgB,gBAAgB,eAAe;AAAA;AAG5I,gEAAwD,YAAY;AAChE,qBAAW,kBAAkB;AAC7B,qBAAW,kBAAkB;AAC7B,qBAAW,kBAAkB;AAC7B,qBAAW,yBAAyB;AAAA;AAExC,sDAA8C,YAAY;AACtD,+BAAqB,YAAY,eAAe;AAChD,8DAAoD;AAAA;AAExD,6DAAqD,YAAY,OAAO;AACpE,cAAI;AACA,mBAAO,WAAW,uBAAuB;AAAA,mBAEtC,YAAP;AACI,yDAA6C,YAAY;AACzD,mBAAO;AAAA;AAAA;AAGf,+DAAuD,YAAY;AAC/D,iBAAO,WAAW,eAAe,WAAW;AAAA;AAEhD,sDAA8C,YAAY,OAAO,WAAW;AACxE,cAAI;AACA,iCAAqB,YAAY,OAAO;AAAA,mBAErC,UAAP;AACI,yDAA6C,YAAY;AACzD;AAAA;AAEJ,gBAAM,SAAS,WAAW;AAC1B,cAAI,CAAC,oCAAoC,WAAW,OAAO,WAAW,YAAY;AAC9E,kBAAM,eAAe,+CAA+C;AACpE,6CAAiC,QAAQ;AAAA;AAE7C,8DAAoD;AAAA;AAGxD,qEAA6D,YAAY;AACrE,gBAAM,SAAS,WAAW;AAC1B,cAAI,CAAC,WAAW,UAAU;AACtB;AAAA;AAEJ,cAAI,OAAO,0BAA0B,QAAW;AAC5C;AAAA;AAEJ,gBAAM,QAAQ,OAAO;AACrB,cAAI,UAAU,YAAY;AACtB,yCAA6B;AAC7B;AAAA;AAEJ,cAAI,WAAW,OAAO,WAAW,GAAG;AAChC;AAAA;AAEJ,gBAAM,QAAQ,eAAe;AAC7B,cAAI,UAAU,eAAe;AACzB,wDAA4C;AAAA,iBAE3C;AACD,wDAA4C,YAAY;AAAA;AAAA;AAGhE,8DAAsD,YAAY,OAAO;AACrE,cAAI,WAAW,0BAA0B,WAAW,YAAY;AAC5D,iDAAqC,YAAY;AAAA;AAAA;AAGzD,6DAAqD,YAAY;AAC7D,gBAAM,SAAS,WAAW;AAC1B,iDAAuC;AACvC,uBAAa;AACb,gBAAM,mBAAmB,WAAW;AACpC,yDAA+C;AAC/C,sBAAY,kBAAkB,MAAM;AAChC,8CAAkC;AAAA,aACnC,YAAU;AACT,uDAA2C,QAAQ;AAAA;AAAA;AAG3D,6DAAqD,YAAY,OAAO;AACpE,gBAAM,SAAS,WAAW;AAC1B,sDAA4C;AAC5C,gBAAM,mBAAmB,WAAW,gBAAgB;AACpD,sBAAY,kBAAkB,MAAM;AAChC,8CAAkC;AAClC,kBAAM,QAAQ,OAAO;AACrB,yBAAa;AACb,gBAAI,CAAC,oCAAoC,WAAW,UAAU,YAAY;AACtE,oBAAM,eAAe,+CAA+C;AACpE,+CAAiC,QAAQ;AAAA;AAE7C,gEAAoD;AAAA,aACrD,YAAU;AACT,gBAAI,OAAO,WAAW,YAAY;AAC9B,6DAA+C;AAAA;AAEnD,uDAA2C,QAAQ;AAAA;AAAA;AAG3D,gEAAwD,YAAY;AAChE,gBAAM,cAAc,8CAA8C;AAClE,iBAAO,eAAe;AAAA;AAG1B,sDAA8C,YAAY,OAAO;AAC7D,gBAAM,SAAS,WAAW;AAC1B,yDAA+C;AAC/C,sCAA4B,QAAQ;AAAA;AAGxC,6CAAqC,MAAM;AACvC,iBAAO,IAAI,UAAU,4BAA4B;AAAA;AAGrD,wDAAgD,MAAM;AAClD,iBAAO,IAAI,UAAU,6CAA6C;AAAA;AAGtE,kDAA0C,MAAM;AAC5C,iBAAO,IAAI,UAAU,yCAAyC;AAAA;AAElE,4CAAoC,MAAM;AACtC,iBAAO,IAAI,UAAU,YAAY,OAAO;AAAA;AAE5C,sDAA8C,QAAQ;AAClD,iBAAO,iBAAiB,WAAW,CAAC,SAAS,WAAW;AACpD,mBAAO,yBAAyB;AAChC,mBAAO,wBAAwB;AAC/B,mBAAO,sBAAsB;AAAA;AAAA;AAGrC,gEAAwD,QAAQ,QAAQ;AACpE,+CAAqC;AACrC,2CAAiC,QAAQ;AAAA;AAE7C,gEAAwD,QAAQ;AAC5D,+CAAqC;AACrC,4CAAkC;AAAA;AAEtC,kDAA0C,QAAQ,QAAQ;AACtD,cAAI,OAAO,0BAA0B,QAAW;AAC5C;AAAA;AAEJ,oCAA0B,OAAO;AACjC,iBAAO,sBAAsB;AAC7B,iBAAO,yBAAyB;AAChC,iBAAO,wBAAwB;AAC/B,iBAAO,sBAAsB;AAAA;AAEjC,2DAAmD,QAAQ,QAAQ;AAC/D,yDAA+C,QAAQ;AAAA;AAE3D,mDAA2C,QAAQ;AAC/C,cAAI,OAAO,2BAA2B,QAAW;AAC7C;AAAA;AAEJ,iBAAO,uBAAuB;AAC9B,iBAAO,yBAAyB;AAChC,iBAAO,wBAAwB;AAC/B,iBAAO,sBAAsB;AAAA;AAEjC,qDAA6C,QAAQ;AACjD,iBAAO,gBAAgB,WAAW,CAAC,SAAS,WAAW;AACnD,mBAAO,wBAAwB;AAC/B,mBAAO,uBAAuB;AAAA;AAElC,iBAAO,qBAAqB;AAAA;AAEhC,+DAAuD,QAAQ,QAAQ;AACnE,8CAAoC;AACpC,0CAAgC,QAAQ;AAAA;AAE5C,+DAAuD,QAAQ;AAC3D,8CAAoC;AACpC,2CAAiC;AAAA;AAErC,iDAAyC,QAAQ,QAAQ;AACrD,cAAI,OAAO,yBAAyB,QAAW;AAC3C;AAAA;AAEJ,oCAA0B,OAAO;AACjC,iBAAO,qBAAqB;AAC5B,iBAAO,wBAAwB;AAC/B,iBAAO,uBAAuB;AAC9B,iBAAO,qBAAqB;AAAA;AAEhC,gDAAwC,QAAQ;AAC5C,8CAAoC;AAAA;AAExC,0DAAkD,QAAQ,QAAQ;AAC9D,wDAA8C,QAAQ;AAAA;AAE1D,kDAA0C,QAAQ;AAC9C,cAAI,OAAO,0BAA0B,QAAW;AAC5C;AAAA;AAEJ,iBAAO,sBAAsB;AAC7B,iBAAO,wBAAwB;AAC/B,iBAAO,uBAAuB;AAC9B,iBAAO,qBAAqB;AAAA;AAIhC,cAAM,qBAAqB,OAAO,iBAAiB,cAAc,eAAe;AAGhF,2CAAmC,MAAM;AACrC,cAAI,CAAE,QAAO,SAAS,cAAc,OAAO,SAAS,WAAW;AAC3D,mBAAO;AAAA;AAEX,cAAI;AACA,gBAAI;AACJ,mBAAO;AAAA,mBAEJ,KAAP;AACI,mBAAO;AAAA;AAAA;AAGf,8CAAsC;AAElC,gBAAM,OAAO,uBAAsB,SAAS,MAAM;AAC9C,iBAAK,UAAU,WAAW;AAC1B,iBAAK,OAAO,QAAQ;AACpB,gBAAI,MAAM,mBAAmB;AACzB,oBAAM,kBAAkB,MAAM,KAAK;AAAA;AAAA;AAG3C,eAAK,YAAY,OAAO,OAAO,MAAM;AACrC,iBAAO,eAAe,KAAK,WAAW,eAAe,EAAE,OAAO,MAAM,UAAU,MAAM,cAAc;AAClG,iBAAO;AAAA;AAGX,cAAM,iBAAiB,0BAA0B,sBAAsB,qBAAqB;AAE5F,sCAA8B,QAAQ,MAAM,cAAc,cAAc,eAAe,QAAQ;AAC3F,gBAAM,SAAS,mCAAmC;AAClD,gBAAM,SAAS,mCAAmC;AAClD,iBAAO,aAAa;AACpB,cAAI,eAAe;AAEnB,cAAI,eAAe,oBAAoB;AACvC,iBAAO,WAAW,CAAC,SAAS,WAAW;AACnC,gBAAI;AACJ,gBAAI,WAAW,QAAW;AACtB,+BAAiB,MAAM;AACnB,sBAAM,QAAQ,IAAI,eAAe,WAAW;AAC5C,sBAAM,UAAU;AAChB,oBAAI,CAAC,cAAc;AACf,0BAAQ,KAAK,MAAM;AACf,wBAAI,KAAK,WAAW,YAAY;AAC5B,6BAAO,oBAAoB,MAAM;AAAA;AAErC,2BAAO,oBAAoB;AAAA;AAAA;AAGnC,oBAAI,CAAC,eAAe;AAChB,0BAAQ,KAAK,MAAM;AACf,wBAAI,OAAO,WAAW,YAAY;AAC9B,6BAAO,qBAAqB,QAAQ;AAAA;AAExC,2BAAO,oBAAoB;AAAA;AAAA;AAGnC,mCAAmB,MAAM,QAAQ,IAAI,QAAQ,IAAI,YAAU,YAAY,MAAM;AAAA;AAEjF,kBAAI,OAAO,SAAS;AAChB;AACA;AAAA;AAEJ,qBAAO,iBAAiB,SAAS;AAAA;AAKrC,gCAAoB;AAChB,qBAAO,WAAW,CAAC,aAAa,eAAe;AAC3C,8BAAc,MAAM;AAChB,sBAAI,MAAM;AACN;AAAA,yBAEC;AAGD,uCAAmB,YAAY,MAAM;AAAA;AAAA;AAG7C,qBAAK;AAAA;AAAA;AAGb,gCAAoB;AAChB,kBAAI,cAAc;AACd,uBAAO,oBAAoB;AAAA;AAE/B,qBAAO,mBAAmB,OAAO,eAAe,MAAM;AAClD,uBAAO,WAAW,CAAC,aAAa,eAAe;AAC3C,kDAAgC,QAAQ;AAAA,oBACpC,aAAa,WAAS;AAClB,qCAAe,mBAAmB,iCAAiC,QAAQ,QAAQ,QAAW;AAC9F,kCAAY;AAAA;AAAA,oBAEhB,aAAa,MAAM,YAAY;AAAA,oBAC/B,aAAa;AAAA;AAAA;AAAA;AAAA;AAM7B,+BAAmB,QAAQ,OAAO,gBAAgB,iBAAe;AAC7D,kBAAI,CAAC,cAAc;AACf,mCAAmB,MAAM,oBAAoB,MAAM,cAAc,MAAM;AAAA,qBAEtE;AACD,yBAAS,MAAM;AAAA;AAAA;AAIvB,+BAAmB,MAAM,OAAO,gBAAgB,iBAAe;AAC3D,kBAAI,CAAC,eAAe;AAChB,mCAAmB,MAAM,qBAAqB,QAAQ,cAAc,MAAM;AAAA,qBAEzE;AACD,yBAAS,MAAM;AAAA;AAAA;AAIvB,8BAAkB,QAAQ,OAAO,gBAAgB,MAAM;AACnD,kBAAI,CAAC,cAAc;AACf,mCAAmB,MAAM,qDAAqD;AAAA,qBAE7E;AACD;AAAA;AAAA;AAIR,gBAAI,oCAAoC,SAAS,KAAK,WAAW,UAAU;AACvE,oBAAM,aAAa,IAAI,UAAU;AACjC,kBAAI,CAAC,eAAe;AAChB,mCAAmB,MAAM,qBAAqB,QAAQ,aAAa,MAAM;AAAA,qBAExE;AACD,yBAAS,MAAM;AAAA;AAAA;AAGvB,sCAA0B;AAC1B,6CAAiC;AAG7B,oBAAM,kBAAkB;AACxB,qBAAO,mBAAmB,cAAc,MAAM,oBAAoB,eAAe,0BAA0B;AAAA;AAE/G,wCAA4B,QAAQ,SAAS,QAAQ;AACjD,kBAAI,OAAO,WAAW,WAAW;AAC7B,uBAAO,OAAO;AAAA,qBAEb;AACD,8BAAc,SAAS;AAAA;AAAA;AAG/B,uCAA2B,QAAQ,SAAS,QAAQ;AAChD,kBAAI,OAAO,WAAW,UAAU;AAC5B;AAAA,qBAEC;AACD,gCAAgB,SAAS;AAAA;AAAA;AAGjC,wCAA4B,QAAQ,iBAAiB,eAAe;AAChE,kBAAI,cAAc;AACd;AAAA;AAEJ,6BAAe;AACf,kBAAI,KAAK,WAAW,cAAc,CAAC,oCAAoC,OAAO;AAC1E,gCAAgB,yBAAyB;AAAA,qBAExC;AACD;AAAA;AAEJ,mCAAqB;AACjB,4BAAY,UAAU,MAAM,SAAS,iBAAiB,gBAAgB,cAAY,SAAS,MAAM;AAAA;AAAA;AAGzG,8BAAkB,SAAS,OAAO;AAC9B,kBAAI,cAAc;AACd;AAAA;AAEJ,6BAAe;AACf,kBAAI,KAAK,WAAW,cAAc,CAAC,oCAAoC,OAAO;AAC1E,gCAAgB,yBAAyB,MAAM,SAAS,SAAS;AAAA,qBAEhE;AACD,yBAAS,SAAS;AAAA;AAAA;AAG1B,8BAAkB,SAAS,OAAO;AAC9B,iDAAmC;AACnC,iDAAmC;AACnC,kBAAI,WAAW,QAAW;AACtB,uBAAO,oBAAoB,SAAS;AAAA;AAExC,kBAAI,SAAS;AACT,uBAAO;AAAA,qBAEN;AACD,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAWxB,8CAAsC;AAAA,UAClC,cAAc;AACV,kBAAM,IAAI,UAAU;AAAA;AAAA,cAMpB,cAAc;AACd,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,mBAAO,8CAA8C;AAAA;AAAA,UAMzD,QAAQ;AACJ,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,gBAAI,CAAC,iDAAiD,OAAO;AACzD,oBAAM,IAAI,UAAU;AAAA;AAExB,iDAAqC;AAAA;AAAA,UAEzC,QAAQ,QAAQ,QAAW;AACvB,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,gBAAI,CAAC,iDAAiD,OAAO;AACzD,oBAAM,IAAI,UAAU;AAAA;AAExB,mBAAO,uCAAuC,MAAM;AAAA;AAAA,UAKxD,MAAM,KAAI,QAAW;AACjB,gBAAI,CAAC,kCAAkC,OAAO;AAC1C,oBAAM,uCAAuC;AAAA;AAEjD,iDAAqC,MAAM;AAAA;AAAA,WAG9C,aAAa,QAAQ;AAClB,uBAAW;AACX,kBAAM,SAAS,KAAK,iBAAiB;AACrC,2DAA+C;AAC/C,mBAAO;AAAA;AAAA,WAGV,WAAW,aAAa;AACrB,kBAAM,SAAS,KAAK;AACpB,gBAAI,KAAK,OAAO,SAAS,GAAG;AACxB,oBAAM,QAAQ,aAAa;AAC3B,kBAAI,KAAK,mBAAmB,KAAK,OAAO,WAAW,GAAG;AAClD,+DAA+C;AAC/C,oCAAoB;AAAA,qBAEnB;AACD,gEAAgD;AAAA;AAEpD,0BAAY,YAAY;AAAA,mBAEvB;AACD,2CAA6B,QAAQ;AACrC,8DAAgD;AAAA;AAAA;AAAA;AAI5D,eAAO,iBAAiB,gCAAgC,WAAW;AAAA,UAC/D,OAAO,EAAE,YAAY;AAAA,UACrB,SAAS,EAAE,YAAY;AAAA,UACvB,OAAO,EAAE,YAAY;AAAA,UACrB,aAAa,EAAE,YAAY;AAAA;AAE/B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,gCAAgC,WAAW,eAAe,aAAa;AAAA,YACzF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,mDAA2C,IAAG;AAC1C,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,8BAA8B;AACvE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,iEAAyD,YAAY;AACjE,gBAAM,aAAa,8CAA8C;AACjE,cAAI,CAAC,YAAY;AACb;AAAA;AAEJ,cAAI,WAAW,UAAU;AACrB,uBAAW,aAAa;AACxB;AAAA;AAEJ,qBAAW,WAAW;AACtB,gBAAM,cAAc,WAAW;AAC/B,sBAAY,aAAa,MAAM;AAC3B,uBAAW,WAAW;AACtB,gBAAI,WAAW,YAAY;AACvB,yBAAW,aAAa;AACxB,8DAAgD;AAAA;AAAA,aAErD,QAAK;AACJ,iDAAqC,YAAY;AAAA;AAAA;AAGzD,+DAAuD,YAAY;AAC/D,gBAAM,SAAS,WAAW;AAC1B,cAAI,CAAC,iDAAiD,aAAa;AAC/D,mBAAO;AAAA;AAEX,cAAI,CAAC,WAAW,UAAU;AACtB,mBAAO;AAAA;AAEX,cAAI,uBAAuB,WAAW,iCAAiC,UAAU,GAAG;AAChF,mBAAO;AAAA;AAEX,gBAAM,cAAc,8CAA8C;AAClE,cAAI,cAAc,GAAG;AACjB,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,gEAAwD,YAAY;AAChE,qBAAW,iBAAiB;AAC5B,qBAAW,mBAAmB;AAC9B,qBAAW,yBAAyB;AAAA;AAGxC,sDAA8C,YAAY;AACtD,cAAI,CAAC,iDAAiD,aAAa;AAC/D;AAAA;AAEJ,gBAAM,SAAS,WAAW;AAC1B,qBAAW,kBAAkB;AAC7B,cAAI,WAAW,OAAO,WAAW,GAAG;AAChC,2DAA+C;AAC/C,gCAAoB;AAAA;AAAA;AAG5B,wDAAgD,YAAY,OAAO;AAC/D,cAAI,CAAC,iDAAiD,aAAa;AAC/D;AAAA;AAEJ,gBAAM,SAAS,WAAW;AAC1B,cAAI,uBAAuB,WAAW,iCAAiC,UAAU,GAAG;AAChF,6CAAiC,QAAQ,OAAO;AAAA,iBAE/C;AACD,gBAAI;AACJ,gBAAI;AACA,0BAAY,WAAW,uBAAuB;AAAA,qBAE3C,YAAP;AACI,mDAAqC,YAAY;AACjD,oBAAM;AAAA;AAEV,gBAAI;AACA,mCAAqB,YAAY,OAAO;AAAA,qBAErC,UAAP;AACI,mDAAqC,YAAY;AACjD,oBAAM;AAAA;AAAA;AAGd,0DAAgD;AAAA;AAEpD,sDAA8C,YAAY,IAAG;AACzD,gBAAM,SAAS,WAAW;AAC1B,cAAI,OAAO,WAAW,YAAY;AAC9B;AAAA;AAEJ,qBAAW;AACX,yDAA+C;AAC/C,8BAAoB,QAAQ;AAAA;AAEhC,+DAAuD,YAAY;AAC/D,gBAAM,QAAQ,WAAW,0BAA0B;AACnD,cAAI,UAAU,WAAW;AACrB,mBAAO;AAAA;AAEX,cAAI,UAAU,UAAU;AACpB,mBAAO;AAAA;AAEX,iBAAO,WAAW,eAAe,WAAW;AAAA;AAGhD,gEAAwD,YAAY;AAChE,cAAI,8CAA8C,aAAa;AAC3D,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,kEAA0D,YAAY;AAClE,gBAAM,QAAQ,WAAW,0BAA0B;AACnD,cAAI,CAAC,WAAW,mBAAmB,UAAU,YAAY;AACrD,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,sDAA8C,QAAQ,YAAY,gBAAgB,eAAe,iBAAiB,eAAe,eAAe;AAC5I,qBAAW,4BAA4B;AACvC,qBAAW,SAAS;AACpB,qBAAW,kBAAkB;AAC7B,qBAAW;AACX,qBAAW,WAAW;AACtB,qBAAW,kBAAkB;AAC7B,qBAAW,aAAa;AACxB,qBAAW,WAAW;AACtB,qBAAW,yBAAyB;AACpC,qBAAW,eAAe;AAC1B,qBAAW,iBAAiB;AAC5B,qBAAW,mBAAmB;AAC9B,iBAAO,4BAA4B;AACnC,gBAAM,cAAc;AACpB,sBAAY,oBAAoB,cAAc,MAAM;AAChD,uBAAW,WAAW;AACtB,4DAAgD;AAAA,aACjD,QAAK;AACJ,iDAAqC,YAAY;AAAA;AAAA;AAGzD,0EAAkE,QAAQ,kBAAkB,eAAe,eAAe;AACtH,gBAAM,aAAa,OAAO,OAAO,gCAAgC;AACjE,cAAI,iBAAiB,MAAM;AAC3B,cAAI,gBAAgB,MAAM,oBAAoB;AAC9C,cAAI,kBAAkB,MAAM,oBAAoB;AAChD,cAAI,iBAAiB,UAAU,QAAW;AACtC,6BAAiB,MAAM,iBAAiB,MAAM;AAAA;AAElD,cAAI,iBAAiB,SAAS,QAAW;AACrC,4BAAgB,MAAM,iBAAiB,KAAK;AAAA;AAEhD,cAAI,iBAAiB,WAAW,QAAW;AACvC,8BAAkB,YAAU,iBAAiB,OAAO;AAAA;AAExD,+CAAqC,QAAQ,YAAY,gBAAgB,eAAe,iBAAiB,eAAe;AAAA;AAG5H,wDAAgD,MAAM;AAClD,iBAAO,IAAI,UAAU,6CAA6C;AAAA;AAGtE,mCAA2B,QAAQ,iBAAiB;AAChD,cAAI,+BAA+B,OAAO,4BAA4B;AAClE,mBAAO,sBAAsB;AAAA;AAEjC,iBAAO,yBAAyB;AAAA;AAEpC,0CAAkC,QAAQ,iBAAiB;AACvD,gBAAM,SAAS,mCAAmC;AAClD,cAAI,UAAU;AACd,cAAI,YAAY;AAChB,cAAI,YAAY;AAChB,cAAI,YAAY;AAChB,cAAI;AACJ,cAAI;AACJ,cAAI;AACJ,cAAI;AACJ,cAAI;AACJ,gBAAM,gBAAgB,WAAW,aAAW;AACxC,mCAAuB;AAAA;AAE3B,mCAAyB;AACrB,gBAAI,SAAS;AACT,0BAAY;AACZ,qBAAO,oBAAoB;AAAA;AAE/B,sBAAU;AACV,kBAAM,cAAc;AAAA,cAChB,aAAa,WAAS;AAIlB,+BAAe,MAAM;AACjB,8BAAY;AACZ,wBAAM,SAAS;AACf,wBAAM,SAAS;AAMf,sBAAI,CAAC,WAAW;AACZ,2DAAuC,QAAQ,2BAA2B;AAAA;AAE9E,sBAAI,CAAC,WAAW;AACZ,2DAAuC,QAAQ,2BAA2B;AAAA;AAE9E,4BAAU;AACV,sBAAI,WAAW;AACX;AAAA;AAAA;AAAA;AAAA,cAIZ,aAAa,MAAM;AACf,0BAAU;AACV,oBAAI,CAAC,WAAW;AACZ,uDAAqC,QAAQ;AAAA;AAEjD,oBAAI,CAAC,WAAW;AACZ,uDAAqC,QAAQ;AAAA;AAEjD,oBAAI,CAAC,aAAa,CAAC,WAAW;AAC1B,uCAAqB;AAAA;AAAA;AAAA,cAG7B,aAAa,MAAM;AACf,0BAAU;AAAA;AAAA;AAGlB,4CAAgC,QAAQ;AACxC,mBAAO,oBAAoB;AAAA;AAE/B,oCAA0B,QAAQ;AAC9B,wBAAY;AACZ,sBAAU;AACV,gBAAI,WAAW;AACX,oBAAM,kBAAkB,oBAAoB,CAAC,SAAS;AACtD,oBAAM,eAAe,qBAAqB,QAAQ;AAClD,mCAAqB;AAAA;AAEzB,mBAAO;AAAA;AAEX,oCAA0B,QAAQ;AAC9B,wBAAY;AACZ,sBAAU;AACV,gBAAI,WAAW;AACX,oBAAM,kBAAkB,oBAAoB,CAAC,SAAS;AACtD,oBAAM,eAAe,qBAAqB,QAAQ;AAClD,mCAAqB;AAAA;AAEzB,mBAAO;AAAA;AAEX,oCAA0B;AAAA;AAG1B,oBAAU,qBAAqB,gBAAgB,eAAe;AAC9D,oBAAU,qBAAqB,gBAAgB,eAAe;AAC9D,wBAAc,OAAO,gBAAgB,CAAC,OAAM;AACxC,iDAAqC,QAAQ,2BAA2B;AACxE,iDAAqC,QAAQ,2BAA2B;AACxE,gBAAI,CAAC,aAAa,CAAC,WAAW;AAC1B,mCAAqB;AAAA;AAAA;AAG7B,iBAAO,CAAC,SAAS;AAAA;AAErB,uCAA+B,QAAQ;AACnC,cAAI,SAAS,mCAAmC;AAChD,cAAI,UAAU;AACd,cAAI,sBAAsB;AAC1B,cAAI,sBAAsB;AAC1B,cAAI,YAAY;AAChB,cAAI,YAAY;AAChB,cAAI;AACJ,cAAI;AACJ,cAAI;AACJ,cAAI;AACJ,cAAI;AACJ,gBAAM,gBAAgB,WAAW,aAAW;AACxC,mCAAuB;AAAA;AAE3B,sCAA4B,YAAY;AACpC,0BAAc,WAAW,gBAAgB,QAAK;AAC1C,kBAAI,eAAe,QAAQ;AACvB;AAAA;AAEJ,gDAAkC,QAAQ,2BAA2B;AACrE,gDAAkC,QAAQ,2BAA2B;AACrE,kBAAI,CAAC,aAAa,CAAC,WAAW;AAC1B,qCAAqB;AAAA;AAAA;AAAA;AAIjC,2CAAiC;AAC7B,gBAAI,2BAA2B,SAAS;AACpC,iDAAmC;AACnC,uBAAS,mCAAmC;AAC5C,iCAAmB;AAAA;AAEvB,kBAAM,cAAc;AAAA,cAChB,aAAa,WAAS;AAIlB,+BAAe,MAAM;AACjB,wCAAsB;AACtB,wCAAsB;AACtB,wBAAM,SAAS;AACf,sBAAI,SAAS;AACb,sBAAI,CAAC,aAAa,CAAC,WAAW;AAC1B,wBAAI;AACA,+BAAS,kBAAkB;AAAA,6BAExB,QAAP;AACI,wDAAkC,QAAQ,2BAA2B;AACrE,wDAAkC,QAAQ,2BAA2B;AACrE,2CAAqB,qBAAqB,QAAQ;AAClD;AAAA;AAAA;AAGR,sBAAI,CAAC,WAAW;AACZ,wDAAoC,QAAQ,2BAA2B;AAAA;AAE3E,sBAAI,CAAC,WAAW;AACZ,wDAAoC,QAAQ,2BAA2B;AAAA;AAE3E,4BAAU;AACV,sBAAI,qBAAqB;AACrB;AAAA,6BAEK,qBAAqB;AAC1B;AAAA;AAAA;AAAA;AAAA,cAIZ,aAAa,MAAM;AACf,0BAAU;AACV,oBAAI,CAAC,WAAW;AACZ,oDAAkC,QAAQ;AAAA;AAE9C,oBAAI,CAAC,WAAW;AACZ,oDAAkC,QAAQ;AAAA;AAE9C,oBAAI,QAAQ,0BAA0B,kBAAkB,SAAS,GAAG;AAChE,sDAAoC,QAAQ,2BAA2B;AAAA;AAE3E,oBAAI,QAAQ,0BAA0B,kBAAkB,SAAS,GAAG;AAChE,sDAAoC,QAAQ,2BAA2B;AAAA;AAE3E,oBAAI,CAAC,aAAa,CAAC,WAAW;AAC1B,uCAAqB;AAAA;AAAA;AAAA,cAG7B,aAAa,MAAM;AACf,0BAAU;AAAA;AAAA;AAGlB,4CAAgC,QAAQ;AAAA;AAE5C,sCAA4B,MAAM,YAAY;AAC1C,gBAAI,8BAA8B,SAAS;AACvC,iDAAmC;AACnC,uBAAS,gCAAgC;AACzC,iCAAmB;AAAA;AAEvB,kBAAM,aAAa,aAAa,UAAU;AAC1C,kBAAM,cAAc,aAAa,UAAU;AAC3C,kBAAM,kBAAkB;AAAA,cACpB,aAAa,WAAS;AAIlB,+BAAe,MAAM;AACjB,wCAAsB;AACtB,wCAAsB;AACtB,wBAAM,eAAe,aAAa,YAAY;AAC9C,wBAAM,gBAAgB,aAAa,YAAY;AAC/C,sBAAI,CAAC,eAAe;AAChB,wBAAI;AACJ,wBAAI;AACA,oCAAc,kBAAkB;AAAA,6BAE7B,QAAP;AACI,wDAAkC,WAAW,2BAA2B;AACxE,wDAAkC,YAAY,2BAA2B;AACzE,2CAAqB,qBAAqB,QAAQ;AAClD;AAAA;AAEJ,wBAAI,CAAC,cAAc;AACf,qEAA+C,WAAW,2BAA2B;AAAA;AAEzF,wDAAoC,YAAY,2BAA2B;AAAA,6BAEtE,CAAC,cAAc;AACpB,mEAA+C,WAAW,2BAA2B;AAAA;AAEzF,4BAAU;AACV,sBAAI,qBAAqB;AACrB;AAAA,6BAEK,qBAAqB;AAC1B;AAAA;AAAA;AAAA;AAAA,cAIZ,aAAa,WAAS;AAClB,0BAAU;AACV,sBAAM,eAAe,aAAa,YAAY;AAC9C,sBAAM,gBAAgB,aAAa,YAAY;AAC/C,oBAAI,CAAC,cAAc;AACf,oDAAkC,WAAW;AAAA;AAEjD,oBAAI,CAAC,eAAe;AAChB,oDAAkC,YAAY;AAAA;AAElD,oBAAI,UAAU,QAAW;AACrB,sBAAI,CAAC,cAAc;AACf,mEAA+C,WAAW,2BAA2B;AAAA;AAEzF,sBAAI,CAAC,iBAAiB,YAAY,0BAA0B,kBAAkB,SAAS,GAAG;AACtF,wDAAoC,YAAY,2BAA2B;AAAA;AAAA;AAGnF,oBAAI,CAAC,gBAAgB,CAAC,eAAe;AACjC,uCAAqB;AAAA;AAAA;AAAA,cAG7B,aAAa,MAAM;AACf,0BAAU;AAAA;AAAA;AAGlB,yCAA6B,QAAQ,MAAM;AAAA;AAE/C,oCAA0B;AACtB,gBAAI,SAAS;AACT,oCAAsB;AACtB,qBAAO,oBAAoB;AAAA;AAE/B,sBAAU;AACV,kBAAM,cAAc,2CAA2C,QAAQ;AACvE,gBAAI,gBAAgB,MAAM;AACtB;AAAA,mBAEC;AACD,iCAAmB,YAAY,OAAO;AAAA;AAE1C,mBAAO,oBAAoB;AAAA;AAE/B,oCAA0B;AACtB,gBAAI,SAAS;AACT,oCAAsB;AACtB,qBAAO,oBAAoB;AAAA;AAE/B,sBAAU;AACV,kBAAM,cAAc,2CAA2C,QAAQ;AACvE,gBAAI,gBAAgB,MAAM;AACtB;AAAA,mBAEC;AACD,iCAAmB,YAAY,OAAO;AAAA;AAE1C,mBAAO,oBAAoB;AAAA;AAE/B,oCAA0B,QAAQ;AAC9B,wBAAY;AACZ,sBAAU;AACV,gBAAI,WAAW;AACX,oBAAM,kBAAkB,oBAAoB,CAAC,SAAS;AACtD,oBAAM,eAAe,qBAAqB,QAAQ;AAClD,mCAAqB;AAAA;AAEzB,mBAAO;AAAA;AAEX,oCAA0B,QAAQ;AAC9B,wBAAY;AACZ,sBAAU;AACV,gBAAI,WAAW;AACX,oBAAM,kBAAkB,oBAAoB,CAAC,SAAS;AACtD,oBAAM,eAAe,qBAAqB,QAAQ;AAClD,mCAAqB;AAAA;AAEzB,mBAAO;AAAA;AAEX,oCAA0B;AACtB;AAAA;AAEJ,oBAAU,yBAAyB,gBAAgB,gBAAgB;AACnE,oBAAU,yBAAyB,gBAAgB,gBAAgB;AACnE,6BAAmB;AACnB,iBAAO,CAAC,SAAS;AAAA;AAGrB,sDAA8C,QAAQ,SAAS;AAC3D,2BAAiB,QAAQ;AACzB,gBAAM,WAAW;AACjB,gBAAM,wBAAwB,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3F,gBAAM,SAAS,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC5E,gBAAM,OAAO,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC1E,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,gBAAM,OAAO,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC1E,iBAAO;AAAA,YACH,uBAAuB,0BAA0B,SAC7C,SACA,wCAAwC,uBAAuB,GAAG;AAAA,YACtE,QAAQ,WAAW,SACf,SACA,sCAAsC,QAAQ,UAAU,GAAG;AAAA,YAC/D,MAAM,SAAS,SACX,SACA,oCAAoC,MAAM,UAAU,GAAG;AAAA,YAC3D,OAAO,UAAU,SACb,SACA,qCAAqC,OAAO,UAAU,GAAG;AAAA,YAC7D,MAAM,SAAS,SAAY,SAAY,0BAA0B,MAAM,GAAG;AAAA;AAAA;AAGlF,uDAA+C,IAAI,UAAU,SAAS;AAClE,yBAAe,IAAI;AACnB,iBAAO,CAAC,WAAW,YAAY,IAAI,UAAU,CAAC;AAAA;AAElD,qDAA6C,IAAI,UAAU,SAAS;AAChE,yBAAe,IAAI;AACnB,iBAAO,CAAC,eAAe,YAAY,IAAI,UAAU,CAAC;AAAA;AAEtD,sDAA8C,IAAI,UAAU,SAAS;AACjE,yBAAe,IAAI;AACnB,iBAAO,CAAC,eAAe,YAAY,IAAI,UAAU,CAAC;AAAA;AAEtD,2CAAmC,MAAM,SAAS;AAC9C,iBAAO,GAAG;AACV,cAAI,SAAS,SAAS;AAClB,kBAAM,IAAI,UAAU,GAAG,YAAY;AAAA;AAEvC,iBAAO;AAAA;AAGX,sCAA8B,SAAS,SAAS;AAC5C,2BAAiB,SAAS;AAC1B,gBAAM,OAAO,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AACvE,iBAAO;AAAA,YACH,MAAM,SAAS,SAAY,SAAY,gCAAgC,MAAM,GAAG;AAAA;AAAA;AAGxF,iDAAyC,MAAM,SAAS;AACpD,iBAAO,GAAG;AACV,cAAI,SAAS,QAAQ;AACjB,kBAAM,IAAI,UAAU,GAAG,YAAY;AAAA;AAEvC,iBAAO;AAAA;AAGX,wCAAgC,SAAS,SAAS;AAC9C,2BAAiB,SAAS;AAC1B,gBAAM,gBAAgB,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAChF,iBAAO,EAAE,eAAe,QAAQ;AAAA;AAGpC,oCAA4B,SAAS,SAAS;AAC1C,2BAAiB,SAAS;AAC1B,gBAAM,eAAe,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAC/E,gBAAM,gBAAgB,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAChF,gBAAM,eAAe,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AAC/E,gBAAM,SAAS,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ;AACzE,cAAI,WAAW,QAAW;AACtB,8BAAkB,QAAQ,GAAG;AAAA;AAEjC,iBAAO;AAAA,YACH,cAAc,QAAQ;AAAA,YACtB,eAAe,QAAQ;AAAA,YACvB,cAAc,QAAQ;AAAA,YACtB;AAAA;AAAA;AAGR,mCAA2B,QAAQ,SAAS;AACxC,cAAI,CAAC,eAAc,SAAS;AACxB,kBAAM,IAAI,UAAU,GAAG;AAAA;AAAA;AAI/B,6CAAqC,MAAM,SAAS;AAChD,2BAAiB,MAAM;AACvB,gBAAM,WAAW,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK;AAClE,8BAAoB,UAAU,YAAY;AAC1C,+BAAqB,UAAU,GAAG;AAClC,gBAAM,WAAW,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK;AAClE,8BAAoB,UAAU,YAAY;AAC1C,+BAAqB,UAAU,GAAG;AAClC,iBAAO,EAAE,UAAU;AAAA;AAQvB,8BAAqB;AAAA,UACjB,YAAY,sBAAsB,IAAI,cAAc,IAAI;AACpD,gBAAI,wBAAwB,QAAW;AACnC,oCAAsB;AAAA,mBAErB;AACD,2BAAa,qBAAqB;AAAA;AAEtC,kBAAM,WAAW,uBAAuB,aAAa;AACrD,kBAAM,mBAAmB,qCAAqC,qBAAqB;AACnF,qCAAyB;AACzB,gBAAI,iBAAiB,SAAS,SAAS;AACnC,kBAAI,SAAS,SAAS,QAAW;AAC7B,sBAAM,IAAI,WAAW;AAAA;AAEzB,oBAAM,gBAAgB,qBAAqB,UAAU;AACrD,oEAAsD,MAAM,kBAAkB;AAAA,mBAE7E;AACD,oBAAM,gBAAgB,qBAAqB;AAC3C,oBAAM,gBAAgB,qBAAqB,UAAU;AACrD,uEAAyD,MAAM,kBAAkB,eAAe;AAAA;AAAA;AAAA,cAMpG,SAAS;AACT,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,mBAAO,uBAAuB;AAAA;AAAA,UAQlC,OAAO,SAAS,QAAW;AACvB,gBAAI,CAAC,iBAAiB,OAAO;AACzB,qBAAO,oBAAoB,4BAA4B;AAAA;AAE3D,gBAAI,uBAAuB,OAAO;AAC9B,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,mBAAO,qBAAqB,MAAM;AAAA;AAAA,UAEtC,UAAU,aAAa,QAAW;AAC9B,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,kBAAM,UAAU,qBAAqB,YAAY;AACjD,gBAAI,QAAQ,SAAS,QAAW;AAC5B,qBAAO,mCAAmC;AAAA;AAE9C,mBAAO,gCAAgC;AAAA;AAAA,UAE3C,YAAY,cAAc,aAAa,IAAI;AACvC,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,mCAAuB,cAAc,GAAG;AACxC,kBAAM,YAAY,4BAA4B,cAAc;AAC5D,kBAAM,UAAU,mBAAmB,YAAY;AAC/C,gBAAI,uBAAuB,OAAO;AAC9B,oBAAM,IAAI,UAAU;AAAA;AAExB,gBAAI,uBAAuB,UAAU,WAAW;AAC5C,oBAAM,IAAI,UAAU;AAAA;AAExB,kBAAM,UAAU,qBAAqB,MAAM,UAAU,UAAU,QAAQ,cAAc,QAAQ,cAAc,QAAQ,eAAe,QAAQ;AAC1I,sCAA0B;AAC1B,mBAAO,UAAU;AAAA;AAAA,UAErB,OAAO,aAAa,aAAa,IAAI;AACjC,gBAAI,CAAC,iBAAiB,OAAO;AACzB,qBAAO,oBAAoB,4BAA4B;AAAA;AAE3D,gBAAI,gBAAgB,QAAW;AAC3B,qBAAO,oBAAoB;AAAA;AAE/B,gBAAI,CAAC,iBAAiB,cAAc;AAChC,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,gBAAI;AACJ,gBAAI;AACA,wBAAU,mBAAmB,YAAY;AAAA,qBAEtC,IAAP;AACI,qBAAO,oBAAoB;AAAA;AAE/B,gBAAI,uBAAuB,OAAO;AAC9B,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,gBAAI,uBAAuB,cAAc;AACrC,qBAAO,oBAAoB,IAAI,UAAU;AAAA;AAE7C,mBAAO,qBAAqB,MAAM,aAAa,QAAQ,cAAc,QAAQ,cAAc,QAAQ,eAAe,QAAQ;AAAA;AAAA,UAa9H,MAAM;AACF,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,kBAAM,WAAW,kBAAkB;AACnC,mBAAO,oBAAoB;AAAA;AAAA,UAE/B,OAAO,aAAa,QAAW;AAC3B,gBAAI,CAAC,iBAAiB,OAAO;AACzB,oBAAM,4BAA4B;AAAA;AAEtC,kBAAM,UAAU,uBAAuB,YAAY;AACnD,mBAAO,mCAAmC,MAAM,QAAQ;AAAA;AAAA;AAGhE,eAAO,iBAAiB,gBAAe,WAAW;AAAA,UAC9C,QAAQ,EAAE,YAAY;AAAA,UACtB,WAAW,EAAE,YAAY;AAAA,UACzB,aAAa,EAAE,YAAY;AAAA,UAC3B,QAAQ,EAAE,YAAY;AAAA,UACtB,KAAK,EAAE,YAAY;AAAA,UACnB,QAAQ,EAAE,YAAY;AAAA,UACtB,QAAQ,EAAE,YAAY;AAAA;AAE1B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,gBAAe,WAAW,eAAe,aAAa;AAAA,YACxE,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAGtB,YAAI,OAAO,eAAe,kBAAkB,UAAU;AAClD,iBAAO,eAAe,gBAAe,WAAW,eAAe,eAAe;AAAA,YAC1E,OAAO,gBAAe,UAAU;AAAA,YAChC,UAAU;AAAA,YACV,cAAc;AAAA;AAAA;AAKtB,sCAA8B,gBAAgB,eAAe,iBAAiB,gBAAgB,GAAG,gBAAgB,MAAM,GAAG;AACtH,gBAAM,SAAS,OAAO,OAAO,gBAAe;AAC5C,mCAAyB;AACzB,gBAAM,aAAa,OAAO,OAAO,gCAAgC;AACjE,+CAAqC,QAAQ,YAAY,gBAAgB,eAAe,iBAAiB,eAAe;AACxH,iBAAO;AAAA;AAGX,0CAAkC,gBAAgB,eAAe,iBAAiB;AAC9E,gBAAM,SAAS,OAAO,OAAO,gBAAe;AAC5C,mCAAyB;AACzB,gBAAM,aAAa,OAAO,OAAO,6BAA6B;AAC9D,4CAAkC,QAAQ,YAAY,gBAAgB,eAAe,iBAAiB,GAAG;AACzG,iBAAO;AAAA;AAEX,0CAAkC,QAAQ;AACtC,iBAAO,SAAS;AAChB,iBAAO,UAAU;AACjB,iBAAO,eAAe;AACtB,iBAAO,aAAa;AAAA;AAExB,kCAA0B,IAAG;AACzB,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,8BAA8B;AACvE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,wCAAgC,QAAQ;AACpC,cAAI,OAAO,YAAY,QAAW;AAC9B,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAGX,sCAA8B,QAAQ,QAAQ;AAC1C,iBAAO,aAAa;AACpB,cAAI,OAAO,WAAW,UAAU;AAC5B,mBAAO,oBAAoB;AAAA;AAE/B,cAAI,OAAO,WAAW,WAAW;AAC7B,mBAAO,oBAAoB,OAAO;AAAA;AAEtC,8BAAoB;AACpB,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,UAAa,2BAA2B,SAAS;AAC5D,mBAAO,kBAAkB,QAAQ,qBAAmB;AAChD,8BAAgB,YAAY;AAAA;AAEhC,mBAAO,oBAAoB,IAAI;AAAA;AAEnC,gBAAM,sBAAsB,OAAO,0BAA0B,aAAa;AAC1E,iBAAO,qBAAqB,qBAAqB;AAAA;AAErD,qCAA6B,QAAQ;AACjC,iBAAO,SAAS;AAChB,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB;AAAA;AAEJ,4CAAkC;AAClC,cAAI,8BAA8B,SAAS;AACvC,mBAAO,cAAc,QAAQ,iBAAe;AACxC,0BAAY;AAAA;AAEhB,mBAAO,gBAAgB,IAAI;AAAA;AAAA;AAGnC,qCAA6B,QAAQ,IAAG;AACpC,iBAAO,SAAS;AAChB,iBAAO,eAAe;AACtB,gBAAM,SAAS,OAAO;AACtB,cAAI,WAAW,QAAW;AACtB;AAAA;AAEJ,2CAAiC,QAAQ;AACzC,cAAI,8BAA8B,SAAS;AACvC,mBAAO,cAAc,QAAQ,iBAAe;AACxC,0BAAY,YAAY;AAAA;AAE5B,mBAAO,gBAAgB,IAAI;AAAA,iBAE1B;AACD,mBAAO,kBAAkB,QAAQ,qBAAmB;AAChD,8BAAgB,YAAY;AAAA;AAEhC,mBAAO,oBAAoB,IAAI;AAAA;AAAA;AAIvC,6CAAqC,MAAM;AACvC,iBAAO,IAAI,UAAU,4BAA4B;AAAA;AAGrD,4CAAoC,OAAM,SAAS;AAC/C,2BAAiB,OAAM;AACvB,gBAAM,gBAAgB,UAAS,QAAQ,UAAS,SAAS,SAAS,MAAK;AACvE,8BAAoB,eAAe,iBAAiB;AACpD,iBAAO;AAAA,YACH,eAAe,0BAA0B;AAAA;AAAA;AAKjD,cAAM,yBAAyB,CAAC,UAAU;AACtC,iBAAO,MAAM;AAAA;AAEjB,eAAO,eAAe,wBAAwB,QAAQ;AAAA,UAClD,OAAO;AAAA,UACP,cAAc;AAAA;AAOlB,wCAAgC;AAAA,UAC5B,YAAY,SAAS;AACjB,mCAAuB,SAAS,GAAG;AACnC,sBAAU,2BAA2B,SAAS;AAC9C,iBAAK,0CAA0C,QAAQ;AAAA;AAAA,cAKvD,gBAAgB;AAChB,gBAAI,CAAC,4BAA4B,OAAO;AACpC,oBAAM,8BAA8B;AAAA;AAExC,mBAAO,KAAK;AAAA;AAAA,cAKZ,OAAO;AACP,gBAAI,CAAC,4BAA4B,OAAO;AACpC,oBAAM,8BAA8B;AAAA;AAExC,mBAAO;AAAA;AAAA;AAGf,eAAO,iBAAiB,0BAA0B,WAAW;AAAA,UACzD,eAAe,EAAE,YAAY;AAAA,UAC7B,MAAM,EAAE,YAAY;AAAA;AAExB,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,0BAA0B,WAAW,eAAe,aAAa;AAAA,YACnF,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,+CAAuC,MAAM;AACzC,iBAAO,IAAI,UAAU,uCAAuC;AAAA;AAEhE,6CAAqC,IAAG;AACpC,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,4CAA4C;AACrF,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAIxB,cAAM,oBAAoB,MAAM;AAC5B,iBAAO;AAAA;AAEX,eAAO,eAAe,mBAAmB,QAAQ;AAAA,UAC7C,OAAO;AAAA,UACP,cAAc;AAAA;AAOlB,mCAA2B;AAAA,UACvB,YAAY,SAAS;AACjB,mCAAuB,SAAS,GAAG;AACnC,sBAAU,2BAA2B,SAAS;AAC9C,iBAAK,qCAAqC,QAAQ;AAAA;AAAA,cAKlD,gBAAgB;AAChB,gBAAI,CAAC,uBAAuB,OAAO;AAC/B,oBAAM,yBAAyB;AAAA;AAEnC,mBAAO,KAAK;AAAA;AAAA,cAMZ,OAAO;AACP,gBAAI,CAAC,uBAAuB,OAAO;AAC/B,oBAAM,yBAAyB;AAAA;AAEnC,mBAAO;AAAA;AAAA;AAGf,eAAO,iBAAiB,qBAAqB,WAAW;AAAA,UACpD,eAAe,EAAE,YAAY;AAAA,UAC7B,MAAM,EAAE,YAAY;AAAA;AAExB,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,qBAAqB,WAAW,eAAe,aAAa;AAAA,YAC9E,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,0CAAkC,MAAM;AACpC,iBAAO,IAAI,UAAU,kCAAkC;AAAA;AAE3D,wCAAgC,IAAG;AAC/B,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,uCAAuC;AAChF,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAGxB,oCAA4B,UAAU,SAAS;AAC3C,2BAAiB,UAAU;AAC3B,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,gBAAM,eAAe,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAClF,gBAAM,QAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC3E,gBAAM,YAAY,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAC/E,gBAAM,eAAe,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AAClF,iBAAO;AAAA,YACH,OAAO,UAAU,SACb,SACA,gCAAgC,OAAO,UAAU,GAAG;AAAA,YACxD;AAAA,YACA,OAAO,UAAU,SACb,SACA,gCAAgC,OAAO,UAAU,GAAG;AAAA,YACxD,WAAW,cAAc,SACrB,SACA,oCAAoC,WAAW,UAAU,GAAG;AAAA,YAChE;AAAA;AAAA;AAGR,iDAAyC,IAAI,UAAU,SAAS;AAC5D,yBAAe,IAAI;AACnB,iBAAO,CAAC,eAAe,YAAY,IAAI,UAAU,CAAC;AAAA;AAEtD,iDAAyC,IAAI,UAAU,SAAS;AAC5D,yBAAe,IAAI;AACnB,iBAAO,CAAC,eAAe,YAAY,IAAI,UAAU,CAAC;AAAA;AAEtD,qDAA6C,IAAI,UAAU,SAAS;AAChE,yBAAe,IAAI;AACnB,iBAAO,CAAC,OAAO,eAAe,YAAY,IAAI,UAAU,CAAC,OAAO;AAAA;AAYpE,8BAAsB;AAAA,UAClB,YAAY,iBAAiB,IAAI,sBAAsB,IAAI,sBAAsB,IAAI;AACjF,gBAAI,mBAAmB,QAAW;AAC9B,+BAAiB;AAAA;AAErB,kBAAM,mBAAmB,uBAAuB,qBAAqB;AACrE,kBAAM,mBAAmB,uBAAuB,qBAAqB;AACrE,kBAAM,cAAc,mBAAmB,gBAAgB;AACvD,gBAAI,YAAY,iBAAiB,QAAW;AACxC,oBAAM,IAAI,WAAW;AAAA;AAEzB,gBAAI,YAAY,iBAAiB,QAAW;AACxC,oBAAM,IAAI,WAAW;AAAA;AAEzB,kBAAM,wBAAwB,qBAAqB,kBAAkB;AACrE,kBAAM,wBAAwB,qBAAqB;AACnD,kBAAM,wBAAwB,qBAAqB,kBAAkB;AACrE,kBAAM,wBAAwB,qBAAqB;AACnD,gBAAI;AACJ,kBAAM,eAAe,WAAW,aAAW;AACvC,qCAAuB;AAAA;AAE3B,sCAA0B,MAAM,cAAc,uBAAuB,uBAAuB,uBAAuB;AACnH,iEAAqD,MAAM;AAC3D,gBAAI,YAAY,UAAU,QAAW;AACjC,mCAAqB,YAAY,MAAM,KAAK;AAAA,mBAE3C;AACD,mCAAqB;AAAA;AAAA;AAAA,cAMzB,WAAW;AACX,gBAAI,CAAC,kBAAkB,OAAO;AAC1B,oBAAM,0BAA0B;AAAA;AAEpC,mBAAO,KAAK;AAAA;AAAA,cAKZ,WAAW;AACX,gBAAI,CAAC,kBAAkB,OAAO;AAC1B,oBAAM,0BAA0B;AAAA;AAEpC,mBAAO,KAAK;AAAA;AAAA;AAGpB,eAAO,iBAAiB,gBAAgB,WAAW;AAAA,UAC/C,UAAU,EAAE,YAAY;AAAA,UACxB,UAAU,EAAE,YAAY;AAAA;AAE5B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,gBAAgB,WAAW,eAAe,aAAa;AAAA,YACzE,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAGtB,2CAAmC,QAAQ,cAAc,uBAAuB,uBAAuB,uBAAuB,uBAAuB;AACjJ,oCAA0B;AACtB,mBAAO;AAAA;AAEX,kCAAwB,OAAO;AAC3B,mBAAO,yCAAyC,QAAQ;AAAA;AAE5D,kCAAwB,QAAQ;AAC5B,mBAAO,yCAAyC,QAAQ;AAAA;AAE5D,oCAA0B;AACtB,mBAAO,yCAAyC;AAAA;AAEpD,iBAAO,YAAY,qBAAqB,gBAAgB,gBAAgB,gBAAgB,gBAAgB,uBAAuB;AAC/H,mCAAyB;AACrB,mBAAO,0CAA0C;AAAA;AAErD,mCAAyB,QAAQ;AAC7B,wDAA4C,QAAQ;AACpD,mBAAO,oBAAoB;AAAA;AAE/B,iBAAO,YAAY,qBAAqB,gBAAgB,eAAe,iBAAiB,uBAAuB;AAE/G,iBAAO,gBAAgB;AACvB,iBAAO,6BAA6B;AACpC,iBAAO,qCAAqC;AAC5C,yCAA+B,QAAQ;AACvC,iBAAO,6BAA6B;AAAA;AAExC,mCAA2B,IAAG;AAC1B,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,+BAA+B;AACxE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAGxB,sCAA8B,QAAQ,IAAG;AACrC,+CAAqC,OAAO,UAAU,2BAA2B;AACjF,sDAA4C,QAAQ;AAAA;AAExD,6DAAqD,QAAQ,IAAG;AAC5D,0DAAgD,OAAO;AACvD,uDAA6C,OAAO,UAAU,2BAA2B;AACzF,cAAI,OAAO,eAAe;AAItB,2CAA+B,QAAQ;AAAA;AAAA;AAG/C,gDAAwC,QAAQ,cAAc;AAE1D,cAAI,OAAO,+BAA+B,QAAW;AACjD,mBAAO;AAAA;AAEX,iBAAO,6BAA6B,WAAW,aAAW;AACtD,mBAAO,qCAAqC;AAAA;AAEhD,iBAAO,gBAAgB;AAAA;AAQ3B,+CAAuC;AAAA,UACnC,cAAc;AACV,kBAAM,IAAI,UAAU;AAAA;AAAA,cAKpB,cAAc;AACd,gBAAI,CAAC,mCAAmC,OAAO;AAC3C,oBAAM,qCAAqC;AAAA;AAE/C,kBAAM,qBAAqB,KAAK,2BAA2B,UAAU;AACrE,mBAAO,8CAA8C;AAAA;AAAA,UAEzD,QAAQ,QAAQ,QAAW;AACvB,gBAAI,CAAC,mCAAmC,OAAO;AAC3C,oBAAM,qCAAqC;AAAA;AAE/C,oDAAwC,MAAM;AAAA;AAAA,UAMlD,MAAM,SAAS,QAAW;AACtB,gBAAI,CAAC,mCAAmC,OAAO;AAC3C,oBAAM,qCAAqC;AAAA;AAE/C,kDAAsC,MAAM;AAAA;AAAA,UAMhD,YAAY;AACR,gBAAI,CAAC,mCAAmC,OAAO;AAC3C,oBAAM,qCAAqC;AAAA;AAE/C,sDAA0C;AAAA;AAAA;AAGlD,eAAO,iBAAiB,iCAAiC,WAAW;AAAA,UAChE,SAAS,EAAE,YAAY;AAAA,UACvB,OAAO,EAAE,YAAY;AAAA,UACrB,WAAW,EAAE,YAAY;AAAA,UACzB,aAAa,EAAE,YAAY;AAAA;AAE/B,YAAI,OAAO,eAAe,gBAAgB,UAAU;AAChD,iBAAO,eAAe,iCAAiC,WAAW,eAAe,aAAa;AAAA,YAC1F,OAAO;AAAA,YACP,cAAc;AAAA;AAAA;AAItB,oDAA4C,IAAG;AAC3C,cAAI,CAAC,aAAa,KAAI;AAClB,mBAAO;AAAA;AAEX,cAAI,CAAC,OAAO,UAAU,eAAe,KAAK,IAAG,+BAA+B;AACxE,mBAAO;AAAA;AAEX,iBAAO,cAAa;AAAA;AAExB,uDAA+C,QAAQ,YAAY,oBAAoB,gBAAgB;AACnG,qBAAW,6BAA6B;AACxC,iBAAO,6BAA6B;AACpC,qBAAW,sBAAsB;AACjC,qBAAW,kBAAkB;AAAA;AAEjC,sEAA8D,QAAQ,aAAa;AAC/E,gBAAM,aAAa,OAAO,OAAO,iCAAiC;AAClE,cAAI,qBAAqB,CAAC,UAAU;AAChC,gBAAI;AACA,sDAAwC,YAAY;AACpD,qBAAO,oBAAoB;AAAA,qBAExB,kBAAP;AACI,qBAAO,oBAAoB;AAAA;AAAA;AAGnC,cAAI,iBAAiB,MAAM,oBAAoB;AAC/C,cAAI,YAAY,cAAc,QAAW;AACrC,iCAAqB,WAAS,YAAY,UAAU,OAAO;AAAA;AAE/D,cAAI,YAAY,UAAU,QAAW;AACjC,6BAAiB,MAAM,YAAY,MAAM;AAAA;AAE7C,gDAAsC,QAAQ,YAAY,oBAAoB;AAAA;AAElF,iEAAyD,YAAY;AACjE,qBAAW,sBAAsB;AACjC,qBAAW,kBAAkB;AAAA;AAEjC,yDAAiD,YAAY,OAAO;AAChE,gBAAM,SAAS,WAAW;AAC1B,gBAAM,qBAAqB,OAAO,UAAU;AAC5C,cAAI,CAAC,iDAAiD,qBAAqB;AACvE,kBAAM,IAAI,UAAU;AAAA;AAIxB,cAAI;AACA,mDAAuC,oBAAoB;AAAA,mBAExD,IAAP;AAEI,wDAA4C,QAAQ;AACpD,kBAAM,OAAO,UAAU;AAAA;AAE3B,gBAAM,eAAe,+CAA+C;AACpE,cAAI,iBAAiB,OAAO,eAAe;AACvC,2CAA+B,QAAQ;AAAA;AAAA;AAG/C,uDAA+C,YAAY,IAAG;AAC1D,+BAAqB,WAAW,4BAA4B;AAAA;AAEhE,kEAA0D,YAAY,OAAO;AACzE,gBAAM,mBAAmB,WAAW,oBAAoB;AACxD,iBAAO,qBAAqB,kBAAkB,QAAW,QAAK;AAC1D,iCAAqB,WAAW,4BAA4B;AAC5D,kBAAM;AAAA;AAAA;AAGd,2DAAmD,YAAY;AAC3D,gBAAM,SAAS,WAAW;AAC1B,gBAAM,qBAAqB,OAAO,UAAU;AAC5C,+CAAqC;AACrC,gBAAM,QAAQ,IAAI,UAAU;AAC5B,sDAA4C,QAAQ;AAAA;AAGxD,0DAAkD,QAAQ,OAAO;AAC7D,gBAAM,aAAa,OAAO;AAC1B,cAAI,OAAO,eAAe;AACtB,kBAAM,4BAA4B,OAAO;AACzC,mBAAO,qBAAqB,2BAA2B,MAAM;AACzD,oBAAM,WAAW,OAAO;AACxB,oBAAM,QAAQ,SAAS;AACvB,kBAAI,UAAU,YAAY;AACtB,sBAAM,SAAS;AAAA;AAEnB,qBAAO,iDAAiD,YAAY;AAAA;AAAA;AAG5E,iBAAO,iDAAiD,YAAY;AAAA;AAExE,0DAAkD,QAAQ,QAAQ;AAG9D,+BAAqB,QAAQ;AAC7B,iBAAO,oBAAoB;AAAA;AAE/B,0DAAkD,QAAQ;AAEtD,gBAAM,WAAW,OAAO;AACxB,gBAAM,aAAa,OAAO;AAC1B,gBAAM,eAAe,WAAW;AAChC,0DAAgD;AAEhD,iBAAO,qBAAqB,cAAc,MAAM;AAC5C,gBAAI,SAAS,WAAW,WAAW;AAC/B,oBAAM,SAAS;AAAA;AAEnB,iDAAqC,SAAS;AAAA,aAC/C,QAAK;AACJ,iCAAqB,QAAQ;AAC7B,kBAAM,SAAS;AAAA;AAAA;AAIvB,2DAAmD,QAAQ;AAEvD,yCAA+B,QAAQ;AAEvC,iBAAO,OAAO;AAAA;AAGlB,sDAA8C,MAAM;AAChD,iBAAO,IAAI,UAAU,8CAA8C;AAAA;AAGvE,2CAAmC,MAAM;AACrC,iBAAO,IAAI,UAAU,6BAA6B;AAAA;AAGtD,iBAAQ,4BAA4B;AACpC,iBAAQ,uBAAuB;AAC/B,iBAAQ,+BAA+B;AACvC,iBAAQ,iBAAiB;AACzB,iBAAQ,2BAA2B;AACnC,iBAAQ,4BAA4B;AACpC,iBAAQ,kCAAkC;AAC1C,iBAAQ,8BAA8B;AACtC,iBAAQ,kBAAkB;AAC1B,iBAAQ,mCAAmC;AAC3C,iBAAQ,iBAAiB;AACzB,iBAAQ,kCAAkC;AAC1C,iBAAQ,8BAA8B;AAEtC,eAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAAA;AAAA,OAIxD,iBAAiB,gBAAgB;AAKnC,QAAM,cAAc;AAEpB,QAAI,CAAC,WAAW,gBAAgB;AAI9B,UAAI;AACF,cAAM,WAAU,QAAQ;AACxB,cAAM,EAAE,gBAAgB;AACxB,YAAI;AACF,mBAAQ,cAAc,MAAM;AAAA;AAC5B,iBAAO,OAAO,YAAY,QAAQ;AAClC,mBAAQ,cAAc;AAAA,iBACf,OAAP;AACA,mBAAQ,cAAc;AACtB,gBAAM;AAAA;AAAA,eAED,OAAP;AAEA,eAAO,OAAO,YAAY,gBAAgB;AAAA;AAAA;AAI9C,QAAI;AAGF,YAAM,EAAE,gBAAS,QAAQ;AACzB,UAAI,SAAQ,CAAC,MAAK,UAAU,QAAQ;AAClC,cAAK,UAAU,SAAS,cAAe,QAAQ;AAC7C,cAAI,WAAW;AACf,gBAAM,OAAO;AAEb,iBAAO,IAAI,eAAe;AAAA,YACxB,MAAM;AAAA,kBACA,KAAM,MAAM;AAChB,oBAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,IAAI,KAAK,MAAM,WAAW;AAClE,oBAAM,SAAS,MAAM,MAAM;AAC3B,0BAAY,OAAO;AACnB,mBAAK,QAAQ,IAAI,WAAW;AAE5B,kBAAI,aAAa,KAAK,MAAM;AAC1B,qBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAMR,OAAP;AAAA;AAEF,AAKA,QAAM,YAAY;AAGlB,+BAA6B,OAAO,SAAQ,MAAM;AAChD,iBAAW,QAAQ,OAAO;AACxB,YAAI,YAAY,MAAM;AACpB,iBAAQ,KAAK;AAAA,mBACJ,YAAY,OAAO,OAAO;AACnC,cAAI,QAAO;AACT,gBAAI,WAAW,KAAK;AACpB,kBAAM,MAAM,KAAK,aAAa,KAAK;AACnC,mBAAO,aAAa,KAAK;AACvB,oBAAM,OAAO,KAAK,IAAI,MAAM,UAAU;AACtC,oBAAM,QAAQ,KAAK,OAAO,MAAM,UAAU,WAAW;AACrD,0BAAY,MAAM;AAClB,oBAAM,IAAI,WAAW;AAAA;AAAA,iBAElB;AACL,kBAAM;AAAA;AAAA,eAEH;AAGL,cAAI,WAAW;AACf,iBAAO,aAAa,KAAK,MAAM;AAC7B,kBAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,IAAI,KAAK,MAAM,WAAW;AAClE,kBAAM,SAAS,MAAM,MAAM;AAC3B,wBAAY,OAAO;AACnB,kBAAM,IAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAzwI7B;AAgxIA,QAAM,QAAQ,YAAW;AAAA,MAcvB,YAAa,YAAY,IAAI,UAAU,IAAI;AAZ3C,mCAAS;AACT,kCAAQ;AACR,kCAAQ;AAWN,YAAI,OAAO,cAAc,YAAY,cAAc,MAAM;AACvD,gBAAM,IAAI,UAAU;AAAA;AAGtB,YAAI,OAAO,UAAU,OAAO,cAAc,YAAY;AACpD,gBAAM,IAAI,UAAU;AAAA;AAGtB,YAAI,OAAO,YAAY,YAAY,OAAO,YAAY,YAAY;AAChE,gBAAM,IAAI,UAAU;AAAA;AAGtB,YAAI,YAAY;AAAM,oBAAU;AAEhC,cAAM,UAAU,IAAI;AACpB,mBAAW,WAAW,WAAW;AAC/B,cAAI;AACJ,cAAI,YAAY,OAAO,UAAU;AAC/B,mBAAO,IAAI,WAAW,QAAQ,OAAO,MAAM,QAAQ,YAAY,QAAQ,aAAa,QAAQ;AAAA,qBACnF,mBAAmB,aAAa;AACzC,mBAAO,IAAI,WAAW,QAAQ,MAAM;AAAA,qBAC3B,mBAAmB,IAAM;AAClC,mBAAO;AAAA,iBACF;AACL,mBAAO,QAAQ,OAAO;AAAA;AAGxB,6BAAK,OAAS,AAAd,mBAAK,SAAS,aAAY,OAAO,QAAQ,KAAK,aAAa,KAAK;AAChE,6BAAK,QAAO,KAAK;AAAA;AAGnB,cAAM,OAAO,QAAQ,SAAS,SAAY,KAAK,OAAO,QAAQ;AAE9D,2BAAK,OAAQ,iBAAiB,KAAK,QAAQ,OAAO;AAAA;AAAA,UAOhD,OAAQ;AACV,eAAO,mBAAK;AAAA;AAAA,UAMV,OAAQ;AACV,eAAO,mBAAK;AAAA;AAAA,YAUR,OAAQ;AAGZ,cAAM,UAAU,IAAI;AACpB,YAAI,MAAM;AACV,yBAAiB,QAAQ,WAAW,mBAAK,SAAQ,QAAQ;AACvD,iBAAO,QAAQ,OAAO,MAAM,EAAE,QAAQ;AAAA;AAGxC,eAAO,QAAQ;AACf,eAAO;AAAA;AAAA,YAUH,cAAe;AAMnB,cAAM,OAAO,IAAI,WAAW,KAAK;AACjC,YAAI,SAAS;AACb,yBAAiB,SAAS,WAAW,mBAAK,SAAQ,QAAQ;AACxD,eAAK,IAAI,OAAO;AAChB,oBAAU,MAAM;AAAA;AAGlB,eAAO,KAAK;AAAA;AAAA,MAGd,SAAU;AACR,cAAM,KAAK,WAAW,mBAAK,SAAQ;AAEnC,eAAO,IAAI,WAAW,eAAe;AAAA,UACnC,MAAM;AAAA,gBACA,KAAM,MAAM;AAChB,kBAAM,QAAQ,MAAM,GAAG;AACvB,kBAAM,OAAO,KAAK,UAAU,KAAK,QAAQ,MAAM;AAAA;AAAA,gBAG3C,SAAU;AACd,kBAAM,GAAG;AAAA;AAAA;AAAA;AAAA,MAcf,MAAO,QAAQ,GAAG,MAAM,KAAK,MAAM,OAAO,IAAI;AAC5C,cAAM,EAAE,SAAS;AAEjB,YAAI,gBAAgB,QAAQ,IAAI,KAAK,IAAI,OAAO,OAAO,KAAK,KAAK,IAAI,OAAO;AAC5E,YAAI,cAAc,MAAM,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,KAAK,IAAI,KAAK;AAEpE,cAAM,OAAO,KAAK,IAAI,cAAc,eAAe;AACnD,cAAM,QAAQ,mBAAK;AACnB,cAAM,YAAY;AAClB,YAAI,QAAQ;AAEZ,mBAAW,QAAQ,OAAO;AAExB,cAAI,SAAS,MAAM;AACjB;AAAA;AAGF,gBAAM,QAAO,YAAY,OAAO,QAAQ,KAAK,aAAa,KAAK;AAC/D,cAAI,iBAAiB,SAAQ,eAAe;AAG1C,6BAAiB;AACjB,2BAAe;AAAA,iBACV;AACL,gBAAI;AACJ,gBAAI,YAAY,OAAO,OAAO;AAC5B,sBAAQ,KAAK,SAAS,eAAe,KAAK,IAAI,OAAM;AACpD,uBAAS,MAAM;AAAA,mBACV;AACL,sBAAQ,KAAK,MAAM,eAAe,KAAK,IAAI,OAAM;AACjD,uBAAS,MAAM;AAAA;AAEjB,2BAAe;AACf,sBAAU,KAAK;AACf,4BAAgB;AAAA;AAAA;AAIpB,cAAM,OAAO,IAAI,GAAK,IAAI,EAAE,MAAM,OAAO,MAAM;AAC/C,2BAAK,OAAQ;AACb,2BAAK,QAAS;AAEd,eAAO;AAAA;AAAA,WAGJ,OAAO,eAAgB;AAC1B,eAAO;AAAA;AAAA,cAGD,OAAO,aAAc,QAAQ;AACnC,eACE,UACA,OAAO,WAAW,YAClB,OAAO,OAAO,gBAAgB,cAE5B,QAAO,OAAO,WAAW,cACzB,OAAO,OAAO,gBAAgB,eAEhC,gBAAgB,KAAK,OAAO,OAAO;AAAA;AAAA,OA9LvC,wBACA,uBACA,uBAJY;AAqMd,WAAO,iBAAiB,MAAM,WAAW;AAAA,MACvC,MAAM,EAAE,YAAY;AAAA,MACpB,MAAM,EAAE,YAAY;AAAA,MACpB,OAAO,EAAE,YAAY;AAAA;AAIvB,QAAM,OAAO;AACb,QAAI,SAAS;AA79Ib;AA+9IA,QAAM,QAAQ,qBAAmB,OAAO;AAAA,MAStC,YAAa,UAAU,UAAU,UAAU,IAAI;AAC7C,YAAI,UAAU,SAAS,GAAG;AACxB,gBAAM,IAAI,UAAU,8DAA8D,UAAU;AAAA;AAE9F,cAAM,UAAU;AAZlB,0CAAgB;AAChB,kCAAQ;AAaN,YAAI,YAAY;AAAM,oBAAU;AAGhC,cAAM,eAAe,QAAQ,iBAAiB,SAAY,KAAK,QAAQ,OAAO,QAAQ;AACtF,YAAI,CAAC,OAAO,MAAM,eAAe;AAC/B,6BAAK,eAAgB;AAAA;AAGvB,2BAAK,OAAQ,OAAO;AAAA;AAAA,UAGlB,OAAQ;AACV,eAAO,mBAAK;AAAA;AAAA,UAGV,eAAgB;AAClB,eAAO,mBAAK;AAAA;AAAA,WAGT,OAAO,eAAgB;AAC1B,eAAO;AAAA;AAAA,OAlCT,+BACA,uBAFY;AAwCd,QAAM,OAAO;AAEb,AAEA,QAAI,EAAC,aAAY,GAAE,UAAS,GAAE,aAAY,MAAG;AAA7C,QACA,IAAE,KAAK;AADP,QAEA,IAAE,uEAAuE,MAAM;AAF/E,QAGA,IAAE,CAAC,GAAE,GAAE,MAAK,MAAG,IAAG,gBAAgB,KAAK,KAAK,EAAE,MAAI,CAAE,KAAE,MAAI,SAAO,IAAE,KAAG,EAAE,MAAI,SAAO,EAAE,OAAK,QAAO,IAAG,EAAE,SAAO,KAAG,EAAE,MAAI,SAAO,IAAI,KAAK,CAAC,IAAG,GAAE,KAAG,KAAG,CAAC,GAAE,IAAE;AAHvJ,QAIA,IAAE,CAAC,GAAE,OAAK,MAAE,IAAE,EAAE,QAAQ,aAAY,SAAS,QAAQ,OAAM,OAAO,QAAQ,OAAM,OAAO,QAAQ,MAAK;AAJpG,QAKA,IAAE,CAAC,GAAG,GAAG,OAAI;AAAC,UAAG,EAAE,SAAO,IAAE;AAAC,cAAM,IAAI,UAAU,sBAAsB,qBAAqB,mCAAkC,EAAE;AAAA;AAAA;AAhhJhI;AAmhJA,QAAM,WAAW,aAAe;AAAA,MAEhC,eAAe,GAAE;AADjB,+BAAG;AACe,YAAG,EAAE;AAAO,gBAAM,IAAI,UAAU;AAAA;AAAA,WAC7C,KAAK;AAAC,eAAO;AAAA;AAAA,OACjB,KAAI;AAAC,eAAO,KAAK;AAAA;AAAA,cACV,GAAG,GAAG;AAAC,eAAO,KAAG,OAAO,MAAI,YAAU,EAAE,OAAK,cAAY,CAAC,EAAE,KAAK,QAAG,OAAO,EAAE,OAAI;AAAA;AAAA,MACzF,UAAU,GAAE;AAAC,UAAE,UAAS,WAAU;AAAG,2BAAK,IAAG,KAAK,EAAE,GAAG;AAAA;AAAA,MACvD,OAAO,GAAE;AAAC,UAAE,UAAS,WAAU;AAAG,aAAG;AAAG,2BAAK,IAAG,mBAAK,IAAG,OAAO,CAAC,CAAC,OAAK,MAAI;AAAA;AAAA,MAC1E,IAAI,GAAE;AAAC,UAAE,OAAM,WAAU;AAAG,aAAG;AAAG,iBAAQ,IAAE,mBAAK,KAAG,IAAE,EAAE,QAAO,IAAE,GAAE,IAAE,GAAE;AAAI,cAAG,EAAE,GAAG,OAAK;AAAE,mBAAO,EAAE,GAAG;AAAG,eAAO;AAAA;AAAA,MAChH,OAAO,GAAE,GAAE;AAAC,UAAE,UAAS,WAAU;AAAG,YAAE;AAAG,aAAG;AAAG,2BAAK,IAAG,QAAQ,OAAG,EAAE,OAAK,KAAG,EAAE,KAAK,EAAE;AAAK,eAAO;AAAA;AAAA,MACjG,IAAI,GAAE;AAAC,UAAE,OAAM,WAAU;AAAG,aAAG;AAAG,eAAO,mBAAK,IAAG,KAAK,OAAG,EAAE,OAAK;AAAA;AAAA,MAChE,QAAQ,GAAE,GAAE;AAAC,UAAE,WAAU,WAAU;AAAG,iBAAQ,CAAC,GAAE,MAAK;AAAK,YAAE,KAAK,GAAE,GAAE,GAAE;AAAA;AAAA,MACxE,OAAO,GAAE;AAAC,UAAE,OAAM,WAAU;AAAG,YAAI,IAAE,IAAG,IAAE;AAAG,YAAE,EAAE,GAAG;AAAG,2BAAK,IAAG,QAAQ,OAAG;AAAC,YAAE,OAAK,EAAE,KAAG,KAAI,KAAE,CAAC,EAAE,KAAK,MAAI,EAAE,KAAK;AAAA;AAAM,aAAG,EAAE,KAAK;AAAG,2BAAK,IAAG;AAAA;AAAA,OAC1I,UAAS;AAAC,eAAM,mBAAK;AAAA;AAAA,OACrB,OAAM;AAAC,iBAAO,CAAC,MAAK;AAAK,gBAAM;AAAA;AAAA,OAC/B,SAAQ;AAAC,iBAAO,CAAC,EAAC,MAAK;AAAK,gBAAM;AAAA;AAAA,OAdnC,oBADiB;AAkBjB,4BAAyB,GAAE,IAAE,QAAO;AACpC,UAAI,IAAE,GAAG,MAAM,MAAM,QAAQ,OAAO,IAAI,MAAM,KAAK,SAAS,IAAI,MAAK,IAAE,IAAG,IAAE,KAAK;AAAA;AACjF,QAAE,QAAQ,CAAC,GAAE,MAAI,OAAO,KAAG,WAC1B,EAAE,KAAK,IAAE,EAAE,KAAG;AAAA;AAAA,EAAY,EAAE,QAAQ,uBAAuB;AAAA,KAC3D,EAAE,KAAK,IAAE,EAAE,KAAG,gBAAgB,EAAE,EAAE,MAAM;AAAA,gBAAwB,EAAE,QAAM;AAAA;AAAA,GAAsC,GAAG;AAClH,QAAE,KAAK,KAAK;AACZ,aAAO,IAAI,EAAE,GAAE,EAAC,MAAK,mCAAiC;AAAA;AAEtD,uCAA6B,MAAM;AAAA,MAClC,YAAY,SAAS,MAAM;AAC1B,cAAM;AAEN,cAAM,kBAAkB,MAAM,KAAK;AAEnC,aAAK,OAAO;AAAA;AAAA,UAGT,OAAO;AACV,eAAO,KAAK,YAAY;AAAA;AAAA,WAGpB,OAAO,eAAe;AAC1B,eAAO,KAAK,YAAY;AAAA;AAAA;AAW1B,mCAAyB,eAAe;AAAA,MAMvC,YAAY,SAAS,MAAM,aAAa;AACvC,cAAM,SAAS;AAEf,YAAI,aAAa;AAEhB,eAAK,OAAO,KAAK,QAAQ,YAAY;AACrC,eAAK,iBAAiB,YAAY;AAAA;AAAA;AAAA;AAWrC,QAAM,OAAO,OAAO;AAQpB,QAAM,wBAAwB,YAAU;AACvC,aACC,OAAO,WAAW,YAClB,OAAO,OAAO,WAAW,cACzB,OAAO,OAAO,WAAW,cACzB,OAAO,OAAO,QAAQ,cACtB,OAAO,OAAO,WAAW,cACzB,OAAO,OAAO,QAAQ,cACtB,OAAO,OAAO,QAAQ,cACtB,OAAO,OAAO,SAAS,cACvB,OAAO,UAAU;AAAA;AASnB,QAAM,SAAS,YAAU;AACxB,aACC,UACA,OAAO,WAAW,YAClB,OAAO,OAAO,gBAAgB,cAC9B,OAAO,OAAO,SAAS,YACvB,OAAO,OAAO,WAAW,cACzB,OAAO,OAAO,gBAAgB,cAC9B,gBAAgB,KAAK,OAAO;AAAA;AAS9B,QAAM,gBAAgB,YAAU;AAC/B,aACC,OAAO,WAAW,YACjB,QAAO,UAAU,iBACjB,OAAO,UAAU;AAAA;AAKpB,QAAM,cAAc,OAAO;AAW3B,qBAAW;AAAA,MACV,YAAY,MAAM;AAAA,QACjB,OAAO;AAAA,UACJ,IAAI;AACP,YAAI,WAAW;AAEf,YAAI,SAAS,MAAM;AAElB,iBAAO;AAAA,mBACG,sBAAsB,OAAO;AAEvC,iBAAO,OAAO,KAAK,KAAK;AAAA,mBACd,OAAO;AAAO;AAAA,iBAAW,OAAO,SAAS;AAAO;AAAA,iBAAW,UAAU,MAAM,iBAAiB,OAAO;AAE7G,iBAAO,OAAO,KAAK;AAAA,mBACT,YAAY,OAAO,OAAO;AAEpC,iBAAO,OAAO,KAAK,KAAK,QAAQ,KAAK,YAAY,KAAK;AAAA,mBAC5C,gBAAgB,gBAAgB;AAAY;AAAA,iBAAW,gBAAgB,UAAU;AAE3F,iBAAO,eAAe;AACtB,qBAAW,KAAK,KAAK,MAAM,KAAK;AAAA,eAC1B;AAGN,iBAAO,OAAO,KAAK,OAAO;AAAA;AAG3B,YAAI,SAAS;AAEb,YAAI,OAAO,SAAS,OAAO;AAC1B,mBAAS,gBAAgB,WAAW,SAAS,KAAK;AAAA,mBACxC,OAAO,OAAO;AACxB,mBAAS,gBAAgB,WAAW,SAAS,KAAK,KAAK;AAAA;AAGxD,aAAK,eAAe;AAAA,UACnB;AAAA,UACA;AAAA,UACA;AAAA,UACA,WAAW;AAAA,UACX,OAAO;AAAA;AAER,aAAK,OAAO;AAEZ,YAAI,gBAAgB,gBAAgB,YAAY;AAC/C,eAAK,GAAG,SAAS,YAAU;AAC1B,kBAAM,QAAQ,kBAAkB,iBAC/B,SACA,IAAI,WAAW,+CAA+C,KAAK,QAAQ,OAAO,WAAW,UAAU;AACxG,iBAAK,aAAa,QAAQ;AAAA;AAAA;AAAA;AAAA,UAKzB,OAAO;AACV,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,WAAW;AACd,eAAO,KAAK,aAAa;AAAA;AAAA,YAQpB,cAAc;AACnB,cAAM,EAAC,QAAQ,YAAY,eAAc,MAAM,YAAY;AAC3D,eAAO,OAAO,MAAM,YAAY,aAAa;AAAA;AAAA,YAGxC,WAAW;AAChB,cAAM,KAAK,KAAK,QAAQ,IAAI;AAE5B,YAAI,GAAG,WAAW,sCAAsC;AACvD,gBAAM,WAAW,IAAI;AACrB,gBAAM,aAAa,IAAI,gBAAgB,MAAM,KAAK;AAElD,qBAAW,CAAC,MAAM,UAAU,YAAY;AACvC,qBAAS,OAAO,MAAM;AAAA;AAGvB,iBAAO;AAAA;AAGR,cAAM,EAAC,eAAc,MAAM,QAAQ,UAAU,KAAK,WAAY;AAAE,iBAAO;AAAA;AACvE,eAAO,WAAW,KAAK,MAAM;AAAA;AAAA,YAQxB,OAAO;AACZ,cAAM,KAAM,KAAK,WAAW,KAAK,QAAQ,IAAI,mBAAqB,KAAK,aAAa,QAAQ,KAAK,aAAa,KAAK,QAAS;AAC5H,cAAM,MAAM,MAAM,KAAK;AAEvB,eAAO,IAAI,OAAO,CAAC,MAAM;AAAA,UACxB,MAAM;AAAA;AAAA;AAAA,YASF,OAAO;AACZ,cAAM,SAAS,MAAM,YAAY;AACjC,eAAO,KAAK,MAAM,OAAO;AAAA;AAAA,YAQpB,OAAO;AACZ,cAAM,SAAS,MAAM,YAAY;AACjC,eAAO,OAAO;AAAA;AAAA,MAQf,SAAS;AACR,eAAO,YAAY;AAAA;AAAA;AAIrB,SAAK,UAAU,SAAS,UAAU,UAAU,KAAK,UAAU,QAAQ,sEAA0E;AAG7I,WAAO,iBAAiB,KAAK,WAAW;AAAA,MACvC,MAAM,EAAC,YAAY;AAAA,MACnB,UAAU,EAAC,YAAY;AAAA,MACvB,aAAa,EAAC,YAAY;AAAA,MAC1B,MAAM,EAAC,YAAY;AAAA,MACnB,MAAM,EAAC,YAAY;AAAA,MACnB,MAAM,EAAC,YAAY;AAAA;AAUpB,+BAA2B,MAAM;AAChC,UAAI,KAAK,aAAa,WAAW;AAChC,cAAM,IAAI,UAAU,0BAA0B,KAAK;AAAA;AAGpD,WAAK,aAAa,YAAY;AAE9B,UAAI,KAAK,aAAa,OAAO;AAC5B,cAAM,KAAK,aAAa;AAAA;AAGzB,YAAM,EAAC,SAAQ;AAGf,UAAI,SAAS,MAAM;AAClB,eAAO,OAAO,MAAM;AAAA;AAIrB,UAAI,CAAE,iBAAgB,gBAAgB,aAAa;AAClD,eAAO,OAAO,MAAM;AAAA;AAKrB,YAAM,QAAQ;AACd,UAAI,aAAa;AAEjB,UAAI;AACH,yBAAiB,SAAS,MAAM;AAC/B,cAAI,KAAK,OAAO,KAAK,aAAa,MAAM,SAAS,KAAK,MAAM;AAC3D,kBAAM,QAAQ,IAAI,WAAW,mBAAmB,KAAK,mBAAmB,KAAK,QAAQ;AACrF,iBAAK,QAAQ;AACb,kBAAM;AAAA;AAGP,wBAAc,MAAM;AACpB,gBAAM,KAAK;AAAA;AAAA,eAEJ,OAAP;AACD,cAAM,SAAS,iBAAiB,iBAAiB,QAAQ,IAAI,WAAW,+CAA+C,KAAK,QAAQ,MAAM,WAAW,UAAU;AAC/J,cAAM;AAAA;AAGP,UAAI,KAAK,kBAAkB,QAAQ,KAAK,eAAe,UAAU,MAAM;AACtE,YAAI;AACH,cAAI,MAAM,MAAM,OAAK,OAAO,MAAM,WAAW;AAC5C,mBAAO,OAAO,KAAK,MAAM,KAAK;AAAA;AAG/B,iBAAO,OAAO,OAAO,OAAO;AAAA,iBACpB,OAAP;AACD,gBAAM,IAAI,WAAW,kDAAkD,KAAK,QAAQ,MAAM,WAAW,UAAU;AAAA;AAAA,aAE1G;AACN,cAAM,IAAI,WAAW,4DAA4D,KAAK;AAAA;AAAA;AAWxF,QAAM,QAAQ,CAAC,UAAU,kBAAkB;AAC1C,UAAI;AACJ,UAAI;AACJ,UAAI,EAAC,SAAQ,SAAS;AAGtB,UAAI,SAAS,UAAU;AACtB,cAAM,IAAI,MAAM;AAAA;AAKjB,UAAK,gBAAgB,gBAAgB,cAAgB,OAAO,KAAK,gBAAgB,YAAa;AAE7F,aAAK,IAAI,OAAO,YAAY,EAAC;AAC7B,aAAK,IAAI,OAAO,YAAY,EAAC;AAC7B,aAAK,KAAK;AACV,aAAK,KAAK;AAEV,iBAAS,aAAa,SAAS;AAC/B,eAAO;AAAA;AAGR,aAAO;AAAA;AAGR,QAAM,6BAA6B,UAAU,UAC5C,UAAQ,KAAK,eACb,6FACA;AAaD,QAAM,qBAAqB,CAAC,MAAM,YAAY;AAE7C,UAAI,SAAS,MAAM;AAClB,eAAO;AAAA;AAIR,UAAI,OAAO,SAAS,UAAU;AAC7B,eAAO;AAAA;AAIR,UAAI,sBAAsB,OAAO;AAChC,eAAO;AAAA;AAIR,UAAI,OAAO,OAAO;AACjB,eAAO,KAAK,QAAQ;AAAA;AAIrB,UAAI,OAAO,SAAS,SAAS,UAAU,MAAM,iBAAiB,SAAS,YAAY,OAAO,OAAO;AAChG,eAAO;AAAA;AAGR,UAAI,gBAAgB,UAAU;AAC7B,eAAO,iCAAiC,QAAQ,aAAa;AAAA;AAI9D,UAAI,QAAQ,OAAO,KAAK,gBAAgB,YAAY;AACnD,eAAO,gCAAgC,2BAA2B;AAAA;AAInE,UAAI,gBAAgB,gBAAgB,YAAY;AAC/C,eAAO;AAAA;AAIR,aAAO;AAAA;AAYR,QAAM,gBAAgB,aAAW;AAChC,YAAM,EAAC,SAAQ,QAAQ;AAGvB,UAAI,SAAS,MAAM;AAClB,eAAO;AAAA;AAIR,UAAI,OAAO,OAAO;AACjB,eAAO,KAAK;AAAA;AAIb,UAAI,OAAO,SAAS,OAAO;AAC1B,eAAO,KAAK;AAAA;AAIb,UAAI,QAAQ,OAAO,KAAK,kBAAkB,YAAY;AACrD,eAAO,KAAK,kBAAkB,KAAK,mBAAmB,KAAK,kBAAkB;AAAA;AAI9E,aAAO;AAAA;AAUR,QAAM,gBAAgB,CAAC,MAAM,EAAC,WAAU;AACvC,UAAI,SAAS,MAAM;AAElB,aAAK;AAAA,aACC;AAEN,aAAK,KAAK;AAAA;AAAA;AAUZ,QAAM,qBAAqB,OAAO,cAAc,WAAW,uBAAuB,aACjF,cAAc,WAAW,qBACzB,UAAQ;AACP,UAAI,CAAC,0BAA0B,KAAK,OAAO;AAC1C,cAAM,QAAQ,IAAI,UAAU,2CAA2C;AACvE,eAAO,eAAe,OAAO,QAAQ,EAAC,OAAO;AAC7C,cAAM;AAAA;AAAA;AAIT,QAAM,sBAAsB,OAAO,cAAc,WAAW,wBAAwB,aACnF,cAAc,WAAW,sBACzB,CAAC,MAAM,UAAU;AAChB,UAAI,kCAAkC,KAAK,QAAQ;AAClD,cAAM,QAAQ,IAAI,UAAU,yCAAyC;AACrE,eAAO,eAAe,OAAO,QAAQ,EAAC,OAAO;AAC7C,cAAM;AAAA;AAAA;AAgBT,iCAAsB,gBAAgB;AAAA,MAOrC,YAAY,OAAM;AAGjB,YAAI,SAAS;AACb,YAAI,iBAAgB,UAAS;AAC5B,gBAAM,MAAM,MAAK;AACjB,qBAAW,CAAC,MAAM,WAAW,OAAO,QAAQ,MAAM;AACjD,mBAAO,KAAK,GAAG,OAAO,IAAI,WAAS,CAAC,MAAM;AAAA;AAAA,mBAEjC,SAAQ;AAAM;AAAA,iBAAW,OAAO,UAAS,YAAY,CAAC,UAAU,MAAM,iBAAiB,QAAO;AACxG,gBAAM,SAAS,MAAK,OAAO;AAE3B,cAAI,UAAU,MAAM;AAEnB,mBAAO,KAAK,GAAG,OAAO,QAAQ;AAAA,iBACxB;AACN,gBAAI,OAAO,WAAW,YAAY;AACjC,oBAAM,IAAI,UAAU;AAAA;AAKrB,qBAAS,CAAC,GAAG,OACX,IAAI,UAAQ;AACZ,kBACC,OAAO,SAAS,YAAY,UAAU,MAAM,iBAAiB,OAC5D;AACD,sBAAM,IAAI,UAAU;AAAA;AAGrB,qBAAO,CAAC,GAAG;AAAA,eACT,IAAI,UAAQ;AACd,kBAAI,KAAK,WAAW,GAAG;AACtB,sBAAM,IAAI,UAAU;AAAA;AAGrB,qBAAO,CAAC,GAAG;AAAA;AAAA;AAAA,eAGR;AACN,gBAAM,IAAI,UAAU;AAAA;AAIrB,iBACC,OAAO,SAAS,IACf,OAAO,IAAI,CAAC,CAAC,MAAM,WAAW;AAC7B,6BAAmB;AACnB,8BAAoB,MAAM,OAAO;AACjC,iBAAO,CAAC,OAAO,MAAM,eAAe,OAAO;AAAA,aAE5C;AAEF,cAAM;AAIN,eAAO,IAAI,MAAM,MAAM;AAAA,UACtB,IAAI,QAAQ,GAAG,UAAU;AACxB,oBAAQ;AAAA,mBACF;AAAA,mBACA;AACJ,uBAAO,CAAC,MAAM,UAAU;AACvB,qCAAmB;AACnB,sCAAoB,MAAM,OAAO;AACjC,yBAAO,gBAAgB,UAAU,GAAG,KACnC,QACA,OAAO,MAAM,eACb,OAAO;AAAA;AAAA,mBAIL;AAAA,mBACA;AAAA,mBACA;AACJ,uBAAO,UAAQ;AACd,qCAAmB;AACnB,yBAAO,gBAAgB,UAAU,GAAG,KACnC,QACA,OAAO,MAAM;AAAA;AAAA,mBAIX;AACJ,uBAAO,MAAM;AACZ,yBAAO;AACP,yBAAO,IAAI,IAAI,gBAAgB,UAAU,KAAK,KAAK,SAAS;AAAA;AAAA;AAI7D,uBAAO,QAAQ,IAAI,QAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,WAO9B,OAAO,eAAe;AAC1B,eAAO,KAAK,YAAY;AAAA;AAAA,MAGzB,WAAW;AACV,eAAO,OAAO,UAAU,SAAS,KAAK;AAAA;AAAA,MAGvC,IAAI,MAAM;AACT,cAAM,SAAS,KAAK,OAAO;AAC3B,YAAI,OAAO,WAAW,GAAG;AACxB,iBAAO;AAAA;AAGR,YAAI,QAAQ,OAAO,KAAK;AACxB,YAAI,sBAAsB,KAAK,OAAO;AACrC,kBAAQ,MAAM;AAAA;AAGf,eAAO;AAAA;AAAA,MAGR,QAAQ,UAAU,UAAU,QAAW;AACtC,mBAAW,QAAQ,KAAK,QAAQ;AAC/B,kBAAQ,MAAM,UAAU,SAAS,CAAC,KAAK,IAAI,OAAO,MAAM;AAAA;AAAA;AAAA,OAIxD,SAAS;AACV,mBAAW,QAAQ,KAAK,QAAQ;AAC/B,gBAAM,KAAK,IAAI;AAAA;AAAA;AAAA,OAOf,UAAU;AACX,mBAAW,QAAQ,KAAK,QAAQ;AAC/B,gBAAM,CAAC,MAAM,KAAK,IAAI;AAAA;AAAA;AAAA,OAIvB,OAAO,YAAY;AACnB,eAAO,KAAK;AAAA;AAAA,MAQb,MAAM;AACL,eAAO,CAAC,GAAG,KAAK,QAAQ,OAAO,CAAC,QAAQ,QAAQ;AAC/C,iBAAO,OAAO,KAAK,OAAO;AAC1B,iBAAO;AAAA,WACL;AAAA;AAAA,OAMH,OAAO,IAAI,iCAAiC;AAC5C,eAAO,CAAC,GAAG,KAAK,QAAQ,OAAO,CAAC,QAAQ,QAAQ;AAC/C,gBAAM,SAAS,KAAK,OAAO;AAG3B,cAAI,QAAQ,QAAQ;AACnB,mBAAO,OAAO,OAAO;AAAA,iBACf;AACN,mBAAO,OAAO,OAAO,SAAS,IAAI,SAAS,OAAO;AAAA;AAGnD,iBAAO;AAAA,WACL;AAAA;AAAA;AAQL,WAAO,iBACN,SAAQ,WACR,CAAC,OAAO,WAAW,WAAW,UAAU,OAAO,CAAC,QAAQ,aAAa;AACpE,aAAO,YAAY,EAAC,YAAY;AAChC,aAAO;AAAA,OACL;AAQJ,4BAAwB,UAAU,IAAI;AACrC,aAAO,IAAI,SACV,QAEE,OAAO,CAAC,QAAQ,OAAO,OAAO,UAAU;AACxC,YAAI,QAAQ,MAAM,GAAG;AACpB,iBAAO,KAAK,MAAM,MAAM,OAAO,QAAQ;AAAA;AAGxC,eAAO;AAAA,SACL,IACF,OAAO,CAAC,CAAC,MAAM,WAAW;AAC1B,YAAI;AACH,6BAAmB;AACnB,8BAAoB,MAAM,OAAO;AACjC,iBAAO;AAAA,gBACN;AACD,iBAAO;AAAA;AAAA;AAAA;AAOZ,QAAM,iBAAiB,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,KAAK;AAQpD,QAAM,aAAa,UAAQ;AAC1B,aAAO,eAAe,IAAI;AAAA;AAS3B,QAAM,cAAc,OAAO;AAW3B,kCAAuB,KAAK;AAAA,MAC3B,YAAY,OAAO,MAAM,UAAU,IAAI;AACtC,cAAM,MAAM;AAGZ,cAAM,SAAS,QAAQ,UAAU,OAAO,QAAQ,SAAS;AAEzD,cAAM,UAAU,IAAI,SAAQ,QAAQ;AAEpC,YAAI,SAAS,QAAQ,CAAC,QAAQ,IAAI,iBAAiB;AAClD,gBAAM,cAAc,mBAAmB,MAAM;AAC7C,cAAI,aAAa;AAChB,oBAAQ,OAAO,gBAAgB;AAAA;AAAA;AAIjC,aAAK,eAAe;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,QAAQ;AAAA,UACb;AAAA,UACA,YAAY,QAAQ,cAAc;AAAA,UAClC;AAAA,UACA,SAAS,QAAQ;AAAA,UACjB,eAAe,QAAQ;AAAA;AAAA;AAAA,UAIrB,OAAO;AACV,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,MAAM;AACT,eAAO,KAAK,aAAa,OAAO;AAAA;AAAA,UAG7B,SAAS;AACZ,eAAO,KAAK,aAAa;AAAA;AAAA,UAMtB,KAAK;AACR,eAAO,KAAK,aAAa,UAAU,OAAO,KAAK,aAAa,SAAS;AAAA;AAAA,UAGlE,aAAa;AAChB,eAAO,KAAK,aAAa,UAAU;AAAA;AAAA,UAGhC,aAAa;AAChB,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,UAAU;AACb,eAAO,KAAK,aAAa;AAAA;AAAA,UAGtB,gBAAgB;AACnB,eAAO,KAAK,aAAa;AAAA;AAAA,MAQ1B,QAAQ;AACP,eAAO,IAAI,UAAS,MAAM,MAAM,KAAK,gBAAgB;AAAA,UACpD,MAAM,KAAK;AAAA,UACX,KAAK,KAAK;AAAA,UACV,QAAQ,KAAK;AAAA,UACb,YAAY,KAAK;AAAA,UACjB,SAAS,KAAK;AAAA,UACd,IAAI,KAAK;AAAA,UACT,YAAY,KAAK;AAAA,UACjB,MAAM,KAAK;AAAA,UACX,eAAe,KAAK;AAAA;AAAA;AAAA,aASf,SAAS,KAAK,SAAS,KAAK;AAClC,YAAI,CAAC,WAAW,SAAS;AACxB,gBAAM,IAAI,WAAW;AAAA;AAGtB,eAAO,IAAI,UAAS,MAAM;AAAA,UACzB,SAAS;AAAA,YACR,UAAU,IAAI,IAAI,KAAK;AAAA;AAAA,UAExB;AAAA;AAAA;AAAA,aAIK,QAAQ;AACd,cAAM,WAAW,IAAI,UAAS,MAAM,EAAC,QAAQ,GAAG,YAAY;AAC5D,iBAAS,aAAa,OAAO;AAC7B,eAAO;AAAA;AAAA,WAGH,OAAO,eAAe;AAC1B,eAAO;AAAA;AAAA;AAIT,WAAO,iBAAiB,UAAS,WAAW;AAAA,MAC3C,MAAM,EAAC,YAAY;AAAA,MACnB,KAAK,EAAC,YAAY;AAAA,MAClB,QAAQ,EAAC,YAAY;AAAA,MACrB,IAAI,EAAC,YAAY;AAAA,MACjB,YAAY,EAAC,YAAY;AAAA,MACzB,YAAY,EAAC,YAAY;AAAA,MACzB,SAAS,EAAC,YAAY;AAAA,MACtB,OAAO,EAAC,YAAY;AAAA;AAGrB,QAAM,YAAY,eAAa;AAC9B,UAAI,UAAU,QAAQ;AACrB,eAAO,UAAU;AAAA;AAGlB,YAAM,aAAa,UAAU,KAAK,SAAS;AAC3C,YAAM,OAAO,UAAU,QAAS,WAAU,KAAK,gBAAgB,MAAM,MAAM;AAC3E,aAAO,UAAU,KAAK,aAAa,KAAK,YAAY,MAAM,MAAM;AAAA;AAkBjE,uCAAmC,KAAK,aAAa,OAAO;AAE3D,UAAI,OAAO,MAAM;AAChB,eAAO;AAAA;AAGR,YAAM,IAAI,IAAI;AAGd,UAAI,uBAAuB,KAAK,IAAI,WAAW;AAC9C,eAAO;AAAA;AAIR,UAAI,WAAW;AAIf,UAAI,WAAW;AAIf,UAAI,OAAO;AAGX,UAAI,YAAY;AAGf,YAAI,WAAW;AAIf,YAAI,SAAS;AAAA;AAId,aAAO;AAAA;AAMR,QAAM,iBAAiB,IAAI,IAAI;AAAA,MAC9B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAMD,QAAM,0BAA0B;AAOhC,oCAAgC,gBAAgB;AAC/C,UAAI,CAAC,eAAe,IAAI,iBAAiB;AACxC,cAAM,IAAI,UAAU,2BAA2B;AAAA;AAGhD,aAAO;AAAA;AAQR,4CAAwC,KAAK;AAQ5C,UAAI,gBAAgB,KAAK,IAAI,WAAW;AACvC,eAAO;AAAA;AAIR,YAAM,SAAS,IAAI,KAAK,QAAQ,eAAe;AAC/C,YAAM,gBAAgB,IAAI,KAAK;AAE/B,UAAI,kBAAkB,KAAK,SAAS,KAAK,SAAS;AACjD,eAAO;AAAA;AAGR,UAAI,kBAAkB,KAAK,mCAAmC,KAAK,SAAS;AAC3E,eAAO;AAAA;AAMR,UAAI,qBAAqB,KAAK,IAAI,OAAO;AACxC,eAAO;AAAA;AAIR,UAAI,IAAI,aAAa,SAAS;AAC7B,eAAO;AAAA;AAUR,aAAO;AAAA;AAQR,yCAAqC,KAAK;AAEzC,UAAI,yBAAyB,KAAK,MAAM;AACvC,eAAO;AAAA;AAIR,UAAI,IAAI,aAAa,SAAS;AAC7B,eAAO;AAAA;AAMR,UAAI,uBAAuB,KAAK,IAAI,WAAW;AAC9C,eAAO;AAAA;AAIR,aAAO,+BAA+B;AAAA;AA2BvC,uCAAmC,SAAS,EAAC,qBAAqB,2BAA0B,IAAI;AAM/F,UAAI,QAAQ,aAAa,iBAAiB,QAAQ,mBAAmB,IAAI;AACxE,eAAO;AAAA;AAIR,YAAM,SAAS,QAAQ;AAMvB,UAAI,QAAQ,aAAa,gBAAgB;AACxC,eAAO;AAAA;AAIR,YAAM,iBAAiB,QAAQ;AAG/B,UAAI,cAAc,0BAA0B;AAI5C,UAAI,iBAAiB,0BAA0B,gBAAgB;AAI/D,UAAI,YAAY,WAAW,SAAS,MAAM;AACzC,sBAAc;AAAA;AAOf,UAAI,qBAAqB;AACxB,sBAAc,oBAAoB;AAAA;AAGnC,UAAI,wBAAwB;AAC3B,yBAAiB,uBAAuB;AAAA;AAIzC,YAAM,aAAa,IAAI,IAAI,QAAQ;AAEnC,cAAQ;AAAA,aACF;AACJ,iBAAO;AAAA,aAEH;AACJ,iBAAO;AAAA,aAEH;AACJ,iBAAO;AAAA,aAEH;AAGJ,cAAI,4BAA4B,gBAAgB,CAAC,4BAA4B,aAAa;AACzF,mBAAO;AAAA;AAIR,iBAAO,eAAe;AAAA,aAElB;AAGJ,cAAI,YAAY,WAAW,WAAW,QAAQ;AAC7C,mBAAO;AAAA;AAKR,cAAI,4BAA4B,gBAAgB,CAAC,4BAA4B,aAAa;AACzF,mBAAO;AAAA;AAIR,iBAAO;AAAA,aAEH;AAGJ,cAAI,YAAY,WAAW,WAAW,QAAQ;AAC7C,mBAAO;AAAA;AAIR,iBAAO;AAAA,aAEH;AAGJ,cAAI,YAAY,WAAW,WAAW,QAAQ;AAC7C,mBAAO;AAAA;AAIR,iBAAO;AAAA,aAEH;AAGJ,cAAI,4BAA4B,gBAAgB,CAAC,4BAA4B,aAAa;AACzF,mBAAO;AAAA;AAIR,iBAAO;AAAA;AAGP,gBAAM,IAAI,UAAU,2BAA2B;AAAA;AAAA;AASlD,2CAAuC,SAAS;AAG/C,YAAM,eAAgB,SAAQ,IAAI,sBAAsB,IAAI,MAAM;AAGlE,UAAI,SAAS;AAMb,iBAAW,SAAS,cAAc;AACjC,YAAI,SAAS,eAAe,IAAI,QAAQ;AACvC,mBAAS;AAAA;AAAA;AAKX,aAAO;AAAA;AAGR,QAAM,YAAY,OAAO;AAQzB,QAAM,YAAY,YAAU;AAC3B,aACC,OAAO,WAAW,YAClB,OAAO,OAAO,eAAe;AAAA;AAa/B,iCAAsB,KAAK;AAAA,MAC1B,YAAY,OAAO,QAAO,IAAI;AAC7B,YAAI;AAGJ,YAAI,UAAU,QAAQ;AACrB,sBAAY,IAAI,IAAI,MAAM;AAAA,eACpB;AACN,sBAAY,IAAI,IAAI;AACpB,kBAAQ;AAAA;AAGT,YAAI,UAAU,aAAa,MAAM,UAAU,aAAa,IAAI;AAC3D,gBAAM,IAAI,UAAU,GAAG;AAAA;AAGxB,YAAI,SAAS,MAAK,UAAU,MAAM,UAAU;AAC5C,iBAAS,OAAO;AAGhB,YAAM,OAAK,QAAQ,QAAQ,UAAU,WAAW,MAAM,SAAS,QAC7D,YAAW,SAAS,WAAW,SAAS;AACzC,gBAAM,IAAI,UAAU;AAAA;AAGrB,cAAM,YAAY,MAAK,OACtB,MAAK,OACJ,UAAU,UAAU,MAAM,SAAS,OACnC,MAAM,SACN;AAEF,cAAM,WAAW;AAAA,UAChB,MAAM,MAAK,QAAQ,MAAM,QAAQ;AAAA;AAGlC,cAAM,UAAU,IAAI,SAAQ,MAAK,WAAW,MAAM,WAAW;AAE7D,YAAI,cAAc,QAAQ,CAAC,QAAQ,IAAI,iBAAiB;AACvD,gBAAM,cAAc,mBAAmB,WAAW;AAClD,cAAI,aAAa;AAChB,oBAAQ,IAAI,gBAAgB;AAAA;AAAA;AAI9B,YAAI,SAAS,UAAU,SACtB,MAAM,SACN;AACD,YAAI,YAAY,OAAM;AACrB,mBAAS,MAAK;AAAA;AAIf,YAAI,UAAU,QAAQ,CAAC,cAAc,SAAS;AAC7C,gBAAM,IAAI,UAAU;AAAA;AAKrB,YAAI,WAAW,MAAK,YAAY,OAAO,MAAM,WAAW,MAAK;AAC7D,YAAI,aAAa,IAAI;AAEpB,qBAAW;AAAA,mBACD,UAAU;AAEpB,gBAAM,iBAAiB,IAAI,IAAI;AAE/B,qBAAW,wBAAwB,KAAK,kBAAkB,WAAW;AAAA,eAC/D;AACN,qBAAW;AAAA;AAGZ,aAAK,aAAa;AAAA,UACjB;AAAA,UACA,UAAU,MAAK,YAAY,MAAM,YAAY;AAAA,UAC7C;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA;AAID,aAAK,SAAS,MAAK,WAAW,SAAa,MAAM,WAAW,SAAY,KAAK,MAAM,SAAU,MAAK;AAClG,aAAK,WAAW,MAAK,aAAa,SAAa,MAAM,aAAa,SAAY,OAAO,MAAM,WAAY,MAAK;AAC5G,aAAK,UAAU,MAAK,WAAW,MAAM,WAAW;AAChD,aAAK,QAAQ,MAAK,SAAS,MAAM;AACjC,aAAK,gBAAgB,MAAK,iBAAiB,MAAM,iBAAiB;AAClE,aAAK,qBAAqB,MAAK,sBAAsB,MAAM,sBAAsB;AAIjF,aAAK,iBAAiB,MAAK,kBAAkB,MAAM,kBAAkB;AAAA;AAAA,UAGlE,SAAS;AACZ,eAAO,KAAK,WAAW;AAAA;AAAA,UAGpB,MAAM;AACT,eAAO,SAAS,OAAO,KAAK,WAAW;AAAA;AAAA,UAGpC,UAAU;AACb,eAAO,KAAK,WAAW;AAAA;AAAA,UAGpB,WAAW;AACd,eAAO,KAAK,WAAW;AAAA;AAAA,UAGpB,SAAS;AACZ,eAAO,KAAK,WAAW;AAAA;AAAA,UAIpB,WAAW;AACd,YAAI,KAAK,WAAW,aAAa,eAAe;AAC/C,iBAAO;AAAA;AAGR,YAAI,KAAK,WAAW,aAAa,UAAU;AAC1C,iBAAO;AAAA;AAGR,YAAI,KAAK,WAAW,UAAU;AAC7B,iBAAO,KAAK,WAAW,SAAS;AAAA;AAGjC,eAAO;AAAA;AAAA,UAGJ,iBAAiB;AACpB,eAAO,KAAK,WAAW;AAAA;AAAA,UAGpB,eAAe,gBAAgB;AAClC,aAAK,WAAW,iBAAiB,uBAAuB;AAAA;AAAA,MAQzD,QAAQ;AACP,eAAO,IAAI,SAAQ;AAAA;AAAA,WAGf,OAAO,eAAe;AAC1B,eAAO;AAAA;AAAA;AAIT,WAAO,iBAAiB,SAAQ,WAAW;AAAA,MAC1C,QAAQ,EAAC,YAAY;AAAA,MACrB,KAAK,EAAC,YAAY;AAAA,MAClB,SAAS,EAAC,YAAY;AAAA,MACtB,UAAU,EAAC,YAAY;AAAA,MACvB,OAAO,EAAC,YAAY;AAAA,MACpB,QAAQ,EAAC,YAAY;AAAA,MACrB,UAAU,EAAC,YAAY;AAAA,MACvB,gBAAgB,EAAC,YAAY;AAAA;AAS9B,QAAM,wBAAwB,aAAW;AACxC,YAAM,EAAC,cAAa,QAAQ;AAC5B,YAAM,UAAU,IAAI,SAAQ,QAAQ,WAAW;AAG/C,UAAI,CAAC,QAAQ,IAAI,WAAW;AAC3B,gBAAQ,IAAI,UAAU;AAAA;AAIvB,UAAI,qBAAqB;AACzB,UAAI,QAAQ,SAAS,QAAQ,gBAAgB,KAAK,QAAQ,SAAS;AAClE,6BAAqB;AAAA;AAGtB,UAAI,QAAQ,SAAS,MAAM;AAC1B,cAAM,aAAa,cAAc;AAEjC,YAAI,OAAO,eAAe,YAAY,CAAC,OAAO,MAAM,aAAa;AAChE,+BAAqB,OAAO;AAAA;AAAA;AAI9B,UAAI,oBAAoB;AACvB,gBAAQ,IAAI,kBAAkB;AAAA;AAM/B,UAAI,QAAQ,mBAAmB,IAAI;AAClC,gBAAQ,iBAAiB;AAAA;AAM1B,UAAI,QAAQ,YAAY,QAAQ,aAAa,eAAe;AAC3D,gBAAQ,WAAW,WAAW,0BAA0B;AAAA,aAClD;AACN,gBAAQ,WAAW,WAAW;AAAA;AAM/B,UAAI,QAAQ,WAAW,oBAAoB,KAAK;AAC/C,gBAAQ,IAAI,WAAW,QAAQ;AAAA;AAIhC,UAAI,CAAC,QAAQ,IAAI,eAAe;AAC/B,gBAAQ,IAAI,cAAc;AAAA;AAI3B,UAAI,QAAQ,YAAY,CAAC,QAAQ,IAAI,oBAAoB;AACxD,gBAAQ,IAAI,mBAAmB;AAAA;AAGhC,UAAI,EAAC,UAAS;AACd,UAAI,OAAO,UAAU,YAAY;AAChC,gBAAQ,MAAM;AAAA;AAGf,UAAI,CAAC,QAAQ,IAAI,iBAAiB,CAAC,OAAO;AACzC,gBAAQ,IAAI,cAAc;AAAA;AAM3B,YAAM,SAAS,UAAU;AAIzB,YAAM,UAAU;AAAA,QAEf,MAAM,UAAU,WAAW;AAAA,QAE3B,QAAQ,QAAQ;AAAA,QAChB,SAAS,QAAQ,OAAO,IAAI;AAAA,QAC5B,oBAAoB,QAAQ;AAAA,QAC5B;AAAA;AAGD,aAAO;AAAA,QACN;AAAA,QACA;AAAA;AAAA;AAOF,mCAAyB,eAAe;AAAA,MACvC,YAAY,SAAS,OAAO,WAAW;AACtC,cAAM,SAAS;AAAA;AAAA;AAYjB,QAAM,mBAAmB,IAAI,IAAI,CAAC,SAAS,SAAS;AASpD,0BAAqB,KAAK,UAAU;AACnC,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAEvC,cAAM,UAAU,IAAI,SAAQ,KAAK;AACjC,cAAM,EAAC,WAAW,YAAW,sBAAsB;AACnD,YAAI,CAAC,iBAAiB,IAAI,UAAU,WAAW;AAC9C,gBAAM,IAAI,UAAU,0BAA0B,oBAAoB,UAAU,SAAS,QAAQ,MAAM;AAAA;AAGpG,YAAI,UAAU,aAAa,SAAS;AACnC,gBAAM,OAAO,gBAAgB,QAAQ;AACrC,gBAAM,YAAW,IAAI,UAAS,MAAM,EAAC,SAAS,EAAC,gBAAgB,KAAK;AACpE,kBAAQ;AACR;AAAA;AAID,cAAM,OAAQ,WAAU,aAAa,WAAW,eAAe,aAAa,cAAc,YAAY;AACtG,cAAM,EAAC,WAAU;AACjB,YAAI,WAAW;AAEf,cAAM,QAAQ,MAAM;AACnB,gBAAM,QAAQ,IAAI,WAAW;AAC7B,iBAAO;AACP,cAAI,QAAQ,QAAQ,QAAQ,gBAAgB,gBAAgB,WAAW,UAAU;AAChF,oBAAQ,KAAK,QAAQ;AAAA;AAGtB,cAAI,CAAC,YAAY,CAAC,SAAS,MAAM;AAChC;AAAA;AAGD,mBAAS,KAAK,KAAK,SAAS;AAAA;AAG7B,YAAI,UAAU,OAAO,SAAS;AAC7B;AACA;AAAA;AAGD,cAAM,mBAAmB,MAAM;AAC9B;AACA;AAAA;AAID,cAAM,WAAW,KAAK,WAAW;AAEjC,YAAI,QAAQ;AACX,iBAAO,iBAAiB,SAAS;AAAA;AAGlC,cAAM,WAAW,MAAM;AACtB,mBAAS;AACT,cAAI,QAAQ;AACX,mBAAO,oBAAoB,SAAS;AAAA;AAAA;AAItC,iBAAS,GAAG,SAAS,WAAS;AAC7B,iBAAO,IAAI,WAAW,cAAc,QAAQ,uBAAuB,MAAM,WAAW,UAAU;AAC9F;AAAA;AAGD,4CAAoC,UAAU,WAAS;AACtD,mBAAS,KAAK,QAAQ;AAAA;AAIvB,YAAI,QAAQ,UAAU,OAAO;AAG5B,mBAAS,GAAG,UAAU,OAAK;AAC1B,gBAAI;AACJ,cAAE,gBAAgB,OAAO,MAAM;AAC9B,qCAAuB,EAAE;AAAA;AAE1B,cAAE,gBAAgB,SAAS,cAAY;AAEtC,kBAAI,YAAY,uBAAuB,EAAE,gBAAgB,CAAC,UAAU;AACnE,sBAAM,QAAQ,IAAI,MAAM;AACxB,sBAAM,OAAO;AACb,yBAAS,KAAK,KAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAMhC,iBAAS,GAAG,YAAY,eAAa;AACpC,mBAAS,WAAW;AACpB,gBAAM,UAAU,eAAe,UAAU;AAGzC,cAAI,WAAW,UAAU,aAAa;AAErC,kBAAM,WAAW,QAAQ,IAAI;AAG7B,kBAAM,cAAc,aAAa,OAAO,OAAO,IAAI,IAAI,UAAU,QAAQ;AAGzE,oBAAQ,QAAQ;AAAA,mBACV;AACJ,uBAAO,IAAI,WAAW,0EAA0E,QAAQ,OAAO;AAC/G;AACA;AAAA,mBACI;AAEJ,oBAAI,gBAAgB,MAAM;AACzB,0BAAQ,IAAI,YAAY;AAAA;AAGzB;AAAA,mBACI,UAAU;AAEd,oBAAI,gBAAgB,MAAM;AACzB;AAAA;AAID,oBAAI,QAAQ,WAAW,QAAQ,QAAQ;AACtC,yBAAO,IAAI,WAAW,gCAAgC,QAAQ,OAAO;AACrE;AACA;AAAA;AAKD,sBAAM,iBAAiB;AAAA,kBACtB,SAAS,IAAI,SAAQ,QAAQ;AAAA,kBAC7B,QAAQ,QAAQ;AAAA,kBAChB,SAAS,QAAQ,UAAU;AAAA,kBAC3B,OAAO,QAAQ;AAAA,kBACf,UAAU,QAAQ;AAAA,kBAClB,QAAQ,QAAQ;AAAA,kBAChB,MAAM,MAAM;AAAA,kBACZ,QAAQ,QAAQ;AAAA,kBAChB,MAAM,QAAQ;AAAA,kBACd,UAAU,QAAQ;AAAA,kBAClB,gBAAgB,QAAQ;AAAA;AAIzB,oBAAI,UAAU,eAAe,OAAO,QAAQ,QAAQ,SAAS,gBAAgB,gBAAgB,WAAW,UAAU;AACjH,yBAAO,IAAI,WAAW,4DAA4D;AAClF;AACA;AAAA;AAID,oBAAI,UAAU,eAAe,OAAS,WAAU,eAAe,OAAO,UAAU,eAAe,QAAQ,QAAQ,WAAW,QAAS;AAClI,iCAAe,SAAS;AACxB,iCAAe,OAAO;AACtB,iCAAe,QAAQ,OAAO;AAAA;AAI/B,sBAAM,yBAAyB,8BAA8B;AAC7D,oBAAI,wBAAwB;AAC3B,iCAAe,iBAAiB;AAAA;AAIjC,wBAAQ,OAAM,IAAI,SAAQ,aAAa;AACvC;AACA;AAAA;AAAA;AAIA,uBAAO,OAAO,IAAI,UAAU,oBAAoB,QAAQ;AAAA;AAAA;AAK3D,cAAI,QAAQ;AACX,sBAAU,KAAK,OAAO,MAAM;AAC3B,qBAAO,oBAAoB,SAAS;AAAA;AAAA;AAItC,cAAI,OAAO,OAAO,SAAS,WAAW,IAAI,OAAO,eAAe;AAEhE,cAAI,QAAQ,UAAU,UAAU;AAC/B,sBAAU,GAAG,WAAW;AAAA;AAGzB,gBAAM,kBAAkB;AAAA,YACvB,KAAK,QAAQ;AAAA,YACb,QAAQ,UAAU;AAAA,YAClB,YAAY,UAAU;AAAA,YACtB;AAAA,YACA,MAAM,QAAQ;AAAA,YACd,SAAS,QAAQ;AAAA,YACjB,eAAe,QAAQ;AAAA;AAIxB,gBAAM,UAAU,QAAQ,IAAI;AAU5B,cAAI,CAAC,QAAQ,YAAY,QAAQ,WAAW,UAAU,YAAY,QAAQ,UAAU,eAAe,OAAO,UAAU,eAAe,KAAK;AACvI,uBAAW,IAAI,UAAS,MAAM;AAC9B,oBAAQ;AACR;AAAA;AAQD,gBAAM,cAAc;AAAA,YACnB,OAAO,cAAc,WAAW;AAAA,YAChC,aAAa,cAAc,WAAW;AAAA;AAIvC,cAAI,YAAY,UAAU,YAAY,UAAU;AAC/C,mBAAO,OAAO,SAAS,MAAM,cAAc,WAAW,aAAa,cAAc;AACjF,uBAAW,IAAI,UAAS,MAAM;AAC9B,oBAAQ;AACR;AAAA;AAID,cAAI,YAAY,aAAa,YAAY,aAAa;AAGrD,kBAAM,MAAM,OAAO,SAAS,WAAW,IAAI,OAAO,eAAe;AACjE,gBAAI,KAAK,QAAQ,WAAS;AAEzB,qBAAQ,OAAM,KAAK,QAAU,IAAO,OAAO,SAAS,MAAM,cAAc,WAAW,iBAAiB,UAAU,OAAO,SAAS,MAAM,cAAc,WAAW,oBAAoB;AAEjL,yBAAW,IAAI,UAAS,MAAM;AAC9B,sBAAQ;AAAA;AAET;AAAA;AAID,cAAI,YAAY,MAAM;AACrB,mBAAO,OAAO,SAAS,MAAM,cAAc,WAAW,0BAA0B;AAChF,uBAAW,IAAI,UAAS,MAAM;AAC9B,oBAAQ;AACR;AAAA;AAID,qBAAW,IAAI,UAAS,MAAM;AAC9B,kBAAQ;AAAA;AAGT,sBAAc,UAAU;AAAA;AAAA;AAI1B,iDAA6C,SAAS,eAAe;AACpE,YAAM,aAAa,OAAO,KAAK;AAE/B,UAAI,oBAAoB;AACxB,UAAI,0BAA0B;AAC9B,UAAI;AAEJ,cAAQ,GAAG,YAAY,cAAY;AAClC,cAAM,EAAC,YAAW;AAClB,4BAAoB,QAAQ,yBAAyB,aAAa,CAAC,QAAQ;AAAA;AAG5E,cAAQ,GAAG,UAAU,YAAU;AAC9B,cAAM,gBAAgB,MAAM;AAC3B,cAAI,qBAAqB,CAAC,yBAAyB;AAClD,kBAAM,QAAQ,IAAI,MAAM;AACxB,kBAAM,OAAO;AACb,0BAAc;AAAA;AAAA;AAIhB,eAAO,gBAAgB,SAAS;AAEhC,gBAAQ,GAAG,SAAS,MAAM;AACzB,iBAAO,eAAe,SAAS;AAAA;AAGhC,eAAO,GAAG,QAAQ,SAAO;AACxB,oCAA0B,OAAO,QAAQ,IAAI,MAAM,KAAK,gBAAgB;AAGxE,cAAI,CAAC,2BAA2B,eAAe;AAC9C,sCACC,OAAO,QAAQ,cAAc,MAAM,KAAK,WAAW,MAAM,GAAG,QAAQ,KACpE,OAAO,QAAQ,IAAI,MAAM,KAAK,WAAW,MAAM,QAAQ;AAAA;AAIzD,0BAAgB;AAAA;AAAA;AAAA;AAMnB,gCAA4B;AAC3B,aAAO,iBAAiB,YAAY;AAAA,QACnC,OAAO;AAAA,UACN,YAAY;AAAA,UACZ,OAAO;AAAA;AAAA,QAER,UAAU;AAAA,UACT,YAAY;AAAA,UACZ,OAAO;AAAA;AAAA,QAER,SAAS;AAAA,UACR,YAAY;AAAA,UACZ,OAAO;AAAA;AAAA,QAER,SAAS;AAAA,UACR,YAAY;AAAA,UACZ,OAAO;AAAA;AAAA;AAAA;AAKV;AAOA,mBAAc,UAAU;AAEvB,YAAM,MAAM,IAAI,OAAO,IAAI;AAE3B,aAAO,OAAO,UAAU;AACvB,cAAM,EAAE,YAAY,SAAS,QAAQ,MAAM,oBAAoB;AAE/D,cAAM,WAAW,kBAAkB,WAAW;AAC9C,cAAM,UAAU,OAAO,SAAS,WAAW,OAAO,KAAK,MAAM,YAAY;AAEzE,cAAM,WAAW,MAAM,IAAI,OAAO;AAAA,UACjC,KAAK;AAAA,UACL,QAAQ;AAAA,UACR;AAAA,UACA;AAAA;AAGD,YAAI,CAAC,UAAU;AACd,iBAAO;AAAA,YACN,YAAY;AAAA,YACZ,MAAM;AAAA;AAAA;AAIR,cAAM,mBAAmB;AAAA,UACxB,YAAY,SAAS;AAAA,WAClB,cAAc,SAAS;AAG3B,YAAI,SAAS,gBAAgB,YAAY;AAIxC,iBAAO,iCACH,mBADG;AAAA,YAEN,iBAAiB;AAAA,YACjB,MAAM,OAAO,KAAK,SAAS,MAAM,SAAS;AAAA;AAAA;AAI5C,eAAO,iCACH,mBADG;AAAA,UAEN,MAAM,SAAS;AAAA;AAAA;AAAA;AAalB,2BAAuB,SAAS;AAE/B,YAAM,KAAI;AAGV,YAAM,KAAI;AAEV,iBAAW,OAAO,SAAS;AAC1B,cAAM,QAAQ,QAAQ;AACtB,cAAM,SAAS,MAAM,QAAQ,SAAS,KAAI;AAC1C,eAAO,OAAO;AAAA;AAEf,aAAO;AAAA,QACN,SAAS;AAAA,QACT,mBAAmB;AAAA;AAAA;AAIrB,aAAQ,OAAO;AACf,aAAQ,WAAW;AACnB,aAAQ,OAAO;AAAA;AAAA;;;AC78Mf;AAAA;AAAA;AAEA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAEtD,QAAI,UAAU;AACd;AACA,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AACR,YAAQ;AAIR,aAAQ,OAAO,QAAQ;AAAA;AAAA;;;AChBvB;AAAA;AAAA,QAAI,aAAY,OAAO;AACvB,QAAI,uBAAsB,OAAO;AACjC,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,mBAAkB,CAAC,KAAK,KAAK,UAAU,OAAO,MAAM,WAAU,KAAK,KAAK,EAAE,YAAY,MAAM,cAAc,MAAM,UAAU,MAAM,WAAW,IAAI,OAAO;AAC1J,QAAI,kBAAiB,CAAC,GAAG,MAAM;AAC7B,eAAS,QAAQ,KAAM,KAAI;AACzB,YAAI,cAAa,KAAK,GAAG;AACvB,2BAAgB,GAAG,MAAM,EAAE;AAC/B,UAAI;AACF,iBAAS,QAAQ,qBAAoB,IAAI;AACvC,cAAI,cAAa,KAAK,GAAG;AACvB,6BAAgB,GAAG,MAAM,EAAE;AAAA;AAEjC,aAAO;AAAA;AAET,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,aAAS,UAAS;AAAA,MAChB,GAAG,MAAM;AAAA;AAEX,4BAAwB,SAAS,eAAe;AAC9C,cAAQ,IAAI,wBAAwB,oBAAoB,KAAK,UAAU,SAAS,MAAM;AACtF,UAAI,YAAY,QAAQ;AACtB,eAAO;AAAA,UACL,OAAO,gBAAe,IAAI,QAAQ;AAAA;AAAA,aAE/B;AACL,eAAO;AAAA,UACL,OAAO;AAAA,YACL,MAAM;AAAA,YACN,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACnCpB;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,SAAS,MAAM;AAAA,MACf,MAAM,MAAM;AAAA;AAEd,QAAI,wBAAwB,WAAW;AACvC,QAAI,iCAAiC,WAAW;AAChD,QAAM,eAAgB,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AAC1F,UAAI,EAAE,SAAS;AACf,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK;AAClB,aAAO,eAAe,yCAAyC,cAAc,OAAO,aAAa,oDAAoD,qBAAqB,2BAA2B,qBAAqB;AAAA,+BAC7L;AAAA;AAAA,IAE3B,CAAC,OAAO,aAAa,yCAAyC,qBAAqB,0BAA0B,qBAAqB;AAAA;AAAA,eAEvH,yCAAyC,qBAAqB,6CAA6C,qBAAqB;AAAA,iCAC9G;AAAA;AAGjC,QAAM,MAAM,EAAE,MAAM,yBAAyB,KAAK;AAClD,wBAAoB,EAAE,WAAW;AAC/B,aAAQ,IAAG,+BAA+B,GAAG,SAAS;AAAA;AAExD,QAAM,UAAW,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AACrF,UAAI,EAAE,SAAS;AACf,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK;AAClB,eAAS,IAAI,IAAI;AACjB,aAAO,eAAe,iCAAiC,kCAAkC,4BAA4B,eAAe,+CAA+C;AAAA;AAAA,eAEtK;AAAA;AAAA;AAAA,MAGT,OAAO,eAAe,iCAAiC,uDAAuD,4BAA4B,6BAA6B,qBAAqB;AAAA,mDAC/I;AAAA,IAC9C,IAAG,sBAAsB,GAAG,cAAc,eAAe,SAAS,UAAU,EAAE,QAAQ,IAAI;AAAA;AAAA,EAE7F,MAAM,UAAU,MAAM,QAAQ,MAAM;AAAA;AAAA;AAAA;;;AC5DtC;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA,MACX,OAAO,MAAM;AAAA,MACb,IAAI,MAAM;AAAA,MACV,QAAQ,MAAM;AAAA;AAEhB,QAAI,UAAU,WAAW;AACzB,QAAM,QAAQ;AACd,QAAM,KAAK,CAAC,qCAAqC,6BAA6B,qCAAqC;AACnH,QAAM,MAAM,CAAC;AAAA;AAAA;;;AChCb;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,SAAS,MAAM;AAAA,MACf,MAAM,MAAM;AAAA;AAEd,QAAI,wBAAwB,WAAW;AACvC,kBAAc,EAAE,OAAO,UAAU;AAC/B,aAAO,EAAE,OAAO,EAAE,OAAO;AAAA;AAE3B,QAAM,SAAU,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AACpF,UAAI,EAAE,WAAW;AACjB,UAAI,EAAE,UAAU;AAChB,UAAI,QAAQ,WAAW,UAAU,WAAW,UAAU,WAAW;AAC/D,mBAAW,OAAO;AACpB,UAAI,QAAQ,UAAU,UAAU,WAAW,SAAS,UAAU;AAC5D,mBAAW,MAAM;AACnB,aAAO,OAAQ,IAAG,sBAAsB,GAAG;AAAA;AAAA,OAErC,IAAG,sBAAsB,GAAG,MAAM;AAAA;AAAA;AAAA;AAAA,EAIxC,MAAM,QAAQ,QAAS,IAAG,sBAAsB,GAAG,MAAM,iBAAiB;AAAA,EAC1E,MAAM,QAAQ,QAAS,IAAG,sBAAsB,GAAG,MAAM,iBAAiB;AAAA;AAAA;AAAA;;;AC7C5E;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA,MACX,OAAO,MAAM;AAAA,MACb,IAAI,MAAM;AAAA,MACV,QAAQ,MAAM;AAAA;AAEhB,QAAI,UAAU,WAAW;AACzB,QAAM,QAAQ;AACd,QAAM,KAAK,CAAC,4BAA4B;AACxC,QAAM,MAAM;AAAA;AAAA;;;AChCZ;AAAA;AAAA;AAIA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,sBAAsB;AAAA,MACxB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,8BAA0B,MAAM;AAC5B,aAAO,oBAAoB,SAAS;AAAA;AAExC,QAAM,kBAAkB;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,GAAG;AAAA;AAEP,8BAA0B,MAAM;AAC5B,aAAO,gBAAgB,SAAS;AAAA;AAEpC,QAAM,qBAAqB;AAAA,MACvB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,iCAA6B,MAAM;AAC/B,aAAO,mBAAmB,SAAS;AAAA;AAGvC,sBAAkB,MAAM;AACpB,aAAO,CAAC,UAAU,OAAO,UAAU;AAAA;AAEvC,QAAM,EAAE,aAAa,OAAO;AAC5B,QAAM,gBAAgB,CAAC,UAAU;AAC7B,YAAM,iBAAiB,SAAS,KAAK,OAAO,MAAM,GAAG;AACrD,UAAI,iBAAiB,KAAK,mBAAmB,GAAG,WAAW,QAAQ;AAC/D,eAAO;AAAA;AAEX,UAAI,iBAAiB,iBAAiB;AAClC,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,QAAM,iBAAiB,CAAC,SAAS,CAAC,UAAU,cAAc,WAAW;AACrE,gBAAY,OAAO;AACf,UAAI,UAAU,MAAM;AAChB,eAAO;AAAA;AAEX,cAAQ,OAAO;AAAA,aACN;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AAAA,aACN;AACD,iBAAO;AAAA;AAAA;AAGf,UAAI,GAAG,WAAW,QAAQ;AACtB,eAAO;AAAA;AAEX,UAAI,GAAG,MAAM,QAAQ;AACjB,eAAO;AAAA;AAEX,UAAI,GAAG,OAAO,QAAQ;AAClB,eAAO;AAAA;AAEX,YAAM,UAAU,cAAc;AAC9B,UAAI,SAAS;AACT,eAAO;AAAA;AAEX,UAAI,iBAAiB,UAAU,iBAAiB,WAAW,iBAAiB,QAAQ;AAChF,cAAM,IAAI,UAAU;AAAA;AAExB,aAAO;AAAA;AAEX,OAAG,YAAY,SAAS;AACxB,OAAG,SAAS,SAAS;AACrB,QAAM,eAAe,SAAS;AAC9B,OAAG,SAAS,CAAC,UAAU,aAAa,UAAU,CAAC,GAAG,IAAI;AACtD,OAAG,SAAS,SAAS;AAErB,OAAG,YAAY,SAAS;AACxB,OAAG,QAAQ,CAAC,UAAU,UAAU;AAChC,OAAG,SAAS,CAAC,UAAU,GAAG,UAAU,UAAU,MAAM,WAAW,WAAW;AAC1E,OAAG,UAAU,CAAC,UAAU,UAAU,QAAQ,UAAU;AACpD,OAAG,SAAS,SAAS;AACrB,OAAG,gBAAgB,CAAC,UAAU,GAAG,OAAO,UAAU,CAAC,GAAG,wBAAwB,UAAU,CAAC,OAAO,MAAM,OAAO;AAC7G,OAAG,QAAQ,CAAC,OAAO,cAAc;AAC7B,UAAI,CAAC,MAAM,QAAQ,QAAQ;AACvB,eAAO;AAAA;AAEX,UAAI,CAAC,GAAG,UAAU,YAAY;AAC1B,eAAO;AAAA;AAEX,aAAO,MAAM,MAAM;AAAA;AAEvB,OAAG,SAAS,CAAC,UAAU;AAAE,UAAI,IAAI,IAAI,IAAI;AAAI,aAAQ,MAAM,MAAM,MAAM,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,cAAc,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,IAAI,YAAY,QAAQ,OAAO,SAAS,KAAK;AAAA;AACpR,OAAG,kBAAkB,CAAC,UAAU,GAAG,MAAM,UAAU,GAAG,UAAU;AAChE,OAAG,SAAS,CAAC,UAAU,CAAC,GAAG,MAAM,UAAW,QAAO,UAAU,YAAY,GAAG,UAAU;AACtF,OAAG,WAAW,CAAC,UAAU;AAAE,UAAI;AAAI,aAAO,GAAG,UAAW,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,OAAO;AAAA;AACnH,OAAG,gBAAgB,CAAC,UAAU;AAAE,UAAI;AAAI,aAAO,GAAG,UAAW,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,OAAO;AAAA;AACxH,OAAG,YAAY,CAAC,UAAU;AAAE,UAAI,IAAI;AAAI,aAAO,GAAG,SAAS,UAAU,GAAG,UAAW,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS,GAAG,UAAW,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA;AAClN,OAAG,iBAAiB,CAAC,UAAU,GAAG,cAAc,UAAU,GAAG,UAAU,MAAM,SAAS,GAAG,UAAU,MAAM;AACzG,OAAG,gBAAgB,CAAC,UAAU,eAAe,WAAW;AACxD,QAAM,gBAAgB,CAAC,UAAU;AAC7B,UAAI,IAAI;AACR,aAAO,GAAG,UAAW,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,SACrE,GAAG,UAAW,MAAK,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA;AAE1E,OAAG,UAAU,CAAC,UAAU,GAAG,cAAc,UAAU,cAAc;AACjE,OAAG,oBAAoB,eAAe;AACtC,OAAG,yBAAyB,CAAC,UAAU,cAAc,WAAW;AAChE,OAAG,gBAAgB,CAAC,UAAU,cAAc,WAAW;AAEvD,OAAG,gBAAgB,CAAC,UAAU,GAAG,UAAU,UAAU,CAAC,MAAM,eAAe;AAC3E,OAAG,SAAS,eAAe;AAC3B,OAAG,OAAO,eAAe;AACzB,OAAG,QAAQ,eAAe;AAC1B,OAAG,MAAM,CAAC,UAAU,eAAe,OAAO;AAC1C,OAAG,MAAM,CAAC,UAAU,eAAe,OAAO;AAC1C,OAAG,UAAU,CAAC,UAAU,eAAe,WAAW;AAClD,OAAG,UAAU,CAAC,UAAU,eAAe,WAAW;AAClD,OAAG,YAAY,eAAe;AAC9B,OAAG,aAAa,eAAe;AAC/B,OAAG,oBAAoB,eAAe;AACtC,OAAG,aAAa,eAAe;AAC/B,OAAG,cAAc,eAAe;AAChC,OAAG,aAAa,eAAe;AAC/B,OAAG,cAAc,eAAe;AAChC,OAAG,eAAe,eAAe;AACjC,OAAG,eAAe,eAAe;AACjC,OAAG,gBAAgB,eAAe;AAClC,OAAG,iBAAiB,eAAe;AACnC,OAAG,cAAc,eAAe;AAChC,OAAG,oBAAoB,eAAe;AACtC,OAAG,WAAW,eAAe;AAC7B,OAAG,mBAAmB,CAAC,UAAU,WAAW,OAAO,eAAe,cAAc,OAAO;AACvF,OAAG,cAAc,CAAC,UAAU,eAAe,OAAO;AAClD,OAAG,YAAY,CAAC,UAAU;AACtB,UAAI,CAAC,GAAG,OAAO,QAAQ;AACnB,eAAO;AAAA;AAEX,UAAI;AACA,YAAI,IAAI;AACR,eAAO;AAAA,eAEJ,IAAP;AACI,eAAO;AAAA;AAAA;AAKf,OAAG,SAAS,CAAC,UAAU,QAAQ;AAE/B,OAAG,QAAQ,CAAC,UAAU,CAAC;AACvB,OAAG,MAAM,CAAC,UAAU,OAAO,MAAM;AACjC,OAAG,YAAY,CAAC,UAAU,GAAG,MAAM,UAAU,oBAAoB,OAAO;AACxE,OAAG,UAAU,CAAC,UAAU,OAAO,UAAU;AACzC,OAAG,cAAc,CAAC,UAAU,OAAO,cAAc;AACjD,OAAG,cAAc,CAAC,UAAU;AAExB,UAAI,SAAS,KAAK,WAAW,mBAAmB;AAC5C,eAAO;AAAA;AAEX,YAAM,YAAY,OAAO,eAAe;AACxC,aAAO,cAAc,QAAQ,cAAc,OAAO,eAAe;AAAA;AAErE,OAAG,aAAa,CAAC,UAAU,iBAAiB,cAAc;AAC1D,QAAM,gBAAgB,CAAC,UAAU,GAAG,YAAY,UAAU,SAAS;AACnE,OAAG,YAAY,CAAC,UAAU,CAAC,GAAG,gBAAgB,UAAU,CAAC,GAAG,UAAU,UAAU,cAAc,MAAM;AACpG,OAAG,UAAU,CAAC,OAAO,UAAU;AAC3B,UAAI,GAAG,OAAO,QAAQ;AAClB,eAAO,SAAS,KAAK,IAAI,GAAG,UAAU,SAAS,KAAK,IAAI,OAAO;AAAA;AAEnE,UAAI,GAAG,MAAM,UAAU,MAAM,WAAW,GAAG;AACvC,eAAO,SAAS,KAAK,IAAI,GAAG,UAAU,SAAS,KAAK,IAAI,GAAG;AAAA;AAE/D,YAAM,IAAI,UAAU,kBAAkB,KAAK,UAAU;AAAA;AAEzD,QAAM,oBAAoB;AAC1B,QAAM,0BAA0B;AAAA,MAC5B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,OAAG,aAAa,CAAC,UAAU;AACvB,aAAO,GAAG,OAAO,UACb,MAAM,aAAa,qBACnB,GAAG,OAAO,MAAM,aAChB,CAAC,GAAG,YAAY,UAChB,wBAAwB,MAAM,cAAY,YAAY;AAAA;AAE9D,OAAG,aAAa,CAAC,UAAU;AACvB,UAAI,IAAI,IAAI,IAAI;AAChB,UAAI,CAAC,OAAO;AACR,eAAO;AAAA;AAGX,UAAI,UAAY,OAAM,MAAK,OAAO,OAAO,iBAAiB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,MAAM;AACrG,eAAO;AAAA;AAEX,UAAI,UAAY,OAAM,MAAK,OAAO,qBAAqB,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK,MAAM;AAClG,eAAO;AAAA;AAEX,aAAO;AAAA;AAEX,OAAG,aAAa,CAAC,UAAU,GAAG,OAAO,UAAU,GAAG,UAAU,MAAM,SAAS,CAAC,GAAG,WAAW;AAC1F,OAAG,WAAW,CAAC,UAAU,UAAU,YAAY,UAAU;AACzD,QAAM,iBAAiB,CAAC,cAAc,CAAC,UAAU,GAAG,QAAQ,UAAU,KAAK,IAAI,QAAQ,OAAO;AAC9F,OAAG,cAAc,eAAe;AAChC,OAAG,aAAa,eAAe;AAC/B,OAAG,aAAa,CAAC,UAAU,GAAG,MAAM,UAAU,MAAM,WAAW;AAC/D,OAAG,gBAAgB,CAAC,UAAU,GAAG,MAAM,UAAU,MAAM,SAAS;AAChE,OAAG,cAAc,CAAC,UAAU,GAAG,OAAO,UAAU,MAAM,WAAW;AAEjE,OAAG,iBAAiB,CAAC,UAAU,GAAG,OAAO,UAAU,MAAM,SAAS;AAClE,QAAM,qBAAqB,CAAC,UAAU,GAAG,OAAO,UAAU,CAAC,KAAK,KAAK;AACrE,OAAG,0BAA0B,CAAC,UAAU,GAAG,YAAY,UAAU,mBAAmB;AACpF,OAAG,cAAc,CAAC,UAAU,GAAG,OAAO,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,IAAI,UAAU,OAAO,KAAK,OAAO,WAAW;AAGlH,OAAG,iBAAiB,CAAC,UAAU,GAAG,OAAO,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,IAAI,UAAU,OAAO,KAAK,OAAO,SAAS;AACnH,OAAG,WAAW,CAAC,UAAU,GAAG,IAAI,UAAU,MAAM,SAAS;AACzD,OAAG,cAAc,CAAC,UAAU,GAAG,IAAI,UAAU,MAAM,OAAO;AAC1D,OAAG,WAAW,CAAC,UAAU,GAAG,IAAI,UAAU,MAAM,SAAS;AACzD,OAAG,cAAc,CAAC,UAAU,GAAG,IAAI,UAAU,MAAM,OAAO;AAE1D,OAAG,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,QAAQ,GAAG,QAAQ,GAAG,SAAS;AACtE,OAAG,WAAW,CAAC,UAAU,eAAe,YAAY;AACpD,OAAG,kBAAkB,CAAC,UAAU,eAAe,mBAAmB;AAClE,QAAM,mBAAmB,CAAC,QAAQ,WAAW,WAAW;AACpD,UAAI,CAAC,GAAG,UAAU,YAAY;AAC1B,cAAM,IAAI,UAAU,sBAAsB,KAAK,UAAU;AAAA;AAE7D,UAAI,OAAO,WAAW,GAAG;AACrB,cAAM,IAAI,UAAU;AAAA;AAExB,aAAO,OAAO,KAAK,QAAQ;AAAA;AAE/B,OAAG,MAAM,CAAC,cAAc,WAAW;AAC/B,YAAM,aAAa,GAAG,MAAM,aAAa,YAAY,CAAC;AACtD,aAAO,WAAW,KAAK,qBAAmB,iBAAiB,MAAM,UAAU,MAAM,iBAAiB;AAAA;AAEtG,OAAG,MAAM,CAAC,cAAc,WAAW,iBAAiB,MAAM,UAAU,OAAO,WAAW;AACtF,QAAM,aAAa,CAAC,WAAW,aAAa,OAAO,UAAU,OAAO;AAChE,UAAI,CAAC,WAAW;AACZ,cAAM,EAAE,mBAAmB;AAC3B,cAAM,gBAAgB,iBAClB,4BAA4B;AAAA,UACxB,GAAG,IAAI,IAAI,MAAM,IAAI,iBAAe,KAAK,GAAG;AAAA,UAC9C,KAAK,UACP,4BAA4B,GAAG;AACnC,cAAM,IAAI,UAAU,6BAA6B,kBAAkB;AAAA;AAAA;AAG3E,aAAQ,SAAS;AAAA,MAEb,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,aAAa;AAAA,MACnE,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAC1D,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAC1D,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAE1D,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,YAAY;AAAA,MAClE,OAAO,CAAC,UAAU,WAAW,GAAG,MAAM,QAAQ,QAAQ;AAAA,MACtD,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,SAAsB;AAAA,MACtE,SAAS,CAAC,UAAU,WAAW,GAAG,QAAQ,QAAQ,WAAW;AAAA,MAC7D,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAC1D,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,wBAA4C;AAAA,MAC1G,OAAO,CAAC,OAAO,cAAc;AACzB,cAAM,SAAS;AACf,eAAO,GAAG,MAAM,QAAQ,SAAS;AACjC,YAAI,WAAW;AACX,gBAAM,QAAQ;AAAA;AAAA;AAAA,MAGtB,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAC1D,iBAAiB,CAAC,UAAU,WAAW,GAAG,gBAAgB,QAAQ,qBAA2C;AAAA,MAC7G,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAC1D,UAAU,CAAC,UAAU,WAAW,GAAG,SAAS,QAAQ,YAA2B;AAAA,MAC/E,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,iBAAqC;AAAA,MACnG,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,aAAa;AAAA,MACnE,gBAAgB,CAAC,UAAU,WAAW,GAAG,eAAe,QAAQ,kBAAkB;AAAA,MAClF,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,kBAAsC;AAAA,MACpG,SAAS,CAAC,UAAU,WAAW,GAAG,QAAQ,QAAQ,WAAW;AAAA,MAC7D,mBAAmB,CAAC,UAAU,WAAW,GAAG,kBAAkB,QAAQ,qBAAqB;AAAA,MAC3F,wBAAwB,CAAC,UAAU,WAAW,GAAG,uBAAuB,QAAQ,0BAA0B;AAAA,MAE1G,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,iBAAiB;AAAA,MAE/E,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,YAAY;AAAA,MAC1E,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAU;AAAA,MAC1D,MAAM,CAAC,UAAU,WAAW,GAAG,KAAK,QAAQ,QAAQ;AAAA,MACpD,OAAO,CAAC,UAAU,WAAW,GAAG,MAAM,QAAQ,SAAS;AAAA,MACvD,KAAK,CAAC,UAAU,WAAW,GAAG,IAAI,QAAQ,OAAO;AAAA,MACjD,KAAK,CAAC,UAAU,WAAW,GAAG,IAAI,QAAQ,OAAO;AAAA,MACjD,SAAS,CAAC,UAAU,WAAW,GAAG,QAAQ,QAAQ,WAAW;AAAA,MAC7D,SAAS,CAAC,UAAU,WAAW,GAAG,QAAQ,QAAQ,WAAW;AAAA,MAC7D,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,aAAa;AAAA,MACnE,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,cAAc;AAAA,MACtE,mBAAmB,CAAC,UAAU,WAAW,GAAG,kBAAkB,QAAQ,qBAAqB;AAAA,MAC3F,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,cAAc;AAAA,MACtE,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,eAAe;AAAA,MACzE,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,cAAc;AAAA,MACtE,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,eAAe;AAAA,MACzE,cAAc,CAAC,UAAU,WAAW,GAAG,aAAa,QAAQ,gBAAgB;AAAA,MAC5E,cAAc,CAAC,UAAU,WAAW,GAAG,aAAa,QAAQ,gBAAgB;AAAA,MAC5E,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,iBAAiB;AAAA,MAC/E,gBAAgB,CAAC,UAAU,WAAW,GAAG,eAAe,QAAQ,kBAAkB;AAAA,MAClF,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,eAAe;AAAA,MACzE,mBAAmB,CAAC,UAAU,WAAW,GAAG,kBAAkB,QAAQ,qBAAqB;AAAA,MAC3F,UAAU,CAAC,UAAU,WAAW,GAAG,SAAS,QAAQ,YAAY;AAAA,MAChE,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,OAAO;AAAA,MACjE,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,qBAAqC;AAAA,MAC3F,QAAQ,CAAC,UAAU,WAAW,GAAG,OAAO,QAAQ,UAAuB;AAAA,MACvE,OAAO,CAAC,UAAU,WAAW,GAAG,MAAM,QAAQ,SAAqB;AAAA,MACnE,KAAK,CAAC,UAAU,WAAW,GAAG,IAAI,QAAQ,OAAiB;AAAA,MAC3D,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,aAA6B;AAAA,MACnF,SAAS,CAAC,UAAU,WAAW,GAAG,QAAQ,QAAQ,WAAyB;AAAA,MAC3E,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,WAA6B;AAAA,MACvF,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,gBAAkC;AAAA,MAC5F,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,cAA+B;AAAA,MACvF,WAAW,CAAC,UAAU,WAAW,GAAG,UAAU,QAAQ,cAA8B;AAAA,MACpF,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,eAAgC;AAAA,MACxF,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,cAAc;AAAA,MACtE,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,kBAAmC;AAAA,MAC3F,UAAU,CAAC,UAAU,WAAW,GAAG,SAAS,QAAQ,mBAAkC;AAAA,MACtF,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,eAAgC;AAAA,MACxF,eAAe,CAAC,UAAU,WAAW,GAAG,cAAc,QAAQ,mBAAuC;AAAA,MACrG,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,gBAAkC;AAAA,MAC5F,gBAAgB,CAAC,UAAU,WAAW,GAAG,eAAe,QAAQ,oBAAyC;AAAA,MACzG,yBAAyB,CAAC,UAAU,WAAW,GAAG,wBAAwB,QAAQ,8BAA4D;AAAA,MAC9I,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,gBAAkC;AAAA,MAC5F,gBAAgB,CAAC,UAAU,WAAW,GAAG,eAAe,QAAQ,oBAAyC;AAAA,MACzG,UAAU,CAAC,UAAU,WAAW,GAAG,SAAS,QAAQ,aAA4B;AAAA,MAChF,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,iBAAmC;AAAA,MAC7F,UAAU,CAAC,UAAU,WAAW,GAAG,SAAS,QAAQ,aAA4B;AAAA,MAChF,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,iBAAmC;AAAA,MAC7F,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,eAAe;AAAA,MACzE,UAAU,CAAC,UAAU,WAAW,GAAG,SAAS,QAAQ,YAAY;AAAA,MAChE,iBAAiB,CAAC,UAAU,WAAW,GAAG,gBAAgB,QAAQ,mBAAmB;AAAA,MAErF,aAAa,CAAC,UAAU,WAAW,GAAG,YAAY,QAAQ,gBAAkC;AAAA,MAC5F,YAAY,CAAC,UAAU,WAAW,GAAG,WAAW,QAAQ,eAAgC;AAAA,MAExF,kBAAkB,CAAC,UAAU,WAAW,WAAW,GAAG,iBAAiB,UAAU,SAAS,KAA4B;AAAA,MACtH,SAAS,CAAC,OAAO,UAAU,WAAW,GAAG,QAAQ,OAAO,QAAQ,YAA0B;AAAA,MAE1F,KAAK,CAAC,cAAc,WAAW;AAC3B,eAAO,WAAW,GAAG,IAAI,WAAW,GAAG,SAAS,0CAAoD,QAAQ,EAAE,gBAAgB;AAAA;AAAA,MAElI,KAAK,CAAC,cAAc,WAAW,WAAW,GAAG,IAAI,WAAW,GAAG,SAAS,2CAAqD,QAAQ,EAAE,gBAAgB;AAAA;AAI3J,WAAO,iBAAiB,IAAI;AAAA,MACxB,OAAO;AAAA,QACH,OAAO,GAAG;AAAA;AAAA,MAEd,UAAU;AAAA,QACN,OAAO,GAAG;AAAA;AAAA,MAEd,MAAM;AAAA,QACF,OAAO,GAAG;AAAA;AAAA;AAGlB,WAAO,iBAAiB,SAAQ,QAAQ;AAAA,MACpC,OAAO;AAAA,QACH,OAAO,SAAQ,OAAO;AAAA;AAAA,MAE1B,UAAU;AAAA,QACN,OAAO,SAAQ,OAAO;AAAA;AAAA,MAE1B,MAAM;AAAA,QACF,OAAO,SAAQ,OAAO;AAAA;AAAA;AAG9B,aAAQ,UAAU;AAElB,YAAO,UAAU;AACjB,YAAO,QAAQ,UAAU;AACzB,YAAO,QAAQ,SAAS,SAAQ;AAAA;AAAA;;;AC1ahC;AAAA;AAAA;AAEA,oCAA0B,MAAM;AAAA,MAC/B,YAAY,QAAQ;AACnB,cAAM,UAAU;AAChB,aAAK,OAAO;AAAA;AAAA,UAGT,aAAa;AAChB,eAAO;AAAA;AAAA;AAIT,4BAAkB;AAAA,aACV,GAAG,QAAQ;AACjB,eAAO,IAAI,eAAe;AACzB,iBAAO,IAAI,YAAY,CAAC,SAAS,QAAQ,aAAa;AACrD,uBAAW,KAAK;AAEhB,mBAAO,GAAG,YAAY,KAAK,SAAS;AAAA;AAAA;AAAA;AAAA,MAKvC,YAAY,UAAU;AACrB,aAAK,kBAAkB;AACvB,aAAK,aAAa;AAClB,aAAK,cAAc;AACnB,aAAK,kBAAkB;AAEvB,aAAK,WAAW,IAAI,QAAQ,CAAC,SAAS,WAAW;AAChD,eAAK,UAAU;AAEf,gBAAM,YAAY,WAAS;AAC1B,gBAAI,CAAC,KAAK,eAAe,CAAC,SAAS,cAAc;AAChD,mBAAK,aAAa;AAClB,sBAAQ;AAAA;AAAA;AAIV,gBAAM,WAAW,WAAS;AACzB,iBAAK,aAAa;AAClB,mBAAO;AAAA;AAGR,gBAAM,WAAW,aAAW;AAC3B,gBAAI,CAAC,KAAK,YAAY;AACrB,oBAAM,IAAI,MAAM;AAAA;AAGjB,iBAAK,gBAAgB,KAAK;AAAA;AAG3B,iBAAO,iBAAiB,UAAU;AAAA,YACjC,cAAc;AAAA,cACb,KAAK,MAAM,KAAK;AAAA,cAChB,KAAK,aAAW;AACf,qBAAK,kBAAkB;AAAA;AAAA;AAAA;AAK1B,iBAAO,SAAS,WAAW,UAAU;AAAA;AAAA;AAAA,MAIvC,KAAK,aAAa,YAAY;AAE7B,eAAO,KAAK,SAAS,KAAK,aAAa;AAAA;AAAA,MAGxC,MAAM,YAAY;AACjB,eAAO,KAAK,SAAS,MAAM;AAAA;AAAA,MAG5B,QAAQ,WAAW;AAClB,eAAO,KAAK,SAAS,QAAQ;AAAA;AAAA,MAG9B,OAAO,QAAQ;AACd,YAAI,CAAC,KAAK,cAAc,KAAK,aAAa;AACzC;AAAA;AAGD,aAAK,cAAc;AAEnB,YAAI,KAAK,gBAAgB,SAAS,GAAG;AACpC,cAAI;AACH,uBAAW,WAAW,KAAK,iBAAiB;AAC3C;AAAA;AAAA,mBAEO,OAAP;AACD,iBAAK,QAAQ;AACb;AAAA;AAAA;AAIF,YAAI,KAAK,iBAAiB;AACzB,eAAK,QAAQ,IAAI,YAAY;AAAA;AAAA;AAAA,UAI3B,aAAa;AAChB,eAAO,KAAK;AAAA;AAAA;AAId,WAAO,eAAe,YAAY,WAAW,QAAQ;AAErD,YAAO,UAAU;AACjB,YAAO,QAAQ,cAAc;AAAA;AAAA;;;AC9G7B;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,yBAAqB,QAAQ;AACzB,aAAO,OAAO;AAAA;AAElB,QAAM,iBAAiB,CAAC,QAAQ,OAAO;AACnC,UAAI;AACJ,UAAI,OAAO,OAAO,YAAY;AAC1B,cAAM,UAAU;AAChB,oBAAY,EAAE;AAAA,aAEb;AACD,oBAAY;AAAA;AAEhB,YAAM,qBAAqB,OAAO,UAAU,YAAY;AACxD,YAAM,2BAA2B,OAAO,UAAU,kBAAkB;AACpE,YAAM,mBAAmB,OAAO,UAAU,UAAU;AACpD,YAAM,YAAY,MAAM;AACpB,YAAI,oBAAoB;AACpB,oBAAU;AAAA;AAEd,YAAI,YAAY,WAAW,0BAA0B;AACjD,cAAI,OAAO,YAAY;AACnB,sBAAU;AAAA,qBAEL,CAAC,OAAO,oBAAoB;AACjC,mBAAO,KAAK,iBAAiB,UAAU;AAAA;AAAA;AAG/C,YAAI,kBAAkB;AAClB,iBAAO,KAAK,SAAS,UAAU;AAAA;AAAA;AAGvC,UAAI,OAAO,YAAY,CAAC,OAAO,YAAY;AACvC;AAAA,iBAEK,OAAO,YAAY;AACxB,eAAO,KAAK,WAAW;AAAA,iBAElB,OAAO,aAAa,kBAAkB;AAC3C,kBAAU,MAAM,OAAO;AAAA;AAAA;AAG/B,aAAQ,UAAU;AAElB,YAAO,UAAU;AACjB,YAAO,QAAQ,UAAU;AAAA;AAAA;;;AC9CzB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,qBAAqB;AAC3B,QAAM,SAAS,QAAQ;AACvB,QAAM,qBAAqB,OAAO,QAAQ,SAAS,KAAK,MAAM,KAAK;AACnE,QAAM,QAAQ,CAAC,YAAY;AACvB,UAAI,QAAQ,SAAS;AACjB,eAAO,QAAQ;AAAA;AAEnB,YAAM,UAAU;AAAA,QACZ,OAAO,KAAK;AAAA,QACZ,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,eAAe;AAAA,QACf,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,KAAK;AAAA,QACL,OAAO;AAAA,QACP,OAAO;AAAA,QACP,QAAQ;AAAA,UACJ,MAAM;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,SAAS;AAAA,UACT,WAAW;AAAA,UACX,UAAU;AAAA,UACV,OAAO;AAAA;AAAA;AAGf,cAAQ,UAAU;AAClB,YAAM,cAAc,CAAC,WAAW;AAC5B,cAAM,OAAO,OAAO,KAAK,KAAK;AAC9B,eAAO,OAAO,CAAC,UAAU,SAAS;AAE9B,cAAI,UAAU,SAAS;AACnB,oBAAQ,QAAQ,KAAK;AACrB,oBAAQ,OAAO,QAAQ,QAAQ,QAAQ,QAAQ;AAC/C,mBAAO,OAAO;AAAA;AAGlB,iBAAO,KAAK,OAAO,GAAG;AAAA;AAAA;AAG9B,kBAAY;AACZ,YAAM,UAAU,MAAM;AAClB,gBAAQ,QAAQ,KAAK;AAGrB,YAAI,CAAC,QAAQ,YAAY,sBAAsB,IAAI;AAC/C,kBAAQ,OAAO,QAAQ,KAAK,QAAQ,QAAQ;AAAA;AAAA;AAGpD,cAAQ,oBAAoB,SAAS;AACrC,YAAM,WAAW,CAAC,WAAW;AACzB,gBAAQ,SAAS,KAAK;AACtB,gBAAQ,OAAO,OAAO,QAAQ,SAAS,QAAQ;AAC/C,YAAI,OAAO,MAAM,QAAQ,SAAS;AAC9B;AAAA;AAEJ,cAAM,iBAAiB,MAAM;AACzB,kBAAQ,SAAS,KAAK;AACtB,kBAAQ,OAAO,MAAM,QAAQ,SAAS,QAAQ;AAAA;AAElD,eAAO,oBAAoB,UAAU;AACrC,2BAAmB,QAAQ,QAAQ;AAAA,UAC/B,SAAS,MAAM;AACX,oBAAQ,UAAU,KAAK;AACvB,gBAAI,QAAQ,WAAW,QAAW;AAC9B,qBAAO,eAAe,UAAU;AAChC,sBAAQ,SAAS,QAAQ;AACzB,sBAAQ,OAAO,MAAM,QAAQ,SAAS,QAAQ;AAAA;AAElD,oBAAQ,OAAO,MAAM,QAAQ,UAAU,QAAQ;AAAA;AAAA,UAInD,eAAe,MAAM;AACjB,oBAAQ,gBAAgB,KAAK;AAC7B,oBAAQ,OAAO,MAAM,QAAQ,gBAAgB,QAAQ;AAAA;AAAA;AAAA;AAIjE,UAAI,QAAQ,QAAQ;AAChB,iBAAS,QAAQ;AAAA,aAEhB;AACD,gBAAQ,oBAAoB,UAAU;AAAA;AAE1C,YAAM,WAAW,MAAM;AACnB,YAAI;AACJ,gBAAQ,SAAS,KAAK;AACtB,gBAAQ,OAAO,UAAU,QAAQ,SAAW,OAAK,QAAQ,mBAAmB,QAAQ,OAAO,SAAS,KAAK,QAAQ;AAAA;AAErH,YAAM,mBAAmB,MAAM;AAC3B,YAAI,OAAO,QAAQ,qBAAqB,WAAW;AAC/C,iBAAO,QAAQ;AAAA;AAGnB,eAAO,QAAQ,YAAY,QAAQ,eAAe,KAAM,EAAC,QAAQ,UAAU,QAAQ,OAAO,mBAAmB;AAAA;AAEjH,UAAI,oBAAoB;AACpB;AAAA,aAEC;AACD,gBAAQ,oBAAoB,UAAU;AAAA;AAE1C,cAAQ,oBAAoB,YAAY,CAAC,aAAa;AAClD,gBAAQ,WAAW,KAAK;AACxB,gBAAQ,OAAO,YAAY,QAAQ,WAAW,QAAQ;AACtD,iBAAS,UAAU;AACnB,oBAAY;AACZ,iBAAS,oBAAoB,OAAO,MAAM;AACtC,kBAAQ,MAAM,KAAK;AACnB,kBAAQ,OAAO,WAAW,QAAQ,MAAM,QAAQ;AAChD,kBAAQ,OAAO,QAAQ,QAAQ,MAAM,QAAQ;AAAA;AAEjD,iBAAS,oBAAoB,WAAW;AAAA;AAE5C,aAAO;AAAA;AAEX,aAAQ,UAAU;AAElB,YAAO,UAAU;AACjB,YAAO,QAAQ,UAAU;AAAA;AAAA;;;AC7HzB;AAAA;AAAA;AACA,QAAM;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA,UAAU;AAAA,QACT,UAAU;AAAA;AAAA,MAEX,QAAQ;AAAA,QACL,QAAQ;AACZ,QAAM,EAAC,cAAa,QAAQ;AAC5B,QAAM,KAAK,QAAQ;AAEnB,QAAM,mCAAmC,OAAO;AAChD,QAAM,2BAA2B,OAAO;AACxC,QAAM,WAAW,OAAO;AAExB,QAAM,cAAc,OAAO,QAAQ;AAEnC,QAAM,cAAc,WAAS;AAC5B,UAAI,CAAE,UAAS,OAAO,MAAM,qBAAqB,aAAa;AAC7D,cAAM,IAAI,MAAM;AAAA;AAAA;AAIlB,QAAM,UAAU,aAAW;AAC1B,iBAAW,SAAS,SAAS;AAC5B,YAAI,MAAM,WAAW,GAAG;AACvB;AAAA;AAGD,cAAM,UAAU,UAAU,MAAM;AAChC,cAAM,SAAS;AAAA;AAAA;AAIjB,QAAM,eAAe,MAAM;AAC1B,UAAI,OAAO;AACX,UAAI,OAAO;AAEX,iBAAW,UAAU,OAAO,OAAO,GAAG,sBAAsB;AAC3D,mBAAW,SAAS,QAAQ;AAC3B,cAAI,MAAM,UAAU;AACnB;AAAA;AAGD,cAAI,MAAM,WAAW,QAAQ;AAC5B,mBAAO;AAAA,iBACD;AACN,mBAAO;AAAA;AAGR,cAAI,QAAQ,MAAM;AACjB,mBAAO,EAAC,MAAM;AAAA;AAAA;AAAA;AAKjB,aAAO,EAAC,MAAM;AAAA;AAGf,QAAM,aAAa,SAAO;AACzB,aAAO,OAAO,YAAY;AAAA;AAG3B,QAAM,MAAM,EAAC,KAAK;AAClB,QAAM,MAAM,EAAC,KAAK;AAElB,gCAAsB;AAAA,MACrB,YAAY;AAAA,QACX,QAAQ,IAAI;AAAA,QACZ,SAAS;AAAA,QACT,mBAAmB;AAAA,QACnB,WAAW;AAAA,QACX,WAAW,IAAI;AAAA,QACf,SAAS;AAAA,UACN,IAAI;AACP,aAAK,SAAS;AACd,aAAK,WAAW;AAEhB,aAAK,SAAS;AACd,aAAK,YAAY;AACjB,aAAK,aAAa,UAAU;AAE5B,YAAI,KAAK,qBAAqB,eAAe;AAC5C,eAAK,YAAY,KAAK,UAAU,SAAS,KAAK,KAAK;AACnD,eAAK,YAAY,KAAK,UAAU,SAAS,KAAK,KAAK;AAAA,eAC7C;AACN,eAAK,YAAY,UAAU,KAAK,UAAU,SAAS,KAAK,KAAK;AAC7D,eAAK,YAAY,UAAU,KAAK,UAAU,SAAS,KAAK,KAAK;AAAA;AAG9D,aAAK,SAAS;AAEd,aAAK,WAAW;AAChB,aAAK,mBAAmB;AACxB,aAAK,uBAAuB,IAAI;AAEhC,YAAI,mBAAmB,GAAG;AACzB,eAAK,YAAY;AAAA,eACX;AACN,eAAK,YAAY;AAEjB,gBAAM,WAAW,YAAY,MAAM;AAClC,iBAAK,qBAAqB;AAAA,aACxB,mBAAmB;AAGtB,cAAI,SAAS,OAAO;AACnB,qBAAS;AAAA;AAAA;AAIX,aAAK,SAAS,KAAK,OAAO,KAAK;AAC/B,aAAK,cAAc,KAAK,YAAY,KAAK;AAAA;AAAA,UAGtC,QAAQ,SAAS;AACpB,aAAK;AAEL,aAAK,UAAU,WAAW;AAAA;AAAA,UAGvB,UAAU;AACb,eAAO,KAAK,UAAU;AAAA;AAAA,MAGvB,OAAO,UAAU,SAAS,UAAU;AACnC,YAAI,OAAO,YAAY,YAAY;AAClC,qBAAW;AACX,oBAAU;AAAA,mBACA,OAAO,YAAY,UAAU;AACvC,oBAAU;AAAA,YACT,QAAQ;AAAA;AAAA;AAIV,YAAI,CAAC,UAAU;AACd,gBAAM,IAAI,MAAM;AAAA;AAIjB,aAAK,YAAY,UAAU,SAAS,KAAK,YAAU;AAClD,cAAI,QAAQ,KAAK;AAChB,qBAAS,MAAM;AAAA,iBACT;AACN,qBAAS,MAAM,OAAO,SAAS,OAAO,QAAQ,OAAO,SAAS,OAAO;AAAA;AAAA,WAEpE;AAAA;AAAA,YAGE,YAAY,UAAU,UAAU,IAAI;AACzC,YAAI,OAAO,YAAY,UAAU;AAChC,oBAAU;AAAA,YACT,QAAQ;AAAA;AAAA;AAIV,YAAI,SAAS,MAAM,KAAK,MAAM;AAE9B,YAAI,QAAQ,WAAW,GAAG;AACzB,gBAAM,WAAW,OAAO,OAAO,WAAS,MAAM,WAAW;AAEzD,cAAI,QAAQ,QAAQ,UAAU;AAC7B,gBAAK,eAAe,QAAQ,QAAQ,OAAQ,SAAS,WAAW,GAAG;AAClE,sBAAQ;AAAA,mBACF;AACN,uBAAS;AAAA;AAAA,iBAEJ;AACN,qBAAS;AAAA;AAAA,mBAEA,QAAQ,WAAW,GAAG;AAChC,mBAAS,OAAO,OAAO,WAAS,MAAM,WAAW;AAAA;AAGlD,YAAI,QAAQ,QAAQ,YAAY;AAC/B,gBAAM,EAAC,WAAU;AACjB,mBAAS,OAAO,OAAO,WAAS,MAAM,WAAW,IAAI,OAAO,OAAO,OAAO;AAAA;AAG3E,YAAI,OAAO,WAAW,GAAG;AACxB,gBAAM,QAAQ,IAAI,MAAM,6BAA6B;AACrD,gBAAM,OAAO;AACb,gBAAM,WAAW;AAEjB,gBAAM;AAAA;AAGP,YAAI,QAAQ,KAAK;AAChB,iBAAO;AAAA;AAGR,eAAO,OAAO;AAAA;AAAA,YAGT,MAAM,UAAU;AACrB,YAAI,SAAS,MAAM,KAAK,OAAO,IAAI;AAEnC,YAAI,CAAC,QAAQ;AACZ,gBAAM,UAAU,KAAK,SAAS;AAE9B,cAAI,SAAS;AACZ,qBAAS,MAAM;AAAA,iBACT;AACN,kBAAM,aAAa,KAAK,cAAc;AACtC,iBAAK,SAAS,YAAY;AAE1B,gBAAI;AACH,uBAAS,MAAM;AAAA,sBACd;AACD,qBAAO,KAAK,SAAS;AAAA;AAAA;AAAA;AAKxB,iBAAS,OAAO,IAAI,WAAS;AAC5B,iBAAO,mBAAI;AAAA;AAGZ,eAAO;AAAA;AAAA,YAGF,SAAS,UAAU;AACxB,cAAM,OAAO,OAAM,YAAW;AAC7B,cAAI;AACH,mBAAO,MAAM;AAAA,mBACL,OAAP;AACD,gBAAI,MAAM,SAAS,aAAa,MAAM,SAAS,aAAa;AAC3D,qBAAO;AAAA;AAGR,kBAAM;AAAA;AAAA;AAKR,cAAM,CAAC,GAAG,QAAQ,MAAM,QAAQ,IAAI;AAAA,UACnC,KAAK,UAAU,UAAU;AAAA,UACzB,KAAK,UAAU,UAAU;AAAA,UACxB,IAAI,aAAW,KAAK;AAEtB,YAAI,OAAO;AACX,YAAI,UAAU;AACd,YAAI,WAAW;AAEf,cAAM,MAAM,KAAK;AAEjB,mBAAW,SAAS,GAAG;AACtB,gBAAM,SAAS;AACf,gBAAM,UAAU,MAAO,MAAM,MAAM;AAEnC,iBAAO,KAAK,IAAI,MAAM,MAAM;AAAA;AAG7B,mBAAW,SAAS,MAAM;AACzB,gBAAM,SAAS;AACf,gBAAM,UAAU,MAAO,MAAM,MAAM;AAEnC,oBAAU,KAAK,IAAI,SAAS,MAAM;AAAA;AAGnC,YAAI,EAAE,SAAS,GAAG;AACjB,cAAI,KAAK,SAAS,GAAG;AACpB,uBAAW,KAAK,IAAI,MAAM;AAAA,iBACpB;AACN,uBAAW;AAAA;AAAA,eAEN;AACN,qBAAW;AAAA;AAGZ,eAAO;AAAA,UACN,SAAS;AAAA,YACR,GAAG;AAAA,YACH,GAAG;AAAA;AAAA,UAEJ;AAAA;AAAA;AAAA,YAII,QAAQ,UAAU;AACvB,YAAI;AACH,gBAAM,UAAU,MAAM,KAAK,WAAW,UAAU;AAAA,YAC/C,KAAK;AAAA;AAGN,iBAAO;AAAA,YACN;AAAA,YACA,UAAU;AAAA;AAAA,iBAEH,GAAP;AACD,iBAAO;AAAA,YACN,SAAS;AAAA,YACT,UAAU;AAAA;AAAA;AAAA;AAAA,YAKP,KAAK,UAAU,MAAM,UAAU;AACpC,YAAI,KAAK,SAAS,KAAK,WAAW,GAAG;AACpC,qBAAW,KAAK,IAAI,UAAU,KAAK,UAAU;AAC7C,eAAK,YAAY,KAAK,QAAQ;AAE9B,cAAI;AACH,kBAAM,KAAK,OAAO,IAAI,UAAU,MAAM;AAAA,mBAC9B,OAAP;AACD,iBAAK,cAAc,YAAY;AAC9B,oBAAM,aAAa,IAAI,MAAM;AAC7B,yBAAW,QAAQ;AAEnB,oBAAM;AAAA;AAAA;AAIR,cAAI,WAAW,KAAK,SAAS;AAC5B,iBAAK,MAAM;AAAA;AAAA;AAAA;AAAA,YAKR,cAAc,UAAU;AAC7B,YAAI,KAAK,qBAAqB,IAAI,WAAW;AAC5C,iBAAO,KAAK,WAAW,UAAU;AAAA;AAGlC,YAAI,QAAQ,MAAM,KAAK,SAAS;AAEhC,YAAI,MAAM,QAAQ,WAAW,KAAK,KAAK,WAAW;AACjD,kBAAQ,MAAM,KAAK,QAAQ;AAE3B,cAAI,MAAM,QAAQ,WAAW,GAAG;AAE/B,iBAAK,qBAAqB,IAAI;AAAA;AAAA;AAIhC,cAAM,WAAW,MAAM,QAAQ,WAAW,IAAI,KAAK,WAAW,MAAM;AACpE,cAAM,KAAK,KAAK,UAAU,MAAM,SAAS;AAEzC,eAAO,MAAM;AAAA;AAAA,MAGd,MAAM,IAAI;AACT,cAAM,kBAAkB,KAAK;AAE7B,YAAI,CAAC,mBAAmB,KAAK,iBAAiB;AAC7C,uBAAa,KAAK;AAElB,eAAK,mBAAmB;AAExB,eAAK,kBAAkB,WAAW,MAAM;AACvC,iBAAK,mBAAmB;AAExB,gBAAI,aAAa;AAEjB,kBAAM,MAAM,KAAK;AAEjB,uBAAW,CAAC,UAAU,YAAY,KAAK,QAAQ;AAC9C,oBAAM,UAAU,QAAQ;AAExB,kBAAI,OAAO,SAAS;AACnB,qBAAK,OAAO,OAAO;AAAA,yBACT,UAAU,YAAY;AAChC,6BAAa;AAAA;AAAA;AAIf,gBAAI,eAAe,UAAU;AAC5B,mBAAK,MAAM,aAAa;AAAA;AAAA,aAEvB;AAGH,cAAI,KAAK,gBAAgB,OAAO;AAC/B,iBAAK,gBAAgB;AAAA;AAAA;AAAA;AAAA,MAKxB,QAAQ,OAAO;AACd,oBAAY;AAEZ,YAAI,oCAAoC,OAAO;AAC9C,gBAAM,IAAI,MAAM;AAAA;AAGjB,cAAM,oCAAoC,MAAM;AAChD,cAAM,4BAA4B;AAElC,cAAM,mBAAmB,CAAC,SAAS,aAAa;AAC/C,cAAI,CAAE,aAAY,UAAU;AAC3B,oBAAQ,SAAS,KAAK;AAAA;AAGvB,iBAAO,MAAM,kCAAkC,SAAS;AAAA;AAAA;AAAA,MAI1D,UAAU,OAAO;AAChB,oBAAY;AAEZ,YAAI,MAAM,mCAAmC;AAC5C,cAAI,MAAM,8BAA8B,MAAM;AAC7C,kBAAM,IAAI,MAAM;AAAA;AAGjB,gBAAM,mBAAmB,MAAM;AAE/B,iBAAO,MAAM;AACb,iBAAO,MAAM;AAAA;AAAA;AAAA,MAIf,sBAAsB;AACrB,cAAM,EAAC,WAAU;AAEjB,aAAK,SAAS;AAEd,YAAK,OAAO,QAAQ,CAAC,KAAK,OAAO,QAAU,OAAO,QAAQ,CAAC,KAAK,OAAO,MAAO;AAC7E,eAAK,OAAO;AAAA;AAAA;AAAA,MAId,MAAM,UAAU;AACf,YAAI,UAAU;AACb,eAAK,OAAO,OAAO;AACnB;AAAA;AAGD,aAAK,OAAO;AAAA;AAAA;AAId,YAAO,UAAU;AACjB,YAAO,QAAQ,UAAU;AAAA;AAAA;;;ACnbzB;AAAA;AAAA;AAGA,QAAM,6BAA6B;AACnC,QAAM,2BAA2B;AAEjC,QAAM,gBAAgB,CAAC,MAAM,YAAY;AACxC,aAAO,QAAQ,KAAK,YAAU,kBAAkB,SAAS,OAAO,KAAK,QAAQ,WAAW;AAAA;AAGzF,QAAM,mBAAmB,CAAC,WAAW,EAAC,gBAAe;AACpD,YAAM,QAAQ,0DAA0D,KAAK;AAE7E,UAAI,CAAC,OAAO;AACX,cAAM,IAAI,MAAM,gBAAgB;AAAA;AAGjC,UAAI,EAAC,MAAM,MAAM,SAAQ,MAAM;AAC/B,YAAM,YAAY,KAAK,MAAM;AAC7B,aAAO,YAAY,KAAK;AAExB,UAAI,WAAW;AACf,UAAI,UAAU,UAAU,SAAS,OAAO,UAAU;AACjD,kBAAU;AACV,mBAAW;AAAA;AAIZ,YAAM,WAAY,WAAU,WAAW,IAAI;AAC3C,YAAM,aAAa,UACjB,IAAI,eAAa;AACjB,YAAI,CAAC,KAAK,QAAQ,MAAM,UAAU,MAAM,KAAK,IAAI,YAAU,OAAO;AAGlE,YAAI,QAAQ,WAAW;AACtB,kBAAQ,MAAM;AAEd,cAAI,UAAU,0BAA0B;AACvC,mBAAO;AAAA;AAAA;AAIT,eAAO,GAAG,MAAM,QAAQ,IAAI,UAAU;AAAA,SAEtC,OAAO;AAET,YAAM,sBAAsB;AAAA,QAC3B,GAAG;AAAA;AAGJ,UAAI,UAAU;AACb,4BAAoB,KAAK;AAAA;AAG1B,UAAI,oBAAoB,WAAW,KAAM,YAAY,aAAa,4BAA6B;AAC9F,4BAAoB,QAAQ;AAAA;AAG7B,aAAO,QAAQ,oBAAoB,KAAK,QAAQ,WAAW,KAAK,SAAS,OAAO,OAAO,IAAI,SAAS;AAAA;AAGrG,QAAM,eAAe,CAAC,WAAW,YAAY;AAC5C,gBAAU;AAAA,QACT,iBAAiB;AAAA,QACjB,mBAAmB;AAAA,QACnB,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,qBAAqB;AAAA,QACrB,WAAW;AAAA,QACX,mBAAmB;AAAA,QACnB,UAAU;AAAA,QACV,uBAAuB,CAAC;AAAA,QACxB,qBAAqB;AAAA,QACrB,mBAAmB;AAAA,QACnB,sBAAsB;AAAA,QACtB,qBAAqB;AAAA,SAClB;AAGJ,kBAAY,UAAU;AAGtB,UAAI,UAAU,KAAK,YAAY;AAC9B,eAAO,iBAAiB,WAAW;AAAA;AAGpC,UAAI,iBAAiB,KAAK,YAAY;AACrC,cAAM,IAAI,MAAM;AAAA;AAGjB,YAAM,sBAAsB,UAAU,WAAW;AACjD,YAAM,gBAAgB,CAAC,uBAAuB,SAAS,KAAK;AAG5D,UAAI,CAAC,eAAe;AACnB,oBAAY,UAAU,QAAQ,4BAA4B,QAAQ;AAAA;AAGnE,YAAM,SAAS,IAAI,IAAI;AAEvB,UAAI,QAAQ,aAAa,QAAQ,YAAY;AAC5C,cAAM,IAAI,MAAM;AAAA;AAGjB,UAAI,QAAQ,aAAa,OAAO,aAAa,UAAU;AACtD,eAAO,WAAW;AAAA;AAGnB,UAAI,QAAQ,cAAc,OAAO,aAAa,SAAS;AACtD,eAAO,WAAW;AAAA;AAInB,UAAI,QAAQ,qBAAqB;AAChC,eAAO,WAAW;AAClB,eAAO,WAAW;AAAA;AAInB,UAAI,QAAQ,WAAW;AACtB,eAAO,OAAO;AAAA,iBACJ,QAAQ,mBAAmB;AACrC,eAAO,OAAO,OAAO,KAAK,QAAQ,kBAAkB;AAAA;AAIrD,UAAI,OAAO,UAAU;AACpB,eAAO,WAAW,OAAO,SAAS,QAAQ,6CAA6C;AAAA;AAIxF,UAAI,OAAO,UAAU;AACpB,YAAI;AACH,iBAAO,WAAW,UAAU,OAAO;AAAA,iBAC3B,GAAP;AAAA;AAAA;AAIH,UAAI,QAAQ,yBAAyB,MAAM;AAC1C,gBAAQ,uBAAuB,CAAC;AAAA;AAGjC,UAAI,MAAM,QAAQ,QAAQ,yBAAyB,QAAQ,qBAAqB,SAAS,GAAG;AAC3F,YAAI,iBAAiB,OAAO,SAAS,MAAM;AAC3C,cAAM,gBAAgB,eAAe,eAAe,SAAS;AAE7D,YAAI,cAAc,eAAe,QAAQ,uBAAuB;AAC/D,2BAAiB,eAAe,MAAM,GAAG,eAAe,SAAS;AACjE,iBAAO,WAAW,eAAe,MAAM,GAAG,KAAK,OAAO;AAAA;AAAA;AAIxD,UAAI,OAAO,UAAU;AAEpB,eAAO,WAAW,OAAO,SAAS,QAAQ,OAAO;AAGjD,YAAI,QAAQ,YAAY,4DAA4D,KAAK,OAAO,WAAW;AAK1G,iBAAO,WAAW,OAAO,SAAS,QAAQ,UAAU;AAAA;AAAA;AAKtD,UAAI,MAAM,QAAQ,QAAQ,wBAAwB;AACjD,mBAAW,OAAO,CAAC,GAAG,OAAO,aAAa,SAAS;AAClD,cAAI,cAAc,KAAK,QAAQ,wBAAwB;AACtD,mBAAO,aAAa,OAAO;AAAA;AAAA;AAAA;AAK9B,UAAI,QAAQ,0BAA0B,MAAM;AAC3C,eAAO,SAAS;AAAA;AAIjB,UAAI,QAAQ,qBAAqB;AAChC,eAAO,aAAa;AAAA;AAGrB,UAAI,QAAQ,qBAAqB;AAChC,eAAO,WAAW,OAAO,SAAS,QAAQ,OAAO;AAAA;AAGlD,YAAM,eAAe;AAGrB,kBAAY,OAAO;AAEnB,UAAI,CAAC,QAAQ,qBAAqB,OAAO,aAAa,OAAO,CAAC,aAAa,SAAS,QAAQ,OAAO,SAAS,IAAI;AAC/G,oBAAY,UAAU,QAAQ,OAAO;AAAA;AAItC,UAAK,SAAQ,uBAAuB,OAAO,aAAa,QAAQ,OAAO,SAAS,MAAM,QAAQ,mBAAmB;AAChH,oBAAY,UAAU,QAAQ,OAAO;AAAA;AAItC,UAAI,uBAAuB,CAAC,QAAQ,mBAAmB;AACtD,oBAAY,UAAU,QAAQ,cAAc;AAAA;AAI7C,UAAI,QAAQ,eAAe;AAC1B,oBAAY,UAAU,QAAQ,qBAAqB;AAAA;AAGpD,aAAO;AAAA;AAGR,YAAO,UAAU;AAAA;AAAA;;;ACvNjB;AAAA;AAKA,YAAO,UAAU;AACjB,oBAAiB,IAAI,IAAI;AACvB,UAAI,MAAM;AAAI,eAAO,OAAO,IAAI;AAEhC,UAAI,OAAO,OAAO;AAChB,cAAM,IAAI,UAAU;AAEtB,aAAO,KAAK,IAAI,QAAQ,SAAU,GAAG;AACnC,gBAAQ,KAAK,GAAG;AAAA;AAGlB,aAAO;AAEP,yBAAmB;AACjB,YAAI,OAAO,IAAI,MAAM,UAAU;AAC/B,iBAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,eAAK,KAAK,UAAU;AAAA;AAEtB,YAAI,MAAM,GAAG,MAAM,MAAM;AACzB,YAAI,MAAK,KAAK,KAAK,SAAO;AAC1B,YAAI,OAAO,QAAQ,cAAc,QAAQ,KAAI;AAC3C,iBAAO,KAAK,KAAI,QAAQ,SAAU,GAAG;AACnC,gBAAI,KAAK,IAAG;AAAA;AAAA;AAGhB,eAAO;AAAA;AAAA;AAAA;AAAA;;;AC9BX;AAAA;AAAA,QAAI,SAAS;AACb,YAAO,UAAU,OAAO;AACxB,YAAO,QAAQ,SAAS,OAAO;AAE/B,SAAK,QAAQ,KAAK,WAAY;AAC5B,aAAO,eAAe,SAAS,WAAW,QAAQ;AAAA,QAChD,OAAO,WAAY;AACjB,iBAAO,KAAK;AAAA;AAAA,QAEd,cAAc;AAAA;AAGhB,aAAO,eAAe,SAAS,WAAW,cAAc;AAAA,QACtD,OAAO,WAAY;AACjB,iBAAO,WAAW;AAAA;AAAA,QAEpB,cAAc;AAAA;AAAA;AAIlB,kBAAe,IAAI;AACjB,UAAI,IAAI,WAAY;AAClB,YAAI,EAAE;AAAQ,iBAAO,EAAE;AACvB,UAAE,SAAS;AACX,eAAO,EAAE,QAAQ,GAAG,MAAM,MAAM;AAAA;AAElC,QAAE,SAAS;AACX,aAAO;AAAA;AAGT,wBAAqB,IAAI;AACvB,UAAI,IAAI,WAAY;AAClB,YAAI,EAAE;AACJ,gBAAM,IAAI,MAAM,EAAE;AACpB,UAAE,SAAS;AACX,eAAO,EAAE,QAAQ,GAAG,MAAM,MAAM;AAAA;AAElC,UAAI,OAAO,GAAG,QAAQ;AACtB,QAAE,YAAY,OAAO;AACrB,QAAE,SAAS;AACX,aAAO;AAAA;AAAA;AAAA;;;ACxCT;AAAA;AAAA,QAAI,OAAO;AAEX,QAAI,OAAO,WAAW;AAAA;AAEtB,QAAI,YAAY,SAAS,QAAQ;AAChC,aAAO,OAAO,aAAa,OAAO,OAAO,UAAU;AAAA;AAGpD,QAAI,iBAAiB,SAAS,QAAQ;AACrC,aAAO,OAAO,SAAS,MAAM,QAAQ,OAAO,UAAU,OAAO,MAAM,WAAW;AAAA;AAG/E,QAAI,MAAM,SAAS,QAAQ,MAAM,UAAU;AAC1C,UAAI,OAAO,SAAS;AAAY,eAAO,IAAI,QAAQ,MAAM;AACzD,UAAI,CAAC;AAAM,eAAO;AAElB,iBAAW,KAAK,YAAY;AAE5B,UAAI,KAAK,OAAO;AAChB,UAAI,KAAK,OAAO;AAChB,UAAI,WAAW,KAAK,YAAa,KAAK,aAAa,SAAS,OAAO;AACnE,UAAI,WAAW,KAAK,YAAa,KAAK,aAAa,SAAS,OAAO;AACnE,UAAI,YAAY;AAEhB,UAAI,iBAAiB,WAAW;AAC/B,YAAI,CAAC,OAAO;AAAU;AAAA;AAGvB,UAAI,WAAW,WAAW;AACzB,mBAAW;AACX,YAAI,CAAC;AAAU,mBAAS,KAAK;AAAA;AAG9B,UAAI,QAAQ,WAAW;AACtB,mBAAW;AACX,YAAI,CAAC;AAAU,mBAAS,KAAK;AAAA;AAG9B,UAAI,SAAS,SAAS,UAAU;AAC/B,iBAAS,KAAK,QAAQ,WAAW,IAAI,MAAM,6BAA6B,YAAY;AAAA;AAGrF,UAAI,UAAU,SAAS,KAAK;AAC3B,iBAAS,KAAK,QAAQ;AAAA;AAGvB,UAAI,UAAU,WAAW;AACxB,gBAAQ,SAAS;AAAA;AAGlB,UAAI,kBAAkB,WAAW;AAChC,YAAI;AAAW;AACf,YAAI,YAAY,CAAE,OAAO,IAAG,SAAS,CAAC,GAAG;AAAa,iBAAO,SAAS,KAAK,QAAQ,IAAI,MAAM;AAC7F,YAAI,YAAY,CAAE,OAAO,IAAG,SAAS,CAAC,GAAG;AAAa,iBAAO,SAAS,KAAK,QAAQ,IAAI,MAAM;AAAA;AAG9F,UAAI,YAAY,WAAW;AAC1B,eAAO,IAAI,GAAG,UAAU;AAAA;AAGzB,UAAI,UAAU,SAAS;AACtB,eAAO,GAAG,YAAY;AACtB,eAAO,GAAG,SAAS;AACnB,YAAI,OAAO;AAAK;AAAA;AACX,iBAAO,GAAG,WAAW;AAAA,iBAChB,YAAY,CAAC,IAAI;AAC3B,eAAO,GAAG,OAAO;AACjB,eAAO,GAAG,SAAS;AAAA;AAGpB,UAAI,eAAe;AAAS,eAAO,GAAG,QAAQ;AAE9C,aAAO,GAAG,OAAO;AACjB,aAAO,GAAG,UAAU;AACpB,UAAI,KAAK,UAAU;AAAO,eAAO,GAAG,SAAS;AAC7C,aAAO,GAAG,SAAS;AAEnB,aAAO,WAAW;AACjB,oBAAY;AACZ,eAAO,eAAe,YAAY;AAClC,eAAO,eAAe,SAAS;AAC/B,eAAO,eAAe,WAAW;AACjC,YAAI,OAAO;AAAK,iBAAO,IAAI,eAAe,UAAU;AACpD,eAAO,eAAe,OAAO;AAC7B,eAAO,eAAe,SAAS;AAC/B,eAAO,eAAe,UAAU;AAChC,eAAO,eAAe,QAAQ;AAC9B,eAAO,eAAe,OAAO;AAC7B,eAAO,eAAe,SAAS;AAC/B,eAAO,eAAe,SAAS;AAAA;AAAA;AAIjC,YAAO,UAAU;AAAA;AAAA;;;AC7FjB;AAAA;AAAA,QAAI,OAAO;AACX,QAAI,MAAM;AACV,QAAI,KAAK,QAAQ;AAEjB,QAAI,OAAO,WAAY;AAAA;AACvB,QAAI,UAAU,SAAS,KAAK,QAAQ;AAEpC,QAAI,OAAO,SAAU,IAAI;AACvB,aAAO,OAAO,OAAO;AAAA;AAGvB,QAAI,OAAO,SAAU,QAAQ;AAC3B,UAAI,CAAC;AAAS,eAAO;AACrB,UAAI,CAAC;AAAI,eAAO;AAChB,aAAQ,mBAAmB,IAAG,cAAc,SAAS,kBAAmB,IAAG,eAAe,UAAU,KAAK,OAAO;AAAA;AAGlH,QAAI,YAAY,SAAU,QAAQ;AAChC,aAAO,OAAO,aAAa,KAAK,OAAO;AAAA;AAGzC,QAAI,YAAY,SAAU,QAAQ,SAAS,SAAS,UAAU;AAC5D,iBAAW,KAAK;AAEhB,UAAI,SAAS;AACb,aAAO,GAAG,SAAS,WAAY;AAC7B,iBAAS;AAAA;AAGX,UAAI,QAAQ,EAAC,UAAU,SAAS,UAAU,WAAU,SAAU,KAAK;AACjE,YAAI;AAAK,iBAAO,SAAS;AACzB,iBAAS;AACT;AAAA;AAGF,UAAI,YAAY;AAChB,aAAO,SAAU,KAAK;AACpB,YAAI;AAAQ;AACZ,YAAI;AAAW;AACf,oBAAY;AAEZ,YAAI,KAAK;AAAS,iBAAO,OAAO,MAAM;AACtC,YAAI,UAAU;AAAS,iBAAO,OAAO;AAErC,YAAI,KAAK,OAAO;AAAU,iBAAO,OAAO;AAExC,iBAAS,OAAO,IAAI,MAAM;AAAA;AAAA;AAI9B,QAAI,OAAO,SAAU,IAAI;AACvB;AAAA;AAGF,QAAI,OAAO,SAAU,MAAM,IAAI;AAC7B,aAAO,KAAK,KAAK;AAAA;AAGnB,QAAI,OAAO,WAAY;AACrB,UAAI,UAAU,MAAM,UAAU,MAAM,KAAK;AACzC,UAAI,WAAW,KAAK,QAAQ,QAAQ,SAAS,MAAM,SAAS,QAAQ,SAAS;AAE7E,UAAI,MAAM,QAAQ,QAAQ;AAAK,kBAAU,QAAQ;AACjD,UAAI,QAAQ,SAAS;AAAG,cAAM,IAAI,MAAM;AAExC,UAAI;AACJ,UAAI,WAAW,QAAQ,IAAI,SAAU,QAAQ,GAAG;AAC9C,YAAI,UAAU,IAAI,QAAQ,SAAS;AACnC,YAAI,UAAU,IAAI;AAClB,eAAO,UAAU,QAAQ,SAAS,SAAS,SAAU,KAAK;AACxD,cAAI,CAAC;AAAO,oBAAQ;AACpB,cAAI;AAAK,qBAAS,QAAQ;AAC1B,cAAI;AAAS;AACb,mBAAS,QAAQ;AACjB,mBAAS;AAAA;AAAA;AAIb,aAAO,QAAQ,OAAO;AAAA;AAGxB,YAAO,UAAU;AAAA;AAAA;;;ACjFjB;AAAA;AAAA;AACA,QAAM,EAAC,aAAa,sBAAqB,QAAQ;AAEjD,YAAO,UAAU,aAAW;AAC3B,gBAAU,mBAAI;AAEd,YAAM,EAAC,UAAS;AAChB,UAAI,EAAC,aAAY;AACjB,YAAM,WAAW,aAAa;AAC9B,UAAI,aAAa;AAEjB,UAAI,OAAO;AACV,qBAAa,CAAE,aAAY;AAAA,aACrB;AACN,mBAAW,YAAY;AAAA;AAGxB,UAAI,UAAU;AACb,mBAAW;AAAA;AAGZ,YAAM,SAAS,IAAI,kBAAkB,EAAC;AAEtC,UAAI,UAAU;AACb,eAAO,YAAY;AAAA;AAGpB,UAAI,SAAS;AACb,YAAM,SAAS;AAEf,aAAO,GAAG,QAAQ,WAAS;AAC1B,eAAO,KAAK;AAEZ,YAAI,YAAY;AACf,mBAAS,OAAO;AAAA,eACV;AACN,oBAAU,MAAM;AAAA;AAAA;AAIlB,aAAO,mBAAmB,MAAM;AAC/B,YAAI,OAAO;AACV,iBAAO;AAAA;AAGR,eAAO,WAAW,OAAO,OAAO,QAAQ,UAAU,OAAO,KAAK;AAAA;AAG/D,aAAO,oBAAoB,MAAM;AAEjC,aAAO;AAAA;AAAA;AAAA;;;AClDR;AAAA;AAAA;AACA,QAAM,EAAC,WAAW,oBAAmB,QAAQ;AAC7C,QAAM,OAAO;AACb,QAAM,eAAe;AAErB,uCAA6B,MAAM;AAAA,MAClC,cAAc;AACb,cAAM;AACN,aAAK,OAAO;AAAA;AAAA;AAId,6BAAyB,aAAa,SAAS;AAC9C,UAAI,CAAC,aAAa;AACjB,eAAO,QAAQ,OAAO,IAAI,MAAM;AAAA;AAGjC,gBAAU;AAAA,QACT,WAAW;AAAA,SACR;AAGJ,YAAM,EAAC,cAAa;AAEpB,UAAI;AACJ,YAAM,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,cAAM,gBAAgB,WAAS;AAE9B,cAAI,SAAS,OAAO,uBAAuB,gBAAgB,YAAY;AACtE,kBAAM,eAAe,OAAO;AAAA;AAG7B,iBAAO;AAAA;AAGR,iBAAS,KAAK,aAAa,aAAa,UAAU,WAAS;AAC1D,cAAI,OAAO;AACV,0BAAc;AACd;AAAA;AAGD;AAAA;AAGD,eAAO,GAAG,QAAQ,MAAM;AACvB,cAAI,OAAO,sBAAsB,WAAW;AAC3C,0BAAc,IAAI;AAAA;AAAA;AAAA;AAKrB,aAAO,OAAO;AAAA;AAGf,YAAO,UAAU;AAEjB,YAAO,QAAQ,UAAU;AACzB,YAAO,QAAQ,SAAS,CAAC,QAAQ,YAAY,UAAU,QAAQ,iCAAI,UAAJ,EAAa,UAAU;AACtF,YAAO,QAAQ,QAAQ,CAAC,QAAQ,YAAY,UAAU,QAAQ,iCAAI,UAAJ,EAAa,OAAO;AAClF,YAAO,QAAQ,iBAAiB;AAAA;AAAA;;;AC3DhC;AAAA;AAAA;AAEA,QAAM,+BAA+B,IAAI,IAAI;AAAA,MACzC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAIJ,QAAM,qBAAqB,IAAI,IAAI;AAAA,MAC/B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAGJ,QAAM,mBAAmB,IAAI,IAAI;AAAA,MAC7B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAGJ,QAAM,kBAAkB;AAAA,MACpB,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,sBAAsB;AAAA,MACtB,uBAAuB;AAAA,MACvB,IAAI;AAAA,MACJ,SAAS;AAAA,MACT,qBAAqB;AAAA,MACrB,SAAS;AAAA;AAGb,QAAM,iCAAiC;AAAA,MAEnC,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,qBAAqB;AAAA,MACrB,iBAAiB;AAAA;AAGrB,4BAAwB,GAAG;AACvB,YAAM,IAAI,SAAS,GAAG;AACtB,aAAO,SAAS,KAAK,IAAI;AAAA;AAI7B,6BAAyB,UAAU;AAE/B,UAAG,CAAC,UAAU;AACV,eAAO;AAAA;AAEX,aAAO,iBAAiB,IAAI,SAAS;AAAA;AAGzC,+BAA2B,QAAQ;AAC/B,YAAM,KAAK;AACX,UAAI,CAAC;AAAQ,eAAO;AAIpB,YAAM,QAAQ,OAAO,OAAO,MAAM;AAClC,iBAAW,QAAQ,OAAO;AACtB,cAAM,CAAC,GAAG,KAAK,KAAK,MAAM,WAAW;AACrC,WAAG,KAAK,MAAM,SAAY,OAAO,EAAE,QAAQ,UAAU;AAAA;AAGzD,aAAO;AAAA;AAGX,gCAA4B,IAAI;AAC5B,UAAI,QAAQ;AACZ,iBAAW,KAAK,IAAI;AAChB,cAAM,IAAI,GAAG;AACb,cAAM,KAAK,MAAM,OAAO,IAAI,IAAI,MAAM;AAAA;AAE1C,UAAI,CAAC,MAAM,QAAQ;AACf,eAAO;AAAA;AAEX,aAAO,MAAM,KAAK;AAAA;AAGtB,YAAO,UAAU,kBAAkB;AAAA,MAC/B,YACI,KACA,KACA;AAAA,QACI;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,UACA,IACN;AACE,YAAI,aAAa;AACb,eAAK,YAAY;AACjB;AAAA;AAGJ,YAAI,CAAC,OAAO,CAAC,IAAI,SAAS;AACtB,gBAAM,MAAM;AAAA;AAEhB,aAAK,yBAAyB;AAE9B,aAAK,gBAAgB,KAAK;AAC1B,aAAK,YAAY,WAAW;AAC5B,aAAK,kBACD,AAAc,mBAAd,SAA+B,iBAAiB;AACpD,aAAK,mBACD,AAAc,2BAAd,SACM,yBACA,KAAK,OAAO;AAEtB,aAAK,UAAU,YAAY,MAAM,IAAI,SAAS;AAC9C,aAAK,cAAc,IAAI;AACvB,aAAK,SAAS,kBAAkB,IAAI,QAAQ;AAC5C,aAAK,UAAU,YAAY,MAAM,IAAI,SAAS;AAC9C,aAAK,OAAO,IAAI;AAChB,aAAK,QAAQ,IAAI,QAAQ;AACzB,aAAK,mBAAmB,CAAC,IAAI,QAAQ;AACrC,aAAK,cAAc,IAAI,QAAQ,OAAO,IAAI,UAAU;AACpD,aAAK,SAAS,kBAAkB,IAAI,QAAQ;AAI5C,YACI,mBACA,eAAe,KAAK,UACpB,gBAAgB,KAAK,QACvB;AACE,iBAAO,KAAK,OAAO;AACnB,iBAAO,KAAK,OAAO;AACnB,iBAAO,KAAK,OAAO;AACnB,iBAAO,KAAK,OAAO;AACnB,iBAAO,KAAK,OAAO;AACnB,eAAK,cAAc,OAAO,OAAO,IAAI,KAAK,aAAa;AAAA,YACnD,iBAAiB,mBAAmB,KAAK;AAAA;AAE7C,iBAAO,KAAK,YAAY;AACxB,iBAAO,KAAK,YAAY;AAAA;AAK5B,YACI,IAAI,QAAQ,oBAAoB,QAChC,WAAW,KAAK,IAAI,QAAQ,SAC9B;AACE,eAAK,OAAO,cAAc;AAAA;AAAA;AAAA,MAIlC,MAAM;AACF,eAAO,KAAK;AAAA;AAAA,MAGhB,WAAW;AAEP,eAAO,CAAC,CACJ,EAAC,KAAK,OAAO,eAGZ,CAAU,KAAK,YAAf,SACG,AAAW,KAAK,YAAhB,UACC,AAAW,KAAK,YAAhB,UAA2B,KAAK,6BAErC,mBAAmB,IAAI,KAAK,YAE5B,CAAC,KAAK,OAAO,eAEZ,EAAC,KAAK,aAAa,CAAC,KAAK,OAAO,YAEhC,EAAC,KAAK,aACH,KAAK,oBACL,KAAK,kCAGR,MAAK,YAAY,WAId,KAAK,OAAO,cACX,KAAK,aAAa,KAAK,OAAO,eAC/B,KAAK,OAAO,UAEZ,6BAA6B,IAAI,KAAK;AAAA;AAAA,MAIlD,yBAAyB;AAErB,eACK,KAAK,aAAa,KAAK,OAAO,eAC/B,KAAK,OAAO,cACZ,KAAK,YAAY;AAAA;AAAA,MAIzB,yBAAyB,KAAK;AAC1B,YAAI,CAAC,OAAO,CAAC,IAAI,SAAS;AACtB,gBAAM,MAAM;AAAA;AAAA;AAAA,MAIpB,6BAA6B,KAAK;AAC9B,aAAK,yBAAyB;AAK9B,cAAM,YAAY,kBAAkB,IAAI,QAAQ;AAChD,YAAI,UAAU,eAAe,WAAW,KAAK,IAAI,QAAQ,SAAS;AAC9D,iBAAO;AAAA;AAGX,YAAI,UAAU,cAAc,KAAK,QAAQ,UAAU,YAAY;AAC3D,iBAAO;AAAA;AAGX,YACI,UAAU,gBACV,KAAK,eAAe,MAAO,UAAU,cACvC;AACE,iBAAO;AAAA;AAKX,YAAI,KAAK,SAAS;AACd,gBAAM,cACF,UAAU,gBACV,CAAC,KAAK,OAAO,sBACZ,CAAS,UAAU,iBAAnB,QACG,UAAU,eAAe,KAAK,QAAQ,KAAK;AACnD,cAAI,CAAC,aAAa;AACd,mBAAO;AAAA;AAAA;AAIf,eAAO,KAAK,gBAAgB,KAAK;AAAA;AAAA,MAGrC,gBAAgB,KAAK,iBAAiB;AAElC,eACK,EAAC,KAAK,QAAQ,KAAK,SAAS,IAAI,QACjC,KAAK,UAAU,IAAI,QAAQ,QAE1B,EAAC,IAAI,UACF,KAAK,YAAY,IAAI,UACpB,mBAAmB,AAAW,IAAI,WAAf,WAExB,KAAK,aAAa;AAAA;AAAA,MAI1B,8BAA8B;AAE1B,eACI,KAAK,OAAO,sBACZ,KAAK,OAAO,UACZ,KAAK,OAAO;AAAA;AAAA,MAIpB,aAAa,KAAK;AACd,YAAI,CAAC,KAAK,YAAY,MAAM;AACxB,iBAAO;AAAA;AAIX,YAAI,KAAK,YAAY,SAAS,KAAK;AAC/B,iBAAO;AAAA;AAGX,cAAM,SAAS,KAAK,YAAY,KAC3B,OACA,cACA,MAAM;AACX,mBAAW,QAAQ,QAAQ;AACvB,cAAI,IAAI,QAAQ,UAAU,KAAK,YAAY;AAAO,mBAAO;AAAA;AAE7D,eAAO;AAAA;AAAA,MAGX,4BAA4B,WAAW;AACnC,cAAM,UAAU;AAChB,mBAAW,QAAQ,WAAW;AAC1B,cAAI,gBAAgB;AAAO;AAC3B,kBAAQ,QAAQ,UAAU;AAAA;AAG9B,YAAI,UAAU,YAAY;AACtB,gBAAM,SAAS,UAAU,WAAW,OAAO,MAAM;AACjD,qBAAW,QAAQ,QAAQ;AACvB,mBAAO,QAAQ;AAAA;AAAA;AAGvB,YAAI,QAAQ,SAAS;AACjB,gBAAM,WAAW,QAAQ,QAAQ,MAAM,KAAK,OAAO,aAAW;AAC1D,mBAAO,CAAC,kBAAkB,KAAK;AAAA;AAEnC,cAAI,CAAC,SAAS,QAAQ;AAClB,mBAAO,QAAQ;AAAA,iBACZ;AACH,oBAAQ,UAAU,SAAS,KAAK,KAAK;AAAA;AAAA;AAG7C,eAAO;AAAA;AAAA,MAGX,kBAAkB;AACd,cAAM,UAAU,KAAK,4BAA4B,KAAK;AACtD,cAAM,MAAM,KAAK;AAIjB,YACI,MAAM,OAAO,MACb,CAAC,KAAK,4BACN,KAAK,WAAW,OAAO,IACzB;AACE,kBAAQ,UACH,SAAQ,UAAU,GAAG,QAAQ,cAAc,MAC5C;AAAA;AAER,gBAAQ,MAAM,GAAG,KAAK,MAAM;AAC5B,gBAAQ,OAAO,IAAI,KAAK,KAAK,OAAO;AACpC,eAAO;AAAA;AAAA,MAOX,OAAO;AACH,cAAM,aAAa,KAAK,MAAM,KAAK,YAAY;AAC/C,YAAI,SAAS,aAAa;AACtB,iBAAO;AAAA;AAEX,eAAO,KAAK;AAAA;AAAA,MAShB,MAAM;AACF,YAAI,MAAM,KAAK;AAEf,cAAM,eAAgB,MAAK,QAAQ,KAAK,iBAAiB;AACzD,eAAO,MAAM;AAAA;AAAA,MAGjB,YAAY;AACR,eAAO,eAAe,KAAK,YAAY;AAAA;AAAA,MAU3C,SAAS;AACL,YAAI,CAAC,KAAK,cAAc,KAAK,OAAO,aAAa;AAC7C,iBAAO;AAAA;AAKX,YACI,KAAK,aACJ,MAAK,YAAY,iBACd,CAAC,KAAK,OAAO,UACb,CAAC,KAAK,OAAO,YACnB;AACE,iBAAO;AAAA;AAGX,YAAI,KAAK,YAAY,SAAS,KAAK;AAC/B,iBAAO;AAAA;AAGX,YAAI,KAAK,WAAW;AAChB,cAAI,KAAK,OAAO,qBAAqB;AACjC,mBAAO;AAAA;AAGX,cAAI,KAAK,OAAO,aAAa;AACzB,mBAAO,eAAe,KAAK,OAAO;AAAA;AAAA;AAK1C,YAAI,KAAK,OAAO,YAAY;AACxB,iBAAO,eAAe,KAAK,OAAO;AAAA;AAGtC,cAAM,gBAAgB,KAAK,OAAO,YAAY,KAAK,mBAAmB;AAEtE,cAAM,aAAa,KAAK;AACxB,YAAI,KAAK,YAAY,SAAS;AAC1B,gBAAM,UAAU,KAAK,MAAM,KAAK,YAAY;AAE5C,cAAI,OAAO,MAAM,YAAY,UAAU,YAAY;AAC/C,mBAAO;AAAA;AAEX,iBAAO,KAAK,IAAI,eAAgB,WAAU,cAAc;AAAA;AAG5D,YAAI,KAAK,YAAY,kBAAkB;AACnC,gBAAM,eAAe,KAAK,MAAM,KAAK,YAAY;AACjD,cAAI,SAAS,iBAAiB,aAAa,cAAc;AACrD,mBAAO,KAAK,IACR,eACE,cAAa,gBAAgB,MAAQ,KAAK;AAAA;AAAA;AAKxD,eAAO;AAAA;AAAA,MAGX,aAAa;AACT,cAAM,MAAM,KAAK,WAAW,KAAK;AACjC,cAAM,kBAAkB,MAAM,eAAe,KAAK,OAAO;AACzD,cAAM,0BAA0B,MAAM,eAAe,KAAK,OAAO;AACjE,eAAO,KAAK,IAAI,GAAG,KAAK,iBAAiB,2BAA2B;AAAA;AAAA,MAGxE,QAAQ;AACJ,eAAO,KAAK,YAAY,KAAK;AAAA;AAAA,MAGjC,mBAAmB;AACf,eAAO,KAAK,WAAW,eAAe,KAAK,OAAO,qBAAqB,KAAK;AAAA;AAAA,MAGhF,0BAA0B;AACtB,eAAO,KAAK,WAAW,eAAe,KAAK,OAAO,6BAA6B,KAAK;AAAA;AAAA,aAGjF,WAAW,KAAK;AACnB,eAAO,IAAI,KAAK,QAAW,QAAW,EAAE,aAAa;AAAA;AAAA,MAGzD,YAAY,KAAK;AACb,YAAI,KAAK;AAAe,gBAAM,MAAM;AACpC,YAAI,CAAC,OAAO,IAAI,MAAM;AAAG,gBAAM,MAAM;AAErC,aAAK,gBAAgB,IAAI;AACzB,aAAK,YAAY,IAAI;AACrB,aAAK,kBAAkB,IAAI;AAC3B,aAAK,mBACD,IAAI,QAAQ,SAAY,IAAI,MAAM,KAAK,OAAO;AAClD,aAAK,UAAU,IAAI;AACnB,aAAK,cAAc,IAAI;AACvB,aAAK,SAAS,IAAI;AAClB,aAAK,UAAU,IAAI;AACnB,aAAK,OAAO,IAAI;AAChB,aAAK,QAAQ,IAAI;AACjB,aAAK,mBAAmB,IAAI;AAC5B,aAAK,cAAc,IAAI;AACvB,aAAK,SAAS,IAAI;AAAA;AAAA,MAGtB,WAAW;AACP,eAAO;AAAA,UACH,GAAG;AAAA,UACH,GAAG,KAAK;AAAA,UACR,IAAI,KAAK;AAAA,UACT,IAAI,KAAK;AAAA,UACT,KAAK,KAAK;AAAA,UACV,IAAI,KAAK;AAAA,UACT,MAAM,KAAK;AAAA,UACX,OAAO,KAAK;AAAA,UACZ,GAAG,KAAK;AAAA,UACR,GAAG,KAAK;AAAA,UACR,GAAG,KAAK;AAAA,UACR,GAAG,KAAK;AAAA,UACR,MAAM,KAAK;AAAA,UACX,OAAO,KAAK;AAAA;AAAA;AAAA,MAWpB,oBAAoB,aAAa;AAC7B,aAAK,yBAAyB;AAC9B,cAAM,UAAU,KAAK,4BAA4B,YAAY;AAG7D,eAAO,QAAQ;AAEf,YAAI,CAAC,KAAK,gBAAgB,aAAa,SAAS,CAAC,KAAK,YAAY;AAG9D,iBAAO,QAAQ;AACf,iBAAO,QAAQ;AACf,iBAAO;AAAA;AAIX,YAAI,KAAK,YAAY,MAAM;AACvB,kBAAQ,mBAAmB,QAAQ,mBAC7B,GAAG,QAAQ,qBAAqB,KAAK,YAAY,SACjD,KAAK,YAAY;AAAA;AAI3B,cAAM,wBACF,QAAQ,oBACR,QAAQ,eACR,QAAQ,0BACP,KAAK,WAAW,KAAK,WAAW;AAIrC,YAAI,uBAAuB;AACvB,iBAAO,QAAQ;AAEf,cAAI,QAAQ,kBAAkB;AAC1B,kBAAM,QAAQ,QAAQ,iBACjB,MAAM,KACN,OAAO,UAAQ;AACZ,qBAAO,CAAC,UAAU,KAAK;AAAA;AAE/B,gBAAI,CAAC,MAAM,QAAQ;AACf,qBAAO,QAAQ;AAAA,mBACZ;AACH,sBAAQ,mBAAmB,MAAM,KAAK,KAAK;AAAA;AAAA;AAAA,mBAInD,KAAK,YAAY,oBACjB,CAAC,QAAQ,sBACX;AACE,kBAAQ,uBAAuB,KAAK,YAAY;AAAA;AAGpD,eAAO;AAAA;AAAA,MAYX,kBAAkB,SAAS,UAAU;AACjC,aAAK,yBAAyB;AAC9B,YAAG,KAAK,sBAAsB,gBAAgB,WAAW;AACvD,iBAAO;AAAA,YACL,UAAU;AAAA,YACV,SAAS;AAAA,YACT,QAAQ;AAAA;AAAA;AAGZ,YAAI,CAAC,YAAY,CAAC,SAAS,SAAS;AAChC,gBAAM,MAAM;AAAA;AAKhB,YAAI,UAAU;AACd,YAAI,SAAS,WAAW,UAAa,SAAS,UAAU,KAAK;AACzD,oBAAU;AAAA,mBAEV,SAAS,QAAQ,QACjB,CAAC,UAAU,KAAK,SAAS,QAAQ,OACnC;AAIE,oBACI,KAAK,YAAY,QACjB,KAAK,YAAY,KAAK,QAAQ,WAAW,QACrC,SAAS,QAAQ;AAAA,mBAClB,KAAK,YAAY,QAAQ,SAAS,QAAQ,MAAM;AAIvD,oBACI,KAAK,YAAY,KAAK,QAAQ,WAAW,QACzC,SAAS,QAAQ,KAAK,QAAQ,WAAW;AAAA,mBACtC,KAAK,YAAY,kBAAkB;AAC1C,oBACI,KAAK,YAAY,qBACjB,SAAS,QAAQ;AAAA,eAClB;AAKH,cACI,CAAC,KAAK,YAAY,QAClB,CAAC,KAAK,YAAY,oBAClB,CAAC,SAAS,QAAQ,QAClB,CAAC,SAAS,QAAQ,kBACpB;AACE,sBAAU;AAAA;AAAA;AAIlB,YAAI,CAAC,SAAS;AACV,iBAAO;AAAA,YACH,QAAQ,IAAI,KAAK,YAAY,SAAS;AAAA,YAItC,UAAU,SAAS,UAAU;AAAA,YAC7B,SAAS;AAAA;AAAA;AAMjB,cAAM,UAAU;AAChB,mBAAW,KAAK,KAAK,aAAa;AAC9B,kBAAQ,KACJ,KAAK,SAAS,WAAW,CAAC,+BAA+B,KACnD,SAAS,QAAQ,KACjB,KAAK,YAAY;AAAA;AAG/B,cAAM,cAAc,OAAO,OAAO,IAAI,UAAU;AAAA,UAC5C,QAAQ,KAAK;AAAA,UACb,QAAQ,KAAK;AAAA,UACb;AAAA;AAEJ,eAAO;AAAA,UACH,QAAQ,IAAI,KAAK,YAAY,SAAS,aAAa;AAAA,YAC/C,QAAQ,KAAK;AAAA,YACb,gBAAgB,KAAK;AAAA,YACrB,wBAAwB,KAAK;AAAA;AAAA,UAEjC,UAAU;AAAA,UACV,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;;;AC7pBrB;AAAA;AAAA;AACA,YAAO,UAAU,YAAU;AAC1B,YAAM,SAAS;AAEf,iBAAW,CAAC,KAAK,UAAU,OAAO,QAAQ,SAAS;AAClD,eAAO,IAAI,iBAAiB;AAAA;AAG7B,aAAO;AAAA;AAAA;AAAA;;;ACRR;AAAA;AAAA;AAEA,QAAM,WAAW,QAAQ,UAAU;AACnC,QAAM,gBAAgB;AAEtB,kCAAuB,SAAS;AAAA,MAC/B,YAAY,YAAY,SAAS,MAAM,KAAK;AAC3C,YAAI,OAAO,eAAe,UAAU;AACnC,gBAAM,IAAI,UAAU;AAAA;AAErB,YAAI,OAAO,YAAY,UAAU;AAChC,gBAAM,IAAI,UAAU;AAAA;AAErB,YAAI,CAAE,iBAAgB,SAAS;AAC9B,gBAAM,IAAI,UAAU;AAAA;AAErB,YAAI,OAAO,QAAQ,UAAU;AAC5B,gBAAM,IAAI,UAAU;AAAA;AAGrB;AACA,aAAK,aAAa;AAClB,aAAK,UAAU,cAAc;AAC7B,aAAK,OAAO;AACZ,aAAK,MAAM;AAAA;AAAA,MAGZ,QAAQ;AACP,aAAK,KAAK,KAAK;AACf,aAAK,KAAK;AAAA;AAAA;AAIZ,YAAO,UAAU;AAAA;AAAA;;;ACjCjB;AAAA;AAAA;AAKA,QAAM,aAAa;AAAA,MAClB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAGD,YAAO,UAAU,CAAC,YAAY,aAAa;AAC1C,YAAM,YAAY,IAAI,IAAI,OAAO,KAAK,YAAY,OAAO;AAEzD,iBAAW,QAAQ,WAAW;AAE7B,YAAI,QAAQ,UAAU;AACrB;AAAA;AAGD,iBAAS,QAAQ,OAAO,WAAW,UAAU,aAAa,WAAW,MAAM,KAAK,cAAc,WAAW;AAAA;AAAA;AAAA;AAAA;;;AC7B3G;AAAA;AAAA;AAEA,QAAM,cAAc,QAAQ,UAAU;AACtC,QAAM,gBAAgB;AAEtB,QAAM,gBAAgB,cAAY;AACjC,UAAI,CAAE,aAAY,SAAS,OAAO;AACjC,cAAM,IAAI,UAAU;AAAA;AAGrB,YAAM,QAAQ,IAAI;AAClB,oBAAc,UAAU;AAExB,aAAO,SAAS,KAAK;AAAA;AAGtB,YAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAIA,aAAQ,YAAY,mBAAoB,GAAG;AACzC,UAAG,AAAe,OAAO,KAAtB;AAAyB,eAAO;AAEnC,UAAG,KAAK,OAAO,SAAS;AACtB,eAAO,KAAK,UAAU,aAAa,EAAE,SAAS;AAEhD,UAAG,KAAK,EAAE;AACR,YAAK,EAAE;AAET,UAAG,KAAK,AAAa,OAAO,MAApB,UAAuB;AAC7B,YAAI,IAAI;AACR,YAAI,QAAQ,MAAM,QAAQ;AAC1B,YAAI,QAAQ,MAAM;AAClB,YAAI,QAAQ;AAEZ,iBAAQ,KAAK,GAAG;AACd,cAAI,SAAS,AAAc,OAAO,EAAE,MAAvB,cAA8B,CAAC,SAAS,AAAgB,OAAO,EAAE,OAAzB;AACrD,cAAG,OAAO,eAAe,KAAK,GAAG,MAAM,CAAC,QAAQ;AAC9C,gBAAG,CAAC;AACF,mBAAK;AACP,oBAAQ;AACR,gBAAI,OAAO;AACT,kBAAG,EAAE,MAAM;AACT,qBAAK;AAAA;AAEL,qBAAK,UAAU,EAAE;AAAA,uBACV,EAAE,OAAO,QAAS;AAC3B,mBAAK,UAAU,KAAK,MAAM,UAAU,EAAE;AAAA;AAAA;AAAA;AAK5C,aAAK,QAAQ,MAAM;AAEnB,eAAO;AAAA,iBACE,AAAa,OAAO,MAApB,UAAuB;AAChC,eAAO,KAAK,UAAU,KAAK,KAAK,KAAK,MAAM,IAAI;AAAA,iBACtC,AAAgB,OAAO,MAAvB,aAA0B;AACnC,eAAO;AAAA;AAEP,eAAO,KAAK,UAAU;AAAA;AAG1B,aAAQ,QAAQ,SAAU,GAAG;AAC3B,aAAO,KAAK,MAAM,GAAG,SAAU,KAAK,OAAO;AACzC,YAAG,AAAa,OAAO,UAApB,UAA2B;AAC5B,cAAG,YAAY,KAAK;AAClB,mBAAO,OAAO,KAAK,MAAM,UAAU,IAAI;AAAA;AAEvC,mBAAO,KAAK,KAAK,SAAS,MAAM,UAAU,KAAK;AAAA;AAEnD,eAAO;AAAA;AAAA;AAAA;AAAA;;;ACvDX;AAAA;AAAA;AAEA,QAAM,eAAe,QAAQ;AAC7B,QAAM,QAAQ;AAEd,QAAM,YAAY,aAAW;AAC5B,YAAM,WAAW;AAAA,QAChB,OAAO;AAAA,QACP,SAAS;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,OAAO;AAAA;AAER,UAAI,QAAQ,WAAW,QAAQ,KAAK;AACnC,cAAM,UAAU,QAAQ,WAAW,SAAS,KAAK,QAAQ,KAAK;AAC9D,eAAO,IAAK,SAAQ,SAAS,WAAW;AAAA;AAGzC,aAAO,IAAI;AAAA;AAGZ,6BAAmB,aAAa;AAAA,MAC/B,YAAY,KAAK,SAAS;AACzB;AACA,aAAK,OAAO,OAAO,OAClB;AAAA,UACC,WAAW;AAAA,UACX,WAAW,MAAM;AAAA,UACjB,aAAa,MAAM;AAAA,WAEnB,OAAO,QAAQ,WAAY,EAAE,QAAQ,KACtC;AAGD,YAAI,CAAC,KAAK,KAAK,OAAO;AACrB,gBAAM,iBAAiB,OAAO,OAAO,IAAI,KAAK;AAC9C,eAAK,KAAK,QAAQ,UAAU;AAAA;AAG7B,YAAI,OAAO,KAAK,KAAK,MAAM,OAAO,YAAY;AAC7C,eAAK,KAAK,MAAM,GAAG,SAAS,WAAS,KAAK,KAAK,SAAS;AAAA;AAGzD,aAAK,KAAK,MAAM,YAAY,KAAK,KAAK;AAAA;AAAA,MAGvC,cAAc,KAAK;AAClB,eAAO,GAAG,KAAK,KAAK,aAAa;AAAA;AAAA,MAGlC,IAAI,KAAK,SAAS;AACjB,cAAM,cAAc,KAAK,cAAc;AACvC,cAAM,EAAE,UAAU,KAAK;AACvB,eAAO,QAAQ,UACb,KAAK,MAAM,MAAM,IAAI,cACrB,KAAK,UAAS,OAAO,SAAS,WAAY,KAAK,KAAK,YAAY,QAAQ,MACxE,KAAK,UAAQ;AACb,cAAI,SAAS,QAAW;AACvB,mBAAO;AAAA;AAGR,cAAI,OAAO,KAAK,YAAY,YAAY,KAAK,QAAQ,KAAK,SAAS;AAClE,iBAAK,OAAO;AACZ,mBAAO;AAAA;AAGR,iBAAQ,WAAW,QAAQ,MAAO,OAAO,KAAK;AAAA;AAAA;AAAA,MAIjD,IAAI,KAAK,OAAO,KAAK;AACpB,cAAM,cAAc,KAAK,cAAc;AACvC,YAAI,OAAO,QAAQ,aAAa;AAC/B,gBAAM,KAAK,KAAK;AAAA;AAGjB,YAAI,QAAQ,GAAG;AACd,gBAAM;AAAA;AAGP,cAAM,EAAE,UAAU,KAAK;AAEvB,eAAO,QAAQ,UACb,KAAK,MAAM;AACX,gBAAM,UAAW,OAAO,QAAQ,WAAa,KAAK,QAAQ,MAAO;AACjE,kBAAQ,EAAE,OAAO;AACjB,iBAAO,KAAK,KAAK,UAAU;AAAA,WAE3B,KAAK,YAAS,MAAM,IAAI,aAAa,QAAO,MAC5C,KAAK,MAAM;AAAA;AAAA,MAGd,OAAO,KAAK;AACX,cAAM,cAAc,KAAK,cAAc;AACvC,cAAM,EAAE,UAAU,KAAK;AACvB,eAAO,QAAQ,UACb,KAAK,MAAM,MAAM,OAAO;AAAA;AAAA,MAG3B,QAAQ;AACP,cAAM,EAAE,UAAU,KAAK;AACvB,eAAO,QAAQ,UACb,KAAK,MAAM,MAAM;AAAA;AAAA;AAIrB,YAAO,UAAU;AAAA;AAAA;;;AC5GjB;AAAA;AAAA;AAEA,QAAM,eAAe,QAAQ;AAC7B,QAAM,SAAS,QAAQ;AACvB,QAAM,eAAe;AACrB,QAAM,YAAY;AAClB,QAAM,cAAc;AACpB,QAAM,YAAW;AACjB,QAAM,gBAAgB;AACtB,QAAM,gBAAgB;AACtB,QAAM,OAAO;AAEb,iCAAuB;AAAA,MACtB,YAAY,SAAS,cAAc;AAClC,YAAI,OAAO,YAAY,YAAY;AAClC,gBAAM,IAAI,UAAU;AAAA;AAGrB,aAAK,QAAQ,IAAI,KAAK;AAAA,UACrB,KAAK,OAAO,iBAAiB,YAAY;AAAA,UACzC,OAAO,OAAO,iBAAiB,YAAY;AAAA,UAC3C,WAAW;AAAA;AAGZ,eAAO,KAAK,uBAAuB;AAAA;AAAA,MAGpC,uBAAuB,SAAS;AAC/B,eAAO,CAAC,MAAM,OAAO;AACpB,cAAI;AACJ,cAAI,OAAO,SAAS,UAAU;AAC7B,kBAAM,mBAAmB,OAAO,MAAM;AACtC,mBAAO;AAAA,qBACG,gBAAgB,OAAO,KAAK;AACtC,kBAAM,mBAAmB,OAAO,MAAM,KAAK;AAC3C,mBAAO;AAAA,iBACD;AACN,kBAAM,CAAC,aAAa,eAAgB,MAAK,QAAQ,IAAI,MAAM;AAC3D,kBAAM,SAAS,YAAY,SAAS,IACnC,IAAI,YAAY,KAAK,SACrB;AACD,kBAAM,mBAAmB,iCAAK,OAAL,EAAW,UAAU;AAAA;AAG/C,iBAAO;AAAA,YACN,SAAS;AAAA,YACT,QAAQ;AAAA,YACR,OAAO;AAAA,YACP,WAAW;AAAA,YACX,mBAAmB;AAAA,aAChB,OACA,0BAA0B;AAE9B,eAAK,UAAU,cAAc,KAAK;AAElC,gBAAM,KAAK,IAAI;AACf,gBAAM,sBAAsB,aAC3B,OAAO,OAAO,MACd;AAAA,YACC,UAAU;AAAA,YACV,qBAAqB;AAAA,YACrB,qBAAqB;AAAA;AAGvB,gBAAM,MAAM,GAAG,KAAK,UAAU;AAC9B,cAAI,aAAa;AACjB,cAAI,cAAc;AAElB,gBAAM,cAAc,WAAQ;AAC3B,0BAAc;AACd,gBAAI,iBAAiB;AACrB,gBAAI;AAEJ,kBAAM,sBAAsB,IAAI,QAAQ,aAAW;AAClD,qCAAuB,MAAM;AAC5B,oBAAI,CAAC,gBAAgB;AACpB,mCAAiB;AACjB;AAAA;AAAA;AAAA;AAKH,kBAAM,UAAU,cAAY;AAC3B,kBAAI,cAAc,CAAC,MAAK,cAAc;AACrC,yBAAS,SAAS,SAAS;AAC3B,sBAAM,oBAAoB,YAAY,WAAW,WAAW,aAAa,kBAAkB,OAAM;AACjG,oBAAI,CAAC,kBAAkB,UAAU;AAChC,wBAAM,UAAU,kBAAkB,OAAO;AACzC,6BAAW,IAAI,UAAS,WAAW,YAAY,SAAS,WAAW,MAAM,WAAW;AACpF,2BAAS,cAAc,kBAAkB;AACzC,2BAAS,YAAY;AAAA;AAAA;AAIvB,kBAAI,CAAC,SAAS,WAAW;AACxB,yBAAS,cAAc,IAAI,YAAY,OAAM,UAAU;AACvD,yBAAS,YAAY;AAAA;AAGtB,kBAAI;AACJ,kBAAI,MAAK,SAAS,SAAS,YAAY,YAAY;AAClD,iCAAiB,cAAc;AAE/B,gBAAC,aAAY;AACZ,sBAAI;AACH,0BAAM,cAAc,UAAU,OAAO;AAErC,0BAAM,QAAQ,KAAK;AAAA,sBAClB;AAAA,sBACA,IAAI,QAAQ,aAAW,SAAS,KAAK,OAAO;AAAA;AAG7C,wBAAI,gBAAgB;AACnB;AAAA;AAGD,0BAAM,OAAO,MAAM;AAEnB,0BAAM,QAAQ;AAAA,sBACb,aAAa,SAAS,YAAY;AAAA,sBAClC,KAAK,SAAS;AAAA,sBACd,YAAY,SAAS,YAAY,WAAW,aAAa,SAAS;AAAA,sBAClE;AAAA;AAGD,wBAAI,MAAM,MAAK,YAAY,SAAS,YAAY,eAAe;AAC/D,wBAAI,MAAK,QAAQ;AAChB,4BAAM,MAAM,KAAK,IAAI,KAAK,MAAK,UAAU,MAAK;AAAA;AAG/C,0BAAM,KAAK,MAAM,IAAI,KAAK,OAAO;AAAA,2BACzB,OAAP;AACD,uBAAG,KAAK,SAAS,IAAI,iBAAiB,WAAW;AAAA;AAAA;AAAA,yBAGzC,MAAK,SAAS,YAAY;AACpC,gBAAC,aAAY;AACZ,sBAAI;AACH,0BAAM,KAAK,MAAM,OAAO;AAAA,2BAChB,OAAP;AACD,uBAAG,KAAK,SAAS,IAAI,iBAAiB,WAAW;AAAA;AAAA;AAAA;AAKpD,iBAAG,KAAK,YAAY,kBAAkB;AACtC,kBAAI,OAAO,OAAO,YAAY;AAC7B,mBAAG,kBAAkB;AAAA;AAAA;AAIvB,gBAAI;AACH,oBAAM,MAAM,QAAQ,OAAM;AAC1B,kBAAI,KAAK,SAAS;AAClB,kBAAI,KAAK,SAAS;AAClB,iBAAG,KAAK,WAAW;AAAA,qBACX,OAAP;AACD,iBAAG,KAAK,SAAS,IAAI,iBAAiB,aAAa;AAAA;AAAA;AAIrD,UAAC,aAAY;AACZ,kBAAM,MAAM,OAAM,UAAQ;AACzB,oBAAM,QAAQ;AAEd,oBAAM,aAAa,MAAK,QAAQ,MAAM,KAAK,MAAM,IAAI,OAAO;AAC5D,kBAAI,OAAO,eAAe,aAAa;AACtC,uBAAO,YAAY;AAAA;AAGpB,oBAAM,SAAS,YAAY,WAAW,WAAW;AACjD,kBAAI,OAAO,6BAA6B,UAAS,CAAC,MAAK,cAAc;AACpE,sBAAM,UAAU,OAAO;AACvB,sBAAM,WAAW,IAAI,UAAS,WAAW,YAAY,SAAS,WAAW,MAAM,WAAW;AAC1F,yBAAS,cAAc;AACvB,yBAAS,YAAY;AAErB,mBAAG,KAAK,YAAY;AACpB,oBAAI,OAAO,OAAO,YAAY;AAC7B,qBAAG;AAAA;AAAA,qBAEE;AACN,6BAAa;AACb,sBAAK,UAAU,OAAO,oBAAoB;AAC1C,4BAAY;AAAA;AAAA;AAId,kBAAM,eAAe,WAAS,GAAG,KAAK,SAAS,IAAI,iBAAiB,WAAW;AAC/E,iBAAK,MAAM,KAAK,SAAS;AACzB,eAAG,GAAG,YAAY,MAAM,KAAK,MAAM,eAAe,SAAS;AAE3D,gBAAI;AACH,oBAAM,IAAI;AAAA,qBACF,OAAP;AACD,kBAAI,KAAK,qBAAqB,CAAC,aAAa;AAC3C,4BAAY;AAAA;AAGb,iBAAG,KAAK,SAAS,IAAI,iBAAiB,WAAW;AAAA;AAAA;AAInD,iBAAO;AAAA;AAAA;AAAA;AAKV,uCAAmC,KAAK;AACvC,YAAM,UAAU,mBAAK;AACrB,cAAQ,OAAO,GAAG,IAAI,YAAY,MAAM,IAAI,UAAU;AACtD,aAAO,QAAQ;AACf,aAAO,QAAQ;AACf,aAAO;AAAA;AAGR,gCAA4B,KAAK;AAQhC,aAAO;AAAA,QACN,UAAU,IAAI;AAAA,QACd,MAAM,IAAI;AAAA,QACV,UAAU,IAAI,YAAY,IAAI,QAAQ;AAAA,QACtC,MAAM,IAAI;AAAA,QACV,UAAU,IAAI;AAAA,QACd,QAAQ,IAAI;AAAA;AAAA;AAId,qBAAiB,eAAe,cAAc,MAAM;AAAA,MACnD,YAAY,OAAO;AAClB,cAAM,MAAM;AACZ,aAAK,OAAO;AACZ,eAAO,OAAO,MAAM;AAAA;AAAA;AAItB,qBAAiB,aAAa,cAAc,MAAM;AAAA,MACjD,YAAY,OAAO;AAClB,cAAM,MAAM;AACZ,aAAK,OAAO;AACZ,eAAO,OAAO,MAAM;AAAA;AAAA;AAItB,YAAO,UAAU;AAAA;AAAA;;;AC1PjB;AAAA;AAAA;AAKA,QAAM,kBAAkB;AAAA,MACvB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAGD,YAAO,UAAU,CAAC,YAAY,aAAa;AAC1C,UAAI,SAAS,eAAe,aAAa;AACxC,cAAM,IAAI,MAAM;AAAA;AAGjB,YAAM,iBAAiB,IAAI,IAAI,OAAO,KAAK,YAAY,OAAO;AAE9D,YAAM,aAAa;AAEnB,iBAAW,YAAY,gBAAgB;AAEtC,YAAI,YAAY,UAAU;AACzB;AAAA;AAGD,mBAAW,YAAY;AAAA,UACtB,MAAM;AACL,kBAAM,QAAQ,WAAW;AACzB,kBAAM,aAAa,OAAO,UAAU;AAEpC,mBAAO,aAAa,MAAM,KAAK,cAAc;AAAA;AAAA,UAE9C,IAAI,OAAO;AACV,uBAAW,YAAY;AAAA;AAAA,UAExB,YAAY;AAAA,UACZ,cAAc;AAAA;AAAA;AAIhB,aAAO,iBAAiB,UAAU;AAElC,iBAAW,KAAK,WAAW,MAAM;AAChC,iBAAS;AAET,iBAAS,KAAK;AAAA;AAGf,iBAAW,KAAK,SAAS,MAAM;AAC9B,YAAI,WAAW,UAAU;AACxB,cAAI,SAAS,UAAU;AACtB,qBAAS,KAAK,OAAO,MAAM;AAC1B,uBAAS,KAAK;AAAA;AAAA,iBAET;AACN,qBAAS,KAAK;AAAA;AAAA,eAET;AACN,mBAAS,KAAK;AAAA;AAAA;AAIhB,aAAO;AAAA;AAAA;AAAA;;;AC3ER;AAAA;AAAA;AACA,QAAM,EAAC,WAAW,gBAAe,QAAQ;AACzC,QAAM,OAAO,QAAQ;AACrB,QAAM,gBAAgB;AAEtB,YAAO,UAAU,cAAY;AAC5B,YAAM,kBAAmB,UAAS,QAAQ,uBAAuB,IAAI;AAErE,UAAI,CAAC,CAAC,QAAQ,WAAW,MAAM,SAAS,kBAAkB;AACzD,eAAO;AAAA;AAIR,YAAM,WAAW,oBAAoB;AACrC,UAAI,YAAY,OAAO,KAAK,2BAA2B,YAAY;AAClE,iBAAS,QAAQ,IAAI,MAAM;AAC3B,eAAO;AAAA;AAGR,UAAI,UAAU;AAEd,YAAM,UAAU,IAAI,UAAU;AAAA,QAC7B,UAAU,MAAM,WAAW,UAAU;AACpC,oBAAU;AAEV,mBAAS,MAAM;AAAA;AAAA,QAGhB,MAAM,UAAU;AACf;AAAA;AAAA;AAIF,YAAM,cAAc,IAAI,YAAY;AAAA,QACnC,aAAa;AAAA,QACb,QAAQ,OAAO,UAAU;AACxB,mBAAS;AAET,mBAAS;AAAA;AAAA;AAIX,YAAM,mBAAmB,WAAW,KAAK,2BAA2B,KAAK;AAEzE,uBAAiB,KAAK,SAAS,WAAS;AACvC,YAAI,WAAW,CAAC,SAAS,UAAU;AAClC,sBAAY;AACZ;AAAA;AAGD,oBAAY,QAAQ;AAAA;AAGrB,oBAAc,UAAU;AACxB,eAAS,KAAK,SAAS,KAAK,kBAAkB,KAAK;AAEnD,aAAO;AAAA;AAAA;AAAA;;;ACxDR;AAAA;AAAA;AAEA,yBAAe;AAAA,MACd,YAAY,UAAU,IAAI;AACzB,YAAI,CAAE,SAAQ,WAAW,QAAQ,UAAU,IAAI;AAC9C,gBAAM,IAAI,UAAU;AAAA;AAGrB,aAAK,UAAU,QAAQ;AACvB,aAAK,aAAa,QAAQ;AAC1B,aAAK,QAAQ,IAAI;AACjB,aAAK,WAAW,IAAI;AACpB,aAAK,QAAQ;AAAA;AAAA,MAGd,KAAK,KAAK,OAAO;AAChB,aAAK,MAAM,IAAI,KAAK;AACpB,aAAK;AAEL,YAAI,KAAK,SAAS,KAAK,SAAS;AAC/B,eAAK,QAAQ;AAEb,cAAI,OAAO,KAAK,eAAe,YAAY;AAC1C,uBAAW,CAAC,MAAK,WAAU,KAAK,SAAS,WAAW;AACnD,mBAAK,WAAW,MAAK;AAAA;AAAA;AAIvB,eAAK,WAAW,KAAK;AACrB,eAAK,QAAQ,IAAI;AAAA;AAAA;AAAA,MAInB,IAAI,KAAK;AACR,YAAI,KAAK,MAAM,IAAI,MAAM;AACxB,iBAAO,KAAK,MAAM,IAAI;AAAA;AAGvB,YAAI,KAAK,SAAS,IAAI,MAAM;AAC3B,gBAAM,QAAQ,KAAK,SAAS,IAAI;AAChC,eAAK,SAAS,OAAO;AACrB,eAAK,KAAK,KAAK;AACf,iBAAO;AAAA;AAAA;AAAA,MAIT,IAAI,KAAK,OAAO;AACf,YAAI,KAAK,MAAM,IAAI,MAAM;AACxB,eAAK,MAAM,IAAI,KAAK;AAAA,eACd;AACN,eAAK,KAAK,KAAK;AAAA;AAGhB,eAAO;AAAA;AAAA,MAGR,IAAI,KAAK;AACR,eAAO,KAAK,MAAM,IAAI,QAAQ,KAAK,SAAS,IAAI;AAAA;AAAA,MAGjD,KAAK,KAAK;AACT,YAAI,KAAK,MAAM,IAAI,MAAM;AACxB,iBAAO,KAAK,MAAM,IAAI;AAAA;AAGvB,YAAI,KAAK,SAAS,IAAI,MAAM;AAC3B,iBAAO,KAAK,SAAS,IAAI;AAAA;AAAA;AAAA,MAI3B,OAAO,KAAK;AACX,cAAM,UAAU,KAAK,MAAM,OAAO;AAClC,YAAI,SAAS;AACZ,eAAK;AAAA;AAGN,eAAO,KAAK,SAAS,OAAO,QAAQ;AAAA;AAAA,MAGrC,QAAQ;AACP,aAAK,MAAM;AACX,aAAK,SAAS;AACd,aAAK,QAAQ;AAAA;AAAA,OAGZ,OAAO;AACR,mBAAW,CAAC,QAAQ,MAAM;AACzB,gBAAM;AAAA;AAAA;AAAA,OAIN,SAAS;AACV,mBAAW,CAAC,EAAE,UAAU,MAAM;AAC7B,gBAAM;AAAA;AAAA;AAAA,QAIL,OAAO,YAAY;AACrB,mBAAW,QAAQ,KAAK,OAAO;AAC9B,gBAAM;AAAA;AAGP,mBAAW,QAAQ,KAAK,UAAU;AACjC,gBAAM,CAAC,OAAO;AACd,cAAI,CAAC,KAAK,MAAM,IAAI,MAAM;AACzB,kBAAM;AAAA;AAAA;AAAA;AAAA,UAKL,OAAO;AACV,YAAI,eAAe;AACnB,mBAAW,OAAO,KAAK,SAAS,QAAQ;AACvC,cAAI,CAAC,KAAK,MAAM,IAAI,MAAM;AACzB;AAAA;AAAA;AAIF,eAAO,KAAK,IAAI,KAAK,QAAQ,cAAc,KAAK;AAAA;AAAA;AAIlD,YAAO,UAAU;AAAA;AAAA;;;AC1HjB;AAAA;AAAA;AACA,QAAM,eAAe,QAAQ;AAC7B,QAAM,MAAM,QAAQ;AACpB,QAAM,QAAQ,QAAQ;AACtB,QAAM,WAAW;AAEjB,QAAM,uBAAuB,OAAO;AACpC,QAAM,WAAW,OAAO;AACxB,QAAM,aAAa,OAAO;AAC1B,QAAM,qBAAqB,OAAO;AAElC,QAAM,WAAW;AAAA,MAEhB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAGA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAGA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAGD,QAAM,iBAAiB,CAAC,OAAO,OAAO,YAAY;AACjD,UAAI,MAAM;AACV,UAAI,OAAO,MAAM;AAEjB,aAAO,MAAM,MAAM;AAClB,cAAM,MAAO,MAAM,SAAU;AAG7B,YAAI,QAAQ,MAAM,MAAM,QAAQ;AAE/B,gBAAM,MAAM;AAAA,eACN;AACN,iBAAO;AAAA;AAAA;AAIT,aAAO;AAAA;AAGR,QAAM,kBAAkB,CAAC,GAAG,MAAM;AACjC,aAAO,EAAE,eAAe,uBAAuB,EAAE,eAAe;AAAA;AAIjE,QAAM,uBAAuB,CAAC,OAAO,YAAY;AAIhD,iBAAW,kBAAkB,OAAO;AACnC,YAEC,eAAe,YAAY,SAAS,QAAQ,YAAY,UAGxD,eAAe,YAAY,MAAM,YAAU,QAAQ,YAAY,SAAS,YAGxE,eAAe,wBAAwB,QAAQ,yBAAyB,QAAQ,eAAe,sBAC9F;AAED,0BAAgB;AAAA;AAAA;AAAA;AAMnB,QAAM,wBAAwB,CAAC,OAAO,mBAAmB;AACxD,iBAAW,WAAW,OAAO;AAC5B,YACC,eAAe,YAAY,SAAS,QAAQ,YAAY,UACxD,eAAe,YAAY,MAAM,YAAU,QAAQ,YAAY,SAAS,YACxE,eAAe,wBAAwB,QAAQ,yBAAyB,QAAQ,eAAe,sBAC9F;AACD,0BAAgB;AAAA;AAAA;AAAA;AAKnB,QAAM,cAAc,CAAC,EAAC,OAAO,aAAY;AACxC,YAAM,SAAS;AAGf,iBAAW,qBAAqB,MAAM,UAAU;AAC/C,cAAM,WAAW,MAAM,SAAS;AAEhC,cAAM,WAAW,SAAS,OAAO,aAAW;AAC3C,gBAAM,UAAS,QAAQ,MAAM,wBAAwB,QAAQ,eAAe;AAE5E,iBAAO,SAAS,UAAS,CAAC;AAAA;AAG3B,YAAI,SAAS,WAAW,GAAG;AAC1B,iBAAO,qBAAqB;AAAA;AAAA;AAI9B,aAAO;AAAA;AAGR,QAAM,kBAAkB,aAAW;AAClC,cAAQ,sBAAsB;AAE9B,UAAI,QAAQ,0BAA0B,GAAG;AACxC,gBAAQ;AAAA;AAAA;AAIV,8BAAoB,aAAa;AAAA,MAChC,YAAY,EAAC,UAAU,KAAO,cAAc,UAAU,kBAAkB,IAAI,uBAAuB,QAAO,IAAI;AAC7G;AASA,aAAK,WAAW;AAShB,aAAK,QAAQ;AAGb,aAAK,UAAU;AAGf,aAAK,cAAc;AAInB,aAAK,kBAAkB;AAEvB,aAAK,qBAAqB;AAC1B,aAAK,iBAAiB;AAGtB,aAAK,WAAW;AAAA,UACf,YAAY;AAAA;AAIb,aAAK,kBAAkB,IAAI,SAAS,EAAC,SAAS;AAAA;AAAA,aAGxC,gBAAgB,KAAK,YAAY;AACvC,YAAI,OAAO,QAAQ,UAAU;AAC5B,gBAAM,IAAI,IAAI;AAAA;AAGf,YAAI,cAAc,IAAI,aAAa,YAAY;AAC9C,cAAI,WAAW;AAAA;AAGhB,eAAO,IAAI;AAAA;AAAA,MAGZ,iBAAiB,SAAS;AACzB,YAAI,aAAa;AAEjB,YAAI,SAAS;AACZ,qBAAW,OAAO,UAAU;AAC3B,gBAAI,QAAQ,MAAM;AACjB,4BAAc,IAAI,QAAQ;AAAA;AAAA;AAAA;AAK7B,eAAO;AAAA;AAAA,MAGR,uBAAuB,mBAAmB,kBAAkB;AAC3D,YAAI,CAAE,sBAAqB,KAAK,UAAU,CAAE,qBAAoB,KAAK,MAAM,qBAAqB;AAC/F;AAAA;AAGD,cAAM,OAAO,KAAK,MAAM,mBAAmB;AAM3C,YAAI,KAAK,iBAAiB,KAAK,eAAe,CAAC,KAAK,WAAW;AAC9D,eAAK,YAAY;AAEjB;AAAA;AAAA;AAAA,MAIF,WAAW,QAAQ,SAAS,WAAW;AACtC,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,cAAI,MAAM,QAAQ,YAAY;AAC7B,wBAAY,CAAC,GAAG;AAIhB;AAAA,iBACM;AACN,wBAAY,CAAC,EAAC,SAAS;AAAA;AAGxB,gBAAM,oBAAoB,KAAK,iBAAiB;AAChD,gBAAM,mBAAmB,MAAM,gBAAgB,QAAQ,WAAW,QAAQ;AAE1E,cAAI,qBAAqB,QAAW;AACnC,uBAAW,EAAC,qBAAW,WAAW;AACjC,sBAAO,IAAI,UAAU;AAAA;AAGtB;AAAA;AAGD,cAAI,qBAAqB,KAAK,UAAU;AACvC,kBAAM,WAAW,KAAK,SAAS;AAE/B,gBAAI,uBAAuB;AAC3B,gBAAI,sBAAsB;AAC1B,gBAAI;AAIJ,uBAAW,WAAW,UAAU;AAC/B,oBAAM,8BAA8B,QAAQ,eAAe;AAE3D,kBAAI,8BAA8B,sBAAsB;AACvD;AAAA;AAGD,kBAAI,QAAQ,YAAY,SAAS,mBAAmB;AACnD,sBAAM,6BAA6B,QAAQ;AAE3C,oBACC,8BAA8B,+BAC9B,QAAQ,uBAGR,QAAQ,WACP;AACD;AAAA;AAID,oBAAI,CAAC,gBAAgB;AACpB,yCAAuB;AAAA;AAKxB,oBAAI,6BAA6B,qBAAqB;AACrD,mCAAiB;AACjB,wCAAsB;AAAA;AAAA;AAAA;AAKzB,gBAAI,gBAAgB;AAEnB,kBAAI,UAAU,WAAW,GAAG;AAC3B,2BAAW,EAAC,qBAAW,WAAW;AACjC,wBAAM,QAAQ,IAAI,MACjB,iDAAiD,UAAU;AAAA;AAI5D,0BAAO;AAAA;AAGR;AAAA;AAGD,wBAAU,GAAG,QAAQ;AACrB;AAAA;AAAA;AAIF,cAAI,qBAAqB,KAAK,OAAO;AACpC,gBAAI,oBAAoB,KAAK,MAAM,oBAAoB;AAEtD,mBAAK,MAAM,mBAAmB,kBAAkB,UAAU,KAAK,GAAG;AAIlE,mBAAK,uBAAuB,mBAAmB;AAC/C;AAAA;AAAA,iBAEK;AACN,iBAAK,MAAM,qBAAqB;AAAA;AAMjC,gBAAM,kBAAkB,MAAM;AAE7B,gBAAI,qBAAqB,KAAK,SAAS,KAAK,MAAM,mBAAmB,sBAAsB,OAAO;AACjG,qBAAO,KAAK,MAAM,mBAAmB;AAErC,kBAAI,OAAO,KAAK,KAAK,MAAM,oBAAoB,WAAW,GAAG;AAC5D,uBAAO,KAAK,MAAM;AAAA;AAAA;AAAA;AAMrB,gBAAM,QAAQ,MAAM;AACnB,kBAAM,OAAO,GAAG,oBAAoB;AACpC,gBAAI,mBAAmB;AAEvB,gBAAI;AACH,oBAAM,UAAU,MAAM,QAAQ,QAAQ;AAAA,gBACrC,kBAAkB,KAAK;AAAA,gBACvB,UAAU,KAAK;AAAA,gBACf,SAAS,KAAK,gBAAgB,IAAI;AAAA,iBAC/B;AAEJ,sBAAQ,wBAAwB;AAChC,sBAAQ,sBAAsB;AAE9B,oBAAM,SAAS,MAAM,QAAQ,wBAAwB,QAAQ,eAAe;AAC5E,kBAAI,UAAU;AAEd,sBAAQ,OAAO,KAAK,WAAW,gBAAc;AAC5C,qBAAK,gBAAgB,IAAI,MAAM;AAAA;AAGhC,sBAAQ,KAAK,SAAS,WAAS;AAE9B,2BAAW,EAAC,qBAAW,WAAW;AACjC,0BAAO;AAAA;AAIR,qBAAK,gBAAgB,OAAO;AAAA;AAG7B,sBAAQ,WAAW,KAAK,SAAS,MAAM;AAGtC,wBAAQ;AAAA;AAGT,sBAAQ,KAAK,SAAS,MAAM;AAC3B,oBAAI,kBAAkB;AAKrB,sBAAI,SAAS;AACZ,yBAAK;AAAA;AAGN,uBAAK;AAIL,wBAAM,QAAQ,KAAK,SAAS;AAC5B,wBAAM,OAAO,MAAM,QAAQ,UAAU;AAErC,sBAAI,MAAM,WAAW,GAAG;AACvB,2BAAO,KAAK,SAAS;AAAA;AAAA,uBAEhB;AAEN,wBAAM,QAAQ,IAAI,MAAM;AACxB,wBAAM,OAAO;AAEb,6BAAW,EAAC,qBAAW,WAAW;AACjC,4BAAO;AAAA;AAGR;AAAA;AAID,qBAAK,uBAAuB,mBAAmB;AAAA;AAIhD,oBAAM,mBAAmB,MAAM;AAC9B,oBAAI,CAAE,sBAAqB,KAAK,UAAU,CAAC,UAAU;AACpD;AAAA;AAGD,2BAAW,WAAU,QAAQ,aAAa;AACzC,sBAAI,WAAU,KAAK,MAAM,oBAAoB;AAC5C,0BAAM,EAAC,0BAAa,KAAK,MAAM,mBAAmB;AAGlD,2BAAO,WAAU,WAAW,KAAK,UAAU;AAG1C,iCAAU,QAAQ,QAAQ;AAAA;AAG3B,0BAAM,QAAQ,KAAK,MAAM;AACzB,wBAAI,MAAM,SAAQ,UAAU,WAAW,GAAG;AACzC,6BAAO,MAAM;AAEb,0BAAI,OAAO,KAAK,OAAO,WAAW,GAAG;AACpC,+BAAO,KAAK,MAAM;AAClB;AAAA;AAAA;AAKF,wBAAI,CAAC,UAAU;AACd;AAAA;AAAA;AAAA;AAAA;AAOJ,sBAAQ,GAAG,UAAU,MAAM;AAC1B,wBAAQ,cAAc,QAAQ;AAE9B,oBAAI,CAAC,UAAU;AAEd;AAAA;AAGD;AAGA,qCAAqB,KAAK,SAAS,oBAAoB;AAAA;AAGxD,sBAAQ,KAAK,kBAAkB,MAAM;AAEpC,wBAAQ;AACR,wBAAQ;AAER,qBAAK;AAGL,oBAAI,MAAM,WAAW;AACpB,wBAAM,QAAQ,IAAI,MAAM;AAExB,6BAAW,YAAY,WAAW;AACjC,6BAAS,OAAO;AAAA;AAGjB,0BAAQ;AACR;AAAA;AAGD,wBAAQ,cAAc,QAAQ;AAE9B;AACC,wBAAM,QAAQ,KAAK;AAEnB,sBAAI,qBAAqB,OAAO;AAC/B,0BAAM,WAAW,MAAM;AACvB,6BAAS,OAAO,eAAe,UAAU,SAAS,kBAAkB,GAAG;AAAA,yBACjE;AACN,0BAAM,qBAAqB,CAAC;AAAA;AAAA;AAI9B,qBAAK,sBAAsB;AAC3B,mCAAmB;AAEnB,qBAAK,KAAK,WAAW;AAErB;AACA;AAGA,oBAAI,QAAQ,0BAA0B,KAAK,KAAK,qBAAqB,KAAK,iBAAiB;AAC1F,0BAAQ;AAAA;AAIT,oBAAI,UAAU,WAAW,GAAG;AAE3B,uBAAK,WAAW,kBAAkB,SAAS;AAC3C,4BAAU,SAAS;AAAA;AAIpB,wBAAQ,GAAG,kBAAkB,MAAM;AAClC;AAGA,uCAAqB,KAAK,SAAS,oBAAoB;AAAA;AAAA;AAKzD,sBAAQ,YAAY,QAAQ;AAC5B,sBAAQ,UAAU,CAAC,SAAS,kBAAkB;AAC7C,oBAAI,QAAQ,qBAAqB;AAChC,wBAAM,IAAI,MAAM;AAAA;AAGjB,sBAAM,SAAS,QAAQ,UAAU,SAAS;AAG1C,wBAAQ;AAER,kBAAE,QAAQ;AAEV,oBAAI,QAAQ,0BAA0B,QAAQ,eAAe,sBAAsB;AAClF,uBAAK;AAAA;AAGN,uBAAO,KAAK,SAAS,MAAM;AAC1B,4BAAU;AAEV,oBAAE,QAAQ;AAEV,sBAAI,CAAC,QAAQ,aAAa,CAAC,QAAQ,QAAQ;AAC1C,0CAAsB,KAAK,SAAS,oBAAoB;AAExD,wBAAI,YAAY,CAAC,QAAQ,QAAQ;AAChC,0BAAI,CAAC,SAAS;AACb,6BAAK;AAEL,kCAAU;AAAA;AAGX,4BAAM,UAAU,QAAQ,0BAA0B;AAElD,0BAAI,SAAS;AACZ,gCAAQ;AAAA;AAGT,0BACC,WAEC,MAAK,qBAAqB,KAAK,mBAC/B,QAAQ,sBAER;AACD,gCAAQ;AAAA,6BACF;AACN,6CAAqB,KAAK,SAAS,oBAAoB;AACvD;AAAA;AAAA;AAAA;AAAA;AAMJ,uBAAO;AAAA;AAAA,qBAEA,OAAP;AACD,yBAAW,YAAY,WAAW;AACjC,yBAAS,OAAO;AAAA;AAGjB;AAAA;AAAA;AAIF,gBAAM,YAAY;AAClB,gBAAM,YAAY;AAClB,gBAAM,YAAY;AAElB,eAAK,MAAM,mBAAmB,oBAAoB;AAClD,eAAK,uBAAuB,mBAAmB;AAAA;AAAA;AAAA,MAIjD,QAAQ,QAAQ,SAAS,SAAS,eAAe;AAChD,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,eAAK,WAAW,QAAQ,SAAS,CAAC;AAAA,YACjC;AAAA,YACA,SAAS,aAAW;AACnB,kBAAI;AACH,wBAAQ,QAAQ,QAAQ,SAAS;AAAA,uBACzB,OAAP;AACD,uBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOZ,iBAAiB,QAAQ,SAAS;AACjC,eAAO,MAAM,QAAQ,QAAQ;AAAA;AAAA,aAGvB,QAAQ,QAAQ,SAAS;AAC/B,gBAAQ,gBAAgB,CAAC;AAEzB,cAAM,OAAO,OAAO,QAAQ;AAC5B,cAAM,OAAO,OAAO,YAAY,OAAO;AAEvC,YAAI,OAAO,QAAQ,eAAe,aAAa;AAC9C,kBAAQ,aAAa;AAAA;AAGtB,eAAO,IAAI,QAAQ,MAAM,MAAM;AAAA;AAAA,MAGhC,oBAAoB;AACnB,mBAAW,YAAY,OAAO,OAAO,KAAK,WAAW;AACpD,qBAAW,WAAW,UAAU;AAC/B,gBAAI,QAAQ,0BAA0B,GAAG;AACxC,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAMZ,QAAQ,QAAQ;AACf,mBAAW,YAAY,OAAO,OAAO,KAAK,WAAW;AACpD,qBAAW,WAAW,UAAU;AAC/B,oBAAQ,QAAQ;AAAA;AAAA;AAIlB,mBAAW,sBAAsB,OAAO,OAAO,KAAK,QAAQ;AAC3D,qBAAW,SAAS,OAAO,OAAO,qBAAqB;AACtD,kBAAM,YAAY;AAAA;AAAA;AAKpB,aAAK,QAAQ;AAAA;AAAA,UAGV,eAAe;AAClB,eAAO,YAAY,EAAC,OAAO,MAAM,QAAQ;AAAA;AAAA,UAGtC,eAAe;AAClB,eAAO,YAAY,EAAC,OAAO,MAAM,QAAQ;AAAA;AAAA;AAI3C,UAAM,uBAAuB;AAC7B,UAAM,qBAAqB;AAE3B,YAAO,UAAU;AAAA,MAChB;AAAA,MACA,aAAa,IAAI;AAAA;AAAA;AAAA;;;AC5pBlB;AAAA;AAAA;AACA,QAAM,EAAC,aAAY,QAAQ;AAE3B,wCAA8B,SAAS;AAAA,MACtC,YAAY,QAAQ,eAAe;AAClC,cAAM;AAAA,UACL;AAAA,UACA,aAAa;AAAA;AAGd,aAAK,aAAa;AAClB,aAAK,gBAAgB;AACrB,aAAK,cAAc;AACnB,aAAK,mBAAmB;AACxB,aAAK,mBAAmB;AACxB,aAAK,UAAU;AACf,aAAK,WAAW;AAChB,aAAK,MAAM;AAEX,aAAK,UAAU;AACf,aAAK,WAAW;AAChB,aAAK,UAAU;AAEf,aAAK,aAAa;AAClB,aAAK,cAAc;AAEnB,aAAK,SAAS;AACd,aAAK,aAAa;AAElB,aAAK,UAAU;AAAA;AAAA,MAGhB,SAAS,OAAO;AACf,aAAK,IAAI,SAAS,QAAQ;AAAA;AAAA,MAG3B,WAAW,IAAI,UAAU;AACxB,aAAK,IAAI,WAAW,IAAI;AACxB,eAAO;AAAA;AAAA,MAGR,QAAQ;AACP,YAAI,CAAC,KAAK,SAAS;AAClB,eAAK,UAAU;AAEf,eAAK,mBAAmB;AACxB,eAAK;AAAA;AAAA;AAAA,MAIP,QAAQ;AACP,YAAI,KAAK,KAAK;AACb,eAAK,IAAI,SAAS;AAAA;AAAA;AAAA;AAKrB,YAAO,UAAU;AAAA;AAAA;;;ACzDjB;AAAA;AAAA;AAGA,YAAO,UAAU,SAAO;AACvB,YAAM,UAAU;AAAA,QACf,UAAU,IAAI;AAAA,QACd,UAAU,OAAO,IAAI,aAAa,YAAY,IAAI,SAAS,WAAW,OAAO,IAAI,SAAS,MAAM,GAAG,MAAM,IAAI;AAAA,QAC7G,MAAM,IAAI;AAAA,QACV,MAAM,IAAI;AAAA,QACV,QAAQ,IAAI;AAAA,QACZ,UAAU,IAAI;AAAA,QACd,MAAM,IAAI;AAAA,QACV,MAAM,GAAG,IAAI,YAAY,KAAK,IAAI,UAAU;AAAA;AAG7C,UAAI,OAAO,IAAI,SAAS,YAAY,IAAI,KAAK,WAAW,GAAG;AAC1D,gBAAQ,OAAO,OAAO,IAAI;AAAA;AAG3B,UAAI,IAAI,YAAY,IAAI,UAAU;AACjC,gBAAQ,OAAO,GAAG,IAAI,YAAY,MAAM,IAAI,YAAY;AAAA;AAGzD,aAAO;AAAA;AAAA;AAAA;;;ACvBR;AAAA;AAAA;AAEA,YAAO,UAAU,CAAC,MAAM,IAAI,WAAW;AACtC,iBAAW,SAAS,QAAQ;AAC3B,aAAK,GAAG,OAAO,IAAI,SAAS,GAAG,KAAK,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;;;ACJhD;AAAA;AAAA;AAEA,YAAO,UAAU,YAAU;AAC1B,cAAQ;AAAA,aACF;AAAA,aACA;AAAA,aACA;AAAA,aACA;AACJ,iBAAO;AAAA;AAEP,iBAAO;AAAA;AAAA;AAAA;AAAA;;;ACVV;AAAA;AAAA;AAGA,QAAM,YAAY,CAAC,MAAM,KAAK,eAAe;AAC5C,cAAO,QAAQ,OAAO,wBAAwB,KAAK;AAAA,QAClD,eAAe,MAAM;AACpB,gBAAM,OAAO,eAAe,WAAW,aAAa,WAAW;AAC/D,eAAK,OAAO,GAAG,MAAM,SAAS;AAC9B,eAAK,OAAO;AAAA;AAAA;AAAA;AAKf,cAAU,WAAW,wBAAwB,UAAQ;AACpD,YAAM,OAAO,KAAK,GAAG,SAAS,OAAO,aAAa;AAElD,UAAI,QAAQ,KAAK;AACjB,YAAM,cAAc,MAAM,QAAQ;AAElC,UAAI,aAAa;AAChB,gBAAQ,GAAG,MAAM,MAAM,GAAG,IAAI,KAAK,YAAY,MAAM,MAAM;AAAA;AAG5D,aAAO,QAAQ,KAAK,OAAO,gBAAgB,cAAc,WAAW,aAAa,mBAAmB,OAAO,KAAK;AAAA;AAGjH,cAAU,WAAW,wBAAwB,UAAQ;AACpD,aAAO,aAAa,KAAK,gCAAgC,KAAK;AAAA;AAG/D,cAAU,OAAO,yBAAyB,UAAQ;AACjD,aAAO,UAAU,KAAK;AAAA;AAGvB,cAAU,WAAW,0BAA0B,UAAQ;AACtD,aAAO,GAAG,KAAK,kCAAkC,KAAK;AAAA;AAGvD,cAAU,WAAW,iCAAiC,UAAQ;AAC7D,aAAO,kBAAkB,KAAK,kBAAkB,KAAK;AAAA;AAGtD,cAAU,WAAW,oBAAoB,UAAQ;AAChD,aAAO,wBAAwB,KAAK,OAAO,KAAK;AAAA;AAAA;AAAA;;;AC3CjD;AAAA;AAAA;AACA,QAAM,QAAQ,QAAQ;AACtB,QAAM,EAAC,aAAY,QAAQ;AAC3B,QAAM,EAAC,OAAO,gBAAe;AAC7B,QAAM,kBAAkB;AACxB,QAAM,eAAe;AACrB,QAAM,cAAc;AACpB,QAAM,wBAAwB;AAC9B,QAAM;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACG;AAEJ,QAAM;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACG,MAAM;AAEV,QAAM,WAAW,OAAO;AACxB,QAAM,UAAU,OAAO;AACvB,QAAM,WAAW,OAAO;AACxB,QAAM,WAAW,OAAO;AACxB,QAAM,kBAAkB,OAAO;AAC/B,QAAM,QAAQ,OAAO;AAErB,QAAM,mBAAmB;AACzB,QAAM,uBAAuB;AAE7B,sCAA4B,SAAS;AAAA,MACpC,YAAY,OAAO,SAAS,UAAU;AACrC,cAAM;AAAA,UACL,aAAa;AAAA;AAGd,cAAM,WAAW,OAAO,UAAU,YAAY,iBAAiB;AAC/D,YAAI,UAAU;AACb,kBAAQ,aAAa,iBAAiB,MAAM,QAAQ,IAAI,IAAI;AAAA;AAG7D,YAAI,OAAO,YAAY,cAAc,YAAY,QAAW;AAE3D,qBAAW;AACX,oBAAU,WAAW,QAAQ,mBAAI;AAAA,eAC3B;AAEN,oBAAU,kCAAI,QAAU;AAAA;AAGzB,YAAI,QAAQ,WAAW;AACtB,eAAK,YAAY,QAAQ;AAAA,mBACf,QAAQ,UAAU,OAAO;AACnC,eAAK,QAAQ,IAAI,MAAM,EAAC,iBAAiB;AAAA,mBAC/B,OAAO,QAAQ,UAAU,eAAe,QAAQ,UAAU,MAAM;AAC1E,cAAI,OAAO,QAAQ,qBAAqB,YAAY;AAEnD,iBAAK,QAAQ,IAAI,MAAM,EAAC,iBAAiB;AACzC,iBAAK,MAAM,mBAAmB,QAAQ;AAAA,iBAChC;AACN,iBAAK,QAAQ;AAAA;AAAA,mBAEJ,OAAO,QAAQ,MAAM,YAAY,YAAY;AACvD,eAAK,QAAQ,QAAQ;AAAA,eACf;AACN,gBAAM,IAAI,qBAAqB,iBAAiB,CAAC,qBAAqB,aAAa,UAAU,QAAQ;AAAA;AAGtG,YAAI,QAAQ,YAAY,QAAQ,aAAa,UAAU;AACtD,gBAAM,IAAI,qBAAqB,QAAQ,UAAU;AAAA;AAGlD,cAAM,OAAO,QAAQ,QAAQ,QAAQ,eAAgB,KAAK,SAAS,KAAK,MAAM,eAAgB;AAC9F,cAAM,OAAO,QAAQ,YAAY,QAAQ,QAAQ;AAGjD,eAAO,QAAQ;AACf,eAAO,QAAQ;AACf,eAAO,QAAQ;AAEf,cAAM,EAAC,YAAW;AAClB,gBAAQ,UAAU;AAElB,aAAK,YAAY,OAAO,OAAO;AAC/B,aAAK,SAAS;AAEd,aAAK,SAAS;AACd,aAAK,aAAa;AAElB,aAAK,SAAS,QAAQ,UAAU;AAChC,aAAK,OAAO,QAAQ;AAEpB,aAAK,MAAM;AACX,aAAK,UAAU;AACf,aAAK,eAAe;AAEpB,YAAI,QAAQ,SAAS;AACpB,qBAAW,CAAC,QAAQ,UAAU,OAAO,QAAQ,QAAQ,UAAU;AAC9D,iBAAK,UAAU,QAAQ;AAAA;AAAA;AAIzB,YAAI,QAAQ,QAAQ,CAAE,oBAAmB,KAAK,YAAY;AACzD,eAAK,UAAU,gBAAgB,WAAW,OAAO,KAAK,QAAQ,MAAM,SAAS;AAAA;AAG9E,gBAAQ,UAAU,QAAQ;AAC1B,gBAAQ,OAAO,QAAQ;AAEvB,aAAK,YAAY;AAGjB,YAAI,SAAS,KAAK;AACjB,eAAK,WAAW,WAAW;AAE3B,cAAI,CAAE,iBAAgB,KAAK,YAAY;AACtC,iBAAK,UAAU,gBAAgB;AAAA;AAAA,eAE1B;AACN,eAAK,WAAW,WAAW,QAAQ;AAEnC,cAAI,CAAE,iBAAgB,KAAK,YAAY;AACtC,iBAAK,UAAU,gBAAgB,GAAG,QAAQ;AAAA;AAAA;AAI5C,YAAI,SAAS;AACZ,eAAK,WAAW;AAAA;AAGjB,YAAI,UAAU;AACb,eAAK,KAAK,YAAY;AAAA;AAGvB,aAAK,mBAAmB;AAAA;AAAA,UAGrB,SAAS;AACZ,eAAO,KAAK,UAAU;AAAA;AAAA,UAGnB,OAAO,OAAO;AACjB,YAAI,OAAO;AACV,eAAK,UAAU,uBAAuB,MAAM;AAAA;AAAA;AAAA,UAI1C,OAAO;AACV,eAAO,KAAK,UAAU;AAAA;AAAA,UAGnB,KAAK,OAAO;AACf,YAAI,OAAO;AACV,eAAK,UAAU,qBAAqB;AAAA;AAAA;AAAA,UAIlC,oBAAoB;AACvB,eAAO,KAAK,WAAW,SAAS,KAAK,WAAW,UAAU,KAAK,WAAW;AAAA;AAAA,MAG3E,OAAO,OAAO,UAAU,UAAU;AAEjC,YAAI,KAAK,mBAAmB;AAC3B,mBAAS,IAAI,MAAM;AAEnB;AAAA;AAGD,aAAK;AAEL,cAAM,YAAY,MAAM,KAAK,SAAS,MAAM,OAAO,UAAU;AAC7D,YAAI,KAAK,UAAU;AAClB;AAAA,eACM;AACN,eAAK,OAAO,KAAK;AAAA;AAAA;AAAA,MAInB,OAAO,UAAU;AAChB,YAAI,KAAK,WAAW;AACnB;AAAA;AAGD,aAAK;AAEL,cAAM,UAAU,MAAM;AAErB,cAAI,KAAK,mBAAmB;AAC3B;AACA;AAAA;AAGD,eAAK,SAAS,IAAI;AAAA;AAGnB,YAAI,KAAK,UAAU;AAClB;AAAA,eACM;AACN,eAAK,OAAO,KAAK;AAAA;AAAA;AAAA,MAInB,QAAQ;AACP,YAAI,KAAK,OAAO,KAAK,IAAI,UAAU;AAClC;AAAA;AAGD,YAAI,CAAC,KAAK,SAAS;AAClB,kBAAQ,SAAS,MAAM,KAAK,KAAK;AAAA;AAGlC,aAAK,UAAU;AAEf,aAAK;AAAA;AAAA,MAGN,SAAS,OAAO,UAAU;AACzB,YAAI,KAAK,KAAK;AACb,eAAK,IAAI;AAAA;AAGV,YAAI,KAAK,UAAU;AAClB,eAAK,SAAS;AAAA;AAGf,iBAAS;AAAA;AAAA,YAGJ,eAAe;AACpB,YAAI,KAAK,oBAAoB,KAAK,WAAW;AAC5C;AAAA;AAGD,aAAK,mBAAmB;AAExB,cAAM,kBAAkB,KAAK,WAAW;AAGxC,cAAM,WAAW,YAAU;AAC1B,eAAK,WAAW;AAEhB,cAAI,KAAK,WAAW;AACnB,mBAAO;AACP;AAAA;AAID,cAAI,CAAC,iBAAiB;AACrB,wBAAY,QAAQ,MAAM,CAAC,WAAW,YAAY,SAAS;AAAA;AAK5D,gBAAM,aAAa,QAAM;AACxB,mBAAO,IAAI,SAAS;AACnB,kBAAI,CAAC,KAAK,YAAY,CAAC,KAAK,WAAW;AACtC,mBAAG,GAAG;AAAA,qBACA;AACN,qBAAK,KAAK,UAAU,MAAM;AACzB,qBAAG,GAAG;AAAA;AAAA;AAAA;AAAA;AAOV,iBAAO,KAAK,YAAY,WAAW,CAAC,SAAS,OAAO,eAAe;AAGlE,kBAAM,WAAW,IAAI,gBAAgB,KAAK,QAAQ,OAAO;AACzD,iBAAK,MAAM;AAEX,qBAAS,MAAM;AACf,qBAAS,aAAa,QAAQ;AAC9B,qBAAS,UAAU;AACnB,qBAAS,aAAa;AAEtB,qBAAS,KAAK,OAAO,MAAM;AAC1B,kBAAI,KAAK,SAAS;AACjB,yBAAS,UAAU;AACnB,yBAAS,KAAK;AAAA,qBACR;AACN,yBAAS,WAAW;AAGpB,yBAAS,SAAS;AAClB,yBAAS,aAAa;AAAA;AAAA;AAIxB,gBAAI,iBAAiB;AACpB,uBAAS,UAAU;AAInB,kBAAI,KAAK,KAAK,WAAW,UAAU,QAAQ,OAAO,MAAM,KAAK;AAC5D,qBAAK,KAAK;AAAA,qBACJ;AAEN,uBAAO;AAAA;AAAA,mBAEF;AAEN,qBAAO,GAAG,QAAQ,WAAS;AAC1B,oBAAI,CAAC,SAAS,WAAW,CAAC,SAAS,KAAK,QAAQ;AAC/C,yBAAO;AAAA;AAAA;AAIT,qBAAO,KAAK,OAAO,MAAM;AACxB,yBAAS,KAAK;AAAA;AAGf,kBAAI,CAAC,KAAK,KAAK,YAAY,WAAW;AAErC,yBAAS;AAAA;AAAA;AAAA;AAMZ,iBAAO,KAAK,WAAW,WACtB,aAAW,KAAK,KAAK,eAAe,EAAC,YAAY,QAAQ;AAG1D,iBAAO,KAAK,YAAY,WAAW,CAAC,UAAU,OAAO,gBAAgB;AACpE,kBAAM,EAAC,QAAO;AAGd,gBAAI,WAAW;AACf,gBAAI,cAAc;AAAA;AAGnB,gBAAM,EAAC,WAAU,OAAO;AACxB,eAAK,SAAS;AACd,eAAK,aAAa;AAElB,qBAAW,OAAO,KAAK,QAAQ;AAC9B;AAAA;AAGD,eAAK,KAAK,UAAU,KAAK;AAAA;AAI1B,YAAI,KAAK,WAAW;AACnB,cAAI;AACH,qBAAS,KAAK,UAAU,QAAQ,KAAK;AAAA,mBAC7B,OAAP;AACD,iBAAK,KAAK,SAAS;AAAA;AAAA,eAEd;AACN,eAAK,eAAe;AAEpB,cAAI;AACH,qBAAS,MAAM,KAAK,MAAM,QAAQ,KAAK,UAAU,KAAK,WAAW,KAAK;AAAA,mBAC9D,OAAP;AACD,iBAAK,KAAK,SAAS;AAAA;AAAA;AAAA;AAAA,MAKtB,UAAU,MAAM;AACf,YAAI,OAAO,SAAS,UAAU;AAC7B,gBAAM,IAAI,qBAAqB,QAAQ,UAAU;AAAA;AAGlD,eAAO,KAAK,UAAU,KAAK;AAAA;AAAA,UAGxB,cAAc;AACjB,eAAO,KAAK;AAAA;AAAA,MAGb,aAAa,MAAM;AAClB,YAAI,OAAO,SAAS,UAAU;AAC7B,gBAAM,IAAI,qBAAqB,QAAQ,UAAU;AAAA;AAGlD,YAAI,KAAK,aAAa;AACrB,gBAAM,IAAI,sBAAsB;AAAA;AAGjC,eAAO,KAAK,UAAU,KAAK;AAAA;AAAA,MAG5B,UAAU,MAAM,OAAO;AACtB,YAAI,KAAK,aAAa;AACrB,gBAAM,IAAI,sBAAsB;AAAA;AAGjC,YAAI,OAAO,SAAS,YAAa,CAAC,iBAAiB,KAAK,SAAS,CAAC,sBAAsB,OAAQ;AAC/F,gBAAM,IAAI,uBAAuB,eAAe;AAAA;AAGjD,YAAI,OAAO,UAAU,aAAa;AACjC,gBAAM,IAAI,8BAA8B,OAAO;AAAA;AAGhD,YAAI,qBAAqB,KAAK,QAAQ;AACrC,gBAAM,IAAI,iBAAiB,kBAAkB;AAAA;AAG9C,aAAK,UAAU,KAAK,iBAAiB;AAAA;AAAA,MAGtC,aAAa;AAAA;AAAA,MAIb,qBAAqB;AAAA;AAAA,MAIrB,WAAW,IAAI,UAAU;AACxB,cAAM,eAAe,MAAM,KAAK,SAAS,WAAW,IAAI;AAExD,YAAI,KAAK,UAAU;AAClB;AAAA,eACM;AACN,eAAK,OAAO,KAAK;AAAA;AAGlB,eAAO;AAAA;AAAA,UAGJ,kBAAkB;AACrB,YAAI,CAAC,KAAK,aAAa,KAAK,UAAU;AACrC,iBAAO,KAAK,SAAS,QAAQ,cAAc;AAAA;AAG5C,eAAO;AAAA;AAAA,UAGJ,gBAAgB,QAAQ;AAAA;AAAA;AAK7B,YAAO,UAAU;AAAA;AAAA;;;AC5bjB;AAAA;AAAA;AACA,QAAM,MAAM,QAAQ;AAEpB,YAAO,UAAU,CAAC,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,CAAC,SAAS,WAAW;AAC1F,UAAI,UAAU;AAEd,UAAI;AAEJ,YAAM,WAAW,YAAY;AAC5B,cAAM;AAEN,eAAO,IAAI,WAAW;AACtB,eAAO,IAAI,SAAS;AAEpB,YAAI,QAAQ,eAAe;AAC1B,kBAAQ,EAAC,cAAc,OAAO,cAAc,QAAQ;AAEpD,cAAI,SAAS;AACZ,kBAAM,QAAQ;AACd,mBAAO,KAAK;AAAA;AAAA,eAEP;AACN,iBAAO;AACP,kBAAQ,EAAC,cAAc,OAAO,cAAc;AAAA;AAAA;AAI9C,YAAM,YAAY,YAAY;AAC7B,kBAAU;AACV;AAAA;AAGD,YAAM,gBAAiB,aAAY;AAClC,YAAI;AACH,mBAAS,MAAM,QAAQ,SAAS;AAEhC,iBAAO,GAAG,SAAS;AACnB,iBAAO,KAAK,WAAW;AAAA,iBACf,OAAP;AACD,iBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACvCV;AAAA;AAAA;AACA,QAAM,MAAM,QAAQ;AAGpB,YAAO,UAAU,aAAW;AAC3B,UAAI,aAAa,QAAQ;AACzB,YAAM,aAAa,QAAQ,WAAW,QAAQ,QAAQ;AAEtD,UAAI,YAAY;AACf,YAAI,WAAW,WAAW,MAAM;AAC/B,gBAAM,QAAQ,WAAW,QAAQ;AACjC,cAAI,UAAU,IAAI;AACjB,yBAAa;AAAA,iBACP;AACN,yBAAa,WAAW,MAAM,GAAG;AAAA;AAAA,eAE5B;AACN,uBAAa,WAAW,MAAM,KAAK,GAAG;AAAA;AAAA;AAIxC,UAAI,IAAI,KAAK,aAAa;AACzB,eAAO;AAAA;AAGR,aAAO;AAAA;AAAA;AAAA;;;ACzBR;AAAA;AAAA;AACA,QAAM,OAAO,QAAQ;AACrB,QAAM,QAAQ,QAAQ;AACtB,QAAM,cAAc;AACpB,QAAM,WAAW;AACjB,QAAM,qBAAqB;AAC3B,QAAM,sBAAsB;AAC5B,QAAM,eAAe;AAErB,QAAM,QAAQ,IAAI,SAAS,EAAC,SAAS;AACrC,QAAM,QAAQ,IAAI;AAElB,QAAM,gBAAgB,CAAC,OAAO,QAAQ,YAAY;AACjD,aAAO,eAAe,EAAC,iBAAiB;AAExC,YAAM,SAAS,MAAM;AACpB,cAAM,KAAK,QAAQ,QAAQ;AAAA;AAG5B,aAAO,GAAG,QAAQ;AAElB,YAAM,UAAU,MAAM;AACrB,cAAM,aAAa,QAAQ;AAAA;AAG5B,aAAO,GAAG,SAAS;AAEnB,YAAM,WAAW,MAAM;AACtB,cAAM,aAAa,QAAQ;AAC3B,eAAO,IAAI,SAAS;AACpB,eAAO,IAAI,QAAQ;AACnB,eAAO,IAAI,eAAe;AAAA;AAG3B,aAAO,GAAG,eAAe;AAEzB,YAAM,KAAK,QAAQ,QAAQ;AAAA;AAG5B,QAAM,kBAAkB,OAAM,YAAW;AACxC,YAAM,OAAO,GAAG,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,cAAc;AAEtE,UAAI,CAAC,MAAM,IAAI,OAAO;AACrB,YAAI,MAAM,IAAI,OAAO;AACpB,gBAAM,SAAS,MAAM,MAAM,IAAI;AAC/B,iBAAO,OAAO;AAAA;AAGf,cAAM,EAAC,MAAM,UAAS;AACtB,gBAAQ,OAAO,QAAQ;AAEvB,cAAM,gBAAgB,YAAY;AAClC,cAAM,IAAI,MAAM;AAEhB,YAAI;AACH,gBAAM,EAAC,QAAQ,iBAAgB,MAAM;AACrC,gBAAM,IAAI,MAAM;AAEhB,kBAAQ,OAAO;AAEf,cAAI,iBAAiB,MAAM;AAE1B,mBAAO;AAAA,iBACD;AACN,kBAAM,EAAC,gBAAe;AACtB,kBAAM,0BAA0B,MAAM,MAAM,UAAU;AAEtD,gBAAI,OAAO;AACV,kBAAI,MAAM,qBAAqB,yBAAyB;AACvD,8BAAc,OAAO,QAAQ;AAAA,qBACvB;AACN,uBAAO;AAAA;AAAA,uBAEE,YAAY,qBAAqB,yBAAyB;AACpE,4BAAc,aAAa,QAAQ;AAAA,mBAC7B;AACN,qBAAO;AAAA;AAAA;AAIT,gBAAM,OAAO;AAEb,iBAAO;AAAA,iBACC,OAAP;AACD,gBAAM,OAAO;AAEb,gBAAM;AAAA;AAAA;AAIR,aAAO,MAAM,IAAI;AAAA;AAGlB,YAAO,UAAU,OAAO,OAAO,SAAS,aAAa;AACpD,UAAI,OAAO,UAAU,YAAY,iBAAiB,KAAK;AACtD,gBAAQ,aAAa,IAAI,IAAI;AAAA;AAG9B,UAAI,OAAO,YAAY,YAAY;AAClC,mBAAW;AACX,kBAAU;AAAA;AAGX,gBAAU;AAAA,QACT,eAAe,CAAC,MAAM;AAAA,SACnB,QACA,UAHM;AAAA,QAIT,eAAe;AAAA;AAGhB,UAAI,CAAC,MAAM,QAAQ,QAAQ,kBAAkB,QAAQ,cAAc,WAAW,GAAG;AAChF,cAAM,IAAI,MAAM;AAAA;AAGjB,cAAQ,WAAW,QAAQ,YAAY;AACvC,YAAM,UAAU,QAAQ,aAAa;AAErC,cAAQ,OAAO,QAAQ,YAAY,QAAQ,QAAQ;AACnD,cAAQ,UAAU,QAAQ;AAC1B,cAAQ,aAAa,QAAQ,cAAc,oBAAoB;AAC/D,cAAQ,OAAO,QAAQ,QAAS,WAAU,MAAM;AAChD,cAAQ,gBAAgB,UAAU,MAAM,cAAc,KAAK;AAE3D,YAAM,SAAS,QAAQ;AAEvB,UAAI,QAAQ;AACX,YAAI,OAAO,YAAY;AACtB,gBAAM,IAAI,MAAM;AAAA;AAGjB,gBAAQ,QAAQ,OAAO,UAAU,UAAU;AAAA;AAG5C,UAAI,SAAS;AACZ,cAAM,WAAW,MAAM,gBAAgB;AAEvC,YAAI,aAAa,MAAM;AACtB,cAAI,QAAQ;AACX,oBAAQ,QAAQ,OAAO;AAAA;AAGxB,iBAAO,IAAI,mBAAmB,SAAS;AAAA;AAAA;AAIzC,aAAO,KAAK,QAAQ,SAAS;AAAA;AAG9B,YAAO,QAAQ,gBAAgB;AAAA;AAAA;;;ACpJ/B;AAAA;AAAA;AACA,QAAM,QAAQ,QAAQ;AACtB,QAAM,QAAQ;AACd,QAAM,gBAAgB;AACtB,QAAM,kBAAkB;AACxB,QAAM,OAAO;AAEb,QAAM,UAAU,CAAC,KAAK,SAAS,aAAa;AAC3C,aAAO,IAAI,cAAc,KAAK,SAAS;AAAA;AAGxC,QAAM,MAAM,CAAC,KAAK,SAAS,aAAa;AAEvC,YAAM,MAAM,IAAI,cAAc,KAAK,SAAS;AAC5C,UAAI;AAEJ,aAAO;AAAA;AAGR,YAAO,UAAU,8DACb,QADa;AAAA,MAEhB;AAAA,MACA;AAAA,QACG,QAJa;AAAA,MAKhB;AAAA,MACA;AAAA,MACA;AAAA;AAAA;AAAA;;;AC1BD;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,OAAO;AACb,aAAQ,UAAU,CAAC,SAAS,KAAK,QAAQ,WAAW,SAAS,KAAK,QAAQ,UAAU,KAAK;AAAA;AAAA;;;ACHzF;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,OAAO,QAAQ;AACrB,QAAM,SAAS,QAAQ;AACvB,QAAM,OAAO;AACb,QAAM,iBAAiB;AACvB,QAAM,YAAY,OAAO,UAAU,KAAK;AACxC,aAAQ,UAAU,OAAO,MAAM,YAAY;AACvC,UAAI,WAAW,oBAAoB,SAAS;AACxC,eAAO,OAAO,QAAQ;AAAA;AAE1B,UAAI,CAAC,MAAM;AACP,eAAO;AAAA;AAEX,UAAI,KAAK,QAAQ,OAAO,OAAO;AAC3B,eAAO,OAAO,WAAW;AAAA;AAE7B,UAAI,KAAK,QAAQ,OAAO,OAAO;AAC3B,eAAO,KAAK;AAAA;AAEhB,UAAI,eAAe,QAAQ,OAAO;AAC9B,eAAO,OAAO,UAAU,KAAK,UAAU,KAAK;AAAA;AAEhD,UAAI,gBAAgB,KAAK,YAAY;AACjC,cAAM,EAAE,SAAS,MAAM,UAAU,KAAK;AACtC,YAAI,SAAS,GAAG;AACZ,iBAAO;AAAA;AAEX,eAAO;AAAA;AAEX,aAAO;AAAA;AAAA;AAAA;;;AC9BX;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,uBAAmB,MAAM,IAAI,QAAQ;AACjC,YAAM,MAAM;AACZ,iBAAW,SAAS,QAAQ;AACxB,YAAI,SAAS,IAAI,SAAS;AACtB,aAAG,KAAK,OAAO,GAAG;AAAA;AAEtB,aAAK,GAAG,OAAO,IAAI;AAAA;AAEvB,aAAO,MAAM;AACT,mBAAW,SAAS,QAAQ;AACxB,eAAK,IAAI,OAAO,IAAI;AAAA;AAAA;AAAA;AAIhC,aAAQ,UAAU;AAAA;AAAA;;;AChBlB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAKtD,aAAQ,UAAU,MAAM;AACpB,YAAM,WAAW;AACjB,aAAO;AAAA,QACH,KAAK,QAAQ,OAAO,IAAI;AACpB,iBAAO,KAAK,OAAO;AACnB,mBAAS,KAAK,EAAE,QAAQ,OAAO;AAAA;AAAA,QAEnC,cAAc;AACV,qBAAW,WAAW,UAAU;AAC5B,kBAAM,EAAE,QAAQ,OAAO,OAAO;AAC9B,mBAAO,eAAe,OAAO;AAAA;AAEjC,mBAAS,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;;;AClB9B;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,eAAe;AACvB,QAAM,MAAM,QAAQ;AACpB,QAAM,aAAa;AACnB,QAAM,UAAU,OAAO;AACvB,QAAM,OAAO,MAAM;AAAA;AACnB,qCAA2B,MAAM;AAAA,MAC7B,YAAY,WAAW,OAAO;AAC1B,cAAM,qBAAqB,cAAc;AACzC,aAAK,QAAQ;AACb,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA;AAAA;AAGpB,aAAQ,eAAe;AACvB,aAAQ,UAAU,CAAC,SAAS,QAAQ,YAAY;AAC5C,UAAI,WAAW,SAAS;AACpB,eAAO;AAAA;AAEX,cAAQ,WAAW;AACnB,YAAM,YAAY;AAClB,YAAM,EAAE,MAAM,gBAAgB,WAAW;AACzC,YAAM,aAAa,CAAC,OAAO,UAAU,UAAU;AAC3C,YAAI;AACJ,cAAM,UAAU,WAAW,UAAU,OAAO,OAAO;AACnD,QAAC,MAAK,QAAQ,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAK;AAClE,cAAM,SAAS,MAAM;AACjB,uBAAa;AAAA;AAEjB,kBAAU,KAAK;AACf,eAAO;AAAA;AAEX,YAAM,EAAE,MAAM,aAAa;AAC3B,YAAM,iBAAiB,CAAC,OAAO,UAAU;AACrC,gBAAQ,QAAQ,IAAI,aAAa,OAAO;AAAA;AAE5C,YAAM,iBAAiB,MAAM;AACzB,mBAAW,UAAU,WAAW;AAC5B;AAAA;AAEJ;AAAA;AAEJ,cAAQ,KAAK,SAAS,WAAS;AAC3B;AAGA,YAAI,QAAQ,cAAc,aAAa,GAAG;AACtC,gBAAM;AAAA;AAAA;AAGd,cAAQ,KAAK,SAAS;AACtB,WAAK,SAAS,YAAY,CAAC,aAAa;AACpC,aAAK,UAAU,OAAO;AAAA;AAE1B,UAAI,OAAO,OAAO,YAAY,aAAa;AACvC,mBAAW,OAAO,SAAS,gBAAgB;AAAA;AAE/C,UAAI,OAAO,OAAO,WAAW,aAAa;AACtC,cAAM,uBAAuB,MAAM;AAC/B,yBAAe,OAAO,QAAQ;AAAA;AAElC,gBAAQ,WAAW,OAAO,QAAQ;AAIlC,kBAAU,KAAK,MAAM;AACjB,kBAAQ,eAAe,WAAW;AAAA;AAAA;AAG1C,WAAK,SAAS,UAAU,CAAC,WAAW;AAChC,YAAI;AACJ,cAAM,EAAE,eAAe;AAEvB,YAAI,OAAO,YAAY;AACnB,gBAAM,UAAU,QAAQ,eAAe,QAAQ,eAAe,SAAS,aAAa,IAAI,KAAM,MAAK,aAAa,QAAQ,aAAa,SAAS,WAAW,UAAU,QAAQ,OAAO,SAAS,KAAK,QAAQ;AACxM,cAAI,OAAO,OAAO,WAAW,eAAe,CAAC,WAAW,OAAO,OAAO,UAAU,YAAY,aAAa;AACrG,kBAAM,gBAAgB,WAAW,OAAO,QAAQ,gBAAgB;AAChE,iBAAK,QAAQ,UAAU;AAAA;AAE3B,cAAI,OAAO,OAAO,YAAY,aAAa;AACvC,kBAAM,cAAc,MAAM,WAAW,OAAO,SAAS,gBAAgB;AACrE,gBAAI,SAAS;AACT,mBAAK,QAAQ,WAAW;AAAA,mBAEvB;AACD,mBAAK,QAAQ,UAAU,CAAC,UAAU;AAC9B,oBAAI,UAAU,MAAM;AAChB,uBAAK,QAAQ,WAAW;AAAA;AAAA;AAAA;AAAA;AAKxC,cAAI,OAAO,OAAO,kBAAkB,eAAe,QAAQ,aAAa,UAAU;AAC9E,iBAAK,QAAQ,WAAW,MAAM;AAC1B,oBAAM,gBAAgB,WAAW,OAAO,eAAe,gBAAgB;AACvE,mBAAK,QAAQ,iBAAiB;AAAA;AAAA;AAAA;AAI1C,YAAI,OAAO,OAAO,SAAS,aAAa;AACpC,gBAAM,cAAc,MAAM,WAAW,OAAO,MAAM,gBAAgB;AAElE,cAAI,OAAO,YAAY;AACnB,iBAAK,QAAQ,WAAW,MAAM;AAC1B,mBAAK,SAAS,mBAAmB;AAAA;AAAA,iBAGpC;AACD,iBAAK,SAAS,mBAAmB;AAAA;AAAA;AAAA;AAI7C,UAAI,OAAO,OAAO,aAAa,aAAa;AACxC,aAAK,SAAS,mBAAmB,MAAM;AACnC,gBAAM,gBAAgB,WAAW,OAAO,UAAU,gBAAgB;AAClE,eAAK,SAAS,YAAY;AAAA;AAAA;AAGlC,aAAO;AAAA;AAAA;AAAA;;;ACvHX;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,OAAO;AACb,aAAQ,UAAU,CAAC,QAAQ;AAEvB,YAAM;AACN,YAAM,UAAU;AAAA,QACZ,UAAU,IAAI;AAAA,QACd,UAAU,KAAK,QAAQ,OAAO,IAAI,aAAa,IAAI,SAAS,WAAW,OAAO,IAAI,SAAS,MAAM,GAAG,MAAM,IAAI;AAAA,QAC9G,MAAM,IAAI;AAAA,QACV,MAAM,IAAI;AAAA,QACV,QAAQ,IAAI;AAAA,QACZ,UAAU,IAAI;AAAA,QACd,MAAM,IAAI;AAAA,QACV,MAAM,GAAG,IAAI,YAAY,KAAK,IAAI,UAAU;AAAA;AAEhD,UAAI,KAAK,QAAQ,OAAO,IAAI,SAAS,IAAI,KAAK,SAAS,GAAG;AACtD,gBAAQ,OAAO,OAAO,IAAI;AAAA;AAE9B,UAAI,IAAI,YAAY,IAAI,UAAU;AAC9B,gBAAQ,OAAO,GAAG,IAAI,YAAY,MAAM,IAAI,YAAY;AAAA;AAE5D,aAAO;AAAA;AAAA;AAAA;;;ACtBX;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAEtD,QAAM,QAAQ,QAAQ;AACtB,QAAM,OAAO;AAAA,MACT;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,aAAQ,UAAU,CAAC,QAAQ,YAAY;AACnC,UAAI,IAAI;AACR,UAAI,QAAQ,MAAM;AACd,YAAI,QAAQ,UAAU;AAClB,gBAAM,IAAI,UAAU;AAAA;AAExB,YAAI,QAAQ,QAAQ;AAChB,gBAAM,IAAI,UAAU;AAAA;AAExB,YAAI,QAAQ,cAAc;AACtB,gBAAM,IAAI,UAAU;AAAA;AAAA;AAG5B,UAAI,QAAQ,UAAU,QAAQ,cAAc;AACxC,cAAM,IAAI,UAAU;AAAA;AAExB,UAAI,CAAC,QAAQ;AACT,YAAI,CAAC,QAAQ,UAAU;AACnB,gBAAM,IAAI,UAAU;AAAA;AAExB,iBAAS,GAAG,QAAQ,aAAc,MAAM,MAAK,QAAQ,cAAc,QAAQ,OAAO,SAAS,KAAK,QAAQ,UAAU,QAAQ,OAAO,SAAS,KAAK;AAAA;AAEnJ,YAAM,MAAM,IAAI,MAAM,IAAI;AAC1B,UAAI,QAAQ,MAAM;AACd,cAAM,cAAc,QAAQ,KAAK,QAAQ;AACzC,YAAI,gBAAgB,IAAI;AACpB,kBAAQ,WAAW,QAAQ;AAAA,eAE1B;AACD,kBAAQ,WAAW,QAAQ,KAAK,MAAM,GAAG;AACzC,kBAAQ,SAAS,QAAQ,KAAK,MAAM,cAAc;AAAA;AAEtD,eAAO,QAAQ;AAAA;AAEnB,iBAAW,OAAO,MAAM;AACpB,YAAI,QAAQ,MAAM;AACd,cAAI,OAAO,QAAQ,KAAK;AAAA;AAAA;AAGhC,aAAO;AAAA;AAAA;AAAA;;;ACnDX;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,4BAAkB;AAAA,MACd,cAAc;AACV,aAAK,UAAU,IAAI;AACnB,aAAK,MAAM,IAAI;AAAA;AAAA,MAEnB,IAAI,KAAK,OAAO;AACZ,YAAI,OAAO,QAAQ,UAAU;AACzB,eAAK,QAAQ,IAAI,KAAK;AAAA,eAErB;AACD,eAAK,IAAI,IAAI,KAAK;AAAA;AAAA;AAAA,MAG1B,IAAI,KAAK;AACL,YAAI,OAAO,QAAQ,UAAU;AACzB,iBAAO,KAAK,QAAQ,IAAI;AAAA;AAE5B,eAAO,KAAK,IAAI,IAAI;AAAA;AAAA,MAExB,IAAI,KAAK;AACL,YAAI,OAAO,QAAQ,UAAU;AACzB,iBAAO,KAAK,QAAQ,IAAI;AAAA;AAE5B,eAAO,KAAK,IAAI,IAAI;AAAA;AAAA;AAG5B,aAAQ,UAAU;AAAA;AAAA;;;AC5BlB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAEtD,QAAM,YAAY,OAAO,WAAW;AAChC,YAAM,SAAS;AACf,UAAI,SAAS;AACb,uBAAiB,SAAS,QAAQ;AAC9B,eAAO,KAAK;AACZ,kBAAU,OAAO,WAAW;AAAA;AAEhC,UAAI,OAAO,SAAS,OAAO,KAAK;AAC5B,eAAO,OAAO,OAAO,QAAQ;AAAA;AAEjC,aAAO,OAAO,KAAK,OAAO,KAAK;AAAA;AAEnC,aAAQ,UAAU;AAAA;AAAA;;;ACflB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,6BAA6B,SAAQ,uBAAuB;AACpE,QAAM,kBAAkB;AAAA,MACpB,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA;AAEV,aAAQ,uBAAuB,CAAC,UAAU;AACtC,aAAO,SAAS;AAAA;AAEpB,aAAQ,6BAA6B,CAAC,uBAAuB;AACzD,UAAI,SAAQ,qBAAqB,qBAAqB;AAClD,eAAO,gBAAgB;AAAA;AAE3B,YAAM,IAAI,MAAM;AAAA;AAAA;AAAA;;;ACfpB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,eAAe;AACvB,aAAQ,eAAe,CAAC,aAAa;AACjC,YAAM,EAAE,eAAe;AACvB,YAAM,kBAAkB,SAAS,QAAQ,QAAQ,iBAAiB,MAAM;AACxE,aAAQ,cAAc,OAAO,cAAc,mBAAoB,eAAe;AAAA;AAAA;AAAA;;;ACNlF;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,gBAAgB,IAAI;AAC1B,aAAQ,UAAU,CAAC,YAAY;AAC3B,UAAI,cAAc,IAAI,UAAU;AAC5B;AAAA;AAEJ,oBAAc,IAAI;AAElB,cAAQ,YAAY,QAAQ,WAAW;AAAA,QACnC,MAAM;AAAA;AAAA;AAAA;AAAA;;;ACVd;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,OAAO;AACb,QAAM,qBAAqB,CAAC,SAAS,aAAa;AAC9C,UAAI,KAAK,QAAQ,MAAM,QAAQ,WAAW;AACtC,cAAM,IAAI,UAAU;AAAA;AAExB,WAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,WAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,WAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,WAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,WAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AAEvE,UAAI,QAAQ,iBAAiB,QAAW;AACpC,gBAAQ,eAAe;AAAA;AAG3B,YAAM,EAAE,UAAU;AAClB,UAAI,UAAU;AACV,gBAAQ,QAAQ,mBAAK,SAAS;AAAA,aAE7B;AACD,gBAAQ,QAAQ;AAAA,UACZ,gBAAgB,iBAAe,YAAY;AAAA,UAC3C,OAAO;AAAA,UACP,SAAS;AAAA,UACT,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,eAAe;AAAA;AAAA;AAGvB,UAAI,KAAK,QAAQ,OAAO,QAAQ;AAC5B,gBAAQ,QAAQ,kCACT,QAAQ,QACR;AAEP,gBAAQ,MAAM,UAAU,CAAC,GAAG,IAAI,IAAI,QAAQ,MAAM,QAAQ,IAAI,YAAU,OAAO;AAC/E,gBAAQ,MAAM,cAAc,CAAC,GAAG,IAAI,IAAI,QAAQ,MAAM;AACtD,gBAAQ,MAAM,aAAa,CAAC,GAAG,IAAI,IAAI,QAAQ,MAAM;AAAA,iBAEhD,KAAK,QAAQ,OAAO,QAAQ;AACjC,gBAAQ,MAAM,QAAQ;AAAA;AAE1B,UAAI,KAAK,QAAQ,UAAU,QAAQ,MAAM,gBAAgB;AACrD,gBAAQ,MAAM,gBAAgB,KAAK,IAGnC,GAAG,CAAC,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,SAAS,OAAO,KAAK,QAAQ;AAAA;AAG9E,UAAI,KAAK,QAAQ,OAAO,QAAQ,aAAa;AACzC,YAAI,UAAU;AACV,kBAAQ,aAAa,kCACd,SAAS,aACT,QAAQ;AAAA;AAGnB,cAAM,EAAE,eAAe;AACvB,YAAI,CAAC,KAAK,QAAQ,UAAU,WAAW,YAAY;AAC/C,gBAAM,IAAI,MAAM;AAAA;AAEpB,YAAI,CAAC,KAAK,QAAQ,UAAU,WAAW,iBAAiB;AACpD,gBAAM,IAAI,MAAM;AAAA;AAEpB,YAAI,CAAC,KAAK,QAAQ,UAAU,WAAW,SAAS;AAC5C,gBAAM,IAAI,UAAU;AAAA;AAExB,YAAI,CAAC,KAAK,QAAQ,UAAU,WAAW,WAAW;AAC9C,gBAAM,IAAI,MAAM;AAAA;AAAA;AAIxB,UAAI,QAAQ,iBAAiB,UAAU,QAAQ,QAAQ,WAAW,QAAW;AACzE,gBAAQ,QAAQ,SAAS;AAAA;AAE7B,aAAO;AAAA;AAEX,aAAQ,UAAU;AAAA;AAAA;;;AC7ElB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,wBAAwB;AAChC,aAAQ,wBAAwB,IAAI,IAAI,CAAC,KAAK,KAAK;AACnD,QAAM,sBAAsB,CAAC,EAAE,cAAc,cAAc,OAAO,iBAAiB;AAC/E,UAAI,eAAe,aAAa,OAAO;AACnC,eAAO;AAAA;AAEX,YAAM,YAAY,aAAa,QAAQ,SAAS,MAAM,QAAQ;AAC9D,YAAM,eAAe,aAAa,WAAW,SAAS,MAAM;AAC5D,YAAM,gBAAgB,MAAM,YAAY,aAAa,YAAY,SAAS,MAAM,SAAS;AACzF,UAAI,CAAC,aAAc,CAAC,gBAAgB,CAAC,eAAgB;AACjD,eAAO;AAAA;AAEX,UAAI,MAAM,UAAU;AAChB,YAAI,YAAY;AACZ,cAAI,aAAa,kBAAkB,UAAa,aAAa,aAAa,eAAe;AACrF,mBAAO;AAAA;AAEX,iBAAO;AAAA;AAEX,YAAI,MAAM,SAAS,eAAe,KAAK;AACnC,iBAAO;AAAA;AAAA;AAGf,YAAM,QAAQ,KAAK,WAAW;AAC9B,aAAS,KAAM,gBAAe,KAAM,MAAQ;AAAA;AAEhD,aAAQ,UAAU;AAAA;AAAA;;;AC5BlB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,2BAA2B,SAAQ,YAAY,SAAQ,eAAe,SAAQ,cAAc,SAAQ,aAAa,SAAQ,YAAY,SAAQ,oBAAoB,SAAQ,eAAe,SAAQ,6BAA6B,SAAQ,kBAAkB,SAAQ,cAAc,SAAQ,uBAAuB;AACpT,QAAM,SAAS,QAAQ;AACvB,QAAM,WAAW,QAAQ;AACzB,QAAM,OAAO,QAAQ;AACrB,QAAM,QAAQ,QAAQ;AACtB,QAAM,OAAO,QAAQ;AACrB,QAAM,SAAS,QAAQ;AACvB,QAAM,QAAQ,QAAQ;AACtB,QAAM,eAAe;AACrB,QAAM,qBAAqB;AAC3B,QAAM,mBAAmB;AACzB,QAAM,qBAAqB;AAE3B,QAAM,eAAe;AACrB,QAAM,gBAAgB;AACtB,QAAM,OAAO;AACb,QAAM,kBAAkB;AACxB,QAAM,iBAAiB;AACvB,QAAM,iBAAiB;AACvB,QAAM,cAAc;AACpB,QAAM,mBAAmB;AACzB,QAAM,mBAAmB;AACzB,QAAM,iBAAiB;AACvB,QAAM,eAAe;AACrB,QAAM,mBAAmB;AACzB,QAAM,mBAAmB;AACzB,QAAM,wBAAwB;AAC9B,QAAM,wBAAwB;AAC9B,QAAM,0BAA0B;AAChC,QAAI;AACJ,QAAM,WAAW,OAAO;AACxB,QAAM,YAAY,OAAO;AACzB,QAAM,gBAAgB,OAAO;AAC7B,QAAM,kBAAkB,OAAO;AAC/B,QAAM,YAAY,OAAO;AACzB,QAAM,gBAAgB,OAAO;AAC7B,QAAM,wBAAwB,OAAO;AACrC,QAAM,iBAAiB,OAAO;AAC9B,QAAM,eAAe,OAAO;AAC5B,QAAM,kBAAkB,OAAO;AAC/B,QAAM,kBAAkB,OAAO;AAC/B,QAAM,eAAe,OAAO;AAC5B,QAAM,eAAe,OAAO;AAC5B,QAAM,QAAQ,OAAO;AACrB,QAAM,QAAQ,OAAO;AACrB,QAAM,oBAAoB,OAAO;AACjC,QAAM,gBAAgB,OAAO;AAC7B,aAAQ,uBAAuB,OAAO;AACtC,QAAM,iBAAiB,KAAK,QAAQ,OAAO,QAAQ,SAAS;AAC5D,aAAQ,cAAc,IAAI,IAAI,CAAC,OAAO;AACtC,aAAQ,kBAAkB;AAAA,MACtB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA;AAAA;AAEJ,sCAAkC,kBAAkB;AAEhD,iBAAW,OAAO,kBAAkB;AAChC,cAAM,QAAQ,iBAAiB;AAC/B,YAAI,CAAC,KAAK,QAAQ,OAAO,UAAU,CAAC,KAAK,QAAQ,OAAO,UAAU,CAAC,KAAK,QAAQ,QAAQ,UAAU,CAAC,KAAK,QAAQ,MAAM,UAAU,CAAC,KAAK,QAAQ,UAAU,QAAQ;AAC5J,gBAAM,IAAI,UAAU,+BAA+B,OAAO;AAAA;AAAA;AAAA;AAItE,6BAAyB,eAAe;AACpC,aAAO,KAAK,QAAQ,OAAO,kBAAkB,CAAE,iBAAgB;AAAA;AAEnE,QAAM,iBAAiB,IAAI,eAAe;AAC1C,QAAM,kBAAkB,OAAO,SAAS,IAAI,QAAQ,CAAC,SAAS,WAAW;AACrE,YAAM,UAAU,CAAC,UAAU;AACvB,eAAO;AAAA;AAGX,UAAI,CAAC,KAAK,SAAS;AACf;AAAA;AAEJ,WAAK,KAAK,SAAS;AACnB,WAAK,KAAK,SAAS,MAAM;AACrB,aAAK,IAAI,SAAS;AAClB;AAAA;AAAA;AAGR,QAAM,gBAAgB,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AAC7D,QAAM,0BAA0B;AAAA,MAC5B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,aAAQ,6BAA6B,CAAC,SAAS,OAAO;AAElD,YAAM,aAAa;AACnB,iBAAW,UAAU,SAAS;AAC1B,YAAI,CAAC,QAAQ;AACT;AAAA;AAEJ,mBAAW,QAAQ,yBAAyB;AACxC,cAAI,CAAE,SAAQ,SAAS;AACnB;AAAA;AAEJ,qBAAW,QAAQ;AAAA,YACf,UAAU;AAAA,YACV,cAAc;AAAA,YACd,YAAY;AAAA,YAEZ,OAAO,OAAO;AAAA;AAAA;AAAA;AAI1B,aAAO,iBAAiB,IAAI;AAAA;AAMhC,qCAA2B,MAAM;AAAA,MAC7B,YAAY,SAAS,OAAO,OAAM;AAC9B,YAAI,IAAI;AACR,cAAM;AACN,cAAM,kBAAkB,MAAM,KAAK;AACnC,aAAK,OAAO;AACZ,aAAK,OAAQ,MAAK,MAAM,UAAU,QAAQ,OAAO,SAAS,KAAK;AAC/D,YAAI,iBAAgB,UAAS;AACzB,iBAAO,eAAe,MAAM,WAAW;AAAA,YACnC,YAAY;AAAA,YACZ,OAAO;AAAA;AAEX,iBAAO,eAAe,MAAM,YAAY;AAAA,YACpC,YAAY;AAAA,YACZ,OAAO,MAAK;AAAA;AAEhB,iBAAO,eAAe,MAAM,WAAW;AAAA,YAGnC,YAAY;AAAA,YACZ,OAAO,MAAK;AAAA;AAAA,eAGf;AACD,iBAAO,eAAe,MAAM,WAAW;AAAA,YAGnC,YAAY;AAAA,YACZ,OAAO;AAAA;AAAA;AAGf,aAAK,UAAW,MAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG;AAE3E,YAAI,KAAK,QAAQ,OAAO,MAAM,UAAU,KAAK,QAAQ,OAAO,KAAK,QAAQ;AACrE,gBAAM,iBAAiB,KAAK,MAAM,QAAQ,KAAK,WAAW,KAAK,QAAQ;AACvE,gBAAM,iBAAiB,KAAK,MAAM,MAAM,gBAAgB,MAAM,MAAM;AACpE,gBAAM,kBAAkB,MAAM,MAAM,MAAM,MAAM,MAAM,QAAQ,MAAM,WAAW,MAAM,QAAQ,QAAQ,MAAM,MAAM;AAEjH,iBAAO,gBAAgB,WAAW,KAAK,gBAAgB,OAAO,eAAe,IAAI;AAC7E,2BAAe;AAAA;AAEnB,eAAK,QAAQ,GAAG,KAAK,MAAM,MAAM,GAAG,kBAAkB,eAAe,UAAU,KAAK,QAAQ,gBAAgB,UAAU,KAAK;AAAA;AAAA;AAAA;AAIvI,aAAQ,eAAe;AAKvB,0CAAgC,aAAa;AAAA,MACzC,YAAY,SAAS;AACjB,cAAM,cAAc,QAAQ,QAAQ,iCAAiC,IAAI;AACzE,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA;AAAA;AAGpB,aAAQ,oBAAoB;AAK5B,kCAAwB,aAAa;AAAA,MACjC,YAAY,UAAU;AAClB,cAAM,iBAAiB,SAAS,eAAe,SAAS,kBAAkB,IAAI,SAAS;AACvF,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA;AAAA;AAGpB,aAAQ,YAAY;AAKpB,mCAAyB,aAAa;AAAA,MAClC,YAAY,OAAO,SAAS;AACxB,cAAM,MAAM,SAAS,OAAO;AAC5B,aAAK,OAAO;AACZ,aAAK,OAAO,KAAK,SAAS,0BAA0B,qBAAqB,KAAK;AAAA;AAAA;AAGtF,aAAQ,aAAa;AAIrB,oCAA0B,aAAa;AAAA,MACnC,YAAY,OAAO,SAAS;AACxB,cAAM,MAAM,SAAS,OAAO;AAC5B,aAAK,OAAO;AACZ,aAAK,OAAO,KAAK,SAAS,0BAA0B,eAAe,KAAK;AAAA;AAAA;AAGhF,aAAQ,cAAc;AAKtB,qCAA2B,aAAa;AAAA,MACpC,YAAY,OAAO,SAAS,SAAS;AACjC,cAAM,MAAM,SAAS,OAAO;AAC5B,aAAK,OAAO;AACZ,aAAK,QAAQ,MAAM;AACnB,aAAK,UAAU;AAAA;AAAA;AAGvB,aAAQ,eAAe;AAIvB,kCAAwB,aAAa;AAAA,MACjC,YAAY,OAAO,SAAS;AACxB,cAAM,MAAM,SAAS,OAAO;AAC5B,aAAK,OAAO;AACZ,aAAK,OAAO,KAAK,SAAS,0BAA0B,gCAAgC,KAAK;AAAA;AAAA;AAGjG,aAAQ,YAAY;AAIpB,iDAAuC,aAAa;AAAA,MAChD,YAAY,SAAS;AACjB,cAAM,yBAAyB,QAAQ,IAAI,aAAa,IAAI;AAC5D,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA;AAAA;AAGpB,aAAQ,2BAA2B;AACnC,QAAM,uBAAuB;AAAA,MACzB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,iCAAsB,SAAS,OAAO;AAAA,MAClC,YAAY,KAAK,UAAU,IAAI,UAAU;AACrC,cAAM;AAAA,UAGF,aAAa;AAAA,UAEb,eAAe;AAAA;AAEnB,aAAK,mBAAmB;AACxB,aAAK,iBAAiB;AACtB,aAAK,qBAAqB;AAC1B,aAAK,yBAAyB,IAAI;AAClC,aAAK,YAAY;AACjB,aAAK,gBAAgB;AACrB,aAAK,gBAAgB;AACrB,aAAK,SAAS;AACd,aAAK,aAAa;AAElB,aAAK,qBAAqB;AAC1B,cAAM,cAAc,MAAM,KAAK;AAC/B,cAAM,YAAY,MAAM,KAAK;AAC7B,aAAK,GAAG,QAAQ,CAAC,WAAW;AACxB,iBAAO,gBAAgB,QAAQ;AAC/B,iBAAO,GAAG,QAAQ;AAClB,iBAAO,gBAAgB,OAAO;AAC9B,iBAAO,GAAG,OAAO;AAAA;AAErB,aAAK,GAAG,UAAU,CAAC,WAAW;AAC1B,iBAAO,IAAI,QAAQ;AACnB,iBAAO,IAAI,QAAQ;AACnB,iBAAO,IAAI,OAAO;AAClB,iBAAO,IAAI,OAAO;AAAA;AAEtB,aAAK,GAAG,QAAQ,YAAU;AACtB,cAAI,kBAAkB,OAAO,iBAAiB;AAC1C,iBAAK,QAAQ,UAAU,kCAChB,OAAO,UACP,KAAK,QAAQ;AAAA;AAAA;AAI5B,cAAM,EAAE,MAAM,MAAM,SAAS;AAC7B,YAAI,QAAQ,QAAQ,MAAM;AACtB,eAAK;AAAA;AAET,YAAI,SAAQ,wBAAwB,SAAS;AACzC,eAAK,UAAU;AAAA,eAEd;AACD,cAAI;AAEA,iBAAK,UAAU,KAAK,YAAY,mBAAmB,KAAK,SAAS;AAAA,mBAE9D,OAAP;AAEI,gBAAI,KAAK,QAAQ,WAAW,QAAQ,OAAO;AACvC,sBAAQ,KAAK;AAAA;AAEjB,iBAAK,QAAQ;AACb;AAAA;AAAA;AAGR,QAAC,aAAY;AACT,cAAI;AACJ,cAAI;AACA,gBAAI,KAAK,QAAQ,gBAAgB,KAAK,YAAY;AAC9C,oBAAM,gBAAgB,KAAK,QAAQ;AAAA;AAEvC,kBAAM,EAAE,KAAK,kBAAkB,KAAK;AACpC,gBAAI,CAAC,eAAe;AAChB,oBAAM,IAAI,UAAU;AAAA;AAExB,iBAAK,aAAa,cAAc;AAChC,sBAAU,KAAK;AACf,kBAAM,KAAK;AACX,kBAAM,KAAK;AACX,gBAAI,KAAK,WAAW;AAChB,cAAC,MAAK,KAAK,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG;AAC9D;AAAA;AAGJ,uBAAW,OAAO,KAAK,QAAQ;AAC3B;AAAA;AAGJ,iBAAK,OAAO,SAAS;AACrB,iBAAK,qBAAqB;AAAA,mBAEvB,OAAP;AACI,gBAAI,iBAAiB,cAAc;AAC/B,mBAAK,aAAa;AAClB;AAAA;AAGJ,gBAAI,CAAC,KAAK,WAAW;AACjB,mBAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,aAKtB,mBAAmB,KAAK,SAAS,UAAU;AAC9C,YAAI,IAAI,IAAI,IAAI,IAAI;AACpB,cAAM,aAAa;AACnB,YAAI,KAAK,QAAQ,OAAO,QAAQ,CAAC,KAAK,QAAQ,YAAY,MAAM;AAC5D,oBAAU,iDAAK,WAAa,MAAQ;AAAA,eAEnC;AACD,cAAI,OAAO,WAAW,QAAQ,QAAQ,QAAW;AAC7C,kBAAM,IAAI,UAAU;AAAA;AAExB,oBAAU,kCAAK,WAAa;AAC5B,cAAI,QAAQ,QAAW;AACnB,oBAAQ,MAAM;AAAA;AAElB,cAAI,KAAK,QAAQ,YAAY,QAAQ,MAAM;AACvC,oBAAQ,MAAM,IAAI,MAAM,IAAI,QAAQ,IAAI;AAAA;AAAA;AAKhD,YAAI,QAAQ,UAAU,OAAO;AACzB,kBAAQ,QAAQ;AAAA;AAEpB,YAAI,QAAQ,aAAa,OAAO;AAC5B,kBAAQ,WAAW;AAAA;AAGvB,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,aAAa,KAAK,QAAQ,YAAY,QAAQ;AACjG,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AAC5F,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AAC5F,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AAC5F,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,iBAAiB,sBAAsB,KAAK,QAAQ,YAAY,QAAQ;AACzF,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AACvE,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ;AACxE,YAAI,QAAQ,OAAO;AACf,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,SAAS,KAAK,QAAQ,YAAY,QAAQ,MAAM;AAC9E,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,WAAW,KAAK,QAAQ,YAAY,QAAQ,MAAM;AAChF,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,OAAO,KAAK,QAAQ,YAAY,QAAQ,MAAM;AACtH,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,OAAO,KAAK,QAAQ,YAAY,QAAQ,MAAM;AACtH,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,OAAO,KAAK,QAAQ,YAAY,QAAQ,MAAM;AACtH,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ,MAAM;AAC7E,eAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,KAAK,QAAQ,OAAO,KAAK,QAAQ,YAAY,QAAQ,MAAM;AAAA;AAE1H,aAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,QAAQ,KAAK,QAAQ,YAAY,QAAQ;AAEvE,YAAI,KAAK,QAAQ,OAAO,QAAQ,SAAS;AACrC,kBAAQ,SAAS,QAAQ,OAAO;AAAA,eAE/B;AACD,kBAAQ,SAAS;AAAA;AAGrB,YAAI,QAAQ,YAAa,cAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,UAAU;AAC5F,kBAAQ,UAAU,mBAAK,QAAQ;AAAA,eAE9B;AACD,kBAAQ,UAAU,cAAc,kCAAM,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,UAAa,QAAQ;AAAA;AAG5H,YAAI,aAAa,SAAS;AACtB,gBAAM,IAAI,UAAU;AAAA;AAGxB,YAAI,UAAU,SAAS;AACnB,gBAAM,IAAI,UAAU;AAAA;AAGxB,YAAI,kBAAkB,SAAS;AAC3B,cAAI,QAAQ,gBAAgB,QAAQ,iBAAkB,cAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,eAAe;AAC9H,gBAAI;AACJ,gBAAI,KAAK,QAAQ,OAAO,QAAQ,iBAAkB,QAAQ,wBAAwB,MAAM,iBAAkB;AACtG,iCAAmB,IAAI,MAAM,gBAAgB,QAAQ;AAAA,mBAEpD;AACD,uCAAyB,QAAQ;AACjC,iCAAmB,IAAI,MAAM;AAE7B,yBAAW,OAAO,QAAQ,cAAc;AACpC,sBAAM,QAAQ,QAAQ,aAAa;AACnC,oBAAI,UAAU,MAAM;AAChB,mCAAiB,OAAO,KAAK;AAAA,2BAExB,UAAU,QAAW;AAC1B,mCAAiB,OAAO,KAAK;AAAA;AAAA;AAAA;AAKzC,YAAC,MAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,kBAAkB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,CAAC,OAAO,QAAQ;AAE7I,kBAAI,CAAC,iBAAiB,IAAI,MAAM;AAC5B,iCAAiB,OAAO,KAAK;AAAA;AAAA;AAGrC,oBAAQ,eAAe;AAAA;AAAA;AAI/B,gBAAQ,WAAY,MAAK,QAAQ,cAAc,QAAQ,OAAO,SAAS,KAAK;AAC5E,gBAAQ,WAAY,MAAK,QAAQ,cAAc,QAAQ,OAAO,SAAS,KAAK;AAE5E,YAAI,KAAK,QAAQ,UAAU,QAAQ,YAAY;AAC3C,kBAAQ,YAAa,MAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,eAAe,QAAQ,OAAO,SAAS,KAAK;AAAA,eAElI;AACD,kBAAQ,YAAY,QAAQ,UAAU;AACtC,cAAI,QAAQ,cAAc,MAAM,CAAC,QAAQ,UAAU,SAAS,MAAM;AAC9D,oBAAQ,aAAa;AAAA;AAAA;AAG7B,YAAI,KAAK,QAAQ,OAAO,QAAQ,MAAM;AAClC,cAAI,QAAQ,IAAI,WAAW,MAAM;AAC7B,kBAAM,IAAI,MAAM;AAAA;AAEpB,kBAAQ,MAAM,iBAAiB,QAAQ,QAAQ,YAAY,QAAQ,KAAK;AAAA,mBAElE,KAAK,QAAQ,UAAU,QAAQ,QAAQ,QAAQ,cAAc,MAAO,QAAQ,UAAU;AAC5F,kBAAQ,MAAM,iBAAiB,QAAQ,QAAQ,WAAW;AAAA;AAE9D,YAAI,QAAQ,KAAK;AACb,cAAI,UAAU,SAAS;AACnB,mBAAO,QAAQ;AAAA;AAGnB,cAAI,EAAE,cAAc;AACpB,iBAAO,eAAe,SAAS,aAAa;AAAA,YACxC,KAAK,CAAC,UAAU;AACZ,oBAAM,OAAM,QAAQ;AACpB,kBAAI,CAAC,KAAI,KAAK,WAAW,QAAQ;AAC7B,sBAAM,IAAI,MAAM,oCAAoC,gBAAgB,UAAU,KAAI;AAAA;AAEtF,sBAAQ,MAAM,IAAI,MAAM,IAAI,QAAQ,KAAI,KAAK,MAAM,UAAU;AAC7D,0BAAY;AAAA;AAAA,YAEhB,KAAK,MAAM;AAAA;AAGf,cAAI,EAAE,aAAa,QAAQ;AAC3B,cAAI,aAAa,SAAS;AACtB,uBAAW;AACX,oBAAQ,MAAM,IAAI,MAAM,IAAI,cAAc,QAAQ,IAAI,WAAW,QAAQ,IAAI;AAAA;AAGjF,cAAI,QAAQ,cAAc;AAEtB,oBAAQ,IAAI,SAAS,QAAQ,aAAa;AAAA;AAG9C,cAAI,aAAa,WAAW,aAAa,UAAU;AAC/C,kBAAM,IAAI,yBAAyB;AAAA;AAGvC,cAAI,QAAQ,aAAa,IAAI;AACzB,oBAAQ,WAAW,QAAQ,IAAI;AAAA,iBAE9B;AACD,oBAAQ,IAAI,WAAW,QAAQ;AAAA;AAGnC,cAAI,QAAQ,aAAa,IAAI;AACzB,oBAAQ,WAAW,QAAQ,IAAI;AAAA,iBAE9B;AACD,oBAAQ,IAAI,WAAW,QAAQ;AAAA;AAAA;AAIvC,cAAM,EAAE,cAAc;AACtB,YAAI,WAAW;AACX,cAAI,EAAE,WAAW,oBAAoB;AACrC,eAAK,OAAO,UAAU;AACtB,eAAK,OAAO,UAAU;AAEtB,cAAI,UAAU,WAAW,KAAK,gBAAgB,WAAW,GAAG;AACxD,wBAAY,OAAO,UAAU,UAAU,KAAK,QAAQ;AACpD,8BAAkB,OAAO,UAAU,gBAAgB,KAAK,QAAQ;AAChE,oBAAQ,YAAY;AAAA,cAChB;AAAA,cACA;AAAA;AAAA;AAAA;AAKZ,cAAM,EAAE,UAAU;AAClB,YAAI,OAAO;AACP,cAAI,CAAC,eAAe,IAAI,QAAQ;AAC5B,2BAAe,IAAI,OAAO,IAAI,iBAAkB,CAAC,gBAAgB,YAAY;AACzE,oBAAM,SAAS,eAAe,UAAU,gBAAgB;AAExD,kBAAI,KAAK,QAAQ,QAAQ,SAAS;AAI9B,uBAAO,OAAO,CAAC,OAAO,aAAY;AAC9B,sBAAI,UAAU,SAAS;AACnB,2BAAO,MAAM;AAAA,6BAER,UAAU,SAAS;AAGxB,oBAAC,aAAY;AACT,0BAAI;AACA,8BAAM,UAAW,MAAM;AACvB,gCAAQ,KAAK,SAAS;AAAA,+BAEnB,KAAP;AAAA;AAAA;AAAA,yBAGH;AAED,0BAAM,IAAI,MAAM,gCAAgC;AAAA;AAEpD,yBAAO;AAAA;AAAA;AAGf,qBAAO;AAAA,eACP;AAAA;AAAA;AAIZ,gBAAQ,eAAe,mBAAK,QAAQ;AAEpC,YAAI,QAAQ,aAAa,MAAM;AAC3B,cAAI,CAAC,gBAAgB;AACjB,6BAAiB,IAAI,mBAAmB;AAAA;AAE5C,kBAAQ,WAAW;AAAA,mBAEd,CAAC,KAAK,QAAQ,UAAU,QAAQ,aAAa,CAAC,QAAQ,SAAS,QAAQ;AAC5E,gBAAM,IAAI,UAAU,+EAA+E,KAAK,QAAQ,QAAQ;AAAA;AAG5H,YAAI,KAAK,QAAQ,OAAO,QAAQ,UAAU;AACtC,kBAAQ,UAAU,EAAE,SAAS,QAAQ;AAAA,mBAEhC,YAAY,QAAQ,YAAY,SAAS,SAAS;AACvD,kBAAQ,UAAU,kCACX,SAAS,UACT,QAAQ;AAAA,eAGd;AACD,kBAAQ,UAAU,mBAAK,QAAQ;AAAA;AAGnC,YAAI,CAAC,QAAQ,SAAS;AAClB,kBAAQ,UAAU;AAAA;AAGtB,cAAM,kBAAkB,QAAQ,UAAW,cAAa,QAAQ,aAAa,SAAS,SAAS,SAAS;AACxG,gBAAQ,QAAQ,mBAAK,QAAQ;AAC7B,mBAAW,SAAS,SAAQ,iBAAiB;AACzC,cAAI,SAAS,QAAQ,OAAO;AACxB,gBAAI,KAAK,QAAQ,MAAM,QAAQ,MAAM,SAAS;AAE1C,sBAAQ,MAAM,SAAS,CAAC,GAAG,QAAQ,MAAM;AAAA,mBAExC;AACD,oBAAM,IAAI,UAAU,eAAe,iCAAiC,KAAK,QAAQ,QAAQ,MAAM;AAAA;AAAA,iBAGlG;AACD,oBAAQ,MAAM,SAAS;AAAA;AAAA;AAG/B,YAAI,YAAY,CAAC,iBAAiB;AAC9B,qBAAW,SAAS,SAAQ,iBAAiB;AACzC,kBAAM,eAAe,SAAS,MAAM;AACpC,gBAAI,aAAa,SAAS,GAAG;AAEzB,sBAAQ,MAAM,SAAS;AAAA,gBACnB,GAAG,SAAS,MAAM;AAAA,gBAClB,GAAG,QAAQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAMjC,YAAI,YAAY,SAAS;AACrB,gCAAsB,QAAQ;AAAA;AAGlC,YAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,OAAO;AACpE,kBAAQ,QAAQ,kCAAK,SAAS,QAAU,QAAQ;AAAA;AAEpD,YAAI,wBAAwB,SAAS;AACjC,gCAAsB,QAAQ;AAAA;AAElC,YAAI,yBAAyB,SAAS;AAClC,gCAAsB,QAAQ;AAAA;AAElC,YAAI,QAAQ,SAAS;AACjB,gCAAsB,QAAQ;AAAA;AAElC,YAAI,SAAS,SAAS;AAClB,gCAAsB,QAAQ;AAAA;AAElC,YAAI,UAAU,SAAS;AACnB,gCAAsB,QAAQ;AAAA;AAElC,YAAI,gBAAgB,SAAS;AACzB,gCAAsB,QAAQ;AAAA;AAElC,YAAI,SAAS,SAAS;AAClB,gCAAsB,QAAQ;AAAA;AAGlC,YAAI,qBAAqB,SAAS;AAC9B,gBAAM,IAAI,UAAU;AAAA;AAExB,YAAI,QAAQ,OAAO;AACf,qBAAW,OAAO,QAAQ,OAAO;AAC7B,gBAAI,QAAQ,UAAU,QAAQ,WAAW,QAAQ,SAAS;AACtD,oBAAM,IAAI,UAAU,2FAA2F;AAAA;AAAA;AAAA;AAI3H,gBAAQ,eAAgB,MAAK,QAAQ,kBAAkB,QAAQ,OAAO,SAAS,KAAK;AAEpF,iBAAQ,2BAA2B,CAAC,UAAU,aAAa;AAC3D,eAAO,sBAAsB,QAAQ,SAAS;AAAA;AAAA,MAElD,aAAa;AACT,cAAM,gBAAgB,MAAM;AACxB,gBAAM,IAAI,UAAU;AAAA;AAExB,aAAK,QAAQ;AACb,aAAK,MAAM;AAAA;AAAA,MAEf,eAAe;AACX,aAAK,QAAQ,MAAM;AACnB,aAAK,MAAM,MAAM;AAAA;AAAA,YAEf,gBAAgB;AAClB,cAAM,EAAE,YAAY;AACpB,cAAM,EAAE,YAAY;AACpB,cAAM,SAAS,CAAC,KAAK,QAAQ,UAAU,QAAQ;AAC/C,cAAM,SAAS,CAAC,KAAK,QAAQ,UAAU,QAAQ;AAC/C,cAAM,SAAS,CAAC,KAAK,QAAQ,UAAU,QAAQ;AAC/C,cAAM,aAAa,UAAU,UAAU;AACvC,cAAM,iBAAiB,SAAQ,YAAY,IAAI,QAAQ,WAAW,CAAE,SAAQ,WAAW,SAAS,QAAQ;AACxG,aAAK,kBAAkB;AACvB,YAAI,YAAY;AACZ,cAAI,gBAAgB;AAChB,kBAAM,IAAI,UAAU,SAAS,QAAQ;AAAA;AAEzC,cAAI,CAAC,QAAQ,QAAQ,QAAQ,OAAO,YAAU,QAAQ,SAAS,GAAG;AAC9D,kBAAM,IAAI,UAAU;AAAA;AAExB,cAAI,UACA,CAAE,SAAQ,gBAAgB,SAAS,aACnC,CAAC,KAAK,QAAQ,OAAO,QAAQ,SAC7B,CAAC,KAAK,QAAQ,OAAO,QAAQ,SAC7B,CAAC,eAAe,QAAQ,QAAQ,OAAO;AACvC,kBAAM,IAAI,UAAU;AAAA;AAExB,cAAI,UAAU,CAAC,KAAK,QAAQ,OAAO,QAAQ,OAAO;AAC9C,kBAAM,IAAI,UAAU;AAAA;AAExB;AAEI,kBAAM,gBAAgB,CAAC,KAAK,QAAQ,OAAO,QAAQ;AACnD,gBAAI,QAAQ;AAER,kBAAI,eAAe,QAAQ,QAAQ,SAAS,eAAe;AACvD,wBAAQ,kBAAkB,iCAAiC,QAAQ,KAAK;AAAA;AAE5E,mBAAK,SAAS,QAAQ;AAAA,uBAEjB,QAAQ;AACb,kBAAI,eAAe;AACf,wBAAQ,kBAAkB;AAAA;AAE9B,mBAAK,SAAU,IAAI,MAAM,gBAAgB,QAAQ,MAAO;AAAA,mBAEvD;AACD,kBAAI,eAAe;AACf,wBAAQ,kBAAkB;AAAA;AAE9B,mBAAK,SAAS,QAAQ,cAAc,QAAQ;AAAA;AAEhD,kBAAM,iBAAiB,MAAM,gBAAgB,QAAQ,KAAK,QAAQ,QAAQ;AAU1E,gBAAI,KAAK,QAAQ,UAAU,QAAQ,sBAAsB,KAAK,QAAQ,UAAU,QAAQ,uBAAuB;AAC3G,kBAAI,CAAC,kBAAkB,CAAC,KAAK,QAAQ,UAAU,iBAAiB;AAC5D,wBAAQ,oBAAoB,OAAO;AAAA;AAAA;AAAA;AAAA,mBAK1C,gBAAgB;AACrB,eAAK;AAAA,eAEJ;AACD,eAAK;AAAA;AAET,aAAK,aAAa,OAAO,QAAQ,sBAAsB;AAAA;AAAA,YAErD,gBAAgB,UAAU;AAC5B,cAAM,EAAE,YAAY;AACpB,cAAM,EAAE,QAAQ;AAChB,aAAK,qBAAqB;AAC1B,YAAI,QAAQ,YAAY;AACpB,qBAAW,mBAAmB;AAAA;AAElC,cAAM,aAAa,SAAS;AAC5B,cAAM,gBAAgB;AACtB,sBAAc,gBAAgB,cAAc,gBAAgB,cAAc,gBAAgB,KAAK,aAAa;AAC5G,sBAAc,MAAM,QAAQ,IAAI;AAChC,sBAAc,aAAa,KAAK;AAChC,sBAAc,eAAe,KAAK;AAClC,sBAAc,UAAU;AACxB,sBAAc,cAAc,SAAS,aAAa;AAClD,sBAAc,KAAK,KAAK;AACxB,sBAAc,aAAa,KAAK;AAChC,aAAK,gBAAgB,cAAc;AACnC,aAAK,iBAAiB,OAAO,SAAS,QAAQ,sBAAsB;AACpE,aAAK,aAAa;AAClB,iBAAS,KAAK,OAAO,MAAM;AACvB,eAAK,iBAAiB,KAAK;AAC3B,eAAK,KAAK,oBAAoB,KAAK;AAAA;AAEvC,iBAAS,KAAK,SAAS,CAAC,UAAU;AAG9B,mBAAS;AACT,eAAK,aAAa,IAAI,UAAU,OAAO;AAAA;AAE3C,iBAAS,KAAK,WAAW,MAAM;AAC3B,eAAK,aAAa,IAAI,UAAU;AAAA,YAC5B,MAAM;AAAA,YACN,SAAS;AAAA,YACT,MAAM;AAAA,aACP;AAAA;AAEP,aAAK,KAAK,oBAAoB,KAAK;AACnC,cAAM,aAAa,SAAS,QAAQ;AACpC,YAAI,KAAK,QAAQ,OAAO,QAAQ,cAAc,YAAY;AACtD,cAAI,WAAW,WAAW,IAAI,OAAO,cAAc,QAAQ,UAAU,UAAU,WAAW,IAAI;AAC9F,cAAI,QAAQ,sBAAsB;AAC9B,uBAAW,SAAS,IAAI,OAAO,MAAM,EAAE,MAAM,MAAM;AAAA;AAAA;AAEvD,cAAI;AACA,kBAAM,QAAQ,IAAI;AAAA,mBAEf,OAAP;AACI,iBAAK,aAAa;AAClB;AAAA;AAAA;AAGR,YAAI,QAAQ,kBAAkB,SAAS,QAAQ,YAAY,cAAc,IAAI,aAAa;AAItF,mBAAS;AACT,cAAI,KAAK,WAAW;AAChB,iBAAK;AAEL,mBAAO,KAAK;AACZ,iBAAK;AAAA;AAET,gBAAM,cAAc,eAAe,OAAO,QAAQ,WAAW,SAAS,QAAQ,WAAW;AACzF,cAAI,eAAe,CAAC,QAAQ,iBAAiB;AAGzC,oBAAQ,SAAS;AACjB,gBAAI,UAAU,SAAS;AACnB,qBAAO,QAAQ;AAAA;AAEnB,gBAAI,UAAU,SAAS;AACnB,qBAAO,QAAQ;AAAA;AAEnB,gBAAI,UAAU,SAAS;AACnB,qBAAO,QAAQ;AAAA;AAEnB,iBAAK,SAAS;AACd,mBAAO,QAAQ,QAAQ;AAAA;AAE3B,cAAI,KAAK,UAAU,UAAU,QAAQ,cAAc;AAC/C,iBAAK,aAAa,IAAI,kBAAkB;AACxC;AAAA;AAEJ,cAAI;AAEA,kBAAM,iBAAiB,OAAO,KAAK,SAAS,QAAQ,UAAU,UAAU;AAExE,kBAAM,cAAc,IAAI,MAAM,IAAI,gBAAgB;AAClD,kBAAM,iBAAiB,YAAY;AACnC,sBAAU;AAEV,gBAAI,YAAY,aAAa,IAAI,YAAY,YAAY,SAAS,IAAI,MAAM;AACxE,kBAAI,UAAU,QAAQ,SAAS;AAC3B,uBAAO,QAAQ,QAAQ;AAAA;AAE3B,kBAAI,YAAY,QAAQ,SAAS;AAC7B,uBAAO,QAAQ,QAAQ;AAAA;AAE3B,kBAAI,mBAAmB,QAAQ,SAAS;AACpC,uBAAO,QAAQ,QAAQ;AAAA;AAE3B,kBAAI,QAAQ,YAAY,QAAQ,UAAU;AACtC,wBAAQ,WAAW;AACnB,wBAAQ,WAAW;AAAA;AAAA,mBAGtB;AACD,0BAAY,WAAW,QAAQ;AAC/B,0BAAY,WAAW,QAAQ;AAAA;AAEnC,iBAAK,UAAU,KAAK;AACpB,oBAAQ,MAAM;AACd,uBAAW,QAAQ,QAAQ,MAAM,gBAAgB;AAE7C,oBAAM,KAAK,SAAS;AAAA;AAExB,iBAAK,KAAK,YAAY,eAAe;AACrC,kBAAM,KAAK;AAAA,mBAER,OAAP;AACI,iBAAK,aAAa;AAClB;AAAA;AAEJ;AAAA;AAEJ,YAAI,QAAQ,YAAY,QAAQ,mBAAmB,CAAC,iBAAiB,aAAa,gBAAgB;AAC9F,eAAK,aAAa,IAAI,UAAU;AAChC;AAAA;AAEJ,iBAAS,GAAG,YAAY,MAAM;AAC1B,cAAI,KAAK,eAAe;AACpB,iBAAK;AAAA;AAAA;AAGb,aAAK,GAAG,UAAU,MAAM;AACpB,mBAAS;AAAA;AAEb,aAAK,GAAG,SAAS,MAAM;AACnB,mBAAS;AAAA;AAEb,iBAAS,KAAK,OAAO,MAAM;AACvB,eAAK,KAAK;AAAA;AAEd,aAAK,KAAK,YAAY;AACtB,mBAAW,eAAe,KAAK,wBAAwB;AACnD,cAAI,YAAY,aAAa;AACzB;AAAA;AAGJ,qBAAW,OAAO,SAAS,SAAS;AAChC,kBAAM,YAAY,QAAQ,aAAa,QAAQ,qBAAqB;AACpE,kBAAM,QAAQ,SAAS,QAAQ;AAC/B,gBAAI,WAAW;AACX,0BAAY,UAAU,KAAK;AAAA;AAAA;AAGnC,sBAAY,aAAa;AAAA;AAAA;AAAA,YAG3B,YAAY,UAAU;AACxB,YAAI;AACA,gBAAM,KAAK,gBAAgB;AAAA,iBAExB,OAAP;AAEI,eAAK,aAAa;AAAA;AAAA;AAAA,MAG1B,WAAW,SAAS;AAChB,cAAM,EAAE,YAAY;AACpB,cAAM,EAAE,SAAS,QAAQ;AACzB,qBAAa,QAAQ;AACrB,aAAK,mBAAmB,YAAY,QAAQ,SAAS,SAAS;AAC9D,cAAM,oBAAoB,QAAQ,QAAQ,sBAAsB;AAChE,gBAAQ,KAAK,mBAAmB,CAAC,aAAa;AAC1C,eAAK,KAAK,YAAY;AAAA;AAE1B,gBAAQ,KAAK,SAAS,CAAC,UAAU;AAC7B,cAAI;AAEJ,kBAAQ;AAER,UAAC,MAAK,QAAQ,SAAS,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB;AAC9E,kBAAQ,iBAAiB,YAAY,eAAe,IAAI,aAAa,OAAO,KAAK,SAAS,QAAQ,IAAI,aAAa,MAAM,SAAS,OAAO;AACzI,eAAK,aAAa;AAAA;AAEtB,aAAK,kBAAkB,eAAe,QAAQ,SAAS,MAAM;AAC7D,aAAK,YAAY;AACjB,aAAK,KAAK,kBAAkB,KAAK;AAEjC,cAAM,OAAO,KAAK;AAClB,cAAM,iBAAiB,KAAK,UAAU,WAAW,IAAI,OAAO;AAC5D,YAAI,KAAK,QAAQ,WAAW,OAAO;AAC/B,eAAK,KAAK;AACV,eAAK,KAAK,SAAS,CAAC,UAAU;AAC1B,iBAAK,aAAa,IAAI,YAAY,OAAO;AAAA;AAAA,eAG5C;AACD,eAAK;AACL,cAAI,CAAC,KAAK,QAAQ,UAAU,OAAO;AAC/B,iBAAK,cAAc,MAAM,QAAW,MAAM;AAAA;AAC1C,2BAAe;AACf,iBAAK;AAAA,qBAEA,KAAK,mBAAmB,KAAK,SAAS;AAC3C,2BAAe;AACf,iBAAK;AAAA;AAAA;AAGb,aAAK,KAAK,WAAW;AAAA;AAAA,YAEnB,wBAAwB,KAAK,SAAS;AACxC,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAEpC,iBAAO,OAAO,SAAS,iBAAiB,QAAQ;AAIhD,iBAAO,QAAQ;AACf,cAAI;AAEJ,gBAAM,eAAe,eAAe,IAAI,QAAQ,OAAO,SAAS,OAAO,aAAa;AAEhF,qBAAS,eAAe,cAAc;AACtC,gBAAI,SAAS;AACT,cAAC,OAAM,SAAS,KAAK,qBAAqB;AAAA;AAE9C,oBAAQ;AAAA;AAGZ,kBAAQ,MAAM;AACd,uBAAa,KAAK,SAAS;AAC3B,uBAAa,KAAK,WAAW,OAAO,qBAAqB;AACrD,sBAAU;AACV,oBAAQ;AAAA;AAAA;AAAA;AAAA,YAId,eAAe;AACjB,YAAI,IAAI,IAAI,IAAI,IAAI;AACpB,cAAM,EAAE,YAAY;AACpB,cAAM,EAAE,YAAY;AACpB,mBAAW,OAAO,SAAS;AACvB,cAAI,KAAK,QAAQ,UAAU,QAAQ,OAAO;AAEtC,mBAAO,QAAQ;AAAA,qBAEV,KAAK,QAAQ,MAAM,QAAQ,OAAO;AACvC,kBAAM,IAAI,UAAU,yDAAyD;AAAA;AAAA;AAGrF,YAAI,QAAQ,cAAc,KAAK,QAAQ,UAAU,QAAQ,qBAAqB;AAC1E,kBAAQ,qBAAqB,iBAAiB,sBAAsB;AAAA;AAGxE,YAAI,QAAQ,WAAW;AACnB,gBAAM,eAAe,MAAM,QAAQ,UAAU,gBAAgB,QAAQ,IAAI;AACzE,cAAI,KAAK,QAAQ,eAAe,eAAe;AAC3C,oBAAQ,QAAQ,SAAS;AAAA;AAAA;AAGjC,mBAAW,QAAQ,QAAQ,MAAM,eAAe;AAE5C,gBAAM,SAAS,MAAM,KAAK;AAC1B,cAAI,CAAC,KAAK,QAAQ,UAAU,SAAS;AAEjC,oBAAQ,UAAU,MAAM;AACxB;AAAA;AAAA;AAGR,YAAI,QAAQ,QAAQ,KAAK,WAAW,QAAQ,MAAM;AAC9C,eAAK,SAAS,QAAQ;AAAA;AAE1B,cAAM,EAAE,OAAO,SAAS,SAAS,QAAQ;AACzC,YAAI,QAAQ,YAAY,CAAE,aAAY,UAAU;AAC5C,kBAAQ,SAAS,QAAQ,SAAS;AAAA;AAGtC,YAAI,IAAI,aAAa,QAAQ;AACzB,gBAAM,UAAU,iCAAiC,KAAK,GAAG,IAAI,WAAW,IAAI;AAC5E,cAAI,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,QAAQ;AAClE,kBAAM,EAAE,YAAY,SAAS,QAAQ;AACrC,mBAAO,OAAO,SAAS;AAAA,cACnB;AAAA,cACA;AAAA,cACA,MAAM;AAAA;AAAA;AAAA;AAIlB,cAAM,UAAU,IAAI,aAAa;AAEjC,YAAI;AACJ,YAAI,QAAQ,OAAO;AACf,uBAAa,aAAa;AAAA,eAEzB;AACD,uBAAa,UAAU,MAAM,UAAU,KAAK;AAAA;AAEhD,cAAM,SAAU,MAAK,QAAQ,aAAa,QAAQ,OAAO,SAAS,KAAK;AAEvE,cAAM,KAAK,QAAQ,QAAQ,KAAK,0BAA0B;AAE1D,YAAI,SAAS,CAAC,QAAQ,OAAO;AACzB,kBAAQ,QAAQ,MAAM,UAAU,UAAU;AAAA;AAG9C,gBAAQ,YAAY;AACpB,eAAO,QAAQ;AAGf,eAAO,QAAQ;AACf,cAAM,iBAAiB;AACvB,uBAAe,SAAU,MAAK,QAAQ,kBAAkB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAC5F,uBAAe,iBAAkB,MAAK,QAAQ,kBAAkB,QAAQ,OAAO,SAAS,SAAS,GAAG;AACpG,uBAAe,yBAA0B,MAAK,QAAQ,kBAAkB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAC5G,uBAAe,kBAAmB,MAAK,QAAQ,kBAAkB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAErG,YAAI,QAAQ,uBAAuB,QAAW;AAC1C,cAAI;AACA,2BAAe,SAAS,iBAAiB,2BAA2B,QAAQ;AAAA,mBAEzE,IAAP;AACI,kBAAM,IAAI,MAAM;AAAA;AAAA;AAIxB,YAAI,QAAQ,OAAO;AACf,cAAI,wBAAwB,QAAQ,OAAO;AACvC,2BAAe,qBAAqB,QAAQ,MAAM;AAAA;AAEtD,cAAI,QAAQ,MAAM,qBAAqB;AACnC,2BAAe,sBAAsB,QAAQ,MAAM;AAAA;AAEvD,cAAI,QAAQ,MAAM,sBAAsB;AACpC,2BAAe,KAAK,QAAQ,MAAM;AAAA;AAEtC,cAAI,QAAQ,MAAM,aAAa;AAC3B,2BAAe,OAAO,QAAQ,MAAM;AAAA;AAExC,cAAI,QAAQ,MAAM,KAAK;AACnB,2BAAe,MAAM,QAAQ,MAAM;AAAA;AAEvC,cAAI,QAAQ,MAAM,YAAY;AAC1B,2BAAe,aAAa,QAAQ,MAAM;AAAA;AAE9C,cAAI,QAAQ,MAAM,KAAK;AACnB,2BAAe,MAAM,QAAQ,MAAM;AAAA;AAAA;AAG3C,YAAI;AACA,cAAI,oBAAoB,MAAM,GAAG,KAAK;AACtC,cAAI,KAAK,QAAQ,UAAU,oBAAoB;AAC3C,gCAAoB,WAAW,KAAK;AAAA;AAGxC,kBAAQ,UAAU;AAClB,kBAAQ,UAAU;AAClB,kBAAQ,QAAQ;AAEhB,cAAI,QAAQ,OAAO;AACf,gBAAI,wBAAwB,QAAQ,OAAO;AACvC,qBAAO,eAAe;AAAA;AAE1B,gBAAI,QAAQ,MAAM,qBAAqB;AAEnC,qBAAO,eAAe;AAAA;AAE1B,gBAAI,QAAQ,MAAM,sBAAsB;AACpC,qBAAO,eAAe;AAAA;AAE1B,gBAAI,QAAQ,MAAM,aAAa;AAC3B,qBAAO,eAAe;AAAA;AAE1B,gBAAI,QAAQ,MAAM,KAAK;AACnB,qBAAO,eAAe;AAAA;AAE1B,gBAAI,QAAQ,MAAM,YAAY;AAC1B,qBAAO,eAAe;AAAA;AAE1B,gBAAI,QAAQ,MAAM,KAAK;AACnB,qBAAO,eAAe;AAAA;AAAA;AAG9B,cAAI,gBAAgB,oBAAoB;AACpC,iBAAK,WAAW;AAAA,qBAGX,KAAK,UAAU;AACpB,iBAAK,KAAK,UAAU,MAAM;AACtB,mBAAK,KAAK,YAAY;AAAA;AAE1B,iBAAK;AACL,iBAAK;AACL,iBAAK;AAAA,iBAEJ;AACD,iBAAK,KAAK,YAAY;AAAA;AAAA,iBAGvB,OAAP;AACI,cAAI,iBAAiB,iBAAiB,YAAY;AAC9C,kBAAM,IAAI,WAAW,OAAO;AAAA;AAEhC,gBAAM,IAAI,aAAa,MAAM,SAAS,OAAO;AAAA;AAAA;AAAA,YAG/C,OAAO,OAAO;AAChB,YAAI;AACA,qBAAW,QAAQ,KAAK,QAAQ,MAAM,aAAa;AAE/C,oBAAQ,MAAM,KAAK;AAAA;AAAA,iBAGpB,QAAP;AACI,kBAAQ,IAAI,aAAa,OAAO,SAAS,QAAQ;AAAA;AAErD,aAAK,QAAQ;AAAA;AAAA,MAEjB,aAAa,OAAO;AAChB,YAAI,KAAK,eAAe;AACpB;AAAA;AAEJ,cAAM,EAAE,YAAY;AACpB,cAAM,aAAa,KAAK,aAAa;AACrC,aAAK,gBAAgB;AACrB,YAAI,CAAE,kBAAiB,eAAe;AAClC,kBAAQ,IAAI,aAAa,MAAM,SAAS,OAAO;AAAA;AAEnD,cAAM,aAAa;AACnB,cAAM,EAAE,aAAa;AACrB,aAAM,aAAY;AACd,cAAI,YAAY,CAAC,SAAS,MAAM;AAC5B,qBAAS,YAAY,KAAK,eAAe;AACzC,gBAAI;AACA,uBAAS,UAAU,MAAM,aAAa,QAAQ;AAC9C,uBAAS,OAAO,SAAS,QAAQ;AAAA,qBAE9B,IAAP;AAAA;AAAA;AAEJ,cAAI,KAAK,cAAc,aAAa,GAAG;AACnC,gBAAI;AACJ,gBAAI;AACA,kBAAI;AACJ,kBAAI,YAAY,iBAAiB,SAAS,SAAS;AAC/C,6BAAa,OAAO,SAAS,QAAQ;AACrC,oBAAI,OAAO,MAAM,aAAa;AAC1B,+BAAa,KAAK,MAAM,SAAS,QAAQ,kBAAkB,KAAK;AAChE,sBAAI,cAAc,GAAG;AACjB,iCAAa;AAAA;AAAA,uBAGhB;AACD,gCAAc;AAAA;AAAA;AAGtB,wBAAU,MAAM,QAAQ,MAAM,eAAe;AAAA,gBACzC,cAAc;AAAA,gBACd,cAAc,QAAQ;AAAA,gBACtB,OAAO;AAAA,gBACP;AAAA,gBACA,eAAe,wBAAwB,QAAQ;AAAA,kBAC3C,cAAc;AAAA,kBACd,cAAc,QAAQ;AAAA,kBACtB,OAAO;AAAA,kBACP;AAAA,kBACA,eAAe;AAAA;AAAA;AAAA,qBAIpB,QAAP;AACI,mBAAK,KAAK,OAAO,IAAI,aAAa,OAAO,SAAS,QAAQ;AAC1D;AAAA;AAEJ,gBAAI,SAAS;AACT,oBAAM,QAAQ,YAAY;AACtB,oBAAI;AACA,6BAAW,QAAQ,KAAK,QAAQ,MAAM,aAAa;AAE/C,0BAAM,KAAK,KAAK,SAAS,YAAY;AAAA;AAAA,yBAGtC,QAAP;AACI,uBAAK,KAAK,OAAO,IAAI,aAAa,OAAO,SAAS,OAAO;AACzD;AAAA;AAGJ,oBAAI,KAAK,WAAW;AAChB;AAAA;AAEJ,qBAAK;AACL,qBAAK,KAAK,SAAS,YAAY;AAAA;AAEnC,mBAAK,iBAAiB,WAAW,OAAO;AACxC;AAAA;AAAA;AAGR,eAAK,KAAK,OAAO;AAAA;AAAA;AAAA,MAGzB,QAAQ;AACJ,aAAK,gBAAgB;AACrB,cAAM,WAAW,KAAK;AACtB,YAAI,YAAY,CAAC,KAAK,eAAe;AAGjC,cAAI,SAAS,gBAAgB;AACzB,iBAAK,gBAAgB;AAAA;AAEzB,cAAI;AACJ,iBAAQ,QAAO,SAAS,YAAY,MAAM;AACtC,iBAAK,oBAAoB,KAAK;AAC9B,iBAAK,mBAAmB;AACxB,kBAAM,WAAW,KAAK;AACtB,gBAAI,SAAS,UAAU,GAAG;AACtB,mBAAK,KAAK,oBAAoB;AAAA;AAElC,iBAAK,KAAK;AAAA;AAAA;AAAA;AAAA,MAKtB,OAAO,OAAO,UAAU,UAAU;AAC9B,cAAM,QAAQ,MAAM;AAChB,eAAK,cAAc,OAAO,UAAU;AAAA;AAExC,YAAI,KAAK,oBAAoB;AACzB;AAAA,eAEC;AACD,eAAK,OAAO,KAAK;AAAA;AAAA;AAAA,MAGzB,cAAc,OAAO,UAAU,UAAU;AACrC,YAAI,KAAK,UAAU,WAAW;AAE1B;AAAA;AAEJ,aAAK,mBAAmB,KAAK,MAAM;AAC/B,eAAK,kBAAkB,OAAO,WAAW,OAAO;AAChD,gBAAM,WAAW,KAAK;AACtB,cAAI,SAAS,UAAU,GAAG;AACtB,iBAAK,KAAK,kBAAkB;AAAA;AAAA;AAIpC,aAAK,UAAU,MAAM,OAAO,UAAU,CAAC,UAAU;AAC7C,cAAI,CAAC,SAAS,KAAK,mBAAmB,SAAS,GAAG;AAC9C,iBAAK,mBAAmB;AAAA;AAE5B,mBAAS;AAAA;AAAA;AAAA,MAGjB,OAAO,UAAU;AACb,cAAM,aAAa,MAAM;AAErB,iBAAO,KAAK,mBAAmB,WAAW,GAAG;AACzC,iBAAK,mBAAmB;AAAA;AAI5B,cAAI,CAAE,aAAY,OAAO;AACrB;AACA;AAAA;AAEJ,cAAI,KAAK,UAAU,WAAW;AAC1B;AACA;AAAA;AAEJ,eAAK,UAAU,IAAI,CAAC,UAAU;AAC1B,gBAAI,CAAC,OAAO;AACR,mBAAK,aAAa,KAAK;AACvB,mBAAK,KAAK,kBAAkB,KAAK;AACjC,mBAAK,UAAU,KAAK;AAAA;AAExB,qBAAS;AAAA;AAAA;AAGjB,YAAI,KAAK,oBAAoB;AACzB;AAAA,eAEC;AACD,eAAK,OAAO,KAAK;AAAA;AAAA;AAAA,MAGzB,SAAS,OAAO,UAAU;AACtB,YAAI;AACJ,aAAK,gBAAgB;AAErB,qBAAa,KAAK;AAClB,YAAI,YAAY,MAAM;AAClB,eAAK;AAGL,cAAI,CAAG,OAAK,KAAK,gBAAgB,QAAQ,OAAO,SAAS,SAAS,GAAG,WAAW;AAC5E,iBAAK,UAAU;AAAA;AAAA;AAGvB,YAAI,UAAU,QAAQ,CAAC,KAAK,QAAQ,UAAU,UAAU,CAAE,kBAAiB,eAAe;AACtF,kBAAQ,IAAI,aAAa,MAAM,SAAS,OAAO;AAAA;AAEnD,iBAAS;AAAA;AAAA,UAET,kBAAkB;AAClB,eAAO,KAAK;AAAA;AAAA,UAKZ,KAAK;AACL,YAAI;AACJ,eAAQ,MAAK,KAAK,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA;AAAA,UAKlE,UAAU;AACV,YAAI,IAAI,IAAI;AACZ,eAAS,OAAM,MAAK,KAAK,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,QAAQ,OAAO,SAAS,KAAK,KAAK,cAAc,CAAG,OAAK,KAAK,wBAAwB,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA;AAAA,UAEpN,SAAS;AACT,YAAI,IAAI;AACR,eAAQ,MAAM,MAAK,KAAK,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,YAAY,QAAQ,OAAO,SAAS,KAAK;AAAA;AAAA,UAKpH,mBAAmB;AACnB,YAAI;AACJ,YAAI,KAAK,gBAAgB;AACrB,oBAAU,KAAK,mBAAmB,KAAK;AAAA,mBAElC,KAAK,mBAAmB,KAAK,kBAAkB;AACpD,oBAAU;AAAA,eAET;AACD,oBAAU;AAAA;AAEd,eAAO;AAAA,UACH;AAAA,UACA,aAAa,KAAK;AAAA,UAClB,OAAO,KAAK;AAAA;AAAA;AAAA,UAMhB,iBAAiB;AACjB,YAAI;AACJ,YAAI,KAAK,YAAY;AACjB,oBAAU,KAAK,iBAAiB,KAAK;AAAA,mBAEhC,KAAK,eAAe,KAAK,gBAAgB;AAC9C,oBAAU;AAAA,eAET;AACD,oBAAU;AAAA;AAEd,eAAO;AAAA,UACH;AAAA,UACA,aAAa,KAAK;AAAA,UAClB,OAAO,KAAK;AAAA;AAAA;AAAA,UA8BhB,UAAU;AACV,YAAI;AACJ,eAAQ,MAAK,KAAK,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA;AAAA,UAKrE,cAAc;AACd,eAAO,KAAK;AAAA;AAAA,MAEhB,KAAK,aAAa,SAAS;AACvB,YAAI,KAAK,kBAAkB;AACvB,gBAAM,IAAI,MAAM;AAAA;AAEpB,YAAI,uBAAuB,OAAO,gBAAgB;AAC9C,eAAK,uBAAuB,IAAI;AAAA;AAEpC,eAAO,MAAM,KAAK,aAAa;AAAA;AAAA,MAEnC,OAAO,aAAa;AAChB,YAAI,uBAAuB,OAAO,gBAAgB;AAC9C,eAAK,uBAAuB,OAAO;AAAA;AAEvC,cAAM,OAAO;AACb,eAAO;AAAA;AAAA;AAGf,aAAQ,UAAU;AAAA;AAAA;;;ACx9ClB;AAAA;AAAA;AACA,QAAI,kBAAmB,YAAQ,SAAK,mBAAqB,QAAO,SAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,UAAI,OAAO;AAAW,aAAK;AAC3B,aAAO,eAAe,GAAG,IAAI,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,eAAO,EAAE;AAAA;AAAA,QAC1E,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,UAAI,OAAO;AAAW,aAAK;AAC3B,QAAE,MAAM,EAAE;AAAA;AAEd,QAAI,eAAgB,YAAQ,SAAK,gBAAiB,SAAS,GAAG,UAAS;AACnE,eAAS,KAAK;AAAG,YAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAK,UAAS;AAAI,0BAAgB,UAAS,GAAG;AAAA;AAE3H,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,cAAc,SAAQ,aAAa;AAC3C,QAAM,SAAS;AAKf,mCAAyB,OAAO,aAAa;AAAA,MACzC,YAAY,OAAO,UAAU;AACzB,cAAM,EAAE,YAAY,SAAS;AAC7B,cAAM,GAAG,MAAM,eAAe,QAAQ,IAAI,eAAe,OAAO,SAAS;AACzE,aAAK,OAAO;AACZ,aAAK,OAAO,KAAK,SAAS,0BAA0B,2BAA2B,KAAK;AAAA;AAAA;AAG5F,aAAQ,aAAa;AAIrB,oCAA0B,OAAO,aAAa;AAAA,MAC1C,YAAY,SAAS;AACjB,cAAM,wBAAwB,IAAI;AAClC,aAAK,OAAO;AACZ,aAAK,OAAO;AAAA;AAAA,UAEZ,aAAa;AACb,eAAO;AAAA;AAAA;AAGf,aAAQ,cAAc;AACtB,iBAAa,gBAAoB;AAAA;AAAA;;;ACzCjC;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,UAAU;AAChB,QAAM,YAAY,CAAC,UAAU,cAAc,WAAW,aAAa;AAC/D,YAAM,EAAE,YAAY;AACpB,UAAI;AACA,YAAI,iBAAiB,QAAQ;AACzB,iBAAO,QAAQ,SAAS;AAAA;AAE5B,YAAI,iBAAiB,QAAQ;AACzB,iBAAO,QAAQ,WAAW,IAAI,KAAK,UAAU,QAAQ;AAAA;AAEzD,YAAI,iBAAiB,UAAU;AAC3B,iBAAO;AAAA;AAEX,cAAM,IAAI,QAAQ,WAAW;AAAA,UACzB,SAAS,sBAAsB;AAAA,UAC/B,MAAM;AAAA,WACP;AAAA,eAEA,OAAP;AACI,cAAM,IAAI,QAAQ,WAAW,OAAO;AAAA;AAAA;AAG5C,aAAQ,UAAU;AAAA;AAAA;;;ACxBlB;AAAA;AAAA;AACA,QAAI,kBAAmB,YAAQ,SAAK,mBAAqB,QAAO,SAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,UAAI,OAAO;AAAW,aAAK;AAC3B,aAAO,eAAe,GAAG,IAAI,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,eAAO,EAAE;AAAA;AAAA,QAC1E,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,UAAI,OAAO;AAAW,aAAK;AAC3B,QAAE,MAAM,EAAE;AAAA;AAEd,QAAI,eAAgB,YAAQ,SAAK,gBAAiB,SAAS,GAAG,UAAS;AACnE,eAAS,KAAK;AAAG,YAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAK,UAAS;AAAI,0BAAgB,UAAS,GAAG;AAAA;AAE3H,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,WAAW,QAAQ;AACzB,QAAM,OAAO;AACb,QAAM,cAAc;AACpB,QAAM,UAAU;AAChB,QAAM,eAAe;AACrB,QAAM,SAAS;AACf,QAAM,iBAAiB;AACvB,QAAM,eAAe;AACrB,QAAM,mBAAmB;AACzB,QAAM,uBAAuB;AAAA,MACzB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,uBAAmB,mBAAmB;AAClC,UAAI;AACJ,UAAI;AACJ,YAAM,UAAU,IAAI,SAAS;AAC7B,YAAM,UAAU,IAAI,YAAY,CAAC,SAAS,QAAQ,aAAa;AAC3D,cAAM,cAAc,CAAC,eAAe;AAChC,gBAAM,UAAU,IAAI,OAAO,QAAQ,QAAW;AAC9C,kBAAQ,aAAa;AACrB,kBAAQ,UAAU;AAClB,mBAAS,MAAM,QAAQ;AACvB,mBAAS,eAAe;AACxB,mBAAS,MAAM,OAAO,IAAI,QAAQ,YAAY;AAC9C,0BAAgB;AAChB,kBAAQ,KAAK,YAAY,OAAO,aAAa;AACzC,gBAAI;AACJ,qBAAS,aAAa;AACtB,gBAAI,SAAS,QAAQ,SAAS;AAE1B;AAAA;AAGJ,gBAAI;AACJ,gBAAI;AACA,wBAAU,MAAM,aAAa,QAAQ;AACrC,uBAAS,UAAU;AAAA,qBAEhB,IAAP;AAGI;AAAA;AAEJ,gBAAI,QAAQ,iBAAiB;AACzB;AAAA;AAGJ,kBAAM,kBAAoB,OAAK,SAAS,QAAQ,yBAAyB,QAAQ,OAAO,SAAS,KAAK,IAAI;AAC1G,kBAAM,eAAe,CAAC,QAAQ,WAAW,MAAM,SAAS;AACxD,kBAAM,EAAE,YAAY;AACpB,gBAAI,gBAAgB,CAAC,QAAQ,YAAY;AACrC,uBAAS,OAAO;AAAA,mBAEf;AACD,kBAAI;AACA,yBAAS,OAAO,aAAa,QAAQ,UAAU,QAAQ,cAAc,QAAQ,WAAW,QAAQ;AAAA,uBAE7F,OAAP;AAEI,yBAAS,OAAO,QAAQ;AACxB,oBAAI,iBAAiB,aAAa,WAAW;AACzC,0BAAQ,aAAa;AACrB;AAAA;AAAA;AAAA;AAIZ,gBAAI;AACA,yBAAW,CAAC,OAAO,SAAS,QAAQ,MAAM,cAAc,WAAW;AAG/D,2BAAW,MAAM,KAAK,UAAU,OAAO,mBAAmB;AACtD,wBAAM,eAAe,OAAO,QAAQ,mBAAmB,QAAW,iCAC3D,iBAD2D;AAAA,oBAE9D,OAAO;AAAA,sBACH,gBAAgB,MAAM;AAAA;AAAA,oBAE1B,iBAAiB;AAAA,oBACjB,iBAAiB;AAAA,sBAClB;AAGH,+BAAa,MAAM,gBAAgB,aAAa,MAAM,cAAc,MAAM,GAAG;AAC7E,6BAAW,SAAQ,aAAa,MAAM,aAAa;AAE/C,0BAAM,MAAK;AAAA;AAEf,wBAAM,WAAU,UAAU;AAC1B,2BAAS,MAAM;AACX,6BAAQ,MAAM,MAAM;AAAA;AACpB,6BAAQ;AAAA;AAEZ,yBAAO;AAAA;AAAA;AAAA,qBAIZ,OAAP;AACI,sBAAQ,aAAa,IAAI,QAAQ,aAAa,MAAM,SAAS,OAAO;AACpE;AAAA;AAEJ,gBAAI,CAAC,iBAAiB,aAAa,WAAW;AAC1C,sBAAQ,aAAa,IAAI,QAAQ,UAAU;AAC3C;AAAA;AAEJ,6BAAiB;AACjB,oBAAQ,QAAQ,QAAQ,kBAAkB,SAAS,OAAO;AAAA;AAE9D,gBAAM,UAAU,CAAC,UAAU;AACvB,gBAAI,QAAQ,YAAY;AACpB;AAAA;AAEJ,kBAAM,EAAE,YAAY;AACpB,gBAAI,iBAAiB,QAAQ,aAAa,CAAC,QAAQ,iBAAiB;AAChE,oBAAM,EAAE,aAAa;AACrB,sBAAQ,QAAQ,QAAQ,kBAAkB,SAAS,OAAO;AAC1D;AAAA;AAEJ,mBAAO;AAAA;AAEX,kBAAQ,KAAK,SAAS;AACtB,gBAAM,eAAe,QAAQ,QAAQ;AACrC,kBAAQ,KAAK,SAAS,CAAC,eAAe,UAAU;AAC5C,gBAAI,IAAI;AACR,gBAAI,iBAAmB,OAAK,MAAM,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,SAAS,KAAK,QAAQ,WAAY,MAAK,MAAM,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,OAAO;AACpM,sBAAQ;AACR;AAAA;AAEJ,wBAAY;AAAA;AAEhB,yBAAe,QAAQ,SAAS,SAAS;AAAA;AAE7C,oBAAY;AAAA;AAEhB,cAAQ,KAAK,CAAC,OAAO,OAAO;AACxB,gBAAQ,GAAG,OAAO;AAClB,eAAO;AAAA;AAEX,YAAM,WAAW,CAAC,iBAAiB;AAC/B,cAAM,aAAc,aAAY;AAE5B,gBAAM;AACN,gBAAM,EAAE,YAAY,eAAe;AACnC,iBAAO,aAAa,QAAQ,gBAAgB,cAAc,QAAQ,WAAW,QAAQ;AAAA;AAEzF,eAAO,iBAAiB,YAAY,OAAO,0BAA0B;AACrE,eAAO;AAAA;AAEX,cAAQ,OAAO,MAAM;AACjB,cAAM,EAAE,YAAY,cAAc;AAClC,YAAI,CAAC,cAAc,oBAAoB,QAAQ,WAAW,QAAW;AACjE,kBAAQ,SAAS;AAAA;AAErB,eAAO,SAAS;AAAA;AAEpB,cAAQ,SAAS,MAAM,SAAS;AAChC,cAAQ,OAAO,MAAM,SAAS;AAC9B,aAAO;AAAA;AAEX,aAAQ,UAAU;AAClB,iBAAa,iBAAoB;AAAA;AAAA;;;AC9KjC;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,UAAU;AAChB,6BAAyB,UAAU,mBAAmB;AAClD,YAAM,UAAW,aAAY;AACzB,YAAI,iBAAiB,QAAQ,cAAc;AACvC,cAAI;AACA,uBAAW,SAAS,mBAAmB;AACnC,kBAAI,OAAO;AACP,2BAAW,QAAQ,OAAO;AAEtB,0BAAQ,MAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mBAK5B,QAAP;AACI,oBAAQ;AAAA;AAAA;AAGhB,cAAM;AAAA;AAEV,YAAM,gBAAgB,MAAM;AAC5B,cAAQ,OAAO;AACf,cAAQ,OAAO;AACf,cAAQ,SAAS;AACjB,cAAQ,KAAK;AACb,aAAO;AAAA;AAEX,aAAQ,UAAU;AAAA;AAAA;;;AC7BlB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,OAAO;AACb,wBAAoB,QAAQ;AACxB,iBAAW,SAAS,OAAO,OAAO,SAAS;AACvC,YAAI,KAAK,QAAQ,YAAY,UAAU,KAAK,QAAQ,MAAM,QAAQ;AAC9D,qBAAW;AAAA;AAAA;AAGnB,aAAO,OAAO,OAAO;AAAA;AAEzB,aAAQ,UAAU;AAAA;AAAA;;;ACXlB;AAAA;AAAA;AACA,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAAA;AAAA;;;ACDtD;AAAA;AAAA;AACA,QAAI,kBAAmB,YAAQ,SAAK,mBAAqB,QAAO,SAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,UAAI,OAAO;AAAW,aAAK;AAC3B,aAAO,eAAe,GAAG,IAAI,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,eAAO,EAAE;AAAA;AAAA,QAC1E,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,UAAI,OAAO;AAAW,aAAK;AAC3B,QAAE,MAAM,EAAE;AAAA;AAEd,QAAI,eAAgB,YAAQ,SAAK,gBAAiB,SAAS,GAAG,UAAS;AACnE,eAAS,KAAK;AAAG,YAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAK,UAAS;AAAI,0BAAgB,UAAS,GAAG;AAAA;AAE3H,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,aAAQ,iBAAiB;AACzB,QAAM,OAAO;AACb,QAAM,eAAe;AACrB,QAAM,qBAAqB;AAC3B,QAAM,SAAS;AACf,QAAM,gBAAgB;AACtB,QAAM,SAAS;AAAA,MACX,cAAc,aAAa;AAAA,MAC3B,YAAY,aAAa;AAAA,MACzB,WAAW,aAAa;AAAA,MACxB,WAAW,aAAa;AAAA,MACxB,mBAAmB,aAAa;AAAA,MAChC,cAAc,aAAa;AAAA,MAC3B,YAAY,aAAa;AAAA,MACzB,aAAa,aAAa;AAAA,MAC1B,0BAA0B,aAAa;AAAA,MACvC,aAAa,aAAa;AAAA;AAG9B,QAAM,QAAQ,OAAO,OAAO,IAAI,QAAQ,aAAW;AAC/C,iBAAW,SAAS;AAAA;AAExB,QAAM,EAAE,uBAAuB,OAAO;AACtC,QAAM,eAAe,IAAI,YAAY;AACjC,UAAI;AACJ,iBAAW,UAAU,SAAS;AAC1B,wBAAgB,mBAAmB,QAAW,QAAQ;AAAA;AAE1D,aAAO;AAAA;AAEX,QAAM,qBAAqB,CAAC,YAAY,QAAQ,WAAW,IAAI,OAAO,QAAQ,QAAW,WAAW,aAAa,QAAQ;AACzH,QAAM,gBAAgB,CAAC,UAAW,cAAc,SAAS,aAAa,MAAM;AAC5E,QAAM,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAEJ,aAAQ,iBAAiB,CAAC,SAAS,SAAS,KAAK;AACjD,QAAM,gBAAgB,CAAC,OAAO,YAAY;AACtC,UAAI,OAAO;AACP,mBAAW,QAAQ,OAAO;AACtB,eAAK;AAAA;AAAA;AAAA;AAIjB,QAAM,SAAS,CAAC,aAAa;AAEzB,eAAS,eAAe,SAAS;AACjC,eAAS,WAAW,SAAS,SAAS,IAAI,QAAO,CAAC,SAAS,SAAS;AAEhE,YAAI;AACJ,cAAM,SAAS,GAAG,SAAS,gBAAc;AACrC,iBAAO,KAAK;AACZ,iBAAO;AAAA;AAEX,YAAI,WAAW,QAAQ,CAAC,QAAQ,YAAY,MAAM;AAC9C,gBAAM,cAAc;AACpB,gBAAM,EAAE,MAAM,aAAa,OAAO,cAAc,SAAS,mBAAmB;AAC5E,iBAAO,eAAe,aAAa,OAAO,eAAe;AACzD,iBAAO,iBAAiB,aAAa,OAAO,0BAA0B;AAGtE,sBAAY,OAAO;AACnB,sBAAY,QAAQ;AACpB,sBAAY,UAAU;AAAA;AAE1B,eAAO;AAAA;AAGX,YAAM,MAAO,CAAC,KAAK,UAAU,IAAI,cAAc;AAC3C,YAAI,IAAI;AACR,YAAI,YAAY;AAChB,cAAM,kBAAkB,CAAC,eAAe;AACpC,iBAAO,SAAS,SAAS,aAAa,YAAY,cAAc,SAAS,SAAS,SAAS,qBAAqB;AAAA;AAGpH,YAAI,KAAK,QAAQ,YAAY,MAAM;AAC/B,gBAAM,gBAAgB,kCACf,MACA;AAEP,iBAAO,2BAA2B,CAAC,KAAK,UAAU;AAClD,oBAAU;AACV,gBAAM;AAAA;AAEV,YAAI;AAEA,cAAI;AACJ,cAAI;AACA,0BAAc,SAAS,QAAQ,MAAM,MAAM;AAC3C,0BAAe,MAAK,QAAQ,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,MAAM;AAAA,mBAE9E,OAAP;AACI,4BAAgB;AAAA;AAGpB,gBAAM,oBAAoB,mBAAmB,KAAK,SAAS,cAAc,QAAQ,cAAc,SAAS,YAAY,SAAS;AAC7H,4BAAkB,OAAO,wBAAwB;AACjD,cAAI,eAAe;AACf,kBAAM,IAAI,aAAa,aAAa,cAAc,SAAS,eAAe;AAAA;AAE9E,iBAAO,gBAAgB;AAAA,iBAEpB,OAAP;AACI,cAAI,QAAQ,UAAU;AAClB,kBAAM;AAAA,iBAEL;AACD,mBAAO,mBAAmB,QAAQ,OAAO,SAAS,QAAQ,MAAM,aAAc,MAAK,QAAQ,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG;AAAA;AAAA;AAAA;AAItJ,UAAI,SAAS,IAAI,uBAAuB;AACpC,cAAM,eAAe,CAAC,SAAS;AAC/B,YAAI,WAAW,CAAC,GAAG,SAAS;AAC5B,YAAI;AACJ,mBAAW,SAAS,oBAAoB;AACpC,cAAI,cAAc,QAAQ;AACtB,yBAAa,KAAK,MAAM,SAAS;AACjC,qBAAS,KAAK,GAAG,MAAM,SAAS;AAChC,gCAAoB,MAAM,SAAS;AAAA,iBAElC;AACD,yBAAa,KAAK;AAClB,gBAAI,cAAc,OAAO;AACrB,uBAAS,KAAK,GAAG,MAAM;AAAA;AAE3B,gCAAoB,MAAM;AAAA;AAAA;AAGlC,mBAAW,SAAS,OAAO,aAAW,YAAY,SAAQ;AAC1D,YAAI,SAAS,WAAW,GAAG;AACvB,mBAAS,KAAK,SAAQ;AAAA;AAE1B,eAAO,OAAO;AAAA,UACV,SAAS,aAAa,GAAG;AAAA,UACzB;AAAA,UACA,iBAAiB,QAAQ;AAAA;AAAA;AAIjC,YAAM,eAAgB,iBAAiB,KAAK,SAAS;AAIjD,YAAI,oBAAoB,mBAAmB,KAAK,SAAS,SAAS;AAClE,0BAAkB,kBAAkB;AACpC,cAAM,aAAa,kBAAkB;AACrC,YAAI,CAAC,KAAK,QAAQ,OAAO,aAAa;AAClC,gBAAM,IAAI,UAAU;AAAA;AAExB,cAAM,MAAM;AACZ,YAAI,EAAE,eAAe;AACrB,YAAI,mBAAmB;AACvB,eAAO,mBAAmB,WAAW,cAAc;AAC/C,cAAI,qBAAqB,GAAG;AAExB,kBAAM,MAAM,WAAW;AAAA;AAK3B,gBAAM,SAAU,MAAM,IAAI,QAAW,QAAW;AAEhD,gBAAM,SAAS,MAAM,WAAW,UAAU;AAC1C,gBAAM,UAAU;AAChB,qBAAW,QAAQ,QAAQ;AACvB,gBAAI,WAAW,OAAO,MAAM,KAAK,UAAU;AACvC,kBAAI,CAAC,WAAW,eAAe,MAAM,KAAK,UAAU;AAChD;AAAA;AAEJ,oBAAM;AACN,kBAAI,WAAW,eAAe;AAC1B,oBAAI,KAAK;AAAA;AAEb,sBAAQ,KAAK;AACb,kBAAI,EAAE,cAAc,GAAG;AACnB;AAAA;AAAA;AAAA;AAIZ,gBAAM,iBAAiB,WAAW,SAAS,QAAQ,KAAK;AACxD,cAAI,mBAAmB,OAAO;AAC1B;AAAA;AAEJ,cAAI,mBAAmB,OAAO,QAAQ,SAAS;AAC3C,gCAAoB,OAAO,QAAQ;AAAA,qBAE9B,mBAAmB,QAAW;AACnC,gCAAoB,mBAAmB,QAAW,gBAAgB;AAAA;AAEtE;AAAA;AAAA;AAGR,UAAI,WAAW;AACf,UAAI,SAAS,MAAO,OAAO,KAAK,YAAY;AACxC,cAAM,UAAU;AAChB,yBAAiB,QAAQ,aAAa,KAAK,UAAU;AACjD,kBAAQ,KAAK;AAAA;AAEjB,eAAO;AAAA;AAGX,UAAI,SAAS,OAAO;AAEpB,UAAI,SAAU,CAAC,KAAK,YAAY,IAAI,KAAK,iCAAK,UAAL,EAAc,UAAU;AAEjE,iBAAW,UAAU,SAAS;AAC1B,YAAI,UAAW,CAAC,KAAK,YAAY,IAAI,KAAK,iCAAK,UAAL,EAAc;AACxD,YAAI,OAAO,UAAW,CAAC,KAAK,YAAY;AACpC,iBAAO,IAAI,KAAK,iCAAK,UAAL,EAAc,QAAQ,UAAU;AAAA;AAAA;AAGxD,aAAO,OAAO,KAAK;AACnB,aAAO,eAAe,KAAK,YAAY;AAAA,QACnC,OAAO,SAAS,kBAAkB,WAAW,cAAc,QAAQ;AAAA,QACnE,UAAU,SAAS;AAAA,QACnB,cAAc,SAAS;AAAA,QACvB,YAAY;AAAA;AAEhB,UAAI,eAAe;AACnB,aAAO;AAAA;AAEX,aAAQ,UAAU;AAClB,iBAAa,kBAAoB;AAAA;AAAA;;;AC/OjC;AAAA;AAAA;AACA,QAAI,kBAAmB,YAAQ,SAAK,mBAAqB,QAAO,SAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,UAAI,OAAO;AAAW,aAAK;AAC3B,aAAO,eAAe,GAAG,IAAI,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,eAAO,EAAE;AAAA;AAAA,QAC1E,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,UAAI,OAAO;AAAW,aAAK;AAC3B,QAAE,MAAM,EAAE;AAAA;AAEd,QAAI,eAAgB,YAAQ,SAAK,gBAAiB,SAAS,GAAG,UAAS;AACnE,eAAS,KAAK;AAAG,YAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAK,UAAS;AAAI,0BAAgB,UAAS,GAAG;AAAA;AAE3H,WAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AACtD,QAAM,QAAQ,QAAQ;AACtB,QAAM,WAAW;AACjB,QAAM,WAAW;AAAA,MACb,SAAS;AAAA,QACL,QAAQ;AAAA,QACR,OAAO;AAAA,UACH,OAAO;AAAA,UACP,SAAS;AAAA,YACL;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA,UAEJ,aAAa;AAAA,YACT;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA,UAEJ,YAAY;AAAA,YACR;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA,UAEJ,eAAe;AAAA,UACf,gBAAgB,CAAC,EAAE,oBAAoB;AAAA;AAAA,QAE3C,SAAS;AAAA,QACT,SAAS;AAAA,UACL,cAAc;AAAA;AAAA,QAElB,OAAO;AAAA,UACH,MAAM;AAAA,UACN,eAAe;AAAA,UACf,gBAAgB;AAAA,UAChB,aAAa;AAAA,UACb,aAAa;AAAA,UACb,eAAe;AAAA;AAAA,QAEnB,OAAO;AAAA,QACP,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,iBAAiB;AAAA,QACjB,gBAAgB;AAAA,QAChB,UAAU;AAAA,QACV,cAAc;AAAA,QACd,iBAAiB;AAAA,QACjB,cAAc;AAAA,QACd,WAAW;AAAA,QACX,iBAAiB;AAAA,QACjB,sBAAsB;AAAA,QACtB,SAAS;AAAA,QAET,OAAO;AAAA,QACP,cAAc;AAAA,QACd,OAAO;AAAA,QACP,YAAY;AAAA,UACR,WAAW,CAAC,aAAa;AACrB,gBAAI,SAAS,QAAQ,QAAQ,iBAAiB,QAAQ;AAClD,qBAAO,SAAS;AAAA;AAEpB,mBAAO,KAAK,MAAM,SAAS;AAAA;AAAA,UAE/B,UAAU,cAAY;AAClB,gBAAI,CAAC,QAAQ,IAAI,SAAS,SAAS,SAAS;AACxC,qBAAO;AAAA;AAEX,kBAAM,QAAQ,SAAS,QAAQ,KAAK,MAAM;AAC1C,gBAAI;AACJ,uBAAW,QAAQ,OAAO;AACtB,oBAAM,SAAS,KAAK,MAAM;AAC1B,kBAAI,OAAO,GAAG,SAAS,SAAS;AAC5B,uBAAO,OAAO,GAAG,YAAY;AAC7B,uBAAO,KAAK,MAAM,GAAG;AACrB;AAAA;AAAA;AAGR,gBAAI,MAAM;AACN,oBAAM,UAAU;AAAA,gBACZ,KAAK,IAAI,MAAM,IAAI;AAAA;AAEvB,qBAAO;AAAA;AAEX,mBAAO;AAAA;AAAA,UAEX,QAAQ,MAAM;AAAA,UACd,gBAAgB,MAAM;AAAA,UACtB,YAAY;AAAA,UACZ,SAAS;AAAA,UACT,cAAc;AAAA,UACd,eAAe;AAAA;AAAA,QAEnB,WAAW,CAAC,SAAS,KAAK,MAAM;AAAA,QAChC,eAAe,CAAC,WAAW,KAAK,UAAU;AAAA,QAC1C,cAAc;AAAA;AAAA,MAElB,UAAU,CAAC,SAAS;AAAA,MACpB,iBAAiB;AAAA;AAErB,QAAM,MAAM,SAAS,QAAQ;AAC7B,aAAQ,UAAU;AAElB,YAAO,UAAU;AACjB,YAAO,QAAQ,UAAU;AACzB,YAAO,QAAQ,aAAa;AAC5B,iBAAa,kBAAqB;AAClC,iBAAa,sBAAyB;AAAA;AAAA;;;ACnItC;AAAA;AAAA;AAEA,mBAAe,SAAS;AACtB,UAAI,CAAE,iBAAgB,QAAQ;AAC5B,eAAO,IAAI,MAAM;AAAA;AAGnB,gBAAU,WAAW;AACrB,WAAK,cAAc,QAAQ,eAAe;AAC1C,WAAK,UAAU;AACf,WAAK,OAAO;AACZ,WAAK,MAAM;AACX,WAAK,QAAQ,KAAK,KAAK;AAAA;AAGzB,QAAI,kBAAkB;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA;AAGF,oBAAgB,QAAQ,SAAS,QAAQ;AACvC,YAAM,UAAU,UAAU,WAAW;AACnC,YAAI,eAAe,MAAM,UAAU,QAAQ,MAAM,KAAK,MAAM;AAC5D,aAAK;AACL,eAAO;AAAA;AAAA;AAIX,WAAO,eAAe,MAAM,WAAW,UAAU;AAAA,MAC/C,KAAK,WAAW;AACd,eAAO,KAAK,UAAU,KAAK,KAAK;AAAA;AAAA;AAIpC,UAAM,UAAU,OAAO,WAAW;AAChC,UAAI,KAAK,YAAY,KAAK,aAAa;AACrC;AAAA;AAEF,UAAI,KAAK,KAAK,QAAQ;AACpB,YAAI,MAAM,KAAK,KAAK;AACpB,aAAK;AACL,YAAI,KAAK;AACT,aAAK;AAAA;AAGP,UAAI,KAAK,YAAY,GAAG;AACtB,eAAO,KAAK,IAAI,WAAW,GAAG;AAC5B,cAAI,KAAK,KAAK,IAAI;AAClB,kBAAQ,SAAS;AAAA;AAAA;AAAA;AAKvB,UAAM,UAAU,SAAS,SAAS,IAAI;AACpC,UAAI,OAAO,OAAO,YAAY;AAC5B,aAAK,IAAI,KAAK;AACd,aAAK;AAAA;AAAA;AAIT,oBAAgB;AACd,WAAK;AACL,WAAK;AAAA;AAGP,YAAO,UAAU;AAAA;AAAA;;;AClEjB;AAAA;AAAA;AAUA,oBAAiB,MAAM,aAAa;AAClC,YAAM,SAAS,OAAO,YAAY;AAClC,UAAI,SAAS;AAEb,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,cAAM,MAAM,KAAK;AACjB,YAAI,KAAK,QAAQ;AACjB,kBAAU,IAAI;AAAA;AAGhB,aAAO;AAAA;AAaT,mBAAgB,QAAQ,MAAM,QAAQ,QAAQ,QAAQ;AACpD,eAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,eAAO,SAAS,KAAK,OAAO,KAAK,KAAK,IAAI;AAAA;AAAA;AAW9C,qBAAkB,QAAQ,MAAM;AAE9B,YAAM,SAAS,OAAO;AACtB,eAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,eAAO,MAAM,KAAK,IAAI;AAAA;AAAA;AAI1B,QAAI;AACF,YAAM,aAAa,QAAQ;AAC3B,YAAM,KAAK,WAAW,cAAc;AAEpC,cAAO,UAAU;AAAA,QACf,KAAM,QAAQ,MAAM,QAAQ,QAAQ,QAAQ;AAC1C,cAAI,SAAS;AAAI,kBAAM,QAAQ,MAAM,QAAQ,QAAQ;AAAA;AAChD,eAAG,KAAK,QAAQ,MAAM,QAAQ,QAAQ;AAAA;AAAA,QAE7C,OAAQ,QAAQ,MAAM;AACpB,cAAI,OAAO,SAAS;AAAI,oBAAQ,QAAQ;AAAA;AACnC,eAAG,OAAO,QAAQ;AAAA;AAAA,QAEzB;AAAA;AAAA,aAEK,GAAP;AACA,cAAO,UAAU,EAAE,QAAQ,MAAM,OAAO,QAAQ;AAAA;AAAA;AAAA;;;ACtElD;AAAA;AAAA;AAEA,YAAO,UAAU;AAAA,MACf,cAAc,CAAC,cAAc,eAAe;AAAA,MAC5C,MAAM;AAAA,MACN,aAAa,OAAO;AAAA,MACpB,YAAY,OAAO;AAAA,MACnB,cAAc,OAAO,MAAM;AAAA,MAC3B,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;;;ACRd;AAAA;AAAA;AAEA,QAAM,UAAU;AAChB,QAAM,OAAO,QAAQ;AAErB,QAAM,aAAa;AACnB,QAAM,YAAY;AAElB,QAAM,UAAU,OAAO,KAAK,CAAC,GAAM,GAAM,KAAM;AAC/C,QAAM,cAAc,OAAO,KAAK,CAAC;AAEjC,QAAM,qBAAqB,OAAO;AAClC,QAAM,mBAAmB,OAAO;AAChC,QAAM,gBAAgB,OAAO;AAC7B,QAAM,eAAe,OAAO;AAC5B,QAAM,YAAY,OAAO;AACzB,QAAM,WAAW,OAAO;AACxB,QAAM,SAAS,OAAO;AAStB,QAAI;AAKJ,kCAAwB;AAAA,MAuBtB,YAAa,SAAS,UAAU,YAAY;AAC1C,aAAK,cAAc,aAAa;AAChC,aAAK,WAAW,WAAW;AAC3B,aAAK,aAAa,KAAK,SAAS,cAAc,SAC1C,KAAK,SAAS,YACd;AACJ,aAAK,YAAY,CAAC,CAAC;AACnB,aAAK,WAAW;AAChB,aAAK,WAAW;AAEhB,aAAK,SAAS;AAEd,YAAI,CAAC,aAAa;AAChB,gBAAM,cAAc,KAAK,SAAS,qBAAqB,SACnD,KAAK,SAAS,mBACd;AACJ,wBAAc,IAAI,QAAQ,EAAE;AAAA;AAAA;AAAA,iBAOrB,gBAAiB;AAC1B,eAAO;AAAA;AAAA,MAST,QAAS;AACP,cAAM,SAAS;AAEf,YAAI,KAAK,SAAS,yBAAyB;AACzC,iBAAO,6BAA6B;AAAA;AAEtC,YAAI,KAAK,SAAS,yBAAyB;AACzC,iBAAO,6BAA6B;AAAA;AAEtC,YAAI,KAAK,SAAS,qBAAqB;AACrC,iBAAO,yBAAyB,KAAK,SAAS;AAAA;AAEhD,YAAI,KAAK,SAAS,qBAAqB;AACrC,iBAAO,yBAAyB,KAAK,SAAS;AAAA,mBACrC,KAAK,SAAS,uBAAuB,MAAM;AACpD,iBAAO,yBAAyB;AAAA;AAGlC,eAAO;AAAA;AAAA,MAUT,OAAQ,gBAAgB;AACtB,yBAAiB,KAAK,gBAAgB;AAEtC,aAAK,SAAS,KAAK,YACf,KAAK,eAAe,kBACpB,KAAK,eAAe;AAExB,eAAO,KAAK;AAAA;AAAA,MAQd,UAAW;AACT,YAAI,KAAK,UAAU;AACjB,cAAI,KAAK,SAAS,mBAAmB;AACnC,iBAAK,SAAS,iBAAiB;AAAA,iBAC1B;AACL,iBAAK,SAAS;AACd,iBAAK,WAAW;AAAA;AAAA;AAGpB,YAAI,KAAK,UAAU;AACjB,cAAI,KAAK,SAAS,mBAAmB;AACnC,iBAAK,SAAS,iBAAiB;AAAA,iBAC1B;AACL,iBAAK,SAAS;AACd,iBAAK,WAAW;AAAA;AAAA;AAAA;AAAA,MAYtB,eAAgB,QAAQ;AACtB,cAAM,OAAO,KAAK;AAClB,cAAM,WAAW,OAAO,KAAK,CAAC,WAAW;AACvC,cACG,KAAK,4BAA4B,SAChC,OAAO,8BACR,OAAO,0BACL,MAAK,wBAAwB,SAC3B,OAAO,KAAK,wBAAwB,YACnC,KAAK,sBAAsB,OAAO,2BACvC,OAAO,KAAK,wBAAwB,YACnC,CAAC,OAAO,wBACV;AACA,mBAAO;AAAA;AAGT,iBAAO;AAAA;AAGT,YAAI,CAAC,UAAU;AACb,gBAAM,IAAI,MAAM;AAAA;AAGlB,YAAI,KAAK,yBAAyB;AAChC,mBAAS,6BAA6B;AAAA;AAExC,YAAI,KAAK,yBAAyB;AAChC,mBAAS,6BAA6B;AAAA;AAExC,YAAI,OAAO,KAAK,wBAAwB,UAAU;AAChD,mBAAS,yBAAyB,KAAK;AAAA;AAEzC,YAAI,OAAO,KAAK,wBAAwB,UAAU;AAChD,mBAAS,yBAAyB,KAAK;AAAA,mBAEvC,SAAS,2BAA2B,QACpC,KAAK,wBAAwB,OAC7B;AACA,iBAAO,SAAS;AAAA;AAGlB,eAAO;AAAA;AAAA,MAUT,eAAgB,UAAU;AACxB,cAAM,SAAS,SAAS;AAExB,YACE,KAAK,SAAS,4BAA4B,SAC1C,OAAO,4BACP;AACA,gBAAM,IAAI,MAAM;AAAA;AAGlB,YAAI,CAAC,OAAO,wBAAwB;AAClC,cAAI,OAAO,KAAK,SAAS,wBAAwB,UAAU;AACzD,mBAAO,yBAAyB,KAAK,SAAS;AAAA;AAAA,mBAGhD,KAAK,SAAS,wBAAwB,SACrC,OAAO,KAAK,SAAS,wBAAwB,YAC5C,OAAO,yBAAyB,KAAK,SAAS,qBAChD;AACA,gBAAM,IAAI,MACR;AAAA;AAIJ,eAAO;AAAA;AAAA,MAUT,gBAAiB,gBAAgB;AAC/B,uBAAe,QAAQ,CAAC,WAAW;AACjC,iBAAO,KAAK,QAAQ,QAAQ,CAAC,QAAQ;AACnC,gBAAI,QAAQ,OAAO;AAEnB,gBAAI,MAAM,SAAS,GAAG;AACpB,oBAAM,IAAI,MAAM,cAAc;AAAA;AAGhC,oBAAQ,MAAM;AAEd,gBAAI,QAAQ,0BAA0B;AACpC,kBAAI,UAAU,MAAM;AAClB,sBAAM,MAAM,CAAC;AACb,oBAAI,CAAC,OAAO,UAAU,QAAQ,MAAM,KAAK,MAAM,IAAI;AACjD,wBAAM,IAAI,UACR,gCAAgC,SAAS;AAAA;AAG7C,wBAAQ;AAAA,yBACC,CAAC,KAAK,WAAW;AAC1B,sBAAM,IAAI,UACR,gCAAgC,SAAS;AAAA;AAAA,uBAGpC,QAAQ,0BAA0B;AAC3C,oBAAM,MAAM,CAAC;AACb,kBAAI,CAAC,OAAO,UAAU,QAAQ,MAAM,KAAK,MAAM,IAAI;AACjD,sBAAM,IAAI,UACR,gCAAgC,SAAS;AAAA;AAG7C,sBAAQ;AAAA,uBAER,QAAQ,gCACR,QAAQ,8BACR;AACA,kBAAI,UAAU,MAAM;AAClB,sBAAM,IAAI,UACR,gCAAgC,SAAS;AAAA;AAAA,mBAGxC;AACL,oBAAM,IAAI,MAAM,sBAAsB;AAAA;AAGxC,mBAAO,OAAO;AAAA;AAAA;AAIlB,eAAO;AAAA;AAAA,MAWT,WAAY,MAAM,KAAK,UAAU;AAC/B,oBAAY,KAAK,CAAC,SAAS;AACzB,eAAK,YAAY,MAAM,KAAK,CAAC,KAAK,WAAW;AAC3C;AACA,qBAAS,KAAK;AAAA;AAAA;AAAA;AAAA,MAapB,SAAU,MAAM,KAAK,UAAU;AAC7B,oBAAY,KAAK,CAAC,SAAS;AACzB,eAAK,UAAU,MAAM,KAAK,CAAC,KAAK,WAAW;AACzC;AACA,qBAAS,KAAK;AAAA;AAAA;AAAA;AAAA,MAapB,YAAa,MAAM,KAAK,UAAU;AAChC,cAAM,WAAW,KAAK,YAAY,WAAW;AAE7C,YAAI,CAAC,KAAK,UAAU;AAClB,gBAAM,MAAM,GAAG;AACf,gBAAM,aAAa,OAAO,KAAK,OAAO,SAAS,WAC3C,KAAK,uBACL,KAAK,OAAO;AAEhB,eAAK,WAAW,KAAK,iBACnB,OAAO,OAAO,IAAI,KAAK,SAAS,oBAAoB,EAAE;AAExD,eAAK,SAAS,sBAAsB;AACpC,eAAK,SAAS,gBAAgB;AAC9B,eAAK,SAAS,YAAY;AAC1B,eAAK,SAAS,GAAG,SAAS;AAC1B,eAAK,SAAS,GAAG,QAAQ;AAAA;AAG3B,aAAK,SAAS,aAAa;AAC3B,aAAK,SAAS,oBAAoB;AAElC,aAAK,SAAS,MAAM;AACpB,YAAI;AAAK,eAAK,SAAS,MAAM;AAE7B,aAAK,SAAS,MAAM,MAAM;AACxB,gBAAM,MAAM,KAAK,SAAS;AAE1B,cAAI,KAAK;AACP,iBAAK,SAAS;AACd,iBAAK,WAAW;AAChB,qBAAS;AACT;AAAA;AAGF,gBAAM,QAAO,WAAW,OACtB,KAAK,SAAS,WACd,KAAK,SAAS;AAGhB,cACG,OAAO,KAAK,OAAO,GAAG,mCACvB,KAAK,SAAS,gBACd;AACA,iBAAK,SAAS;AACd,iBAAK,WAAW;AAAA,iBACX;AACL,iBAAK,SAAS,oBAAoB;AAClC,iBAAK,SAAS,gBAAgB;AAC9B,iBAAK,SAAS,YAAY;AAAA;AAG5B,mBAAS,MAAM;AAAA;AAAA;AAAA,MAYnB,UAAW,MAAM,KAAK,UAAU;AAC9B,YAAI,CAAC,QAAQ,KAAK,WAAW,GAAG;AAC9B,kBAAQ,SAAS,UAAU,MAAM;AACjC;AAAA;AAGF,cAAM,WAAW,KAAK,YAAY,WAAW;AAE7C,YAAI,CAAC,KAAK,UAAU;AAClB,gBAAM,MAAM,GAAG;AACf,gBAAM,aAAa,OAAO,KAAK,OAAO,SAAS,WAC3C,KAAK,uBACL,KAAK,OAAO;AAEhB,eAAK,WAAW,KAAK,iBACnB,OAAO,OAEL;AAAA,YACE,UAAU,KAAK,SAAS;AAAA,YACxB,OAAO,KAAK,SAAS;AAAA,aAEvB,KAAK,SAAS,oBACd,EAAE;AAIN,eAAK,SAAS,gBAAgB;AAC9B,eAAK,SAAS,YAAY;AAO1B,eAAK,SAAS,GAAG,QAAQ;AAAA;AAG3B,aAAK,SAAS,oBAAoB;AAElC,aAAK,SAAS,MAAM;AACpB,aAAK,SAAS,MAAM,KAAK,cAAc,MAAM;AAC3C,cAAI,QAAO,WAAW,OACpB,KAAK,SAAS,WACd,KAAK,SAAS;AAGhB,cAAI;AAAK,oBAAO,MAAK,MAAM,GAAG,MAAK,SAAS;AAE5C,cACG,OAAO,KAAK,OAAO,GAAG,mCACvB,KAAK,SAAS,gBACd;AACA,iBAAK,SAAS;AACd,iBAAK,WAAW;AAAA,iBACX;AACL,iBAAK,SAAS,oBAAoB;AAClC,iBAAK,SAAS,gBAAgB;AAC9B,iBAAK,SAAS,YAAY;AAAA;AAG5B,mBAAS,MAAM;AAAA;AAAA;AAAA;AAKrB,YAAO,UAAU;AAQjB,2BAAwB,OAAO;AAC7B,WAAK,UAAU,KAAK;AACpB,WAAK,iBAAiB,MAAM;AAAA;AAS9B,2BAAwB,OAAO;AAC7B,WAAK,iBAAiB,MAAM;AAE5B,UACE,KAAK,oBAAoB,cAAc,KACvC,KAAK,iBAAiB,KAAK,oBAAoB,aAC/C;AACA,aAAK,UAAU,KAAK;AACpB;AAAA;AAGF,WAAK,UAAU,IAAI,WAAW;AAC9B,WAAK,QAAQ,UAAU,eAAe;AACtC,WAAK,eAAe,QAAQ;AAC5B,WAAK;AAAA;AASP,4BAAyB,KAAK;AAK5B,WAAK,oBAAoB,WAAW;AACpC,UAAI,UAAU,eAAe;AAC7B,WAAK,WAAW;AAAA;AAAA;AAAA;;;AClgBlB;AAAA;AAAA;AAOA,sBAAY;AAAA,MAOV,YAAa,MAAM,QAAQ;AACzB,aAAK,SAAS;AACd,aAAK,OAAO;AAAA;AAAA;AAUhB,qCAA2B,MAAM;AAAA,MAO/B,YAAa,MAAM,QAAQ;AACzB,cAAM,WAAW;AAEjB,aAAK,OAAO;AAAA;AAAA;AAUhB,mCAAyB,MAAM;AAAA,MAQ7B,YAAa,MAAM,QAAQ,QAAQ;AACjC,cAAM,SAAS;AAEf,aAAK,WAAW,OAAO,uBAAuB,OAAO;AACrD,aAAK,SAAS;AACd,aAAK,OAAO;AAAA;AAAA;AAUhB,kCAAwB,MAAM;AAAA,MAM5B,YAAa,QAAQ;AACnB,cAAM,QAAQ;AAAA;AAAA;AAUlB,mCAAyB,MAAM;AAAA,MAO7B,YAAa,OAAO,QAAQ;AAC1B,cAAM,SAAS;AAEf,aAAK,UAAU,MAAM;AACrB,aAAK,QAAQ;AAAA;AAAA;AAUjB,QAAM,cAAc;AAAA,MAQlB,iBAAkB,QAAQ,UAAU;AAClC,YAAI,OAAO,aAAa;AAAY;AAEpC,2BAAoB,MAAM;AACxB,mBAAS,KAAK,MAAM,IAAI,aAAa,MAAM;AAAA;AAG7C,yBAAkB,MAAM,SAAS;AAC/B,mBAAS,KAAK,MAAM,IAAI,WAAW,MAAM,SAAS;AAAA;AAGpD,yBAAkB,OAAO;AACvB,mBAAS,KAAK,MAAM,IAAI,WAAW,OAAO;AAAA;AAG5C,0BAAmB;AACjB,mBAAS,KAAK,MAAM,IAAI,UAAU;AAAA;AAGpC,YAAI,WAAW,WAAW;AACxB,oBAAU,YAAY;AACtB,eAAK,GAAG,QAAQ;AAAA,mBACP,WAAW,SAAS;AAC7B,kBAAQ,YAAY;AACpB,eAAK,GAAG,QAAQ;AAAA,mBACP,WAAW,SAAS;AAC7B,kBAAQ,YAAY;AACpB,eAAK,GAAG,QAAQ;AAAA,mBACP,WAAW,QAAQ;AAC5B,iBAAO,YAAY;AACnB,eAAK,GAAG,QAAQ;AAAA,eACX;AACL,eAAK,GAAG,QAAQ;AAAA;AAAA;AAAA,MAWpB,oBAAqB,QAAQ,UAAU;AACrC,cAAM,YAAY,KAAK,UAAU;AAEjC,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,cAAI,UAAU,OAAO,YAAY,UAAU,GAAG,cAAc,UAAU;AACpE,iBAAK,eAAe,QAAQ,UAAU;AAAA;AAAA;AAAA;AAAA;AAM9C,YAAO,UAAU;AAAA;AAAA;;;ACzKjB;AAAA;AAAA;AAaA,QAAM,aAAa;AAAA,MACjB;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAC7C;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA,MAAG;AAAA;AAa/C,kBAAe,MAAM,MAAM,MAAM;AAC/B,UAAI,OAAO,UAAU,eAAe,KAAK,MAAM;AAAO,aAAK,MAAM,KAAK;AAAA;AACjE,aAAK,QAAQ,CAAC;AAAA;AAUrB,mBAAgB,QAAQ;AACtB,YAAM,SAAS;AAEf,UAAI,WAAW,UAAa,WAAW;AAAI,eAAO;AAElD,UAAI,SAAS;AACb,UAAI,eAAe;AACnB,UAAI,aAAa;AACjB,UAAI,WAAW;AACf,UAAI;AACJ,UAAI;AACJ,UAAI,QAAQ;AACZ,UAAI,MAAM;AAEV,eAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,cAAM,OAAO,OAAO,WAAW;AAE/B,YAAI,kBAAkB,QAAW;AAC/B,cAAI,QAAQ,MAAM,WAAW,UAAU,GAAG;AACxC,gBAAI,UAAU;AAAI,sBAAQ;AAAA,qBACjB,SAAS,MAAgB,SAAS,GAAgB;AAC3D,gBAAI,QAAQ,MAAM,UAAU;AAAI,oBAAM;AAAA,qBAC7B,SAAS,MAAiB,SAAS,IAAe;AAC3D,gBAAI,UAAU,IAAI;AAChB,oBAAM,IAAI,YAAY,iCAAiC;AAAA;AAGzD,gBAAI,QAAQ;AAAI,oBAAM;AACtB,kBAAM,OAAO,OAAO,MAAM,OAAO;AACjC,gBAAI,SAAS,IAAM;AACjB,mBAAK,QAAQ,MAAM;AACnB,uBAAS;AAAA,mBACJ;AACL,8BAAgB;AAAA;AAGlB,oBAAQ,MAAM;AAAA,iBACT;AACL,kBAAM,IAAI,YAAY,iCAAiC;AAAA;AAAA,mBAEhD,cAAc,QAAW;AAClC,cAAI,QAAQ,MAAM,WAAW,UAAU,GAAG;AACxC,gBAAI,UAAU;AAAI,sBAAQ;AAAA,qBACjB,SAAS,MAAQ,SAAS,GAAM;AACzC,gBAAI,QAAQ,MAAM,UAAU;AAAI,oBAAM;AAAA,qBAC7B,SAAS,MAAQ,SAAS,IAAM;AACzC,gBAAI,UAAU,IAAI;AAChB,oBAAM,IAAI,YAAY,iCAAiC;AAAA;AAGzD,gBAAI,QAAQ;AAAI,oBAAM;AACtB,iBAAK,QAAQ,OAAO,MAAM,OAAO,MAAM;AACvC,gBAAI,SAAS,IAAM;AACjB,mBAAK,QAAQ,eAAe;AAC5B,uBAAS;AACT,8BAAgB;AAAA;AAGlB,oBAAQ,MAAM;AAAA,qBACL,SAAS,MAAgB,UAAU,MAAM,QAAQ,IAAI;AAC9D,wBAAY,OAAO,MAAM,OAAO;AAChC,oBAAQ,MAAM;AAAA,iBACT;AACL,kBAAM,IAAI,YAAY,iCAAiC;AAAA;AAAA,eAEpD;AAML,cAAI,YAAY;AACd,gBAAI,WAAW,UAAU,GAAG;AAC1B,oBAAM,IAAI,YAAY,iCAAiC;AAAA;AAEzD,gBAAI,UAAU;AAAI,sBAAQ;AAAA,qBACjB,CAAC;AAAc,6BAAe;AACvC,yBAAa;AAAA,qBACJ,UAAU;AACnB,gBAAI,WAAW,UAAU,GAAG;AAC1B,kBAAI,UAAU;AAAI,wBAAQ;AAAA,uBACjB,SAAS,MAAiB,UAAU,IAAI;AACjD,yBAAW;AACX,oBAAM;AAAA,uBACG,SAAS,IAAe;AACjC,2BAAa;AAAA,mBACR;AACL,oBAAM,IAAI,YAAY,iCAAiC;AAAA;AAAA,qBAEhD,SAAS,MAAQ,OAAO,WAAW,IAAI,OAAO,IAAM;AAC7D,uBAAW;AAAA,qBACF,QAAQ,MAAM,WAAW,UAAU,GAAG;AAC/C,gBAAI,UAAU;AAAI,sBAAQ;AAAA,qBACjB,UAAU,MAAO,UAAS,MAAQ,SAAS,IAAO;AAC3D,gBAAI,QAAQ;AAAI,oBAAM;AAAA,qBACb,SAAS,MAAQ,SAAS,IAAM;AACzC,gBAAI,UAAU,IAAI;AAChB,oBAAM,IAAI,YAAY,iCAAiC;AAAA;AAGzD,gBAAI,QAAQ;AAAI,oBAAM;AACtB,gBAAI,QAAQ,OAAO,MAAM,OAAO;AAChC,gBAAI,cAAc;AAChB,sBAAQ,MAAM,QAAQ,OAAO;AAC7B,6BAAe;AAAA;AAEjB,iBAAK,QAAQ,WAAW;AACxB,gBAAI,SAAS,IAAM;AACjB,mBAAK,QAAQ,eAAe;AAC5B,uBAAS;AACT,8BAAgB;AAAA;AAGlB,wBAAY;AACZ,oBAAQ,MAAM;AAAA,iBACT;AACL,kBAAM,IAAI,YAAY,iCAAiC;AAAA;AAAA;AAAA;AAK7D,UAAI,UAAU,MAAM,UAAU;AAC5B,cAAM,IAAI,YAAY;AAAA;AAGxB,UAAI,QAAQ;AAAI,cAAM;AACtB,YAAM,QAAQ,OAAO,MAAM,OAAO;AAClC,UAAI,kBAAkB,QAAW;AAC/B,aAAK,QAAQ,OAAO;AAAA,aACf;AACL,YAAI,cAAc,QAAW;AAC3B,eAAK,QAAQ,OAAO;AAAA,mBACX,cAAc;AACvB,eAAK,QAAQ,WAAW,MAAM,QAAQ,OAAO;AAAA,eACxC;AACL,eAAK,QAAQ,WAAW;AAAA;AAE1B,aAAK,QAAQ,eAAe;AAAA;AAG9B,aAAO;AAAA;AAUT,oBAAiB,YAAY;AAC3B,aAAO,OAAO,KAAK,YAAY,IAAI,CAAC,cAAc;AAChD,YAAI,iBAAiB,WAAW;AAChC,YAAI,CAAC,MAAM,QAAQ;AAAiB,2BAAiB,CAAC;AACtD,eAAO,eAAe,IAAI,CAAC,WAAW;AACpC,iBAAO,CAAC,WAAW,OAAO,OAAO,KAAK,QAAQ,IAAI,CAAC,MAAM;AACvD,gBAAI,SAAS,OAAO;AACpB,gBAAI,CAAC,MAAM,QAAQ;AAAS,uBAAS,CAAC;AACtC,mBAAO,OAAO,IAAI,CAAC,MAAM,MAAM,OAAO,IAAI,GAAG,KAAK,KAAK,KAAK;AAAA,cAC1D,KAAK;AAAA,WACR,KAAK;AAAA,SACP,KAAK;AAAA;AAGV,YAAO,UAAU,EAAE,QAAQ;AAAA;AAAA;;;AClN3B;AAAA;AAAA;AAEA,QAAI;AACF,YAAM,cAAc,QAAQ;AAE5B,eAAQ,cAAc,OAAO,gBAAgB,WACzC,YAAY,WAAW,cACvB;AAAA,aACG,GAAP;AACA,eAAQ,cAAc,MAAM;AAAA;AAU9B,aAAQ,oBAAoB,CAAC,SAAS;AACpC,aACG,QAAQ,OACP,QAAQ,QACR,SAAS,QACT,SAAS,QACT,SAAS,QACV,QAAQ,OAAQ,QAAQ;AAAA;AAAA;AAAA;;;AC1B7B;AAAA;AAAA;AAEA,QAAM,SAAS,QAAQ;AAEvB,QAAM,oBAAoB;AAC1B,QAAM,aAAa;AACnB,QAAM,aAAa;AACnB,QAAM,YAAY;AAElB,QAAM,WAAW;AACjB,QAAM,wBAAwB;AAC9B,QAAM,wBAAwB;AAC9B,QAAM,WAAW;AACjB,QAAM,WAAW;AACjB,QAAM,YAAY;AAOlB,iCAAuB,OAAO,SAAS;AAAA,MAQrC,YAAa,YAAY,YAAY,YAAY;AAC/C;AAEA,aAAK,cAAc,cAAc,UAAU,aAAa;AACxD,aAAK,UAAU,cAAc;AAC7B,aAAK,cAAc,cAAc;AACjC,aAAK,cAAc,aAAa;AAEhC,aAAK,iBAAiB;AACtB,aAAK,WAAW;AAEhB,aAAK,cAAc;AACnB,aAAK,iBAAiB;AACtB,aAAK,QAAQ;AACb,aAAK,cAAc;AACnB,aAAK,UAAU;AACf,aAAK,OAAO;AACZ,aAAK,UAAU;AAEf,aAAK,sBAAsB;AAC3B,aAAK,iBAAiB;AACtB,aAAK,aAAa;AAElB,aAAK,SAAS;AACd,aAAK,QAAQ;AAAA;AAAA,MAUf,OAAQ,OAAO,UAAU,IAAI;AAC3B,YAAI,KAAK,YAAY;AAAM,iBAAO;AAElC,aAAK,kBAAkB,MAAM;AAC7B,aAAK,SAAS,KAAK;AACnB,aAAK,UAAU;AAAA;AAAA,MAUjB,QAAS,GAAG;AACV,aAAK,kBAAkB;AAEvB,YAAI,MAAM,KAAK,SAAS,GAAG;AAAQ,iBAAO,KAAK,SAAS;AAExD,YAAI,IAAI,KAAK,SAAS,GAAG,QAAQ;AAC/B,gBAAM,MAAM,KAAK,SAAS;AAC1B,eAAK,SAAS,KAAK,IAAI,MAAM;AAC7B,iBAAO,IAAI,MAAM,GAAG;AAAA;AAGtB,cAAM,MAAM,OAAO,YAAY;AAE/B,WAAG;AACD,gBAAM,MAAM,KAAK,SAAS;AAE1B,cAAI,KAAK,IAAI,QAAQ;AACnB,iBAAK,SAAS,QAAQ,KAAK,KAAK,IAAI,SAAS;AAAA,iBACxC;AACL,gBAAI,KAAK,KAAK,IAAI,SAAS,GAAG,GAAG;AACjC,iBAAK,SAAS,KAAK,IAAI,MAAM;AAAA;AAG/B,eAAK,IAAI;AAAA,iBACF,IAAI;AAEb,eAAO;AAAA;AAAA,MAST,UAAW,IAAI;AACb,YAAI;AACJ,aAAK,QAAQ;AAEb,WAAG;AACD,kBAAQ,KAAK;AAAA,iBACN;AACH,oBAAM,KAAK;AACX;AAAA,iBACG;AACH,oBAAM,KAAK;AACX;AAAA,iBACG;AACH,oBAAM,KAAK;AACX;AAAA,iBACG;AACH,mBAAK;AACL;AAAA,iBACG;AACH,oBAAM,KAAK,QAAQ;AACnB;AAAA;AAEA,mBAAK,QAAQ;AACb;AAAA;AAAA,iBAEG,KAAK;AAEd,WAAG;AAAA;AAAA,MASL,UAAW;AACT,YAAI,KAAK,iBAAiB,GAAG;AAC3B,eAAK,QAAQ;AACb;AAAA;AAGF,cAAM,MAAM,KAAK,QAAQ;AAEzB,YAAK,KAAI,KAAK,QAAU,GAAM;AAC5B,eAAK,QAAQ;AACb,iBAAO,MAAM,YAAY,+BAA+B,MAAM;AAAA;AAGhE,cAAM,aAAc,KAAI,KAAK,QAAU;AAEvC,YAAI,cAAc,CAAC,KAAK,YAAY,kBAAkB,gBAAgB;AACpE,eAAK,QAAQ;AACb,iBAAO,MAAM,YAAY,sBAAsB,MAAM;AAAA;AAGvD,aAAK,OAAQ,KAAI,KAAK,SAAU;AAChC,aAAK,UAAU,IAAI,KAAK;AACxB,aAAK,iBAAiB,IAAI,KAAK;AAE/B,YAAI,KAAK,YAAY,GAAM;AACzB,cAAI,YAAY;AACd,iBAAK,QAAQ;AACb,mBAAO,MAAM,YAAY,sBAAsB,MAAM;AAAA;AAGvD,cAAI,CAAC,KAAK,aAAa;AACrB,iBAAK,QAAQ;AACb,mBAAO,MAAM,YAAY,oBAAoB,MAAM;AAAA;AAGrD,eAAK,UAAU,KAAK;AAAA,mBACX,KAAK,YAAY,KAAQ,KAAK,YAAY,GAAM;AACzD,cAAI,KAAK,aAAa;AACpB,iBAAK,QAAQ;AACb,mBAAO,MAAM,YAAY,kBAAkB,KAAK,WAAW,MAAM;AAAA;AAGnE,eAAK,cAAc;AAAA,mBACV,KAAK,UAAU,KAAQ,KAAK,UAAU,IAAM;AACrD,cAAI,CAAC,KAAK,MAAM;AACd,iBAAK,QAAQ;AACb,mBAAO,MAAM,YAAY,mBAAmB,MAAM;AAAA;AAGpD,cAAI,YAAY;AACd,iBAAK,QAAQ;AACb,mBAAO,MAAM,YAAY,sBAAsB,MAAM;AAAA;AAGvD,cAAI,KAAK,iBAAiB,KAAM;AAC9B,iBAAK,QAAQ;AACb,mBAAO,MACL,YACA,0BAA0B,KAAK,kBAC/B,MACA;AAAA;AAAA,eAGC;AACL,eAAK,QAAQ;AACb,iBAAO,MAAM,YAAY,kBAAkB,KAAK,WAAW,MAAM;AAAA;AAGnE,YAAI,CAAC,KAAK,QAAQ,CAAC,KAAK;AAAa,eAAK,cAAc,KAAK;AAC7D,aAAK,UAAW,KAAI,KAAK,SAAU;AAEnC,YAAI,KAAK,mBAAmB;AAAK,eAAK,SAAS;AAAA,iBACtC,KAAK,mBAAmB;AAAK,eAAK,SAAS;AAAA;AAC/C,iBAAO,KAAK;AAAA;AAAA,MASnB,qBAAsB;AACpB,YAAI,KAAK,iBAAiB,GAAG;AAC3B,eAAK,QAAQ;AACb;AAAA;AAGF,aAAK,iBAAiB,KAAK,QAAQ,GAAG,aAAa;AACnD,eAAO,KAAK;AAAA;AAAA,MASd,qBAAsB;AACpB,YAAI,KAAK,iBAAiB,GAAG;AAC3B,eAAK,QAAQ;AACb;AAAA;AAGF,cAAM,MAAM,KAAK,QAAQ;AACzB,cAAM,MAAM,IAAI,aAAa;AAM7B,YAAI,MAAM,KAAK,IAAI,GAAG,KAAK,MAAM,GAAG;AAClC,eAAK,QAAQ;AACb,iBAAO,MACL,YACA,0DACA,OACA;AAAA;AAIJ,aAAK,iBAAiB,MAAM,KAAK,IAAI,GAAG,MAAM,IAAI,aAAa;AAC/D,eAAO,KAAK;AAAA;AAAA,MASd,aAAc;AACZ,YAAI,KAAK,kBAAkB,KAAK,UAAU,GAAM;AAC9C,eAAK,uBAAuB,KAAK;AACjC,cAAI,KAAK,sBAAsB,KAAK,eAAe,KAAK,cAAc,GAAG;AACvE,iBAAK,QAAQ;AACb,mBAAO,MAAM,YAAY,6BAA6B,OAAO;AAAA;AAAA;AAIjE,YAAI,KAAK;AAAS,eAAK,SAAS;AAAA;AAC3B,eAAK,SAAS;AAAA;AAAA,MAQrB,UAAW;AACT,YAAI,KAAK,iBAAiB,GAAG;AAC3B,eAAK,QAAQ;AACb;AAAA;AAGF,aAAK,QAAQ,KAAK,QAAQ;AAC1B,aAAK,SAAS;AAAA;AAAA,MAUhB,QAAS,IAAI;AACX,YAAI,OAAO,UAAU;AAErB,YAAI,KAAK,gBAAgB;AACvB,cAAI,KAAK,iBAAiB,KAAK,gBAAgB;AAC7C,iBAAK,QAAQ;AACb;AAAA;AAGF,iBAAO,KAAK,QAAQ,KAAK;AACzB,cAAI,KAAK;AAAS,uBAAW,OAAO,MAAM,KAAK;AAAA;AAGjD,YAAI,KAAK,UAAU;AAAM,iBAAO,KAAK,eAAe;AAEpD,YAAI,KAAK,aAAa;AACpB,eAAK,SAAS;AACd,eAAK,WAAW,MAAM;AACtB;AAAA;AAGF,YAAI,KAAK,QAAQ;AAKf,eAAK,iBAAiB,KAAK;AAC3B,eAAK,WAAW,KAAK;AAAA;AAGvB,eAAO,KAAK;AAAA;AAAA,MAUd,WAAY,MAAM,IAAI;AACpB,cAAM,oBAAoB,KAAK,YAAY,kBAAkB;AAE7D,0BAAkB,WAAW,MAAM,KAAK,MAAM,CAAC,KAAK,QAAQ;AAC1D,cAAI;AAAK,mBAAO,GAAG;AAEnB,cAAI,IAAI,QAAQ;AACd,iBAAK,kBAAkB,IAAI;AAC3B,gBAAI,KAAK,iBAAiB,KAAK,eAAe,KAAK,cAAc,GAAG;AAClE,qBAAO,GAAG,MAAM,YAAY,6BAA6B,OAAO;AAAA;AAGlE,iBAAK,WAAW,KAAK;AAAA;AAGvB,gBAAM,KAAK,KAAK;AAChB,cAAI;AAAI,mBAAO,GAAG;AAElB,eAAK,UAAU;AAAA;AAAA;AAAA,MAUnB,cAAe;AACb,YAAI,KAAK,MAAM;AACb,gBAAM,gBAAgB,KAAK;AAC3B,gBAAM,YAAY,KAAK;AAEvB,eAAK,sBAAsB;AAC3B,eAAK,iBAAiB;AACtB,eAAK,cAAc;AACnB,eAAK,aAAa;AAElB,cAAI,KAAK,YAAY,GAAG;AACtB,gBAAI;AAEJ,gBAAI,KAAK,gBAAgB,cAAc;AACrC,qBAAO,SAAS,WAAW;AAAA,uBAClB,KAAK,gBAAgB,eAAe;AAC7C,qBAAO,cAAc,SAAS,WAAW;AAAA,mBACpC;AACL,qBAAO;AAAA;AAGT,iBAAK,KAAK,WAAW;AAAA,iBAChB;AACL,kBAAM,MAAM,SAAS,WAAW;AAEhC,gBAAI,CAAC,WAAW,YAAY,MAAM;AAChC,mBAAK,QAAQ;AACb,qBAAO,MAAM,OAAO,0BAA0B,MAAM;AAAA;AAGtD,iBAAK,KAAK,WAAW,IAAI;AAAA;AAAA;AAI7B,aAAK,SAAS;AAAA;AAAA,MAUhB,eAAgB,MAAM;AACpB,YAAI,KAAK,YAAY,GAAM;AACzB,eAAK,QAAQ;AAEb,cAAI,KAAK,WAAW,GAAG;AACrB,iBAAK,KAAK,YAAY,MAAM;AAC5B,iBAAK;AAAA,qBACI,KAAK,WAAW,GAAG;AAC5B,mBAAO,MAAM,YAAY,4BAA4B,MAAM;AAAA,iBACtD;AACL,kBAAM,OAAO,KAAK,aAAa;AAE/B,gBAAI,CAAC,WAAW,kBAAkB,OAAO;AACvC,qBAAO,MAAM,YAAY,uBAAuB,QAAQ,MAAM;AAAA;AAGhE,kBAAM,MAAM,KAAK,MAAM;AAEvB,gBAAI,CAAC,WAAW,YAAY,MAAM;AAChC,qBAAO,MAAM,OAAO,0BAA0B,MAAM;AAAA;AAGtD,iBAAK,KAAK,YAAY,MAAM,IAAI;AAChC,iBAAK;AAAA;AAGP;AAAA;AAGF,YAAI,KAAK,YAAY;AAAM,eAAK,KAAK,QAAQ;AAAA;AACxC,eAAK,KAAK,QAAQ;AAEvB,aAAK,SAAS;AAAA;AAAA;AAIlB,YAAO,UAAU;AAajB,mBAAgB,WAAW,SAAS,QAAQ,YAAY;AACtD,YAAM,MAAM,IAAI,UACd,SAAS,4BAA4B,YAAY;AAGnD,YAAM,kBAAkB,KAAK;AAC7B,UAAI,UAAU,eAAe;AAC7B,aAAO;AAAA;AAWT,sBAAmB,WAAW,eAAe;AAC3C,UAAI,UAAU,WAAW;AAAG,eAAO,UAAU;AAC7C,UAAI,UAAU,SAAS;AAAG,eAAO,WAAW,OAAO,WAAW;AAC9D,aAAO,UAAU;AAAA;AASnB,2BAAwB,KAAK;AAC3B,UAAI,IAAI,eAAe,KAAK,IAAI,eAAe,IAAI,OAAO,YAAY;AACpE,eAAO,IAAI;AAAA;AAGb,aAAO,IAAI,OAAO,MAAM,IAAI,YAAY,IAAI,aAAa,IAAI;AAAA;AAAA;AAAA;;;AC/f/D;AAAA;AAAA;AAEA,QAAM,SAAS,QAAQ;AAEvB,QAAM,oBAAoB;AAC1B,QAAM,aAAa;AACnB,QAAM,aAAa;AACnB,QAAM,YAAY;AAKlB,uBAAa;AAAA,MAOX,YAAa,QAAQ,YAAY;AAC/B,aAAK,cAAc,cAAc;AACjC,aAAK,UAAU;AAEf,aAAK,iBAAiB;AACtB,aAAK,YAAY;AAEjB,aAAK,iBAAiB;AACtB,aAAK,aAAa;AAClB,aAAK,SAAS;AAAA;AAAA,aAgBT,MAAO,MAAM,SAAS;AAC3B,cAAM,QAAQ,KAAK,SAAS,QAAS,QAAQ,QAAQ,QAAQ;AAC7D,YAAI,SAAS,QAAQ,OAAO,IAAI;AAChC,YAAI,gBAAgB,KAAK;AAEzB,YAAI,KAAK,UAAU,OAAO;AACxB,oBAAU;AACV,0BAAgB;AAAA,mBACP,KAAK,SAAS,KAAK;AAC5B,oBAAU;AACV,0BAAgB;AAAA;AAGlB,cAAM,SAAS,OAAO,YAAY,QAAQ,KAAK,SAAS,SAAS;AAEjE,eAAO,KAAK,QAAQ,MAAM,QAAQ,SAAS,MAAO,QAAQ;AAC1D,YAAI,QAAQ;AAAM,iBAAO,MAAM;AAE/B,YAAI,kBAAkB,KAAK;AACzB,iBAAO,cAAc,KAAK,QAAQ;AAAA,mBACzB,kBAAkB,KAAK;AAChC,iBAAO,cAAc,GAAG;AACxB,iBAAO,cAAc,KAAK,QAAQ;AAAA;AAGpC,YAAI,CAAC,QAAQ,MAAM;AACjB,iBAAO,KAAK;AACZ,cAAI,OAAO;AACT,iBAAK,KAAK,QAAQ;AAClB,mBAAO,CAAC;AAAA;AAGV,iBAAO,CAAC,QAAQ;AAAA;AAGlB,cAAM,OAAO,OAAO,YAAY;AAEhC,eAAO,KAAK,gBAAgB;AAC5B,eAAO,SAAS,KAAK,KAAK;AAC1B,eAAO,SAAS,KAAK,KAAK;AAC1B,eAAO,SAAS,KAAK,KAAK;AAC1B,eAAO,SAAS,KAAK,KAAK;AAE1B,YAAI,OAAO;AACT,qBAAW,KAAK,MAAM,MAAM,QAAQ,QAAQ,KAAK;AACjD,iBAAO,CAAC;AAAA;AAGV,mBAAW,KAAK,MAAM,MAAM,MAAM,GAAG,KAAK;AAC1C,eAAO,CAAC,QAAQ;AAAA;AAAA,MAYlB,MAAO,MAAM,MAAM,MAAM,IAAI;AAC3B,YAAI;AAEJ,YAAI,SAAS,QAAW;AACtB,gBAAM,UAAU;AAAA,mBACP,OAAO,SAAS,YAAY,CAAC,WAAW,kBAAkB,OAAO;AAC1E,gBAAM,IAAI,UAAU;AAAA,mBACX,SAAS,UAAa,SAAS,IAAI;AAC5C,gBAAM,OAAO,YAAY;AACzB,cAAI,cAAc,MAAM;AAAA,eACnB;AACL,gBAAM,OAAO,YAAY,IAAI,OAAO,WAAW;AAC/C,cAAI,cAAc,MAAM;AACxB,cAAI,MAAM,MAAM;AAAA;AAGlB,YAAI,KAAK,YAAY;AACnB,eAAK,QAAQ,CAAC,KAAK,SAAS,KAAK,MAAM;AAAA,eAClC;AACL,eAAK,QAAQ,KAAK,MAAM;AAAA;AAAA;AAAA,MAY5B,QAAS,MAAM,MAAM,IAAI;AACvB,aAAK,UAAU,OAAO,MAAM,MAAM;AAAA,UAChC,KAAK;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,UACR;AAAA,UACA,UAAU;AAAA,YACR;AAAA;AAAA,MAWN,KAAM,MAAM,MAAM,IAAI;AACpB,YAAI,WAAW;AAEf,YAAI,CAAC,OAAO,SAAS,OAAO;AAC1B,cAAI,gBAAgB,aAAa;AAC/B,mBAAO,OAAO,KAAK;AAAA,qBACV,YAAY,OAAO,OAAO;AACnC,mBAAO,aAAa;AAAA,iBACf;AACL,mBAAO,OAAO,KAAK;AACnB,uBAAW;AAAA;AAAA;AAIf,YAAI,KAAK,YAAY;AACnB,eAAK,QAAQ,CAAC,KAAK,QAAQ,MAAM,MAAM,UAAU;AAAA,eAC5C;AACL,eAAK,OAAO,MAAM,MAAM,UAAU;AAAA;AAAA;AAAA,MAatC,OAAQ,MAAM,MAAM,UAAU,IAAI;AAChC,aAAK,UAAU,OAAO,MAAM,MAAM;AAAA,UAChC,KAAK;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,UACR;AAAA,UACA;AAAA,YACE;AAAA;AAAA,MAWN,KAAM,MAAM,MAAM,IAAI;AACpB,YAAI,WAAW;AAEf,YAAI,CAAC,OAAO,SAAS,OAAO;AAC1B,cAAI,gBAAgB,aAAa;AAC/B,mBAAO,OAAO,KAAK;AAAA,qBACV,YAAY,OAAO,OAAO;AACnC,mBAAO,aAAa;AAAA,iBACf;AACL,mBAAO,OAAO,KAAK;AACnB,uBAAW;AAAA;AAAA;AAIf,YAAI,KAAK,YAAY;AACnB,eAAK,QAAQ,CAAC,KAAK,QAAQ,MAAM,MAAM,UAAU;AAAA,eAC5C;AACL,eAAK,OAAO,MAAM,MAAM,UAAU;AAAA;AAAA;AAAA,MAatC,OAAQ,MAAM,MAAM,UAAU,IAAI;AAChC,aAAK,UAAU,OAAO,MAAM,MAAM;AAAA,UAChC,KAAK;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,UACR;AAAA,UACA;AAAA,YACE;AAAA;AAAA,MAeN,KAAM,MAAM,SAAS,IAAI;AACvB,YAAI,SAAS,QAAQ,SAAS,IAAI;AAClC,YAAI,OAAO,QAAQ;AACnB,YAAI,WAAW;AAEf,YAAI,CAAC,OAAO,SAAS,OAAO;AAC1B,cAAI,gBAAgB,aAAa;AAC/B,mBAAO,OAAO,KAAK;AAAA,qBACV,YAAY,OAAO,OAAO;AACnC,mBAAO,aAAa;AAAA,iBACf;AACL,mBAAO,OAAO,KAAK;AACnB,uBAAW;AAAA;AAAA;AAIf,cAAM,oBAAoB,KAAK,YAAY,kBAAkB;AAE7D,YAAI,KAAK,gBAAgB;AACvB,eAAK,iBAAiB;AACtB,cAAI,QAAQ,mBAAmB;AAC7B,mBAAO,KAAK,UAAU,kBAAkB;AAAA;AAE1C,eAAK,YAAY;AAAA,eACZ;AACL,iBAAO;AACP,mBAAS;AAAA;AAGX,YAAI,QAAQ;AAAK,eAAK,iBAAiB;AAEvC,YAAI,mBAAmB;AACrB,gBAAM,OAAO;AAAA,YACX,KAAK,QAAQ;AAAA,YACb;AAAA,YACA;AAAA,YACA,MAAM,QAAQ;AAAA,YACd;AAAA;AAGF,cAAI,KAAK,YAAY;AACnB,iBAAK,QAAQ,CAAC,KAAK,UAAU,MAAM,KAAK,WAAW,MAAM;AAAA,iBACpD;AACL,iBAAK,SAAS,MAAM,KAAK,WAAW,MAAM;AAAA;AAAA,eAEvC;AACL,eAAK,UAAU,OAAO,MAAM,MAAM;AAAA,YAChC,KAAK,QAAQ;AAAA,YACb,MAAM;AAAA,YACN;AAAA,YACA,MAAM,QAAQ;AAAA,YACd;AAAA,cACE;AAAA;AAAA;AAAA,MAkBR,SAAU,MAAM,UAAU,SAAS,IAAI;AACrC,YAAI,CAAC,UAAU;AACb,eAAK,UAAU,OAAO,MAAM,MAAM,UAAU;AAC5C;AAAA;AAGF,cAAM,oBAAoB,KAAK,YAAY,kBAAkB;AAE7D,aAAK,aAAa;AAClB,0BAAkB,SAAS,MAAM,QAAQ,KAAK,CAAC,GAAG,QAAQ;AACxD,kBAAQ,WAAW;AACnB,eAAK,UAAU,OAAO,MAAM,KAAK,UAAU;AAC3C,eAAK,aAAa;AAClB,eAAK;AAAA;AAAA;AAAA,MAST,UAAW;AACT,eAAO,CAAC,KAAK,cAAc,KAAK,OAAO,QAAQ;AAC7C,gBAAM,SAAS,KAAK,OAAO;AAE3B,eAAK,kBAAkB,OAAO,GAAG;AACjC,iBAAO,GAAG,MAAM,MAAM,OAAO,MAAM;AAAA;AAAA;AAAA,MAUvC,QAAS,QAAQ;AACf,aAAK,kBAAkB,OAAO,GAAG;AACjC,aAAK,OAAO,KAAK;AAAA;AAAA,MAUnB,UAAW,MAAM,IAAI;AACnB,YAAI,KAAK,WAAW,GAAG;AACrB,eAAK,QAAQ,MAAM,KAAK;AACxB,eAAK,QAAQ,MAAM,KAAK,IAAI;AAAA,eACvB;AACL,eAAK,QAAQ,MAAM,KAAK,IAAI;AAAA;AAAA;AAAA;AAKlC,YAAO,UAAU;AASjB,0BAAuB,MAAM;AAC3B,YAAM,MAAM,OAAO,KAAK,KAAK;AAE7B,UAAI,KAAK,eAAe,KAAK,OAAO,YAAY;AAC9C,eAAO,IAAI,MAAM,KAAK,YAAY,KAAK,aAAa,KAAK;AAAA;AAG3D,aAAO;AAAA;AAAA;AAAA;;;AC/YT;AAAA;AAAA;AAEA,QAAM,eAAe,QAAQ;AAC7B,QAAM,SAAS,QAAQ;AACvB,QAAM,QAAQ,QAAQ;AACtB,QAAM,OAAO,QAAQ;AACrB,QAAM,MAAM,QAAQ;AACpB,QAAM,MAAM,QAAQ;AACpB,QAAM,MAAM,QAAQ;AAEpB,QAAM,oBAAoB;AAC1B,QAAM,cAAc;AACpB,QAAM,YAAY;AAClB,QAAM,YAAY;AAClB,QAAM,WAAW;AACjB,QAAM,SAAS;AAEf,QAAM,cAAc,CAAC,cAAc,QAAQ,WAAW;AACtD,QAAM,aAAa,UAAU;AAC7B,QAAM,mBAAmB,CAAC,GAAG;AAC7B,QAAM,eAAe,KAAK;AAO1B,kCAAwB,aAAa;AAAA,MAQnC,YAAa,SAAS,WAAW,SAAS;AACxC;AAEA,aAAK,aAAa,UAAU;AAC5B,aAAK,WAAW;AAEhB,aAAK,cAAc,UAAU,aAAa;AAC1C,aAAK,sBAAsB;AAC3B,aAAK,kBAAkB;AACvB,aAAK,gBAAgB;AACrB,aAAK,cAAc;AACnB,aAAK,aAAa;AAClB,aAAK,cAAc;AACnB,aAAK,YAAY;AACjB,aAAK,YAAY;AACjB,aAAK,UAAU;AACf,aAAK,UAAU;AAEf,YAAI,YAAY,MAAM;AACpB,cAAI,MAAM,QAAQ,YAAY;AAC5B,wBAAY,UAAU,KAAK;AAAA,qBAClB,OAAO,cAAc,YAAY,cAAc,MAAM;AAC9D,sBAAU;AACV,wBAAY;AAAA;AAGd,uBAAa,KAAK,MAAM,SAAS,WAAW;AAAA;AAAA;AAAA,UAI5C,aAAc;AAAE,eAAO,UAAU;AAAA;AAAA,UACjC,UAAW;AAAE,eAAO,UAAU;AAAA;AAAA,UAC9B,SAAU;AAAE,eAAO,UAAU;AAAA;AAAA,UAC7B,OAAQ;AAAE,eAAO,UAAU;AAAA;AAAA,UAQ3B,aAAc;AAChB,eAAO,KAAK;AAAA;AAAA,UAGV,WAAY,MAAM;AACpB,YAAI,UAAU,aAAa,QAAQ,QAAQ;AAAG;AAE9C,aAAK,cAAc;AAKnB,YAAI,KAAK;AAAW,eAAK,UAAU,cAAc;AAAA;AAAA,UAM/C,iBAAkB;AACpB,YAAI,CAAC,KAAK;AAAS,iBAAO;AAK1B,eAAQ,MAAK,QAAQ,cAAc,KAAK,KAAK,QAAQ;AAAA;AAAA,UAMnD,aAAc;AAChB,eAAO,OAAO,KAAK,KAAK,aAAa;AAAA;AAAA,MAWvC,UAAW,QAAQ,MAAM,YAAY;AACnC,cAAM,WAAW,IAAI,SACnB,KAAK,aACL,KAAK,aACL;AAGF,aAAK,UAAU,IAAI,OAAO,QAAQ,KAAK;AACvC,aAAK,YAAY;AACjB,aAAK,UAAU;AAEf,iBAAS,cAAc;AACvB,eAAO,cAAc;AAErB,iBAAS,GAAG,YAAY;AACxB,iBAAS,GAAG,SAAS;AACrB,iBAAS,GAAG,SAAS;AACrB,iBAAS,GAAG,WAAW;AACvB,iBAAS,GAAG,QAAQ;AACpB,iBAAS,GAAG,QAAQ;AAEpB,eAAO,WAAW;AAClB,eAAO;AAEP,YAAI,KAAK,SAAS;AAAG,iBAAO,QAAQ;AAEpC,eAAO,GAAG,SAAS;AACnB,eAAO,GAAG,QAAQ;AAClB,eAAO,GAAG,OAAO;AACjB,eAAO,GAAG,SAAS;AAEnB,aAAK,aAAa,UAAU;AAC5B,aAAK,KAAK;AAAA;AAAA,MAQZ,YAAa;AACX,aAAK,aAAa,UAAU;AAE5B,YAAI,CAAC,KAAK,SAAS;AACjB,eAAK,KAAK,SAAS,KAAK,YAAY,KAAK;AACzC;AAAA;AAGF,YAAI,KAAK,YAAY,kBAAkB,gBAAgB;AACrD,eAAK,YAAY,kBAAkB,eAAe;AAAA;AAGpD,aAAK,UAAU;AACf,aAAK,KAAK,SAAS,KAAK,YAAY,KAAK;AAAA;AAAA,MAsB3C,MAAO,MAAM,MAAM;AACjB,YAAI,KAAK,eAAe,UAAU;AAAQ;AAC1C,YAAI,KAAK,eAAe,UAAU,YAAY;AAC5C,gBAAM,MAAM;AACZ,iBAAO,eAAe,MAAM,KAAK,MAAM;AAAA;AAGzC,YAAI,KAAK,eAAe,UAAU,SAAS;AACzC,cAAI,KAAK,mBAAmB,KAAK;AAAqB,iBAAK,QAAQ;AACnE;AAAA;AAGF,aAAK,aAAa,UAAU;AAC5B,aAAK,QAAQ,MAAM,MAAM,MAAM,CAAC,KAAK,WAAW,CAAC,QAAQ;AAKvD,cAAI;AAAK;AAET,eAAK,kBAAkB;AAEvB,cAAI,KAAK,QAAQ,UAAU;AACzB,gBAAI,KAAK;AAAqB,mBAAK,QAAQ;AAM3C,iBAAK,cAAc,WACjB,KAAK,QAAQ,QAAQ,KAAK,KAAK,UAC/B;AAAA;AAAA;AAAA;AAAA,MAcR,KAAM,MAAM,MAAM,IAAI;AACpB,YAAI,OAAO,SAAS,YAAY;AAC9B,eAAK;AACL,iBAAO,OAAO;AAAA,mBACL,OAAO,SAAS,YAAY;AACrC,eAAK;AACL,iBAAO;AAAA;AAGT,YAAI,KAAK,eAAe,UAAU,MAAM;AACtC,gBAAM,MAAM,IAAI,MACd,qCAAqC,KAAK,eACpC,YAAY,KAAK;AAGzB,cAAI;AAAI,mBAAO,GAAG;AAClB,gBAAM;AAAA;AAGR,YAAI,OAAO,SAAS;AAAU,iBAAO,KAAK;AAC1C,YAAI,SAAS;AAAW,iBAAO,CAAC,KAAK;AACrC,aAAK,QAAQ,KAAK,QAAQ,UAAU,cAAc,MAAM;AAAA;AAAA,MAW1D,KAAM,MAAM,MAAM,IAAI;AACpB,YAAI,OAAO,SAAS,YAAY;AAC9B,eAAK;AACL,iBAAO,OAAO;AAAA,mBACL,OAAO,SAAS,YAAY;AACrC,eAAK;AACL,iBAAO;AAAA;AAGT,YAAI,KAAK,eAAe,UAAU,MAAM;AACtC,gBAAM,MAAM,IAAI,MACd,qCAAqC,KAAK,eACpC,YAAY,KAAK;AAGzB,cAAI;AAAI,mBAAO,GAAG;AAClB,gBAAM;AAAA;AAGR,YAAI,OAAO,SAAS;AAAU,iBAAO,KAAK;AAC1C,YAAI,SAAS;AAAW,iBAAO,CAAC,KAAK;AACrC,aAAK,QAAQ,KAAK,QAAQ,UAAU,cAAc,MAAM;AAAA;AAAA,MAe1D,KAAM,MAAM,SAAS,IAAI;AACvB,YAAI,OAAO,YAAY,YAAY;AACjC,eAAK;AACL,oBAAU;AAAA;AAGZ,YAAI,KAAK,eAAe,UAAU,MAAM;AACtC,gBAAM,MAAM,IAAI,MACd,qCAAqC,KAAK,eACpC,YAAY,KAAK;AAGzB,cAAI;AAAI,mBAAO,GAAG;AAClB,gBAAM;AAAA;AAGR,YAAI,OAAO,SAAS;AAAU,iBAAO,KAAK;AAE1C,cAAM,OAAO,OAAO,OAAO;AAAA,UACzB,QAAQ,OAAO,SAAS;AAAA,UACxB,MAAM,CAAC,KAAK;AAAA,UACZ,UAAU;AAAA,UACV,KAAK;AAAA,WACJ;AAEH,YAAI,CAAC,KAAK,YAAY,kBAAkB,gBAAgB;AACtD,eAAK,WAAW;AAAA;AAGlB,aAAK,QAAQ,KAAK,QAAQ,UAAU,cAAc,MAAM;AAAA;AAAA,MAQ1D,YAAa;AACX,YAAI,KAAK,eAAe,UAAU;AAAQ;AAC1C,YAAI,KAAK,eAAe,UAAU,YAAY;AAC5C,gBAAM,MAAM;AACZ,iBAAO,eAAe,MAAM,KAAK,MAAM;AAAA;AAGzC,YAAI,KAAK,SAAS;AAChB,eAAK,aAAa,UAAU;AAC5B,eAAK,QAAQ;AAAA;AAAA;AAAA;AAKnB,gBAAY,QAAQ,CAAC,YAAY,MAAM;AACrC,gBAAU,YAAY,MAAM;AAAA;AAO9B,KAAC,QAAQ,SAAS,SAAS,WAAW,QAAQ,CAAC,WAAW;AACxD,aAAO,eAAe,UAAU,WAAW,KAAK,UAAU;AAAA,QAOxD,MAAO;AACL,gBAAM,YAAY,KAAK,UAAU;AACjC,mBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,gBAAI,UAAU,GAAG;AAAW,qBAAO,UAAU,GAAG;AAAA;AAAA;AAAA,QASpD,IAAK,UAAU;AACb,gBAAM,YAAY,KAAK,UAAU;AACjC,mBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AAIzC,gBAAI,UAAU,GAAG;AAAW,mBAAK,eAAe,QAAQ,UAAU;AAAA;AAEpE,eAAK,iBAAiB,QAAQ;AAAA;AAAA;AAAA;AAKpC,cAAU,UAAU,mBAAmB,YAAY;AACnD,cAAU,UAAU,sBAAsB,YAAY;AAEtD,YAAO,UAAU;AAcjB,0BAAuB,SAAS,WAAW,SAAS;AAClD,gBAAU,OAAO,OAAO;AAAA,QACtB,iBAAiB,iBAAiB;AAAA,QAClC,mBAAmB;AAAA,SAClB,SAAS;AAAA,QACV,kBAAkB;AAAA,QAClB,YAAY;AAAA,QACZ,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA;AAGR,UAAI,iBAAiB,QAAQ,QAAQ,qBAAqB,IAAI;AAC5D,cAAM,IAAI,WACR,iCAAiC,QAAQ,wCACf,iBAAiB,KAAK;AAAA;AAIpD,WAAK,YAAY;AAEjB,UAAI;AAEJ,UAAI,OAAO,YAAY,YAAY,QAAQ,SAAS,QAAW;AAC7D,oBAAY;AACZ,aAAK,MAAM,QAAQ;AAAA,aACd;AACL,oBAAY,IAAI,MAAM;AACtB,aAAK,MAAM;AAAA;AAGb,YAAM,eAAe,UAAU,aAAa;AAE5C,UAAI,CAAC,UAAU,QAAS,EAAC,gBAAgB,CAAC,UAAU,WAAW;AAC7D,cAAM,IAAI,MAAM,gBAAgB,KAAK;AAAA;AAGvC,YAAM,WAAW,UAAU,aAAa,UAAU,UAAU,aAAa;AACzE,YAAM,MAAM,OAAO,YAAY,IAAI,SAAS;AAC5C,YAAM,UAAU,WAAW,QAAQ;AACnC,YAAM,OAAO,UAAU,SACnB,GAAG,UAAU,YAAY,MAAM,UAAU,WACzC,UAAU,YAAY;AAC1B,UAAI;AAEJ,cAAQ,mBAAmB,WAAW,aAAa;AACnD,cAAQ,OAAO,UAAU,QAAS,YAAW,MAAM;AACnD,cAAQ,OAAO,UAAU,SAAS,WAAW,OACzC,UAAU,SAAS,MAAM,GAAG,MAC5B,UAAU;AACd,cAAQ,UAAU,OAAO,OAAO;AAAA,QAC9B,yBAAyB,QAAQ;AAAA,QACjC,qBAAqB;AAAA,QACrB,cAAc;AAAA,QACd,WAAW;AAAA,SACV,QAAQ;AACX,cAAQ,OAAO;AAEf,UAAI,QAAQ,mBAAmB;AAC7B,4BAAoB,IAAI,kBACtB,QAAQ,sBAAsB,OAAO,QAAQ,oBAAoB,IACjE;AAEF,gBAAQ,QAAQ,8BAA8B,UAAU,OAAO;AAAA,WAC5D,kBAAkB,gBAAgB,kBAAkB;AAAA;AAAA;AAGzD,UAAI,WAAW;AACb,gBAAQ,QAAQ,4BAA4B;AAAA;AAE9C,UAAI,QAAQ,QAAQ;AAClB,YAAI,QAAQ,kBAAkB,IAAI;AAChC,kBAAQ,QAAQ,0BAA0B,QAAQ;AAAA,eAC7C;AACL,kBAAQ,QAAQ,SAAS,QAAQ;AAAA;AAAA;AAGrC,UAAI,UAAU,MAAM;AAClB,gBAAQ,OAAO,UAAU;AAAA,iBAChB,UAAU,YAAY,UAAU,UAAU;AACnD,gBAAQ,OAAO,GAAG,UAAU,YAAY,UAAU;AAAA;AAGpD,UAAI,cAAc;AAChB,cAAM,QAAQ,KAAK,MAAM;AAEzB,YAAI,QAAQ,SAAS,QAAQ,QAAQ,SAAS,UAAU,IAAI;AAM1D,kBAAQ,cAAc,MAAM;AAAA,eACvB;AACL,kBAAQ,aAAa,MAAM;AAAA;AAG7B,gBAAQ,OAAO,MAAM;AAAA;AAGvB,UAAI,MAAM,KAAK,OAAO,QAAQ,IAAI;AAElC,UAAI,QAAQ,kBAAkB;AAC5B,YAAI,WACF,QAAQ,kBACR,MAAM,eAAe,MAAM,KAAK;AAAA;AAIpC,UAAI,GAAG,SAAS,CAAC,QAAQ;AACvB,YAAI,KAAK,KAAK;AAAS;AAEvB,cAAM,KAAK,OAAO;AAClB,aAAK,aAAa,UAAU;AAC5B,aAAK,KAAK,SAAS;AACnB,aAAK;AAAA;AAGP,UAAI,GAAG,YAAY,CAAC,QAAQ;AAC1B,YAAI,KAAK,KAAK,uBAAuB,KAAK;AAAM;AAEhD,uBAAe,MAAM,KAAK,+BAA+B,IAAI;AAAA;AAG/D,UAAI,GAAG,WAAW,CAAC,KAAK,QAAQ,SAAS;AACvC,aAAK,KAAK,WAAW;AAMrB,YAAI,KAAK,eAAe,UAAU;AAAY;AAE9C,cAAM,KAAK,OAAO;AAElB,cAAM,SAAS,OAAO,WAAW,QAC9B,OAAO,MAAM,UAAU,MAAM,UAC7B,OAAO;AAEV,YAAI,IAAI,QAAQ,4BAA4B,QAAQ;AAClD,yBAAe,MAAM,QAAQ;AAC7B;AAAA;AAGF,cAAM,aAAa,IAAI,QAAQ;AAC/B,cAAM,WAAY,cAAa,IAAI,MAAM;AACzC,YAAI;AAEJ,YAAI,CAAC,aAAa,YAAY;AAC5B,sBAAY;AAAA,mBACH,aAAa,CAAC,YAAY;AACnC,sBAAY;AAAA,mBACH,cAAc,SAAS,QAAQ,gBAAgB,IAAI;AAC5D,sBAAY;AAAA;AAGd,YAAI,WAAW;AACb,yBAAe,MAAM,QAAQ;AAC7B;AAAA;AAGF,YAAI;AAAY,eAAK,WAAW;AAEhC,YAAI,mBAAmB;AACrB,cAAI;AACF,kBAAM,aAAa,UAAU,MAC3B,IAAI,QAAQ;AAGd,gBAAI,WAAW,kBAAkB,gBAAgB;AAC/C,gCAAkB,OAChB,WAAW,kBAAkB;AAE/B,mBAAK,YAAY,kBAAkB,iBAAiB;AAAA;AAAA,mBAE/C,KAAP;AACA,2BAAe,MAAM,QAAQ;AAC7B;AAAA;AAAA;AAIJ,aAAK,UAAU,QAAQ,MAAM;AAAA;AAAA;AAWjC,wBAAqB,SAAS;AAC5B,cAAQ,OAAO,QAAQ,cAAc,QAAQ,eAAe;AAC5D,aAAO,IAAI,QAAQ;AAAA;AAUrB,wBAAqB,SAAS;AAC5B,cAAQ,OAAO,QAAQ,cAAc,QAAQ,eAAe;AAC5D,cAAQ,aAAa,QAAQ,cAAc,QAAQ;AACnD,aAAO,IAAI,QAAQ;AAAA;AAYrB,4BAAyB,WAAW,QAAQ,SAAS;AACnD,gBAAU,aAAa,UAAU;AAEjC,YAAM,MAAM,IAAI,MAAM;AACtB,YAAM,kBAAkB,KAAK;AAE7B,UAAI,OAAO,WAAW;AACpB,eAAO;AACP,eAAO,KAAK,SAAS,UAAU,UAAU,KAAK;AAC9C,kBAAU,KAAK,SAAS;AAAA,aACnB;AACL,eAAO,QAAQ;AACf,eAAO,KAAK,SAAS,UAAU,KAAK,KAAK,WAAW;AACpD,eAAO,KAAK,SAAS,UAAU,UAAU,KAAK;AAAA;AAAA;AAWlD,gCAA6B,MAAM,QAAQ;AACzC,YAAM,YAAY,KAAK;AAEvB,gBAAU,QAAQ,eAAe,QAAQ;AACzC,gBAAU,QAAQ;AAElB,gBAAU,sBAAsB;AAChC,gBAAU,gBAAgB;AAC1B,gBAAU,aAAa;AAEvB,UAAI,SAAS;AAAM,kBAAU;AAAA;AACxB,kBAAU,MAAM,MAAM;AAAA;AAQ7B,+BAA4B;AAC1B,WAAK,YAAY,QAAQ;AAAA;AAS3B,6BAA0B,KAAK;AAC7B,YAAM,YAAY,KAAK;AAEvB,gBAAU,QAAQ,eAAe,QAAQ;AAEzC,gBAAU,aAAa,UAAU;AACjC,gBAAU,aAAa,IAAI,UAAU;AACrC,gBAAU,KAAK,SAAS;AACxB,gBAAU,QAAQ;AAAA;AAQpB,gCAA6B;AAC3B,WAAK,YAAY;AAAA;AASnB,+BAA4B,MAAM;AAChC,WAAK,YAAY,KAAK,WAAW;AAAA;AASnC,4BAAyB,MAAM;AAC7B,YAAM,YAAY,KAAK;AAEvB,gBAAU,KAAK,MAAM,CAAC,UAAU,WAAW,UAAU;AACrD,gBAAU,KAAK,QAAQ;AAAA;AASzB,4BAAyB,MAAM;AAC7B,WAAK,YAAY,KAAK,QAAQ;AAAA;AAQhC,6BAA0B;AACxB,YAAM,YAAY,KAAK;AAEvB,WAAK,eAAe,SAAS;AAC7B,WAAK,eAAe,OAAO;AAE3B,gBAAU,aAAa,UAAU;AAYjC,gBAAU,QAAQ;AAClB,gBAAU,UAAU;AAEpB,WAAK,eAAe,QAAQ;AAC5B,WAAK,cAAc;AAEnB,mBAAa,UAAU;AAEvB,UACE,UAAU,UAAU,eAAe,YACnC,UAAU,UAAU,eAAe,cACnC;AACA,kBAAU;AAAA,aACL;AACL,kBAAU,UAAU,GAAG,SAAS;AAChC,kBAAU,UAAU,GAAG,UAAU;AAAA;AAAA;AAUrC,0BAAuB,OAAO;AAC5B,UAAI,CAAC,KAAK,YAAY,UAAU,MAAM,QAAQ;AAC5C,aAAK;AAAA;AAAA;AAST,2BAAwB;AACtB,YAAM,YAAY,KAAK;AAEvB,gBAAU,aAAa,UAAU;AACjC,gBAAU,UAAU;AACpB,WAAK;AAAA;AAQP,6BAA0B;AACxB,YAAM,YAAY,KAAK;AAEvB,WAAK,eAAe,SAAS;AAC7B,WAAK,GAAG,SAAS,UAAU;AAE3B,UAAI,WAAW;AACb,kBAAU,aAAa,UAAU;AACjC,aAAK;AAAA;AAAA;AAAA;AAAA;;;ACzzBT;AAAA;AAAA;AAEA,QAAM,eAAe,QAAQ;AAC7B,QAAM,SAAS,QAAQ;AACvB,QAAM,OAAO,QAAQ;AACrB,QAAM,MAAM,QAAQ;AAEpB,QAAM,oBAAoB;AAC1B,QAAM,YAAY;AAClB,QAAM,YAAY;AAClB,QAAM,YAAY;AAOlB,wCAA8B,aAAa;AAAA,MAiBzC,YAAa,SAAS,UAAU;AAC9B;AAEA,kBAAU,OAAO,OAAO;AAAA,UACtB,YAAY,MAAM,OAAO;AAAA,UACzB,mBAAmB;AAAA,UACnB,iBAAiB;AAAA,UACjB,gBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,UAAU;AAAA,UACV,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,MAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,WACL;AAEH,YAAI,QAAQ,QAAQ,QAAQ,CAAC,QAAQ,UAAU,CAAC,QAAQ,UAAU;AAChE,gBAAM,IAAI,UACR;AAAA;AAIJ,YAAI,QAAQ,QAAQ,MAAM;AACxB,eAAK,UAAU,KAAK,aAAa,CAAC,KAAK,QAAQ;AAC7C,kBAAM,OAAO,KAAK,aAAa;AAE/B,gBAAI,UAAU,KAAK;AAAA,cACjB,kBAAkB,KAAK;AAAA,cACvB,gBAAgB;AAAA;AAElB,gBAAI,IAAI;AAAA;AAEV,eAAK,QAAQ,OAAO,QAAQ,MAAM,QAAQ,MAAM,QAAQ,SAAS;AAAA,mBACxD,QAAQ,QAAQ;AACzB,eAAK,UAAU,QAAQ;AAAA;AAGzB,YAAI,KAAK,SAAS;AAChB,eAAK,mBAAmB,aAAa,KAAK,SAAS;AAAA,YACjD,WAAW,KAAK,KAAK,KAAK,MAAM;AAAA,YAChC,OAAO,KAAK,KAAK,KAAK,MAAM;AAAA,YAC5B,SAAS,CAAC,KAAK,QAAQ,SAAS;AAC9B,mBAAK,cAAc,KAAK,QAAQ,MAAM,CAAC,OAAO;AAC5C,qBAAK,KAAK,cAAc,IAAI;AAAA;AAAA;AAAA;AAAA;AAMpC,YAAI,QAAQ,sBAAsB;AAAM,kBAAQ,oBAAoB;AACpE,YAAI,QAAQ;AAAgB,eAAK,UAAU,IAAI;AAC/C,aAAK,UAAU;AAAA;AAAA,MAYjB,UAAW;AACT,YAAI,KAAK,QAAQ,UAAU;AACzB,gBAAM,IAAI,MAAM;AAAA;AAGlB,YAAI,CAAC,KAAK;AAAS,iBAAO;AAC1B,eAAO,KAAK,QAAQ;AAAA;AAAA,MAStB,MAAO,IAAI;AAIT,YAAI,KAAK,SAAS;AAChB,qBAAW,UAAU,KAAK;AAAS,mBAAO;AAAA;AAG5C,cAAM,SAAS,KAAK;AAEpB,YAAI,QAAQ;AACV,eAAK;AACL,eAAK,mBAAmB,KAAK,UAAU;AAKvC,cAAI,KAAK,QAAQ,QAAQ;AAAM,mBAAO,OAAO,MAAM;AAAA;AAGrD,YAAI;AAAI;AAAA;AAAA,MAUV,aAAc,KAAK;AACjB,YAAI,KAAK,QAAQ,QAAQ,IAAI,MAAM,IAAI,KAAK,aAAa,KAAK,QAAQ,MAAM;AAC1E,iBAAO;AAAA;AAGT,eAAO;AAAA;AAAA,MAYT,cAAe,KAAK,QAAQ,MAAM,IAAI;AACpC,eAAO,GAAG,SAAS;AAEnB,cAAM,UAAU,CAAC,IAAI,QAAQ;AAC7B,cAAM,aAAa;AAEnB,YACE,IAAI,WAAW,SAAS,IAAI,QAAQ,QAAQ,kBAAkB,eAC9D,CAAC,IAAI,QAAQ,wBAAyB,YAAY,KAAK,YAAY,MACnE,CAAC,KAAK,aAAa,MACnB;AACA,iBAAO,eAAe,QAAQ;AAAA;AAGhC,YAAI,KAAK,QAAQ,mBAAmB;AAClC,gBAAM,oBAAoB,IAAI,kBAC5B,KAAK,QAAQ,mBACb,MACA,KAAK,QAAQ;AAGf,cAAI;AACF,kBAAM,SAAS,UAAU,MACvB,IAAI,QAAQ;AAGd,gBAAI,OAAO,kBAAkB,gBAAgB;AAC3C,gCAAkB,OAAO,OAAO,kBAAkB;AAClD,yBAAW,kBAAkB,iBAAiB;AAAA;AAAA,mBAEzC,KAAP;AACA,mBAAO,eAAe,QAAQ;AAAA;AAAA;AAOlC,YAAI,KAAK,QAAQ,cAAc;AAC7B,gBAAM,OAAO;AAAA,YACX,QAAQ,IAAI,QAAQ,GAAG,YAAY,IAAI,yBAAyB;AAAA,YAChE,QAAQ,CAAC,CAAE,KAAI,WAAW,cAAc,IAAI,WAAW;AAAA,YACvD;AAAA;AAGF,cAAI,KAAK,QAAQ,aAAa,WAAW,GAAG;AAC1C,iBAAK,QAAQ,aAAa,MAAM,CAAC,UAAU,MAAM,SAAS,YAAY;AACpE,kBAAI,CAAC,UAAU;AACb,uBAAO,eAAe,QAAQ,QAAQ,KAAK,SAAS;AAAA;AAGtD,mBAAK,gBAAgB,YAAY,KAAK,QAAQ,MAAM;AAAA;AAEtD;AAAA;AAGF,cAAI,CAAC,KAAK,QAAQ,aAAa;AAAO,mBAAO,eAAe,QAAQ;AAAA;AAGtE,aAAK,gBAAgB,YAAY,KAAK,QAAQ,MAAM;AAAA;AAAA,MAatD,gBAAiB,YAAY,KAAK,QAAQ,MAAM,IAAI;AAIlD,YAAI,CAAC,OAAO,YAAY,CAAC,OAAO;AAAU,iBAAO,OAAO;AAExD,cAAM,MAAM,OAAO,WAAW,QAC3B,OAAO,IAAI,QAAQ,uBAAuB,UAAU,MAAM,UAC1D,OAAO;AAEV,cAAM,UAAU;AAAA,UACd;AAAA,UACA;AAAA,UACA;AAAA,UACA,yBAAyB;AAAA;AAG3B,cAAM,KAAK,IAAI,UAAU;AACzB,YAAI,WAAW,IAAI,QAAQ;AAE3B,YAAI,UAAU;AACZ,qBAAW,SAAS,MAAM,KAAK,IAAI;AAKnC,cAAI,KAAK,QAAQ,iBAAiB;AAChC,uBAAW,KAAK,QAAQ,gBAAgB,UAAU;AAAA,iBAC7C;AACL,uBAAW,SAAS;AAAA;AAGtB,cAAI,UAAU;AACZ,oBAAQ,KAAK,2BAA2B;AACxC,eAAG,WAAW;AAAA;AAAA;AAIlB,YAAI,WAAW,kBAAkB,gBAAgB;AAC/C,gBAAM,SAAS,WAAW,kBAAkB,eAAe;AAC3D,gBAAM,QAAQ,UAAU,OAAO;AAAA,aAC5B,kBAAkB,gBAAgB,CAAC;AAAA;AAEtC,kBAAQ,KAAK,6BAA6B;AAC1C,aAAG,cAAc;AAAA;AAMnB,aAAK,KAAK,WAAW,SAAS;AAE9B,eAAO,MAAM,QAAQ,OAAO,QAAQ,KAAK;AACzC,eAAO,eAAe,SAAS;AAE/B,WAAG,UAAU,QAAQ,MAAM,KAAK,QAAQ;AAExC,YAAI,KAAK,SAAS;AAChB,eAAK,QAAQ,IAAI;AACjB,aAAG,GAAG,SAAS,MAAM,KAAK,QAAQ,OAAO;AAAA;AAG3C,WAAG;AAAA;AAAA;AAIP,YAAO,UAAU;AAWjB,0BAAuB,QAAQ,KAAK;AAClC,iBAAW,SAAS,OAAO,KAAK;AAAM,eAAO,GAAG,OAAO,IAAI;AAE3D,aAAO,2BAA4B;AACjC,mBAAW,SAAS,OAAO,KAAK,MAAM;AACpC,iBAAO,eAAe,OAAO,IAAI;AAAA;AAAA;AAAA;AAUvC,6BAA0B;AACxB,WAAK;AAAA;AAYP,4BAAyB,QAAQ,MAAM,SAAS,SAAS;AACvD,UAAI,OAAO,UAAU;AACnB,kBAAU,WAAW,KAAK,aAAa;AACvC,kBAAU,OAAO,OAAO;AAAA,UACtB,cAAc;AAAA,UACd,gBAAgB;AAAA,UAChB,kBAAkB,OAAO,WAAW;AAAA,WACnC;AAEH,eAAO,MACL,YAAY,QAAQ,KAAK,aAAa;AAAA,IACtC,OAAO,KAAK,SAAS,IAAI,OAAK,GAAG,MAAM,QAAQ,MAAM,KAAK,UAC1D,aACA;AAAA;AAIJ,aAAO,eAAe,SAAS;AAC/B,aAAO;AAAA;AAWT,kBAAc,KAAK;AACjB,aAAO,IAAI;AAAA;AAAA;AAAA;;;AC/Wb;AAAA;AAAA;AAEA,QAAM,YAAY;AAElB,cAAU,SAAS;AACnB,cAAU,WAAW;AACrB,cAAU,SAAS;AAEnB,YAAO,UAAU;AAAA;AAAA;;;ACRjB;AAAA;AAWA,IAAC,2CAA0C,MAAM,SAAS;AACzD,UAAG,OAAO,aAAY,YAAY,OAAO,YAAW;AACnD,gBAAO,UAAU,QAAQ,mBAAgB;AAAA,eAClC,OAAO,WAAW,cAAc,OAAO;AAC9C,eAAO,CAAC,OAAO,OAAO;AAAA,eACf,OAAO,aAAY;AAC1B,iBAAQ,UAAU,QAAQ,mBAAgB;AAAA;AAE1C,aAAK,UAAU,QAAQ,KAAK,QAAQ,KAAK;AAAA,OACxC,QAAQ,SAAS,gCAAgC,iCAAiC;AACrF,aAAiB,SAAS,SAAS;AAEzB,YAAI,mBAAmB;AAGvB,qCAA6B,UAAU;AAGtC,cAAG,iBAAiB,WAAW;AAC9B,mBAAO,iBAAiB,UAAU;AAAA;AAGnC,cAAI,UAAS,iBAAiB,YAAY;AAAA,YACzC,GAAG;AAAA,YACH,GAAG;AAAA,YACH,SAAS;AAAA;AAIV,kBAAQ,UAAU,KAAK,QAAO,SAAS,SAAQ,QAAO,SAAS;AAG/D,kBAAO,IAAI;AAGX,iBAAO,QAAO;AAAA;AAKf,4BAAoB,IAAI;AAGxB,4BAAoB,IAAI;AAGxB,4BAAoB,IAAI,SAAS,UAAS,MAAM,QAAQ;AACvD,cAAG,CAAC,oBAAoB,EAAE,UAAS,OAAO;AACzC,mBAAO,eAAe,UAAS,MAAM,EAAE,YAAY,MAAM,KAAK;AAAA;AAAA;AAKhE,4BAAoB,IAAI,SAAS,UAAS;AACzC,cAAG,OAAO,WAAW,eAAe,OAAO,aAAa;AACvD,mBAAO,eAAe,UAAS,OAAO,aAAa,EAAE,OAAO;AAAA;AAE7D,iBAAO,eAAe,UAAS,cAAc,EAAE,OAAO;AAAA;AAQvD,4BAAoB,IAAI,SAAS,OAAO,MAAM;AAC7C,cAAG,OAAO;AAAG,oBAAQ,oBAAoB;AACzC,cAAG,OAAO;AAAG,mBAAO;AACpB,cAAI,OAAO,KAAM,OAAO,UAAU,YAAY,SAAS,MAAM;AAAY,mBAAO;AAChF,cAAI,KAAK,OAAO,OAAO;AACvB,8BAAoB,EAAE;AACtB,iBAAO,eAAe,IAAI,WAAW,EAAE,YAAY,MAAM;AACzD,cAAG,OAAO,KAAK,OAAO,SAAS;AAAU,qBAAQ,OAAO;AAAO,kCAAoB,EAAE,IAAI,KAAK,SAAS,MAAK;AAAE,uBAAO,MAAM;AAAA,gBAAQ,KAAK,MAAM;AAC9I,iBAAO;AAAA;AAIR,4BAAoB,IAAI,SAAS,SAAQ;AACxC,cAAI,SAAS,WAAU,QAAO,aAC7B,sBAAsB;AAAE,mBAAO,QAAO;AAAA,cACtC,4BAA4B;AAAE,mBAAO;AAAA;AACtC,8BAAoB,EAAE,QAAQ,KAAK;AACnC,iBAAO;AAAA;AAIR,4BAAoB,IAAI,SAAS,QAAQ,UAAU;AAAE,iBAAO,OAAO,UAAU,eAAe,KAAK,QAAQ;AAAA;AAGzG,4BAAoB,IAAI;AAIxB,eAAO,oBAAoB,oBAAoB,IAAI;AAAA,QAGnD;AAAA,QAEH,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAEA,mBAAQ,aAAa;AACrB,cAAI,WAAW;AAAA,YACX,eAAe;AAAA,YAKf,mBAAmB,CAAC;AAAA,YACpB,oBAAoB,CAAC,SAAS;AAAA,YAC9B,0BAA0B,CAAC,SAAS;AAAA,YACpC,mBAAmB,CAAC;AAAA,YACpB,kBAAkB,EAAE,YAAY,IAAI,WAAW;AAAA,YAC/C,OAAO,YAAY,QAAQ,SAAS;AAAA;AAExC,mBAAQ,aAAa;AAAA;AAAA,QAKd,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,QAAQ;AAAA;AAAA,QAIlB,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,QAAQ;AAAA;AAAA,QAIlB,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,QAAQ;AAAA;AAAA,QAIlB,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAAC,UAAC,UAAU,MAAM,SAAS;AAC1B,gBAAI,MAAM;AAET,sBAAO,UAAU,WAAU;AAAA,mBAEvB;AAAA;AAAA,aACJ,MAAM,WAAY;AAOnB,gBAAI,WAAW,YAAa,SAAU,OAAM,YAAW;AAEnD,kBAAI;AAGJ,kBAAI,OAAO,WAAW,eAAe,OAAO,QAAQ;AAChD,yBAAS,OAAO;AAAA;AAIpB,kBAAI,CAAC,UAAU,OAAO,WAAW,eAAe,OAAO,UAAU;AAC7D,yBAAS,OAAO;AAAA;AAIpB,kBAAI,CAAC,UAAU,OAAO,WAAW,eAAe,OAAO,QAAQ;AAC3D,yBAAS,OAAO;AAAA;AAIpB,kBAAI,CAAC,UAAU,MAA2B;AACtC,oBAAI;AACA,2BAAS,oBAAoB;AAAA,yBACxB,KAAP;AAAA;AAAA;AAQN,kBAAI,wBAAwB,WAAY;AACpC,oBAAI,QAAQ;AAER,sBAAI,OAAO,OAAO,oBAAoB,YAAY;AAC9C,wBAAI;AACA,6BAAO,OAAO,gBAAgB,IAAI,YAAY,IAAI;AAAA,6BAC7C,KAAP;AAAA;AAAA;AAIN,sBAAI,OAAO,OAAO,gBAAgB,YAAY;AAC1C,wBAAI;AACA,6BAAO,OAAO,YAAY,GAAG;AAAA,6BACxB,KAAP;AAAA;AAAA;AAAA;AAIV,sBAAM,IAAI,MAAM;AAAA;AAOpB,kBAAI,SAAS,OAAO,UAAW,WAAY;AACvC,6BAAa;AAAA;AAEb,uBAAO,SAAU,KAAK;AAClB,sBAAI;AAEJ,oBAAE,YAAY;AAEd,4BAAU,IAAI;AAEd,oBAAE,YAAY;AAEd,yBAAO;AAAA;AAAA;AAOf,kBAAI,IAAI;AAKR,kBAAI,QAAQ,EAAE,MAAM;AAKpB,kBAAI,OAAO,MAAM,OAAQ,WAAY;AAGjC,uBAAO;AAAA,kBAmBH,QAAQ,SAAU,WAAW;AAEzB,wBAAI,UAAU,OAAO;AAGrB,wBAAI,WAAW;AACX,8BAAQ,MAAM;AAAA;AAIlB,wBAAI,CAAC,QAAQ,eAAe,WAAW,KAAK,SAAS,QAAQ,MAAM;AAC/D,8BAAQ,OAAO,WAAY;AACvB,gCAAQ,OAAO,KAAK,MAAM,MAAM;AAAA;AAAA;AAKxC,4BAAQ,KAAK,YAAY;AAGzB,4BAAQ,SAAS;AAEjB,2BAAO;AAAA;AAAA,kBAeX,QAAQ,WAAY;AAChB,wBAAI,WAAW,KAAK;AACpB,6BAAS,KAAK,MAAM,UAAU;AAE9B,2BAAO;AAAA;AAAA,kBAeX,MAAM,WAAY;AAAA;AAAA,kBAclB,OAAO,SAAU,YAAY;AACzB,6BAAS,gBAAgB,YAAY;AACjC,0BAAI,WAAW,eAAe,eAAe;AACzC,6BAAK,gBAAgB,WAAW;AAAA;AAAA;AAKxC,wBAAI,WAAW,eAAe,aAAa;AACvC,2BAAK,WAAW,WAAW;AAAA;AAAA;AAAA,kBAanC,OAAO,WAAY;AACf,2BAAO,KAAK,KAAK,UAAU,OAAO;AAAA;AAAA;AAAA;AAW9C,kBAAI,YAAY,MAAM,YAAY,KAAK,OAAO;AAAA,gBAa1C,MAAM,SAAU,OAAO,UAAU;AAC7B,0BAAQ,KAAK,QAAQ,SAAS;AAE9B,sBAAI,YAAY,YAAW;AACvB,yBAAK,WAAW;AAAA,yBACb;AACH,yBAAK,WAAW,MAAM,SAAS;AAAA;AAAA;AAAA,gBAiBvC,UAAU,SAAU,SAAS;AACzB,yBAAQ,YAAW,KAAK,UAAU;AAAA;AAAA,gBActC,QAAQ,SAAU,WAAW;AAEzB,sBAAI,YAAY,KAAK;AACrB,sBAAI,YAAY,UAAU;AAC1B,sBAAI,eAAe,KAAK;AACxB,sBAAI,eAAe,UAAU;AAG7B,uBAAK;AAGL,sBAAI,eAAe,GAAG;AAElB,6BAAS,IAAI,GAAG,IAAI,cAAc,KAAK;AACnC,0BAAI,WAAY,UAAU,MAAM,OAAQ,KAAM,IAAI,IAAK,IAAM;AAC7D,gCAAW,eAAe,MAAO,MAAM,YAAa,KAAO,gBAAe,KAAK,IAAK;AAAA;AAAA,yBAErF;AAEH,6BAAS,IAAI,GAAG,IAAI,cAAc,KAAK,GAAG;AACtC,gCAAW,eAAe,MAAO,KAAK,UAAU,MAAM;AAAA;AAAA;AAG9D,uBAAK,YAAY;AAGjB,yBAAO;AAAA;AAAA,gBAUX,OAAO,WAAY;AAEf,sBAAI,QAAQ,KAAK;AACjB,sBAAI,WAAW,KAAK;AAGpB,wBAAM,aAAa,MAAM,cAAe,KAAM,WAAW,IAAK;AAC9D,wBAAM,SAAS,MAAK,KAAK,WAAW;AAAA;AAAA,gBAYxC,OAAO,WAAY;AACf,sBAAI,QAAQ,KAAK,MAAM,KAAK;AAC5B,wBAAM,QAAQ,KAAK,MAAM,MAAM;AAE/B,yBAAO;AAAA;AAAA,gBAgBX,QAAQ,SAAU,QAAQ;AACtB,sBAAI,QAAQ;AAEZ,2BAAS,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAChC,0BAAM,KAAK;AAAA;AAGf,yBAAO,IAAI,UAAU,KAAK,OAAO;AAAA;AAAA;AAOzC,kBAAI,QAAQ,EAAE,MAAM;AAKpB,kBAAI,MAAM,MAAM,MAAM;AAAA,gBAclB,WAAW,SAAU,WAAW;AAE5B,sBAAI,QAAQ,UAAU;AACtB,sBAAI,WAAW,UAAU;AAGzB,sBAAI,WAAW;AACf,2BAAS,IAAI,GAAG,IAAI,UAAU,KAAK;AAC/B,wBAAI,OAAQ,MAAM,MAAM,OAAQ,KAAM,IAAI,IAAK,IAAM;AACrD,6BAAS,KAAM,UAAS,GAAG,SAAS;AACpC,6BAAS,KAAM,QAAO,IAAM,SAAS;AAAA;AAGzC,yBAAO,SAAS,KAAK;AAAA;AAAA,gBAgBzB,OAAO,SAAU,QAAQ;AAErB,sBAAI,eAAe,OAAO;AAG1B,sBAAI,QAAQ;AACZ,2BAAS,IAAI,GAAG,IAAI,cAAc,KAAK,GAAG;AACtC,0BAAM,MAAM,MAAM,SAAS,OAAO,OAAO,GAAG,IAAI,OAAQ,KAAM,IAAI,IAAK;AAAA;AAG3E,yBAAO,IAAI,UAAU,KAAK,OAAO,eAAe;AAAA;AAAA;AAOxD,kBAAI,SAAS,MAAM,SAAS;AAAA,gBAcxB,WAAW,SAAU,WAAW;AAE5B,sBAAI,QAAQ,UAAU;AACtB,sBAAI,WAAW,UAAU;AAGzB,sBAAI,cAAc;AAClB,2BAAS,IAAI,GAAG,IAAI,UAAU,KAAK;AAC/B,wBAAI,OAAQ,MAAM,MAAM,OAAQ,KAAM,IAAI,IAAK,IAAM;AACrD,gCAAY,KAAK,OAAO,aAAa;AAAA;AAGzC,yBAAO,YAAY,KAAK;AAAA;AAAA,gBAgB5B,OAAO,SAAU,WAAW;AAExB,sBAAI,kBAAkB,UAAU;AAGhC,sBAAI,QAAQ;AACZ,2BAAS,IAAI,GAAG,IAAI,iBAAiB,KAAK;AACtC,0BAAM,MAAM,MAAO,WAAU,WAAW,KAAK,QAAU,KAAM,IAAI,IAAK;AAAA;AAG1E,yBAAO,IAAI,UAAU,KAAK,OAAO;AAAA;AAAA;AAOzC,kBAAI,OAAO,MAAM,OAAO;AAAA,gBAcpB,WAAW,SAAU,WAAW;AAC5B,sBAAI;AACA,2BAAO,mBAAmB,OAAO,OAAO,UAAU;AAAA,2BAC7C,GAAP;AACE,0BAAM,IAAI,MAAM;AAAA;AAAA;AAAA,gBAiBxB,OAAO,SAAU,SAAS;AACtB,yBAAO,OAAO,MAAM,SAAS,mBAAmB;AAAA;AAAA;AAWxD,kBAAI,yBAAyB,MAAM,yBAAyB,KAAK,OAAO;AAAA,gBAQpE,OAAO,WAAY;AAEf,uBAAK,QAAQ,IAAI,UAAU;AAC3B,uBAAK,cAAc;AAAA;AAAA,gBAavB,SAAS,SAAU,MAAM;AAErB,sBAAI,OAAO,QAAQ,UAAU;AACzB,2BAAO,KAAK,MAAM;AAAA;AAItB,uBAAK,MAAM,OAAO;AAClB,uBAAK,eAAe,KAAK;AAAA;AAAA,gBAiB7B,UAAU,SAAU,SAAS;AACzB,sBAAI;AAGJ,sBAAI,OAAO,KAAK;AAChB,sBAAI,YAAY,KAAK;AACrB,sBAAI,eAAe,KAAK;AACxB,sBAAI,YAAY,KAAK;AACrB,sBAAI,iBAAiB,YAAY;AAGjC,sBAAI,eAAe,eAAe;AAClC,sBAAI,SAAS;AAET,mCAAe,MAAK,KAAK;AAAA,yBACtB;AAGH,mCAAe,MAAK,IAAK,gBAAe,KAAK,KAAK,gBAAgB;AAAA;AAItE,sBAAI,cAAc,eAAe;AAGjC,sBAAI,cAAc,MAAK,IAAI,cAAc,GAAG;AAG5C,sBAAI,aAAa;AACb,6BAAS,SAAS,GAAG,SAAS,aAAa,UAAU,WAAW;AAE5D,2BAAK,gBAAgB,WAAW;AAAA;AAIpC,qCAAiB,UAAU,OAAO,GAAG;AACrC,yBAAK,YAAY;AAAA;AAIrB,yBAAO,IAAI,UAAU,KAAK,gBAAgB;AAAA;AAAA,gBAY9C,OAAO,WAAY;AACf,sBAAI,QAAQ,KAAK,MAAM,KAAK;AAC5B,wBAAM,QAAQ,KAAK,MAAM;AAEzB,yBAAO;AAAA;AAAA,gBAGX,gBAAgB;AAAA;AAQpB,kBAAI,SAAS,MAAM,SAAS,uBAAuB,OAAO;AAAA,gBAItD,KAAK,KAAK;AAAA,gBAWV,MAAM,SAAU,KAAK;AAEjB,uBAAK,MAAM,KAAK,IAAI,OAAO;AAG3B,uBAAK;AAAA;AAAA,gBAUT,OAAO,WAAY;AAEf,yCAAuB,MAAM,KAAK;AAGlC,uBAAK;AAAA;AAAA,gBAeT,QAAQ,SAAU,eAAe;AAE7B,uBAAK,QAAQ;AAGb,uBAAK;AAGL,yBAAO;AAAA;AAAA,gBAiBX,UAAU,SAAU,eAAe;AAE/B,sBAAI,eAAe;AACf,yBAAK,QAAQ;AAAA;AAIjB,sBAAI,OAAO,KAAK;AAEhB,yBAAO;AAAA;AAAA,gBAGX,WAAW,MAAI;AAAA,gBAef,eAAe,SAAU,QAAQ;AAC7B,yBAAO,SAAU,SAAS,KAAK;AAC3B,2BAAO,IAAI,OAAO,KAAK,KAAK,SAAS;AAAA;AAAA;AAAA,gBAiB7C,mBAAmB,SAAU,QAAQ;AACjC,yBAAO,SAAU,SAAS,KAAK;AAC3B,2BAAO,IAAI,OAAO,KAAK,KAAK,QAAQ,KAAK,SAAS;AAAA;AAAA;AAAA;AAQ9D,kBAAI,SAAS,EAAE,OAAO;AAEtB,qBAAO;AAAA,cACT;AAGF,mBAAO;AAAA;AAAA;AAAA,QAMD,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,QAAQ;AAAA;AAAA,QAIlB,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,QAAQ;AAAA;AAAA,QAIlB,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU;AAAA;AAAA,QAIV,SAAS,SAAQ;AAExB,kBAAO,UAAU,KAAK,MAAM;AAAA;AAAA,QAIrB,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAAC,UAAC,UAAU,MAAM,SAAS;AAC1B,gBAAI,MAAM;AAET,sBAAO,UAAU,WAAU,QAAQ,oBAAoB,IAAI,oBAAoB,KAAK,oBAAoB;AAAA,mBAEpG;AAAA;AAAA,aACJ,MAAM,SAAU,UAAU;AAE3B,mBAAO,SAAS;AAAA;AAAA;AAAA,QAMV,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAAC,UAAC,UAAU,MAAM,SAAS;AAC1B,gBAAI,MAAM;AAET,sBAAO,UAAU,WAAU,QAAQ,oBAAoB;AAAA,mBAEnD;AAAA;AAAA,aACJ,MAAM,SAAU,UAAU;AAE3B,YAAC,YAAY;AAET,kBAAI,IAAI;AACR,kBAAI,QAAQ,EAAE;AACd,kBAAI,YAAY,MAAM;AACtB,kBAAI,QAAQ,EAAE;AAKd,kBAAI,SAAS,MAAM,SAAS;AAAA,gBAcxB,WAAW,SAAU,WAAW;AAE5B,sBAAI,QAAQ,UAAU;AACtB,sBAAI,WAAW,UAAU;AACzB,sBAAI,MAAM;AAGV,4BAAU;AAGV,sBAAI,cAAc;AAClB,2BAAS,IAAI,GAAG,IAAI,UAAU,KAAK,GAAG;AAClC,wBAAI,QAAS,MAAM,MAAM,OAAc,KAAM,IAAI,IAAK,IAAY;AAClE,wBAAI,QAAS,MAAO,IAAI,MAAO,OAAQ,KAAO,KAAI,KAAK,IAAK,IAAM;AAClE,wBAAI,QAAS,MAAO,IAAI,MAAO,OAAQ,KAAO,KAAI,KAAK,IAAK,IAAM;AAElE,wBAAI,UAAW,SAAS,KAAO,SAAS,IAAK;AAE7C,6BAAS,IAAI,GAAI,IAAI,KAAO,IAAI,IAAI,OAAO,UAAW,KAAK;AACvD,kCAAY,KAAK,IAAI,OAAQ,YAAa,IAAK,KAAI,KAAO;AAAA;AAAA;AAKlE,sBAAI,cAAc,IAAI,OAAO;AAC7B,sBAAI,aAAa;AACb,2BAAO,YAAY,SAAS,GAAG;AAC3B,kCAAY,KAAK;AAAA;AAAA;AAIzB,yBAAO,YAAY,KAAK;AAAA;AAAA,gBAgB5B,OAAO,SAAU,WAAW;AAExB,sBAAI,kBAAkB,UAAU;AAChC,sBAAI,MAAM;AACV,sBAAI,aAAa,KAAK;AAEtB,sBAAI,CAAC,YAAY;AACT,iCAAa,KAAK,cAAc;AAChC,6BAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACjC,iCAAW,IAAI,WAAW,MAAM;AAAA;AAAA;AAK5C,sBAAI,cAAc,IAAI,OAAO;AAC7B,sBAAI,aAAa;AACb,wBAAI,eAAe,UAAU,QAAQ;AACrC,wBAAI,iBAAiB,IAAI;AACrB,wCAAkB;AAAA;AAAA;AAK1B,yBAAO,UAAU,WAAW,iBAAiB;AAAA;AAAA;AAKrD,iCAAmB,WAAW,iBAAiB,YAAY;AACzD,oBAAI,QAAQ;AACZ,oBAAI,SAAS;AACb,yBAAS,IAAI,GAAG,IAAI,iBAAiB,KAAK;AACtC,sBAAI,IAAI,GAAG;AACP,wBAAI,QAAQ,WAAW,UAAU,WAAW,IAAI,OAAS,IAAI,IAAK;AAClE,wBAAI,QAAQ,WAAW,UAAU,WAAW,QAAS,IAAK,IAAI,IAAK;AACnE,wBAAI,eAAe,QAAQ;AAC3B,0BAAM,WAAW,MAAM,gBAAiB,KAAM,SAAS,IAAK;AAC5D;AAAA;AAAA;AAGR,uBAAO,UAAU,OAAO,OAAO;AAAA;AAAA;AAKrC,mBAAO,SAAS,IAAI;AAAA;AAAA;AAAA,QAMd,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU;AAAA;AAAA,QAIV,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAGA,cAAI,OAAO,oBAAoB;AAE/B,mBAAQ,SAAS,SAAU,OAAO,QAAQ;AACxC,gBAAI,OAAO,OAAO,OAAO;AACzB,gBAAG,QAAQ;AACT,qBAAO;AACT,gBAAI,SAAS,KAAK,OAAO;AACzB,mBAAO,OAAO,QAAQ,GAAG;AACzB,mBAAO;AAAA;AAGT,mBAAQ,SAAS;AAEjB,cAAI,UAAW,MAAK,MAAO,MAAK,KAAK,UAAU,IAAI;AACnD,+BAAqB,KAAK,QAAQ;AACjC,qBAAS,UAAU;AACnB,mBAAO,IAAI,YAAY,SAAS,KAAK,UAAU,IAAI,aAAa,SAAS;AAAA;AAG1E,gCAAsB,KAAK,QAAQ;AAClC,qBAAS,UAAU;AACnB,mBAAO,IAAI,aAAa,SAAS,KAAK,UAAU,IAAI,aAAa,SAAS;AAAA;AAG3E,gCAAsB,KAAK,KAAK,QAAQ;AACpC,gBAAI,MAAM,oBAAoB;AAC1B,kBAAI,aAAa,KAAK,MAAM,MAAM,UAAU;AAC5C,kBAAI,aAAa,MAAM,IAAI,SAAS;AAAA,mBACjC;AACH,kBAAI,cAAc,YAAY;AAC9B,kBAAI,cAAc,YAAY,SAAS;AAAA;AAAA;AAI/C,iCAAuB,KAAK,KAAK,QAAQ;AACrC,gBAAI,MAAM,qBAAqB;AAC3B,kBAAI,cAAc,KAAK,MAAM,MAAM,UAAU;AAC7C,kBAAI,aAAa,MAAM,IAAI,SAAS;AAAA,mBACjC;AACH,kBAAI,cAAc,YAAY;AAC9B,kBAAI,cAAc,YAAY,SAAS;AAAA;AAAA;AAgB/C,2BAAiB,QAAQ,QAAQ;AAC/B,iBAAK,SAAS,UAAU;AACxB,iBAAK,SAAS;AACd,iBAAK,eAAe,OAAO;AAAA;AAE7B,kBAAQ,UAAU,MAAM,SAAU,QAAQ;AAExC,gBAAI,SAAS,IAAK,KAAK,cAAc;AACnC,oBAAM,IAAI,MAAM,mDAAmD,KAAK,gDAAgD;AAAA;AAE1H,gBAAI,QAAQ;AACZ,qBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,kBAAI,MAAM,KAAK;AACf,oBAAM,OAAO,KAAK;AAAA;AAEpB,mBAAO;AAAA;AAET,kBAAQ,UAAU,MAAM,QAAQ,UAAU,MAAM,SAAU,QAAQ;AAChE,gBAAG,SAAS,KAAK,cAAc;AAC7B,oBAAM,IAAI,MAAM,mDAAmD,KAAK,mDAAmD;AAAA;AAE7H,gBAAI,QAAQ,KAAK,SAAS,KAAK,QAAQ,KAAK,QAAQ,KAAK,SAAS;AAClE,iBAAK,UAAU;AACf,mBAAO;AAAA;AAET,kBAAQ,UAAU,MAAM,SAAU,QAAQ;AACxC,gBAAG,SAAS,KAAK,cAAc;AAC7B,oBAAM,IAAI,MAAM,mDAAmD,KAAK,mDAAmD;AAAA;AAE7H,gBAAI,QAAQ,KAAK,GAAG,KAAK,SAAS,KAAK,QAAQ,KAAK,QAAQ,KAAK,SAAS;AAC1E,iBAAK,UAAU;AACf,mBAAO;AAAA;AAET,kBAAQ,UAAU,QAAQ,SAAU,QAAQ;AAC1C,gBAAG,SAAS,KAAK,cAAc;AAC7B,oBAAM,IAAI,MAAM,mDAAmD,KAAK,mDAAmD;AAAA;AAE7H,gBAAI,QAAQ,IAAI,MAAM;AACtB,qBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,oBAAM,KAAK,KAAK;AAAA;AAElB,mBAAO;AAAA;AAET,kBAAQ,UAAU,QAAQ,WAAY;AACpC,gBAAI,OAAO,KAAK,OAAO,KAAK;AAC5B,gBAAI,OAAO,QAAQ;AAEnB,gBAAI,SAAS,QAAW;AACtB,oBAAM,IAAI,MAAM;AAAA;AAIlB,gBAAK,QAAO,SAAU,GAAM;AAC1B,mBAAK;AACL,qBAAO;AAAA;AAGT,gBAAK,QAAO,SAAU,KAAM;AAC1B,uBAAS,OAAO;AAChB,mBAAK;AACL,qBAAO,KAAK,IAAI;AAAA;AAGlB,gBAAK,QAAO,SAAU,KAAM;AAC1B,uBAAS,OAAO;AAChB,mBAAK;AACL,qBAAO,KAAK,MAAM;AAAA;AAGpB,gBAAK,QAAO,SAAU,KAAM;AAC1B,uBAAS,OAAO;AAChB,mBAAK;AACL,qBAAO,KAAK,IAAI;AAAA;AAGlB,gBAAK,QAAO,SAAU,KAAM;AAC1B,sBAAQ,KAAK,SAAS,KAAK,QAAQ,KAAK;AACxC,mBAAK;AACL,qBAAO;AAAA;AAET,oBAAQ;AAAA,mBAEH;AACH,qBAAK;AACL,uBAAO;AAAA,mBAGJ;AACH,qBAAK;AACL,uBAAO;AAAA,mBAEJ;AACH,qBAAK;AACL,uBAAO;AAAA,mBAEJ;AACH,yBAAS,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACnD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACnD,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,wBAAQ,KAAK,YAAY,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACrD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,OAAO,KAAK,SAAS;AAClC,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACrD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACrD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,aAAa,KAAK,QAAQ,KAAK,SAAS;AAChD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,SAAS,KAAK,QAAQ,KAAK,SAAS;AACjD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,YAAY,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,KAAK,YAAY,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAEJ;AACH,wBAAQ,YAAY,KAAK,QAAQ,KAAK,SAAS;AAC/C,qBAAK,UAAU;AACf,uBAAO;AAAA,mBAGJ;AACH,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,wBAAQ,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AAClD,qBAAK,UAAU;AACf,uBAAQ,YAAY,KAAK,UAAU,IAAK,SAAY,CAAC,SAAS;AAAA,mBAE3D;AACH,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,0BAAU,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACpD,qBAAK,UAAU;AACf,uBAAO,CAAC,SAAS,KAAK,IAAI;AAAA,mBAEvB;AACH,yBAAS,KAAK,UAAU,KAAK,QAAQ,KAAK,SAAS;AACnD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,MAAM;AAAA,mBAEf;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,MAAM;AAAA,mBAEf;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA,mBAEb;AACH,yBAAS,KAAK,aAAa,KAAK,QAAQ,KAAK,SAAS;AACtD,qBAAK,UAAU;AACf,uBAAO,KAAK,IAAI;AAAA;AAGlB,kBAAM,IAAI,MAAM,oBAAoB,KAAK,SAAS;AAAA;AAEpD,0BAAgB,QAAQ;AACtB,gBAAI,UAAU,IAAI,QAAQ;AAC1B,gBAAI,QAAQ,QAAQ;AACpB,gBAAI,QAAQ,WAAW,OAAO;AAAQ,oBAAM,IAAI,MAAO,OAAO,SAAS,QAAQ,SAAU;AACzF,mBAAO;AAAA;AAGT,kCAAyB,OAAO,QAAQ;AACtC,mBAAO,OAAO,KAAK,OAAO,OAAO,SAAU,GAAG;AAC5C,kBAAI,MAAM,MAAM,IAAI,OAAO,OAAO;AAClC,qBAAQ,EAAC,UAAW,QAAQ,UAAa,QAAQ,SAAW,CAAe,SAAf,cAAuB,CAAC,CAAC,IAAI;AAAA;AAAA;AAI7F,0BAAgB,OAAO,QAAQ,QAAQ,QAAQ,cAAc;AAC3D,gBAAI,OAAO,OAAO;AAClB,gBAAI,QAAQ;AAGZ,gBAAI,SAAS,UAAU;AACrB,sBAAQ,KAAK,KAAK;AAClB,uBAAS,MAAM;AAEf,kBAAI,SAAS,IAAM;AACjB,uBAAO,UAAU,SAAS;AAC1B,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAGb,kBAAI,SAAS,KAAO;AAClB,uBAAO,UAAU;AACjB,qBAAK,WAAW,QAAQ,QAAQ,SAAS;AACzC,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAGb,kBAAI,SAAS,OAAS;AACpB,uBAAO,UAAU;AACjB,qBAAK,cAAc,QAAQ,QAAQ,SAAS;AAC5C,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAGb,kBAAI,SAAS,YAAa;AACxB,uBAAO,UAAU;AACjB,qBAAK,cAAc,QAAQ,QAAQ,SAAS;AAC5C,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAAA;AAIf,gBAAI,KAAK,GAAG,QAAQ;AAClB,uBAAS,MAAM;AAEf,kBAAI,SAAS,KAAO;AAClB,uBAAO,UAAU;AACjB,qBAAK,WAAW,QAAQ,QAAQ,SAAS;AACzC,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAGb,kBAAI,SAAS,OAAS;AACpB,uBAAO,UAAU;AACjB,qBAAK,cAAc,QAAQ,QAAQ,SAAS;AAC5C,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAGb,kBAAI,SAAS,YAAa;AACxB,uBAAO,UAAU;AACjB,qBAAK,cAAc,QAAQ,QAAQ,SAAS;AAC5C,qBAAK,KAAK,OAAO,QAAQ,SAAS;AAClC,uBAAO,IAAI;AAAA;AAAA;AAIf,gBAAI,SAAS,UAAU;AAErB,kBAAI,KAAK,MAAM,WAAW,OAAO;AAC/B,uBAAO,UAAW;AAClB,qBAAK,cAAc,QAAQ,OAAO,SAAS;AAC3C,uBAAO;AAAA;AAIT,kBAAI,SAAQ,GAAG;AAEb,oBAAI,QAAQ,KAAM;AAChB,yBAAO,UAAU;AACjB,yBAAO;AAAA;AAGT,oBAAI,QAAQ,KAAO;AACjB,yBAAO,UAAU;AACjB,yBAAO,SAAS,KAAK;AACrB,yBAAO;AAAA;AAGT,oBAAI,QAAQ,OAAS;AACnB,yBAAO,UAAU;AACjB,uBAAK,cAAc,QAAQ,OAAO,SAAS;AAC3C,yBAAO;AAAA;AAGT,oBAAI,QAAQ,YAAa;AACvB,yBAAO,UAAU;AACjB,uBAAK,cAAc,QAAQ,OAAO,SAAS;AAC3C,yBAAO;AAAA;AAGT,oBAAI,QAAQ,qBAAqB;AAC/B,yBAAO,UAAU;AACjB,gCAAc,QAAQ,OAAO,SAAS;AACtC,yBAAO;AAAA;AAET,sBAAM,IAAI,MAAM,sBAAsB,MAAM,SAAS;AAAA;AAGvD,kBAAI,SAAS,KAAO;AAClB,qBAAK,UAAU,QAAQ,OAAO;AAC9B,uBAAO;AAAA;AAGT,kBAAI,SAAS,MAAO;AAClB,uBAAO,UAAU;AACjB,qBAAK,UAAU,QAAQ,OAAO,SAAS;AACvC,uBAAO;AAAA;AAGT,kBAAI,SAAS,QAAS;AACpB,uBAAO,UAAU;AACjB,qBAAK,aAAa,QAAQ,OAAO,SAAS;AAC1C,uBAAO;AAAA;AAGT,kBAAI,SAAS,aAAa;AACxB,uBAAO,UAAU;AACjB,qBAAK,aAAa,QAAQ,OAAO,SAAS;AAC1C,uBAAO;AAAA;AAGT,kBAAI,SAAS,qBAAqB;AAChC,uBAAO,UAAU;AACjB,6BAAa,QAAQ,OAAO,SAAS;AACrC,uBAAO;AAAA;AAET,oBAAM,IAAI,MAAM,yBAAyB,MAAM,SAAS,IAAI,OAAO;AAAA;AAGrE,gBAAI,SAAS,aAAa;AACxB,kBAAG,UAAU;AAAc,uBAAO;AAClC,qBAAO,UAAU;AACjB,qBAAO,SAAS,KAAK;AACrB,qBAAO,SAAS,KAAK;AACrB,qBAAO;AAAA;AAIT,gBAAI,UAAU,MAAM;AAClB,kBAAG,UAAU;AAAc,uBAAO;AAClC,qBAAO,UAAU;AACjB,qBAAO;AAAA;AAIT,gBAAI,SAAS,WAAW;AACtB,qBAAO,UAAU,QAAQ,MAAO;AAChC,qBAAO;AAAA;AAGT,gBAAG,AAAe,OAAO,MAAM,WAA5B;AACD,qBAAO,OAAO,MAAM,UAAU,QAAQ,QAAQ;AAGhD,gBAAI,SAAS,UAAU;AAErB,qBAAO;AACP,kBAAI,UAAU,MAAM,QAAQ;AAE5B,kBAAI,SAAS;AACX,yBAAS,MAAM;AAAA,qBAEZ;AACH,oBAAI,OAAO,eAAe,OAAO;AACjC,yBAAS,KAAK;AAAA;AAIhB,kBAAI,SAAS,IAAM;AACjB,uBAAO,UAAU,SAAU,WAAU,MAAO;AAC5C,uBAAO;AAAA,yBAGA,SAAS,OAAS;AACzB,uBAAO,UAAU,UAAU,MAAO;AAClC,qBAAK,cAAc,QAAQ,QAAQ,SAAS;AAC5C,uBAAO;AAAA,yBAGA,SAAS,YAAa;AAC7B,uBAAO,UAAU,UAAU,MAAO;AAClC,qBAAK,cAAc,QAAQ,QAAQ,SAAS;AAC5C,uBAAO;AAAA;AAGT,kBAAI,SAAS;AACX,yBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,0BAAQ,OAAO,MAAM,IAAI,QAAQ,SAAS,MAAM;AAAA;AAAA,qBAG/C;AACH,yBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,sBAAI,MAAM,KAAK;AACf,0BAAQ,OAAO,KAAK,QAAQ,SAAS;AACrC,0BAAQ,OAAO,MAAM,MAAM,QAAQ,SAAS,MAAM,QAAQ;AAAA;AAAA;AAI9D,qBAAO;AAAA;AAET,gBAAG,SAAS;AACV,qBAAO;AACT,kBAAM,IAAI,MAAM,kBAAkB;AAAA;AAGpC,0BAAgB,OAAO,QAAQ,cAAc;AAC3C,gBAAI,OAAO,OAAO;AAClB,gBAAI,QAAQ;AAGZ,gBAAI,SAAS,UAAU;AAErB,uBAAS,KAAK,KAAK,OAAO;AAC1B,kBAAI,SAAS,IAAM;AACjB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,KAAO;AAClB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,OAAS;AACpB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,YAAa;AACxB,uBAAO,IAAI;AAAA;AAAA;AAIf,gBAAI,KAAK,GAAG,QAAQ;AAClB,uBAAS,MAAM;AACf,kBAAI,SAAS,KAAO;AAClB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,OAAS;AACpB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,YAAa;AACxB,uBAAO,IAAI;AAAA;AAAA;AAIf,gBAAI,SAAS,UAAU;AAGrB,kBAAI,KAAK,MAAM,WAAW;AAAO,uBAAO;AAGxC,kBAAI,SAAQ,GAAG;AAEb,oBAAI,QAAQ;AAAM,yBAAO;AAEzB,oBAAI,QAAQ;AAAO,yBAAO;AAE1B,oBAAI,QAAQ;AAAS,yBAAO;AAE5B,oBAAI,QAAQ;AAAa,yBAAO;AAEhC,oBAAI,QAAQ;AAAqB,yBAAO;AACxC,sBAAM,IAAI,MAAM,sBAAsB,MAAM,SAAS;AAAA;AAGvD,kBAAI,SAAS;AAAO,uBAAO;AAE3B,kBAAI,SAAS;AAAO,uBAAO;AAE3B,kBAAI,SAAS;AAAS,uBAAO;AAE7B,kBAAI,SAAS;AAAa,uBAAO;AAEjC,kBAAI,SAAS;AAAqB,uBAAO;AACzC,oBAAM,IAAI,MAAM,yBAAyB,MAAM,SAAS,IAAI,OAAO;AAAA;AAIrE,gBAAI,SAAS;AAAW,qBAAO;AAG/B,gBAAI,UAAU;AAAM,qBAAQ,UAAU,eAAgB,IAAI;AAC1D,gBAAI,UAAU;AAAW,qBAAQ,UAAU,eAAgB,IAAI;AAE/D,gBAAG,AAAe,OAAO,MAAM,WAA5B;AACD,qBAAO,OAAO,MAAM,UAAU;AAGhC,gBAAI,SAAS,UAAU;AAErB,qBAAO;AACP,kBAAI,MAAM,QAAQ,QAAQ;AACxB,yBAAS,MAAM;AACf,yBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,0BAAQ,OAAO,MAAM,IAAI;AAAA;AAAA,qBAGxB;AACH,oBAAI,OAAO,eAAe,OAAO;AACjC,yBAAS,KAAK;AACd,yBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,sBAAI,MAAM,KAAK;AACf,0BAAQ,OAAO,OAAO,OAAO,MAAM,MAAM,QAAQ;AAAA;AAAA;AAGrD,kBAAI,SAAS,IAAM;AACjB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,OAAS;AACpB,uBAAO,IAAI;AAAA;AAEb,kBAAI,SAAS,YAAa;AACxB,uBAAO,IAAI;AAAA;AAEb,oBAAM,IAAI,MAAM,gCAAgC,OAAO,SAAS;AAAA;AAElE,gBAAG,SAAS;AACV,qBAAO;AACT,kBAAM,IAAI,MAAM,kBAAkB;AAAA;AAAA;AAAA,QAQ7B,SAAS,SAAQ,UAAS,qBAAqB;AAEtD,cAAI,QAAQ;AACZ,kBAAO,UAAU;AAEjB,gBAAM,OAAO,oBAAoB;AACjC,gBAAM,KAAK,oBAAoB;AAC/B,gBAAM,KAAK,oBAAoB;AAC/B,gBAAM,WAAW,oBAAoB;AACrC,gBAAM,OAAO,oBAAoB;AACjC,gBAAM,OAAO,oBAAoB;AACjC,gBAAM,SAAS,oBAAoB;AAEnC,cAAI,oBAAoB,KAAK;AAC7B,cAAI,oBAAoB,KAAK;AAE7B,uBAAa,MAAM,MAAM;AACvB,qBAAQ,OAAO,MAAM;AACnB,mBAAK,OAAO,KAAK;AAAA;AAAA;AAAA;AAAA,QAOd,SAAS,SAAQ,UAAS,qBAAqB;AAEtD,cAAI,UAAS,oBAAoB,GAAG;AAEpC,kBAAO,UAAU,SAAS,QAAQ,UAAU;AAC1C,mBAAO,IAAI,QAAO,QAAQ;AAAA;AAAA;AAAA,QAMrB,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,SAAS,QAAQ,UAAU;AAC1C,mBAAO,OAAO,SAAS;AAAA;AAAA;AAAA,QAMlB,SAAS,SAAQ,UAAS,qBAAqB;AAEtD,cAAI,UAAS,oBAAoB,GAAG;AAEpC,kBAAO,UAAU,SAAS,QAAQ;AAChC,mBAAO,QAAO,SAAS;AAAA;AAAA;AAAA,QAMlB,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,SAAS,QAAQ,MAAM,IAAI;AAC1C,mBAAO,UAAU,WAAW,IAC1B,OAAO,MAAM,QACb,OAAO,MAAM,MAAM;AAAA;AAAA;AAAA,QAMhB,SAAS,SAAQ,UAAS,qBAAqB;AAEtD,cAAI,UAAS,oBAAoB,GAAG;AAEpC,kBAAO,UAAU,SAAS,SAAS,MAAM;AACvC,mBAAO,SAAS,SACd,QAAO,OAAO,SAAS,QACvB,QAAO,OAAO;AAAA;AAAA;AAAA,QAMX,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU;AAEjB,wBAAc,QAAQ,QAAQ,cAAc,cAAc,YAAY;AACpE,mBAAO,OAAO,KAAK,QAAQ,cAAc,cAAc;AAAA;AAAA;AAAA,QAMlD,SAAS,SAAQ,UAAS,qBAAqB;AAEtD,kBAAO,UAAU;AAEjB,cAAI,UAAS,oBAAoB,GAAG;AAEpC,0BAAgB,MAAM;AACpB,mBAAO,IAAI,QAAO;AAAA;AAAA;AAAA,QAMb,SAAS,SAAQ,UAAS;AAEjC,cAAI,QAAQ,IACR,MAAM,UACN;AAEJ,oBAAU,SAAS,MAAK;AACtB,gBAAI,OAAO,gBACO,OAAM,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAQ;AAE3D,mBAAO,IAAI,SAAS,CAAC,OAAO,KAAK,KAAK,MAAM;AAAA;AAG9C,kBAAO,UAAU;AAEjB,mBAAQ,OAAO,OAAO,WAAW;AAC/B,gBAAG,IAAI,KAAK,MAAM;AAChB,oBAAM,OAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,QAOlB,SAAS,SAAQ,UAAS,qBAAqB;AAEtD,cAAI,UAAS,oBAAoB,GAAG;AAEpC,cAAI,QAAQ,IACR,MAAM,WACN;AAEJ,oBAAU,SAAS,MAAK;AACtB,gBAAI,OAAO,gBACO,OAAM,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAQ;AAE3D,mBAAO,IAAI,SAAS,CAAC,OAAO,KAAK,KAAK,MAAM;AAAA;AAG9C,kBAAO,UAAU;AAEjB,mBAAQ,OAAO,QAAO,WAAW;AAC/B,gBAAG,IAAI,KAAK,MAAM;AAChB,oBAAM,OAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,QAOlB,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAAC,UAAC,UAAU,MAAM,SAAS;AAC1B,gBAAI,MAAM;AAET,sBAAO,UAAU,WAAU,QAAQ,oBAAoB;AAAA,mBAEnD;AAAA;AAAA,aACJ,MAAM,SAAU,UAAU;AAE3B,YAAC,UAAU,OAAM;AAEb,kBAAI,IAAI;AACR,kBAAI,QAAQ,EAAE;AACd,kBAAI,YAAY,MAAM;AACtB,kBAAI,SAAS,MAAM;AACnB,kBAAI,SAAS,EAAE;AAGf,kBAAI,IAAI;AACR,kBAAI,IAAI;AAGR,cAAC,YAAY;AACT,iCAAiB,IAAG;AAChB,sBAAI,QAAQ,MAAK,KAAK;AACtB,2BAAS,SAAS,GAAG,UAAU,OAAO,UAAU;AAC5C,wBAAI,CAAE,MAAI,SAAS;AACf,6BAAO;AAAA;AAAA;AAIf,yBAAO;AAAA;AAGX,2CAA2B,IAAG;AAC1B,yBAAS,MAAK,MAAI,MAAM,aAAe;AAAA;AAG3C,oBAAI,IAAI;AACR,oBAAI,SAAS;AACb,uBAAO,SAAS,IAAI;AAChB,sBAAI,QAAQ,IAAI;AACZ,wBAAI,SAAS,GAAG;AACZ,wBAAE,UAAU,kBAAkB,MAAK,IAAI,GAAG,IAAI;AAAA;AAElD,sBAAE,UAAU,kBAAkB,MAAK,IAAI,GAAG,IAAI;AAE9C;AAAA;AAGJ;AAAA;AAAA;AAKR,kBAAI,IAAI;AAKR,kBAAI,SAAS,OAAO,SAAS,OAAO,OAAO;AAAA,gBACvC,UAAU,WAAY;AAClB,uBAAK,QAAQ,IAAI,UAAU,KAAK,EAAE,MAAM;AAAA;AAAA,gBAG5C,iBAAiB,SAAU,GAAG,QAAQ;AAElC,sBAAI,KAAI,KAAK,MAAM;AAGnB,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AACV,sBAAI,IAAI,GAAE;AAGV,2BAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AACzB,wBAAI,IAAI,IAAI;AACR,wBAAE,KAAK,EAAE,SAAS,KAAK;AAAA,2BACpB;AACH,0BAAI,UAAU,EAAE,IAAI;AACpB,0BAAI,SAAY,YAAW,KAAO,YAAY,KAC9B,YAAW,KAAO,YAAY,MAC9B,YAAY;AAE5B,0BAAI,UAAU,EAAE,IAAI;AACpB,0BAAI,SAAY,YAAW,KAAO,YAAY,MAC9B,YAAW,KAAO,YAAY,MAC9B,YAAY;AAE5B,wBAAE,KAAK,SAAS,EAAE,IAAI,KAAK,SAAS,EAAE,IAAI;AAAA;AAG9C,wBAAI,KAAO,IAAI,IAAM,CAAC,IAAI;AAC1B,wBAAI,MAAO,IAAI,IAAM,IAAI,IAAM,IAAI;AAEnC,wBAAI,SAAW,MAAK,KAAO,MAAM,KAAQ,MAAK,KAAO,MAAM,MAAS,MAAK,KAAO,MAAM;AACtF,wBAAI,SAAW,MAAK,KAAO,MAAM,KAAQ,MAAK,KAAO,MAAM,MAAS,MAAK,IAAO,MAAM;AAEtF,wBAAI,KAAK,IAAI,SAAS,KAAK,EAAE,KAAK,EAAE;AACpC,wBAAI,KAAK,SAAS;AAElB,wBAAI;AACJ,wBAAI;AACJ,wBAAI;AACJ,wBAAK,IAAI,KAAM;AACf,wBAAI;AACJ,wBAAI;AACJ,wBAAI;AACJ,wBAAK,KAAK,KAAM;AAAA;AAIpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AACpB,qBAAE,KAAM,GAAE,KAAK,IAAK;AAAA;AAAA,gBAGxB,aAAa,WAAY;AAErB,sBAAI,OAAO,KAAK;AAChB,sBAAI,YAAY,KAAK;AAErB,sBAAI,aAAa,KAAK,cAAc;AACpC,sBAAI,YAAY,KAAK,WAAW;AAGhC,4BAAU,cAAc,MAAM,OAAS,KAAK,YAAY;AACxD,4BAAa,aAAY,OAAQ,KAAM,KAAK,MAAM,MAAK,MAAM,aAAa;AAC1E,4BAAa,aAAY,OAAQ,KAAM,KAAK,MAAM;AAClD,uBAAK,WAAW,UAAU,SAAS;AAGnC,uBAAK;AAGL,yBAAO,KAAK;AAAA;AAAA,gBAGhB,OAAO,WAAY;AACf,sBAAI,QAAQ,OAAO,MAAM,KAAK;AAC9B,wBAAM,QAAQ,KAAK,MAAM;AAEzB,yBAAO;AAAA;AAAA;AAkBf,gBAAE,SAAS,OAAO,cAAc;AAgBhC,gBAAE,aAAa,OAAO,kBAAkB;AAAA,eAC1C;AAGF,mBAAO,SAAS;AAAA;AAAA;AAAA,QAMV,SAAS,SAAQ,UAAS,qBAAqB;AAEtD;AAAC,UAAC,UAAU,MAAM,SAAS;AAC1B,gBAAI,MAAM;AAET,sBAAO,UAAU,WAAU,QAAQ,oBAAoB;AAAA,mBAEnD;AAAA;AAAA,aACJ,MAAM,SAAU,UAAU;AAE3B,YAAC,YAAY;AAET,kBAAI,IAAI;AACR,kBAAI,QAAQ,EAAE;AACd,kBAAI,OAAO,MAAM;AACjB,kBAAI,QAAQ,EAAE;AACd,kBAAI,OAAO,MAAM;AACjB,kBAAI,SAAS,EAAE;AAKf,kBAAI,OAAO,OAAO,OAAO,KAAK,OAAO;AAAA,gBAWjC,MAAM,SAAU,QAAQ,KAAK;AAEzB,2BAAS,KAAK,UAAU,IAAI,OAAO;AAGnC,sBAAI,OAAO,OAAO,UAAU;AACxB,0BAAM,KAAK,MAAM;AAAA;AAIrB,sBAAI,kBAAkB,OAAO;AAC7B,sBAAI,uBAAuB,kBAAkB;AAG7C,sBAAI,IAAI,WAAW,sBAAsB;AACrC,0BAAM,OAAO,SAAS;AAAA;AAI1B,sBAAI;AAGJ,sBAAI,OAAO,KAAK,QAAQ,IAAI;AAC5B,sBAAI,OAAO,KAAK,QAAQ,IAAI;AAG5B,sBAAI,YAAY,KAAK;AACrB,sBAAI,YAAY,KAAK;AAGrB,2BAAS,IAAI,GAAG,IAAI,iBAAiB,KAAK;AACtC,8BAAU,MAAM;AAChB,8BAAU,MAAM;AAAA;AAEpB,uBAAK,WAAW,KAAK,WAAW;AAGhC,uBAAK;AAAA;AAAA,gBAUT,OAAO,WAAY;AAEf,sBAAI,SAAS,KAAK;AAGlB,yBAAO;AACP,yBAAO,OAAO,KAAK;AAAA;AAAA,gBAevB,QAAQ,SAAU,eAAe;AAC7B,uBAAK,QAAQ,OAAO;AAGpB,yBAAO;AAAA;AAAA,gBAiBX,UAAU,SAAU,eAAe;AAE/B,sBAAI,SAAS,KAAK;AAGlB,sBAAI,YAAY,OAAO,SAAS;AAChC,yBAAO;AACP,sBAAI,OAAO,OAAO,SAAS,KAAK,MAAM,QAAQ,OAAO;AAErD,yBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAUb,SAAS,SAAQ,UAAS;AAEjC,kBAAO,UAAU,QAAQ;AAAA;AAAA,QAIlB,SAAS,SAAQ,qBAAqB,qBAAqB;AAElE;AAEA,8BAAoB,EAAE;AAGtB,cAAI,WAAW;AAAA,YACd,OAAO,YAAY,QAAQ,SAAS;AAAA,YACpC,eAAe;AAAA,YACf,WAAW;AAAA,YACX,YAAY;AAAA,YACZ,WAAW,oBAAoB;AAAA,YAC/B,uBAAuB;AAAA,YACvB,YAAY,oBAAoB,GAAG;AAAA,YACnC,SAAS,oBAAoB;AAAA,YAC7B,gBAAgB;AAAA,YAChB,cAAc;AAAA,YACd,UAAU,QAAQ;AAAA,YAClB,SAAS,oBAAoB,GAAG;AAAA,YAChC,gBAAgB,OAAO;AAAA,YACvB,UAAU,oBAAoB,GAAG;AAAA,YACjC,kBAAkB;AAAA,YAClB,iBAAiB,SAAS,KAAK,UAAU;AACxC,kBAAI,QAAQ,oBAAoB,GAAG,YAAY,IAAI;AACnD,kBAAI,IAAI;AACR,kBAAG,UAAU;AACZ,yBAAS;AAAA;AAAA;AAAA,YAGX,SAAS,UAAU,OAAO;AAAA;AAGE,cAAI,WAAY;AAG7C,cAAI,WAAW,oBAAoB;AACnC,cAAI,mBAAgC,oCAAoB,EAAE;AAG1D,cAAI,cAAe,WAAW;AAC7B,oCAAuB;AAAA;AAEvB,mCAAuB,IAAI;AAAE,qBAAO,OAAO,QAAQ,OAAO,UAAa,GAAG,gBAAgB;AAAA;AAI1F,gBAAI,WAAW,aAAY,WAAW,SAAS,KAAK;AAAE,qBAAO,OAAO,SAAS,QAAQ,cAAc,QAAQ,YAAY,OAAO;AAAA;AAE9H,gBAAI,WAAW,aAAY,WAAW,SAAS,KAAK;AACnD,kBAAG,OAAO,SAAS,MAAM;AACxB,uBAAO;AAAA;AAER,qBAAO,OAAO,KAAK;AAAA;AAGpB,yBAAY,gBAAgB,SAAS,KAAK;AAAE,qBAAO,SAAS,KAAK;AAAA;AAEjE,yBAAY,eAAe,SAAS,KAAK;AAAE,qBAAO,SAAS,KAAK,SAAS;AAAA;AAEzE,yBAAY,eAAe,SAAS,QAAQ;AAAE,qBAAO,OAAO,KAAK,QAAQ;AAAA;AAEzE,yBAAY,YAAY,SAAS,KAAK;AAAE,qBAAO,SAAS,KAAK,SAAS;AAAA;AAEtE,yBAAY,YAAY,SAAS,QAAQ;AAAE,qBAAO,OAAO,KAAK,QAAQ;AAAA;AAEtE,yBAAY,aAAa,SAAS,QAAQ;AAAE,qBAAO,OAAO,KAAK,QAAQ;AAAA;AAOvE,yBAAY,aAAa,SAAS,KAAK;AACtC,kBAAG,CAAC,SAAS,MAAM;AAClB,sBAAM,IAAI,MAAM;AAAA;AAEjB,qBAAO,SAAS,KAAK,SAAS;AAAA;AAG/B,yBAAY,gBAAgB,SAAS,MAAM,MAAM;AAChD,kBAAG,CAAC;AAAM,uBAAO;AACjB,kBAAG,CAAC;AAAM,uBAAO;AACjB,qBAAO,KAAK,QAAQ;AAAA;AAGrB,yBAAY,aAAa,SAAS,QAAQ;AACzC,qBAAO,OAAO;AAAA;AAIf,yBAAY,qBAAqB,SAAS,YAAY;AACrD,qBAAO,SAAS,WAAW;AAAA;AAG5B,mBAAO;AAAA;AAGqB,cAAI,cAAe;AAKhD,cAAI,gBAAiB,WAAW;AAC/B,gBAAI,eAAe;AAGnB,gBAAI,OAAO,WAAW,eAAe,OAAO,sBAAsB,eAC/D,OAAO,WAAW,OAAO,QAAQ,OAAQ,OAAO,OAAO,QAAQ,IAAI,UAAU,YAAsC;AACrH,8BAAgB,WAAW;AAAE,wBAAQ,IAAI,MAAM,SAAS;AAAA;AACxD,4BAAc,QAAQ,OAAO,WAAW;AAAE,wBAAQ,KAAK,MAAM,SAAS;AAAA,kBAAgB;AAAA,uBAC7E,OAAO,WAAW,OAAO,QAAQ,KAAK;AAG/C,8BAAgB,cAAc,WAAW;AAAE,yBAAS,UAAU,MAAM,KAAK,QAAQ,KAAK,SAAS;AAAA;AAAA,mBACzF;AAEN,8BAAgB,cAAc,WAAW;AAAA;AAAA;AAG1C,yBAAa,KAAK,OAAO;AACxB,qBAAQ,SAAQ,KAAK,MAAM,KAAI,UAAS;AAAA;AAGzC,gBAAI,WAAY,GAChB,YAAY,GACZ,YAAY,GACZ,YAAY,GACZ,YAAY;AAEZ,gBAAI,cAAc,WAClB,YAAc;AAEd,gBAAI,WAAW;AAEf,gCAAoB,QAAQ;AAC3B,qBAAO,SAAS,gBACf,SAAS,KAAK;AACb,oBAAI,OAAO,IAAI;AACf,uBAAO,IAAI,KAAK,cAAc,MAAM,IAAI,KAAK,gBAAgB,MAAM,IAAI,KAAK,gBAAgB,MAAM,IAAI,KAAK,mBAAmB,QAAQ,MAAM;AAAA,kBACzI;AAAA;AAGN,gBAAI,aAAa,WAAW,gBAC3B,kBAAkB,WAAW;AAG9B,4BAAgB,MAAM;AAAA;AAGtB,mBAAO,WAAc,UACrB,OAAO,YAAc,WACrB,OAAO,YAAc,WACrB,OAAO,YAAc,WACrB,OAAO,YAAc;AAErB,mBAAO,cAAc,aACrB,OAAO,YAAc;AAGrB,mBAAO,YAAY,SAAS,OAAO,QAAQ,SAAS;AACnD,kBAAI,OAAO,UAAU,QAAQ;AAC5B,gBAAC,WAAU,YAAY,kBAAkB,YAAY,WAAW,SAAS,OAAO;AAAA;AAAA;AAIlF,mBAAO,aAAa,SAAS,UAAU,aAAa;AACnD,qBAAO,kBAAkB,UAAU,iBAAiB,cAAc;AAAA;AAGnE,mBAAO,oBAAoB,SAAS,UAAU,KAAK;AAClD,kBAAI,OAAO,UAAU,YAAY;AAChC,gCAAgB,kCAAkC,WAAW,gEAAgE;AAAA;AAAA;AAM/H,mBAAO,YAAY,SAAS,OAAO;AAClC,qBAAO,SAAS;AAAA;AAGjB,mBAAO,SAAS,SAAS,OAAO,SAAS;AACxC,kBAAG,UAAU;AAAW,2BAAW;AACnC,kBAAG,YAAY;AAAW,6BAAa,kBAAkB;AAAA;AAG1D,mBAAO;AAAA;AAGqB,cAAI,cAAe;AAKhD,cAAI,sBAAuB,WAAW;AAErC,gCAAmB,SAAS,MAAM,YAAY,OAAO;AACpD,mBAAK,UAAU;AACf,mBAAK,OAAO;AACZ,mBAAK,aAAa;AAClB,mBAAK,QAAQ;AACb,mBAAK,OAAO;AAAA;AAGb,uBAAU,UAAU,WAAW,WAAW;AACzC,kBAAI,SAAS,MAAM,KAAK,YAAY;AACpC,kBAAG,KAAK;AAAS,0BAAU,OAAO,KAAK;AACvC,kBAAG,KAAK;AAAY,0BAAU,kBAAkB,KAAK;AACrD,kBAAG,KAAK;AAAM,0BAAU,YAAY,KAAK;AACzC,kBAAG,KAAK;AAAO,0BAAU,aAAa,MAAM,aAAa,KAAK;AAC9D,kBAAG,KAAK,QAAQ,CAAE,MAAK,WAAW,KAAK,QAAQ,QAAQ,kBAAkB;AAAK,0BAAU,WAAW,KAAK,OAAO;AAC/G,wBAAU;AACV,qBAAO;AAAA;AAGR,uBAAU,aAAa,SAAS,QAAQ;AACvC,kBAAI,SAAS,MAAM,MAAM,IAAI,cAAa;AAC1C,kBAAI,kBAAkB,OAAO;AAE5B,uBAAO,UAAU,OAAO;AAAA;AAEzB,kBAAG,OAAO,QAAQ,CAAC,OAAO,MAAM;AAC/B,uBAAO,OAAO,gCAAgC,OAAO;AAAA;AAEtD,qBAAO;AAAA;AAGR,mBAAO;AAAA;AAGqB,cAAI,YAAa;AAG9C,cAAI,YAAY,oBAAoB;AAWpC,2BAAiB,EAAE,cAA2B;AAC9C,2BAAiB,EAAE,YAA2B;AAC9C,2BAAiB,EAAE,gBAA2B;AAC9C,2BAAiB,EAAE,iBAA2B,CAAC,uBAAuB,uBAAuB,uBAAuB,uBAAuB;AAC3I,2BAAiB,EAAE,OAA2B;AAC9C,2BAAiB,EAAE,WAA2B;AAC9C,2BAAiB,EAAE,WAAW;AAAA,YAE7B,0BAA6B;AAAA,YAC7B,uBAA6B;AAAA,YAE7B,oBAA6B;AAAA,YAC7B,qBAA6B;AAAA,YAC7B,sBAA6B;AAAA,YAE7B,oBAA6B;AAAA,YAC7B,wBAA6B;AAAA,YAC7B,aAA6B;AAAA,YAC7B,0BAA6B;AAAA,YAC7B,sBAA6B;AAAA;AAE9B,2BAAiB,EAAE,oBAAoB;AACvC,2BAAiB,EAAE,iBAAoB;AAEvC,2BAAiB,EAAE,oBAAoB;AACvC,2BAAiB,EAAE,wBAAwB;AAAA,YAC1C,iBAAiB;AAAA,YACjB,gBAAgB;AAAA;AAGjB,2BAAiB,EAAE,UAAmB,UAAU;AAChD,2BAAiB,EAAE,aAAmB;AAEtC,cAAI,QAAQ,aAAa,iBAAiB,EAAE;AAC5C,cAAI,SAAS,OAAO;AACnB,qBAAS,MAAM,SAAS;AAAA;AAEzB,2BAAiB,EAAE,QAAQ;AAE3B,2BAAiB,EAAE,UAAU,SAAS,SAAS,MAAM,IAAI;AACxD,gBAAG;AACF,qBAAS,QAAQ,QAAQ,YAAa,QAAQ,gBAAiB,QAAQ,QAAQ;AAAA;AAE/E,qBAAO,QAAQ,QAAQ;AAExB,mBAAO;AAAA;AAGR,2BAAiB,EAAE,UAAU,SAAS,SAAS,KAAK;AACnD,mBAAQ,OAAO,QAAQ,MAAO,QAAQ,UAAU,QAAQ;AAAA;AAGzD,2BAAiB,EAAE,gBAAgB,SAAS,SAAS;AACpD,mBAAO,QAAQ,MAAM,aAAa;AAAA;AAInC,2BAAiB,EAAE,2BAA2B,SAAS,aAAa;AACnE,mBAAO;AAAA,cACN,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA,cACd,cAAc;AAAA;AAAA;AAIhB,2BAAiB,EAAE,mBAAmB,SAAS,SAAS;AACvD,gBAAI,gBAAgB,QAAQ,eAC3B,oBAAoB,OAAO,QAAQ,sBAAuB,cAAc,QAAQ,oBAAoB,iBAAiB,EAAE;AAExH,mBAAO,gBAAgB,MAAM,WAAW,eAAe,qBAAqB;AAAA;AAG7E,2BAAiB,EAAE,WAAW,SAAS,SAAS;AAC/C,mBAAO,CAAC,QAAQ,UAAU,OAAO,iBAAiB,EAAE,iBAAiB;AAAA;AAGtE,6BAAmB,MAAM;AACxB,gBAAG,OAAO,SAAS,UAAU;AAC5B,oBAAM,IAAI,UAAU,kCAAkC,OAAO,MAAM,KAAO;AAAA;AAC1E;AACD,gBAAG,CAAC,KAAK,QAAQ;AAChB,oBAAM,IAAI,UAAU,gCAAgC,KAAO;AAAA;AAC3D;AAAA;AAGF,2BAAiB,EAAE,mBAAmB,SAAS,SAAS;AACvD,gBAAG,OAAO,WAAW,UAAU;AAC9B,qBAAQ,QAAQ,QAAQ,QAAQ,KAAM,EAAC,OAAO,YAAW,EAAC,KAAK;AAAA;AAEhE,mBAAO;AAAA;AAGR,2BAAiB,EAAE,mBAAmB,SAAS,SAAS;AAEvD,gBAAG,QAAQ,MAAM;AAChB,0BAAY,WAAW,QAAQ;AAC/B,sBAAQ,WAAW,QAAQ;AAAA;AAE5B,gBAAG,QAAQ,QAAQ;AAClB,0BAAY,WAAW,UAAU;AACjC,sBAAQ,eAAe,QAAQ;AAAA;AAEhC,gBAAG,QAAQ,aAAa;AACvB,0BAAY,WAAW,eAAe;AACtC,sBAAQ,gBAAgB,QAAQ;AAAA;AAGjC,gBAAG,QAAQ,yBAAyB;AAEnC,kBAAG,QAAQ,eAAe;AACzB,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E,sBAAM,IAAI,UAAU,KAAK,KAAO;AAAA;AAIjC,kBAAG,QAAQ,QAAQ,QAAQ,SAAS;AACnC,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E,sBAAM,IAAI,UAAU,KAAK,KAAO;AAAA;AAIjC,kBAAG,QAAQ,aAAa;AACvB,4BAAY,kBAAkB,2BAA2B;AAAA,qBACnD;AACN,4BAAY,WAAW,2BAA2B;AAAA;AAInD,sBAAQ,gBAAgB,iBAAiB,EAAE;AAAA;AAG5C,gBAAG,QAAQ,YAAY,MAAM;AAC5B,0BAAY,WAAW,mBAAmB;AAC1C,sBAAQ,UAAU,SAAS,uBAAuB,IAAI;AAAE,mBAAG;AAAA;AAAA;AAG5D,gBAAG,OAAO,QAAQ,YAAY,cAAc,QAAQ,kBAAkB,MAAM;AAC3E,0BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E,sBAAQ,UAAU;AAAA;AAGnB,gBAAG,CAAE,oBAAmB,UAAU;AAGjC,sBAAQ,gBAAgB,CAAC,QAAQ;AAAA;AAGlC,gBAAG,QAAQ,cAAc,MAAM,MAAM,QAAQ,YAAY,QAAQ;AAChE,0BAAY,WAAW,uBAAuB;AAC9C,oBAAM,eAAe,QAAQ,YAAY;AACzC,sBAAQ,WAAW,KAAK;AAAA;AAGzB,gBAAG,CAAE,oBAAmB;AACvB,sBAAQ,gBAAgB;AAGzB,gBAAI,cAAe,QAAQ,eAAe,OAAO,QAAQ,aAAa,iBAAkB,iBAAiB,EAAE;AAC3G,gBAAI,aAAa,CAAC,eAAgB,gBAAgB;AAElD,gBAAG,CAAC,QAAQ,iBAAiB,CAAC,QAAQ,YAAY,CAAC,QAAQ,gBAAgB,CAAC,QAAQ,QAAQ,CAAC,QAAQ,SAAS;AAC7G,sBAAQ,gBAAgB,aAAa,iBAAiB,EAAE,iBAAiB,iBAAiB,EAAE,yBAAyB;AAAA;AAGtH,gBAAG,CAAC,QAAQ,cAAc;AAGzB,kBAAG,QAAQ,UAAU;AACpB,4BAAY,UAAU,YAAY,UAAU,6BAA6B,yBAAyB,QAAQ,WAAW,gEAAgE,QAAQ,WAAW;AACxM,wBAAQ,eAAe,QAAQ;AAAA,qBACzB;AACN,wBAAQ,eAAe,aAAa,iBAAiB,EAAE,gBAAgB,cAAc,MAAM,iBAAiB,EAAE;AAAA;AAAA;AAIhH,gBAAG,CAAC,QAAQ,UAAU;AACrB,sBAAQ,WAAW,aAAa,iBAAiB,EAAE,YAAY,cAAc,MAAM,iBAAiB,EAAE;AAAA;AAGvG,kBAAM,WAAY,SAAQ,iBAAiB,IAAI,OAAO,QAAQ,UAAU,QAAQ,eAAe;AAE/F,oBAAQ,OAAO,QAAQ,QAAQ,iBAAiB,EAAE;AAClD,oBAAQ,UAAU,QAAQ,WAAW,iBAAiB,EAAE;AACxD,oBAAQ,iBAAiB,QAAQ,kBAAkB,iBAAiB,EAAE;AACtE,gBAAG,CAAE,UAAS;AAAU,sBAAQ,MAAM;AAGtC,oBAAQ,WAAW;AACnB,qBAAQ,QAAQ,iBAAiB,EAAE,UAAU;AAC5C,sBAAQ,SAAS,QAAQ,QAAQ,SAAS,iBAAiB,EAAE,SAAS;AAAA;AACtE;AAED,gBAAG,uBAAuB,SAAS;AAClC,sBAAQ,oBAAoB,SAAS,kBAAkB,QAAQ;AAAA,mBACzD;AACN,sBAAQ,oBAAoB,SAAS;AAAA;AAGtC,gBAAG,QAAQ,UAAU;AACpB,kBAAI,UAAU,QAAQ,UAAU,QAAQ,WAAW;AACnD,sBAAQ,qBAAqB,YAAY,aAAa,YAAY,WAAW,QAAQ;AAAA;AAGtF,gBAAG,CAAE,+BAA8B,UAAU;AAC5C,sBAAQ,2BAA2B;AAAA;AAGpC,gBAAG,QAAQ,YAAY,CAAC,SAAS,SAAS;AACzC,0BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E,sBAAQ,WAAW;AAAA;AAGb,gBAAG,QAAQ,QAAQ;AACjB,uBAAQ,OAAO,QAAQ,QAAQ;AAC7B,iCAAiB,EAAE,SAAS,MAAM,MAAM,MAAM,QAAQ,OAAO;AAAA;AAAA;AAIxE,mBAAO;AAAA;AAGqB,cAAI,gBAAiB,iBAAiB;AAOnE,cAAI,uBAAuB,OAAO,UAAU;AAE5C,cAAI,cAAe,WAAW;AAC7B,gBAAI,UAAU,SAAS;AAEvB,6BAAiB;AAAA;AAEjB,gCAAoB,UAAU;AAC7B,qBAAO,KAAK,MAAM,KAAK,WAAW,SAAS;AAAA;AAS5C,kBAAM,QAAQ,SAAS,QAAQ;AAC9B,uBAAQ,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,oBAAI,SAAS,UAAU;AACvB,oBAAG,CAAC,QAAQ;AAAE;AAAA;AACd,yBAAQ,OAAO,QAAQ;AACtB,sBAAG,qBAAqB,KAAK,QAAQ,MAAM;AAC1C,2BAAO,OAAO,OAAO;AAAA;AAAA;AAAA;AAIxB,qBAAO;AAAA;AASR,kBAAM,OAAO,SAAS,KAAK;AAC1B,qBAAO,MAAM,MAAM,IAAI;AAAA;AAOxB,kBAAM,UAAU,MAAM,WAAW,SAAS,IAAI;AAC7C,qBAAO,OAAO,UAAU,SAAS,KAAK,OAAO;AAAA;AAQ9C,kBAAM,cAAc,SAAS,KAAK;AACjC,kBAAG,MAAM,WAAW,MAAM;AACzB,uBAAO;AAAA;AAER,kBAAG,MAAM,QAAQ,MAAM;AACtB,uBAAO;AAAA;AAER,qBAAO,CAAC;AAAA;AAIT,kBAAM,WAAW,SAAS,IAAI;AAC7B,qBAAO,OAAO,UAAU,SAAS,KAAK,OAAO;AAAA;AAQ9C,kBAAM,UAAU,SAAS,IAAI;AAC5B,uBAAQ,QAAQ;AACf,uBAAO;AACR,qBAAO;AAAA;AAGR,kBAAM,eAAe,SAAS,IAAI,UAAU;AAC3C,uBAAQ,QAAQ,IAAI;AACnB,oBAAG,SAAS,UAAU;AACrB,yBAAO;AAAA;AAAA;AAGT,qBAAO;AAAA;AAYR,kBAAM,aAAa,SAAS,KAAK;AAChC,qBAAO,QAAQ,QAAQ,QAAQ;AAAA;AAUhC,kBAAM,eAAe,SAAS,IAAI;AACjC,kBAAI,SAAS,IAAI;AACjB,uBAAQ,QAAQ;AACf,uBAAO,QAAQ,GAAG;AACnB,qBAAO;AAAA;AAYR,kBAAM,oBAAoB,SAAS,IAAI,eAAe;AACrD,2BAAa;AAAA;AACb,gBAAE,YAAY;AACd,kBAAI,SAAS,IAAI;AACjB,kBAAG;AACF,sBAAM,MAAM,QAAQ;AACrB,qBAAO;AAAA;AAUR,kBAAM,WAAW,SAAS,YAAY,SAAS,MAAM,WAAW;AAC/D,mBAAK,SAAS;AACd,mBAAK,YAAY,MAAM,kBAAkB,UAAU,WAAW,EAAE,aAAa;AAAA;AAS9E,kBAAM,gBAAgB,SAAS,IAAI,KAAK;AACvC,uBAAQ,KAAK,IAAI;AAChB,oBAAG,GAAG,MAAM;AACX,yBAAO;AAAA;AAET,qBAAO;AAAA;AAGR,kBAAM,YAAY,SAAS,KAAK,IAAI;AAAE,qBAAO,MAAM,QAAQ,MAAM,MAAM,aAAa,KAAK,MAAM,MAAM,eAAe,KAAK;AAAA;AAEzH,kBAAM,eAAe,SAAS,MAAM,MAAM;AACzC,kBAAI,SAAS;AACb,uBAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,oBAAI,SAAS,KAAK;AAClB,oBAAG,MAAM,WAAW,MAAM,WAAW;AACpC,yBAAO,KAAK;AAAA;AAEd,qBAAO;AAAA;AAGR,kBAAM,iBAAiB,SAAS,KAAK,IAAI;AACxC,kBAAI,SAAS;AACb,uBAAQ,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,oBAAI,SAAS,IAAI;AACjB,oBAAG,UAAU;AACZ,yBAAO,KAAK;AAAA;AAEd,qBAAO;AAAA;AAGR,kBAAM,cAAc,SAAS,MAAM,MAAM;AACxC,kBAAI,SAAS;AACb,uBAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,oBAAI,UAAU,KAAK;AACnB,oBAAG,MAAM,WAAW,MAAM,YAAY;AACrC,yBAAO,KAAK;AAAA;AAEd,qBAAO;AAAA;AAGR,kBAAM,aAAa,MAAM,UAAU,UAChC,SAAS,KAAK,MAAM,WAAW;AAChC,qBAAO,IAAI,QAAQ,MAAO;AAAA,gBAEzB,SAAS,KAAK,MAAM,WAAW;AAChC,0BAAY,aAAa;AACzB,kBAAI,MAAM,IAAI;AACd,qBAAK,YAAY,KAAK,aAAa;AAClC,oBAAG,IAAI,eAAe,MAAM;AAC3B,yBAAO;AAAA;AAAA;AAGT,qBAAO;AAAA;AAGT,kBAAM,QAAQ,SAAS,KAAK,KAAK;AAChC,qBAAO,MAAM,WAAW,KAAK,SAAS;AAAA;AAGvC,kBAAM,iBAAiB,SAAS,KAAK,KAAK;AACzC,kBAAI,MAAM,MAAM,WAAW,KAAK;AAChC,kBAAI,MAAO,OAAO;AAClB,kBAAG;AACF,oBAAI,OAAO,KAAK;AACjB,qBAAO;AAAA;AAGR,kBAAM,kBAAkB,SAAS,KAAK,KAAK;AAC1C,kBAAI,SAAS,IAAI;AACjB,oBAAM,eAAe,QAAQ;AAC7B,qBAAO;AAAA;AAUR,kBAAM,YAAY,SAAS,IAAI,SAAS;AACvC,kBAAI,SAAS;AACb,uBAAQ,QAAQ,IAAI;AACnB,oBAAG,WAAW,CAAC,qBAAqB,KAAK,IAAI;AAAO;AACpD,uBAAO,KAAK;AAAA;AAEb,qBAAO;AAAA;AAUR,kBAAM,cAAc,SAAS,IAAI,SAAS;AACzC,kBAAI,SAAS;AACb,uBAAQ,QAAQ,IAAI;AACnB,oBAAG,WAAW,CAAC,qBAAqB,KAAK,IAAI;AAAO;AACpD,uBAAO,KAAK,GAAG;AAAA;AAEhB,qBAAO;AAAA;AAGR,kBAAM,uBAAuB,SAAS,IAAI,IAAI;AAC7C,uBAAS,QAAQ,IAAI;AACpB,oBAAI,qBAAqB,KAAK,IAAI,SAAS,GAAG,OAAO;AACpD,qBAAG;AAAA;AAAA;AAAA;AAKN,kBAAM,aAAa,MAAM,UAAU,UAClC,SAAS,KAAK,IAAI;AACjB,kBAAI,QAAQ;AAAA,gBAEb,SAAS,KAAK,IAAI;AACjB,kBAAI,MAAM,IAAI;AACd,uBAAQ,IAAI,GAAG,IAAI,KAAK,KAAK;AAC5B,mBAAG,IAAI,IAAI,GAAG;AAAA;AAAA;AAKjB,kBAAM,iBAAiB,SAAS,KAAK,IAAI;AACxC,qBAAO,MAAM,WAAW,IAAI,SAAS;AAAA;AAGtC,kBAAM,SAAS,MAAM,UAAU,MAC9B,SAAS,KAAK,IAAI;AACjB,qBAAO,IAAI,IAAI;AAAA,gBAEhB,SAAS,KAAK,IAAI;AACjB,kBAAI,SAAS,IACZ,MAAM,IAAI;AACX,uBAAQ,IAAI,GAAG,IAAI,KAAK,KAAK;AAC5B,uBAAO,KAAK,GAAG,IAAI,IAAI,GAAG;AAAA;AAE3B,qBAAO;AAAA;AAGT,kBAAM,YAAY,MAAM,UAAU,SACjC,SAAS,KAAK,IAAI;AACjB,qBAAO,IAAI,OAAO;AAAA,gBAEnB,SAAS,KAAK,IAAI;AACjB,kBAAI,SAAS,IACZ,MAAM,IAAI;AACX,uBAAQ,IAAI,GAAG,IAAI,KAAK,KAAK;AAC5B,oBAAG,GAAG,IAAI,KAAK;AACd,yBAAO,KAAK,IAAI;AAAA;AAAA;AAGlB,qBAAO;AAAA;AAGT,kBAAM,WAAW,MAAM,UAAU,QAChC,SAAS,KAAK,IAAI;AACjB,qBAAO,IAAI,MAAM;AAAA,gBACd,SAAS,KAAK,IAAI;AACrB,kBAAI,MAAM,IAAI;AACd,uBAAQ,IAAI,GAAG,IAAI,KAAK,KAAK;AAC5B,oBAAG,CAAC,GAAG,IAAI,IAAI,GAAG,MAAM;AACvB,yBAAO;AAAA;AACP;AAAA;AAEF,qBAAO;AAAA;AAGT,kBAAM,UAAU,SAAS,KAAK,MAAM;AACnC,kBAAG,IAAI,WAAW,GAAG;AACpB,uBAAO;AAAA;AAER,kBAAI,QAAQ,IAAI,GAAG;AACnB,qBAAO,MAAM,SAAS,KAAK,SAAS,MAAM;AACzC,uBAAO,KAAK,UAAU;AAAA;AAAA;AAIxB,kBAAM,WAAW,SAAS;AAE1B,gBAAI,eAAe;AAAA,cAClB,MAAQ;AAAA,cACR,OAAQ;AAAA,cACR,KAAQ;AAAA,cACR,MAAQ;AAAA,cACR,SAAS;AAAA;AAGV,kBAAM,oBAAoB,SAAS,QAAQ;AAC1C,kBAAI,SAAS,aAAa,UAAU;AACpC,qBAAO;AAAA,gBACN;AAAA,gBACA,kBAAkB,cAAc;AAAA,gBAChC,cAAc,cAAc;AAAA;AAAA;AAI9B,kBAAM,qBAAqB,SAAS,QAAQ;AAC3C,kBAAI,QAAQ;AACZ,uBAAS,cAAc,aAAa,UAAU;AAE9C,qBAAO;AAAA,gBACN;AAAA,gBACA,gBAAgB;AAAA,gBAChB,kBAAkB,cAAc;AAAA,gBAChC,cAAc,cAAc;AAAA;AAAA;AAI9B,kBAAM,sBAAsB,SAAS,KAAK;AACzC,qBAAO,IAAI,OAAO,WAAW,MAAM,GAAG;AAAA;AAGvC,kBAAM,gBAAgB,SAAS,QAAQ;AACtC,kBAAI,QAAQ;AACZ,kBAAG,QAAQ;AACV,yBAAQ,OAAO;AACd,wBAAM,KAAK,mBAAmB,OAAO,MAAM,mBAAmB,OAAO;AAAA;AAEvE,qBAAO,MAAM,SAAS,MAAM,MAAM,KAAK,OAAO;AAAA;AAG/C,kBAAM,mBAAmB,SAAS,OAAO;AACxC,kBAAI,OACH,SAAS,uBACT,SAAS;AAEV,qBAAO,QAAQ,OAAO,KAAK;AAC1B,uBAAO,mBAAmB,MAAM,OAAO,mBAAmB,MAAM;AAEhE,qBAAO;AAAA;AAGT,kBAAM,MAAM,KAAK,OAAO,WAAW;AAElC,qBAAO,IAAI,OAAO;AAAA;AAGnB,kBAAM,UAAU,SAAS;AAEzB,kBAAM,cAAc,SAAS,KAAK;AACjC,qBAAO,IAAI,YAAY,QAAQ;AAAA;AAGhC,kBAAM,eAAe,SAAS,GAAG;AAGhC,qBAAQ,KAAM,OAAM,YAAY,MAC/B,EAAE,YAAY,QAAQ,WACtB,aAAa,SACb,EAAE,aACF,MAAM,QAAQ;AAAA;AAGhB,kBAAM,cAAc,SAAS,MAAM;AAClC,kBAAG,YAAY,SAAS,OAAO;AAC9B,uBAAO,KAAK;AAAA,yBACH,OAAO,SAAS,UAAU;AACnC,uBAAO;AAAA,qBACD;AACN,uBAAO,SAAS,QAAQ;AAAA;AAAA;AAK1B,kBAAM,gBAAgB,SAAS,MAAM;AACpC,kBAAG,YAAY,SAAS,OAAO;AAC9B,uBAAO,YAAY,WAAW;AAAA;AAE/B,kBAAG,OAAO,SAAS,UAAU;AAC5B,uBAAO,SAAS,eAAe;AAAA;AAEhC,oBAAM,IAAI,MAAM,8EAA+E,OAAO;AAAA;AAGvG,kBAAM,eAAe,WAAW;AAC/B,qBAAO,OAAO,KAAK,UAAU,OAAO;AAAA;AAMrC,kBAAM,eAAgB,SAAS,mBAAmB,OAAO,eAAe,cACvE,SAAS,UAAU;AAClB,kBAAI,UAAU,IAAI,WAAW;AAC7B,uBAAS,gBAAgB;AACzB,qBAAO,YAAY,aAAa;AAAA,gBAC7B,SAAS,UAAU;AAItB,kBAAI,UAAU,YAAY;AAE1B,kBAAI,SAAS,KAAK,MAAM,WAAW,IAAE;AACrC,kBAAI,SAAS;AACb,uBAAQ,IAAE,GAAG,IAAE,QAAQ,KAAK;AAC3B,0BAAU,QAAQ,WAAW;AAAA;AAE9B,qBAAO;AAAA;AAGT,kBAAM,kBAAmB,SAAS,mBAAmB,OAAO,eAAe,cAC1E,SAAS,UAAU;AAClB,kBAAI,UAAU,IAAI,WAAW;AAC7B,uBAAS,gBAAgB;AACzB,qBAAO,YAAY,UAAU;AAAA,gBAC1B,SAAS,UAAU;AACtB,kBAAI,UAAU,YAAY;AAC1B,kBAAI,SAAS,WAAW;AACxB,kBAAI,SAAS;AACb,uBAAQ,IAAE,GAAG,IAAE,QAAQ,KAAK;AAC3B,0BAAU,QAAQ,WAAW;AAAA;AAE9B,qBAAO;AAAA;AAIT,kBAAM,aAAa,SAAS,KAAK,GAAG;AACnC,kBAAI,WAAW,KAAK,IAAI,GAAG,IAAI,SAC9B,aAAa,IAAI,SACjB,SAAS;AACV,uBAAQ,IAAI,GAAG,IAAI,UAAU,KAAK;AACjC,uBAAO,KAAK,MAAM,oBAAoB;AAAA;AAEvC,qBAAO;AAAA;AAGR,kBAAM,OAAO,OAAO,UAAU,OAAO,SAAS,KAAK;AAClD,qBAAO,IAAI;AAAA,gBACR,SAAS,KAAK;AACjB,qBAAO,IAAI,QAAQ,sCAAsC;AAAA;AAG1D,kBAAM,YAAY,SAAS,IAAI,QAAQ,MAAM;AAC5C,qBAAO,IAAI,QAAQ,SAAS,SAAS,QAAQ;AAC5C,mBAAG,QAAQ,MAAM,IAAI,MAAM,UAAU,MAAM,KAAK,MAAM,OAAO,SAAS,KAAK,KAAK;AAC/E,wBAAM,OAAO,OAAO,QAAQ;AAAA;AAAA;AAAA;AAK/B,kBAAM,aAAa,SAAS,MAAM,QAAQ;AACzC,qBAAQ,UAAU,YAAa,QAAQ,OAAO,QAAQ,KAAK,MAAM,OAAO;AAAA;AAGzE,kBAAM,aAAa,SAAS,MAAM,QAAQ;AACzC,qBAAQ,UAAU,YAAa,QAAQ,OAAO,MAAM,QAAQ,KAAK,UAAU;AAAA;AAG5E,kBAAM,iBAAiB,SAAS,KAAK;AACpC,qBAAO,MAAM,OAAO,KAAK,SAAS,SAAS;AAC1C,uBAAO,WAAW,QAAQ;AAAA;AAAA;AAI5B,kBAAM,iBAAiB,SAAS,KAAK;AACpC,qBAAO,MAAM,OAAO,KAAK,SAAS,SAAS;AAC1C,uBAAO,WAAW,QAAQ;AAAA;AAAA;AAI5B,mBAAO;AAAA;AAGqB,cAAI,QAAS;AAG1C,cAAI,gBAAgB,oBAAoB;AACxC,cAAI,uBAAoC,oCAAoB,EAAE;AAG9D,cAAI,iBAAiB,oBAAoB;AACzC,cAAI,wBAAqC,oCAAoB,EAAE;AAG/D,cAAI,kBAAkB,oBAAoB;AAC1C,cAAI,yBAAsC,oCAAoB,EAAE;AAYhE,cAAI,YAAa,WAAW;AAC3B,gBAAI,UAAU,SAAS;AACvB,gBAAI,OAAO,WAAW;AAAA;AAgBtB,gBAAI,UAAU,SAAS,KAAK,QAAQ,UAAU;AAC7C,yBAAW,YAAY;AACvB,qBAAO,SAAS,KAAK,UAAU,MAAM;AACpC,oBAAG,KAAK;AACP,2BAAS;AACT;AAAA;AAED,oBAAI,aAAa,SAAS,YAAY,UAAU,SAAS;AACzD,oBAAG,cAAc,KAAK;AACrB,0BAAO,QAAQ;AAAA,yBACT;AACJ,6BAAO,KAAK,MAAM;AAClB;AAAA,yBACI;AACJ,6BAAO,QAAQ,OAAO;AAAA;AAExB,sBAAI,QAAQ,KAAK,QAAQ,UAAU,WAAW,KAAK,SAAS,IAAI,UAC/D,QAAQ,0BAA0B,0CAA0C,aAAa,gBAAgB,MAAM,QAAQ,OACvH,QAAQ,qBACR;AAED,2BAAS,OAAO,MAAM,SAAS,MAAM;AACrC;AAAA;AAED,yBAAS,MAAM,MAAM,SAAS,OAAO;AAAA;AAAA;AAIvC,4BAAgB;AAAA;AAEhB,oCAAwB,KAAK;AAC5B,kBAAI,OAAO,IAAI,MACd,aAAa,IAAI;AAClB,qBAAO,SAAS,iBACf,SAAS,kBACT,SAAS,eACT,SAAS,eACT,SAAS,qBACT,SAAS,eACT,SAAS,gBACT,SAAS,kBACR,cAAc,OAAO,cAAc;AAAA;AAGtC,8BAAkB,QAAQ;AAIzB,kBAAI,aAAa,OAAO,YACvB,iBAAiB,cAAc,WAAW,kBAAkB;AAE7D,kBAAG,gBAAgB;AAClB,uBAAO,CAAC,gBAAgB,OAAO,cAAc,iBAAiB,OAAO;AAAA;AAGtE,qBAAO,cAAc,SAAS,OAAO;AAAA;AAEtC,iBAAK,YAAY;AAEjB,iBAAK,UAAU,CAAC,OAAO,UAAU,QAAQ,OAAO;AAChD,iBAAK,qBAAqB,CAAC,OAAO;AAClC,iBAAK,kBAAkB,MAAM,YAAY,KAAK,SAAS,KAAK;AAoB5D,kBAAM,WAAW,KAAK,oBAAoB,SAAS,QAAQ;AAC1D,mBAAK,UAAU,SAAS,MAAM,MAAM,SAAS,QAAQ,UAAU;AAC9D,qBAAK,MAAM,QAAQ,MAAM,MAAM,SAAS,MAAM,QAAQ;AAAA;AAEvD,mBAAK,SAAS,SAAS,SAAS,MAAM,KAAK,SAAS,QAAQ,UAAU;AACrE,qBAAK,MAAM,QAAQ,MAAM,KAAK,SAAS,MAAM,QAAQ;AAAA;AAAA;AAIvD,kBAAM,WAAW,KAAK,iBAAiB,SAAS,QAAQ;AACvD,mBAAK,UAAU,SAAS,MAAM,MAAM,SAAS,MAAM,QAAQ,UAAU;AACpE,qBAAK,MAAM,QAAQ,MAAM,MAAM,SAAS,MAAM,QAAQ;AAAA;AAEvD,mBAAK,SAAS,SAAS,SAAS,MAAM,KAAK,SAAS,MAAM,QAAQ,UAAU;AAC3E,qBAAK,MAAM,QAAQ,MAAM,KAAK,SAAS,MAAM,QAAQ;AAAA;AAAA;AAKvD,iBAAK,QAAQ,SAAS,QAAQ,MAAM,MAAM,SAAS,MAAM,QAAQ,UAAU;AAC1E,kBAAI,cAAe,OAAO,QAAS,aAAc,OAAO,SAAS,MAAM;AAAE,uBAAO,KAAK,QAAQ,QAAQ;AAAA;AACrG,kBAAI,SAAS;AAEb,kBAAI,kBAAkB,KAAK;AAC3B,kBAAG,iBAAiB;AACnB,oBAAG,gBAAgB,aAAa,KAAK,OAAO;AAE3C,uBAAK,MAAM,QAAQ,MAAM,YAAY,gBAAgB,OAAO,SAAS,MAAM,QAAQ,SAAS,KAAK;AAChG,wBAAG,OAAO,eAAe,MAAM;AAE9B,2BAAK,mBAAmB;AACxB,2BAAK,MAAM,MAAM,MAAM;AACvB;AAAA;AAED,6BAAS,MAAM,MAAM;AAAA;AAEtB;AAAA,uBACM;AAEN,uBAAK,mBAAmB;AAAA;AAAA;AAI1B,kBAAI,QAAQ,SAAS;AAGrB,kBAAG,MAAM,UAAU,GAAG;AACrB,qBAAK,MAAM,QAAQ,MAAM,YAAY,MAAM,KAAK,SAAS,MAAM,QAAQ;AACvE;AAAA;AAGD,kBAAI,WAAW,SAAS,gBAAgB,kBAAkB;AACzD,oBAAI,OAAO,eAAe;AAC1B,qBAAK,MAAM,QAAQ,MAAM,YAAY,OAAO,SAAS,MAAM,QAAQ,SAAS,KAAK;AAChF,sBAAG,OAAO,eAAe,QAAQ,eAAe,QAAQ;AACvD,6BAAS,gBAAgB;AACzB;AAAA;AAED,sBAAG,kBAAkB;AAEpB,yBAAK,mBAAmB;AAAA,sBACvB;AAAA,sBACA,YAAY,KAAK,QAAQ,KAAK,QAAQ,SAAS;AAAA;AAAA;AAGjD,2BAAS,MAAM,MAAM;AAAA;AAAA;AAGvB,uBAAS;AAAA;AAGV,iBAAK,QAAQ,SAAS,QAAQ,MAAM,KAAK,SAAS,MAAM,QAAQ,UAAU;AAIzE,kBAAI,eAAgB,QAAQ,KAAK,QAAQ,oBAAqB,cAAc;AAC5E,kBAAI,YAAY,EAAE,SAAS,WAAW,QAAW,cAAc;AAC/D,kBAAI,MAAM;AACT,0BAAU,OAAO;AAAA;AAElB,kBAAG;AACF,0BAAU,eAAe;AAE1B,kBAAI,CAAC,KAAK,OAAO;AAChB,qBAAK,QAAQ;AAAA,kBACZ,MAAM,IAAI,sBAAsB,EAAE,MAAM;AAAA,kBACxC,OAAO,IAAI,uBAAuB,EAAE,MAAM;AAAA;AAAA;AAI5C,wBAAU,QAAQ,KAAK;AAGvB,wBAAU,MAAM;AAChB,wBAAU,UAAU,EAAE,SAAU,SAAQ,KAAK,QAAQ,YAAY,cAAc,UAAU;AAEzF,mCAAqB,EAAE,QAAQ,WAAW,KAAK,SAAO;AACrD,wBAAQ,KAAK,QAAQ,UAAU,MAAM,KAAK,IAAI;AAAA,iBAC5C,MAAM,SAAO;AACf,oBAAI,eAAe,qBAAqB,EAAE,WAAW;AACpD,0BAAQ,KAAK,QAAQ,UAAU,MAAM,IAAI,UAAU,IAAI,SAAS;AAChE;AAAA;AAED,wBAAQ,KAAK,QAAQ,UAAU;AAAA;AAAA;AAIjC,iBAAK,sBAAsB;AAC3B,iBAAK,sBAAsB;AAE3B,iBAAK,oBAAoB,SAAS,UAAU;AAC3C,kBAAI,QAAQ,cAAc;AAC1B,mBAAK,OAAO,MAAM,OAAO,MAAM,MAAM,SAAS,KAAK,cAAc;AAChE,yBAAS,MAAO,CAAC,OAAO,aAAa,WAAW,WAAW;AAAA;AAAA;AAI7D,mBAAO;AAAA;AAGqB,cAAI,YAAa;AAK9C,cAAI,0BAA2B,WAAW;AAEzC,iCAAqB,SAAS;AAC7B,wBAAU,WAAW;AAErB,kBAAI,UAAU,WAAW;AACxB,yBAAQ,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,sBAAI,SAAS,QAAQ;AACrB,sBAAG,QAAQ;AACV,wBAAI;AACH,6BAAO,MAAM,MAAM;AAAA,6BACZ,GAAN;AACD,kCAAY,UAAU,YAAY,WAAW,yCAAyC,2BAA2B,IAAI,eAAe,EAAE;AAAA;AAAA;AAAA;AAAA;AAM1I,sBAAQ,OAAO,WAAW;AACzB,sBAAM,UAAU,KAAK,MAAM,SAAS;AAAA;AAErC,qBAAO;AAAA;AAGR,mBAAO;AAAA;AAGqB,cAAI,mBAAoB;AA2BrD,cAAI,SAAU,WAAW;AACxB,oCACA;AACC,mBAAK,SAAS;AAAA;AAGf,yBAAa,UAAU,SAAS,gBAAgB,QAChD;AACC,mBAAK,OAAO,KAAK;AACjB,qBAAO;AAAA;AAGR,yBAAa,UAAU,WAAW,oBAClC;AACC,qBAAO,KAAK,OAAO,KAAK;AAAA;AAGzB,gBAAI,UACJ;AAAA,cACC,OAAQ;AAAA,cAER,QAAS,SAAU,OACnB;AACC,oBAAI,SAAS,IAAI;AACjB,oBAAI,QAAQ,QAAO;AAEnB,oBAAI,aAAa,IAAI,qBAAqB;AAC1C,uBAAO,WAAW,YAClB;AACC,sBAAI,OAAO,WAAW;AAEtB,6BAAW;AACX,sBAAI,OAAO,WAAW;AAEtB,6BAAW;AACX,sBAAI,OAAO,WAAW;AAEtB,sBAAI,OAAO,QAAQ;AACnB,sBAAI,OAAS,QAAO,MAAM,IAAM,QAAQ;AACxC,sBAAI,OAAS,QAAO,OAAO,IAAM,QAAQ;AACzC,sBAAI,OAAO,OAAO;AAElB,sBAAI,MAAM,OACV;AACC,2BAAO,OAAO;AAAA,6BAEN,MAAM,OACf;AACC,2BAAO;AAAA;AAGR,yBAAO,OAAO,MAAM,OAAO,QAAQ,MAAM,OAAO,QAAQ,MAAM,OAAO,QAAQ,MAAM,OAAO;AAAA;AAG3F,uBAAO,OAAO;AAAA;AAAA,cAGf,QAAS,SAAU,OACnB;AACC,oBAAI,SAAS,IAAI;AAEjB,oBAAI,aAAa,IAAI,uBAAuB;AAC5C,uBAAO,WAAW,YAClB;AACC,sBAAI,WAAW,WAAW;AAE1B,sBAAI,WAAW;AACd,2BAAO,OAAO,OAAO,aAAa;AAAA,2BACzB,WAAW,OAAS,WAAW,KACzC;AACC,+BAAW;AACX,wBAAI,YAAY,WAAW;AAE3B,2BAAO,OAAO,OAAO,aAAe,YAAW,OAAO,IAAM,YAAY;AAAA,yBAGzE;AACC,+BAAW;AACX,wBAAI,YAAY,WAAW;AAE3B,+BAAW;AACX,wBAAI,YAAY,WAAW;AAE3B,2BAAO,OAAO,OAAO,aAAe,YAAW,OAAO,KAAQ,aAAY,OAAO,IAAM,YAAY;AAAA;AAAA;AAIrG,uBAAO,OAAO;AAAA;AAAA;AAIhB,0CAA8B,OAC9B;AACC,mBAAK,SAAS;AACd,mBAAK,SAAS;AACd,mBAAK,UAAU;AAAA;AAGhB,iCAAqB,YACrB;AAAA,cACC,SAAS,OAAO;AAAA,cAEhB,UAAU,WACV;AACC,oBAAI,KAAK,QAAQ,SAAS,GAC1B;AACC,uBAAK,UAAU,KAAK,QAAQ;AAC5B,yBAAO;AAAA,2BAEC,KAAK,UAAW,KAAK,OAAO,SAAS,GAC9C;AACC,uBAAK,UAAU,OAAO;AACtB,yBAAO;AAAA,uBAGR;AACC,sBAAI,WAAW,KAAK,OAAO,WAAW,EAAE,KAAK;AAI7C,sBAAK,YAAY,MAAQ,KAAK,OAAO,WAAW,KAAK,SAAS,MAAM,IACpE;AACC,+BAAW;AACX,yBAAK,UAAU;AAAA;AAGhB,sBAAI,WAAW,KACf;AACC,yBAAK,UAAU;AAAA,6BAEN,WAAW,OAAS,WAAW,MACzC;AACC,yBAAK,UAAW,YAAY,IAAK;AACjC,yBAAK,QAAQ,KAAM,WAAW,KAAM;AAAA,yBAGrC;AACC,yBAAK,UAAW,YAAY,KAAM;AAClC,yBAAK,QAAQ,KAAO,YAAY,IAAK,KAAM;AAC3C,yBAAK,QAAQ,KAAM,WAAW,KAAM;AAAA;AAGrC,yBAAO;AAAA;AAAA;AAAA;AAKV,4CAAgC,OAChC;AACC,mBAAK,SAAS;AACd,mBAAK,SAAS;AACd,mBAAK,UAAU;AAAA;AAGhB,mCAAuB,YACvB;AAAA,cACC,SAAS;AAAA,cAET,UAAU,WACV;AACC,oBAAI,KAAK,QAAQ,SAAS,GAC1B;AACC,uBAAK,UAAU,KAAK,QAAQ;AAC5B,yBAAO;AAAA,2BAEC,KAAK,UAAW,KAAK,OAAO,SAAS,GAC9C;AACC,uBAAK,UAAU;AACf,yBAAO;AAAA,uBAGR;AACC,sBAAI,OAAO,QAAO,MAAM,QAAQ,KAAK,OAAO,OAAO,EAAE,KAAK;AAC1D,sBAAI,OAAO,QAAO,MAAM,QAAQ,KAAK,OAAO,OAAO,EAAE,KAAK;AAC1D,sBAAI,OAAO,QAAO,MAAM,QAAQ,KAAK,OAAO,OAAO,EAAE,KAAK;AAC1D,sBAAI,OAAO,QAAO,MAAM,QAAQ,KAAK,OAAO,OAAO,EAAE,KAAK;AAE1D,sBAAI,OAAQ,QAAQ,IAAM,QAAQ;AAClC,sBAAI,OAAS,QAAO,OAAO,IAAM,QAAQ;AACzC,sBAAI,OAAS,QAAO,MAAM,IAAK;AAE/B,uBAAK,UAAU;AAEf,sBAAI,QAAQ;AACX,yBAAK,QAAQ,KAAK;AAEnB,sBAAI,QAAQ;AACX,yBAAK,QAAQ,KAAK;AAEnB,yBAAO;AAAA;AAAA;AAAA;AAKV,mBAAO;AAAA;AAGqB,cAAI,SAAU;AAG3C,cAAI,cAAc,oBAAoB;AACtC,cAAI,sBAAmC,oCAAoB,EAAE;AAG7D,cAAI,aAAa,oBAAoB;AAcrC,cAAI,YAAa,WAAW;AAC3B,gBAAI,mBAAmB,KAAK,IAAI,GAAG;AACnC,4BAAgB;AAAA;AAChB,8BAAkB;AAAE,qBAAQ,YAAW,KAAK,MAAM,KAAK,WAAW,OAAO,MAAM;AAAA;AAC/E,gDAAoC,KAAK;AAExC,kBAAG,CAAC,MAAM,YAAY,MAAM;AAC3B,uBAAO,IAAI,UAAU,MAAM,aAAa,MAAM,IAAI,QAAQ,OAAO,IAAI,cAAc;AAAA;AAGpF,kBAAG,CAAC,IAAI,MAAM;AACb,oBAAG,IAAI,eAAe,KAAK;AAC1B,sBAAI,OAAO;AAAA,uBACL;AACN,sBAAI,OAAO;AAEX,sBAAI,aAAa;AAAA;AAAA;AAGnB,qBAAO;AAAA;AAGR,gBAAI,MAAM;AACV,gBAAG,SAAS,YAAY;AACvB,yBAAW,SAAS,KAAK;AAAE,uBAAQ,OAAO,KAAK,KAAK,SAAU,SAAS;AAAA;AACvE,qBAAO,SAAS,MAAM,KAAK;AAC1B,oBAAI,OAAO,SAAS,WAAW,UAAU;AACzC,qBAAK,OAAO;AACZ,uBAAO,KAAK,OAAO;AAAA;AAAA,mBAEd;AACN,yBAAW,OAAO;AAClB,qBAAO,SAAS,MAAM,KAAK;AAC1B,uBAAO,OAAO,WAAW,cAAc,sBAAsB,MAAM;AAAA;AAAA;AAIrE,0BAAc,YAAY;AACzB,kBAAG,CAAC;AACH,uBAAO;AAER,kBAAG,OAAO,cAAe;AACxB,6BAAa,KAAK,MAAM;AAEzB,kBAAI,iBAAiB,OAAO,OAAO;AACnC,kBAAI,OAAO,MAAM,UAAU,YAAY;AACvC,kBAAG,CAAC;AACH,uBAAO;AACR,mBAAK;AACL,uBAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,+BAAe,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA;AAE/C,qBAAO,KAAK,UAAU;AAAA;AAGvB,mDAAuC,aAAa;AACnD,kBAAG,YAAY,cAAc;AAC5B,4BAAY,UAAU,YAAY,WAAW,UAAU;AAAA,yBAC9C,YAAY,SAAS;AAC9B,4BAAY,UAAU,YAAY,WAAW,UAAU;AAAA,yBAC9C,YAAY,KAAK;AAC1B,4BAAY,UAAU,YAAY,WAAW,UAAU;AAAA,yBAC9C,YAAY,cAAc;AACnC,4BAAY,UAAU,YAAY,WAAW,UAAU;AAAA,qBACjD;AACN,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,sBAAM,IAAI,MAAM;AAAA;AAAA;AAIlB,qCAAyB,SAAS;AACjC,qBAAO,kBAAkB,WAAW,CAAC,QAAQ;AAAA;AAI9C,kCAAsB,SAAS;AAC9B,qBAAO,QAAQ,gBACb,CAAC,gBAAgB,YAChB,SAAQ,gBACR,QAAQ,WACR,QAAQ,SACR,QAAQ;AAAA;AAIZ,kCAAsB,SAAS;AAC9B,qBAAO,CAAC,QAAQ,OACf,CAAC,QAAQ,gBACT,CAAC,QAAQ;AAAA;AAGX,gBAAI,OAAO;AACX,yCAA6B;AAC5B,qBAAO;AAAA;AAGR,0BAAc,QAAQ,SAAS;AAC9B,mBAAK,SAAS;AACd,mBAAK,cAAc,QAAQ,sBAAsB;AAEjD,mBAAK,wBAAwB;AAC7B,mBAAK,yBAAyB;AAE9B,kBAAG,aAAa,UAAU;AAEzB,oBAAG,QAAQ,OAAO,CAAC,MAAM;AACxB,sBAAI,MAAM;AACV,8BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,wBAAM,IAAI,MAAM;AAAA;AAEjB,oBAAG,aAAa,UAAU;AACzB,8BAAY,UAAU,YAAY,WAAW,UAAU;AAAA;AAExD,qBAAK,kBAAkB,QAAQ,oBAAoB;AACnD,8CAA8B,KAAK;AAAA,qBAC7B;AAEN,oBAAG,CAAC,QAAQ,KAAK;AAChB,sBAAI,MAAM;AACV,8BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,wBAAM,IAAI,UAAU,KAAK,OAAO;AAAA;AAEjC,4BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,qBAAK,kBAAkB;AAAA;AAAA;AA0DzB,iBAAK,UAAU,YAAY,SAAS,aAAa,aAAa,UAAU;AAEvE,kBAAG,OAAO,eAAgB,cAAc,CAAC,UAAU;AAClD,2BAAW;AACX,8BAAc,cAAc;AAAA,yBACnB,OAAO,eAAgB,cAAc,CAAC,UAAU;AACzD,2BAAW;AACX,8BAAc;AAAA;AAEf,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,OAAO,QAAQ,UAAU;AAChC,yBAAO,MAAM,UAAU,MAAM,aAAa;AAAA;AAE3C,2BAAW;AAAA;AAEZ,kBAAI,QAAO;AAIX,kBAAG,eAAe,YAAY,OAAQ,KAAK,YAAY,QAAQ,YAAY,KAAM;AAChF,sBAAM,IAAI,UAAU,uDAAuD,OAAO;AAAA;AAGnF,kBAAG,eAAgB,WAAW,aAAc;AAC3C,4BAAY,UAAU,YAAY,WAAW,kBAAkB;AAG/D,oBAAG,MAAM,aAAa,aAAa,UAAU;AAC5C,gCAAc;AAAA;AAAA;AAIhB,mBAAK,eAAe,aAAa,aAAa,SAAS,KAAK,cAAc;AACzE,oBAAG,KAAK;AACP,sBAAG,MAAK,OAAO,YAAY;AAI1B,0BAAK,OAAO,WAAW,kBAAkB,wBAAwB;AAAA;AAElE,2BAAS;AACT;AAAA;AAQD,oBAAG,MAAK,OAAO,YAAY;AAC1B,wBAAK,OAAO,WAAW,kBAAkB,cAAc,cAAc;AAAA,uBAC/D;AACN,2BAAS,MAAM;AAAA;AAAA;AAAA;AAKlB,iBAAK,UAAU,YAAY,WAAW;AACrC,0BAAY,WAAW,kBAAkB;AACzC,mBAAK,UAAU,MAAM,MAAM;AAAA;AAM5B,iBAAK,UAAU,iBAAiB,SAAS,aAAa,aAAa,UAAU;AAC5E,kBAAI,QAAO;AAGX,mBAAK,eAAe;AAKpB,mBAAK,kBAAkB,aAAa;AAEpC,4CAA8B,KAAK;AAEnC,mBAAK,4BAA4B,MAAM,SAAS,KAAK,cAAc;AAElE,uBAAO,MAAK,YAAY;AACxB,uBAAO,MAAK,YAAY;AACxB,yBAAS,KAAK;AAAA;AAAA;AAkDhB,iBAAK,UAAU,eAAe,SAAS,aAAa,aAAa,UAAU;AAE1E,kBAAG,OAAO,eAAgB,cAAc,CAAC,UAAU;AAClD,2BAAW;AACX,8BAAc,cAAc;AAAA,yBAErB,OAAO,eAAgB,cAAc,CAAC,UAAU;AACvD,2BAAW;AACX,8BAAc;AAAA;AAEf,kBAAG,CAAC,YAAY,KAAK,OAAO,QAAQ,UAAU;AAC7C,uBAAO,MAAM,UAAU,MAAM,gBAAgB;AAAA;AAI9C,4BAAc,eAAe,KAAK;AAClC,4BAAc,eAAe,MAAM,KAAK,KAAK;AAC7C,yBAAW,YAAY;AAIvB,kBAAI,sBAAsB,SAAS,KAAK;AAExC,kBAAG,YAAY,cAAc;AAC5B,4BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,uCAAuB,YAAY;AAAA,yBAC1B,YAAY,SAAS;AAC9B,4BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,uCAAuB,SAAS,QAAQ,IAAI;AAC3C,sBAAI,cAAc,MAAM,MAAM,EAAC,QAAQ,kCAAiC,YAAY,cACnF,UAAU,YAAY,cAAc,YAAY,WAAW,kBAAkB,QAC7E;AAED,sBAAI,WAAW,YAAY,QAAQ,QAAQ;AAC3C,sBAAG,WAAW,IAAI;AACjB,uCAAmB,MAAM,iBAAiB,YAAY,QAAQ,MAAM;AACpE,gCAAY,UAAU,YAAY,QAAQ,MAAM,GAAG;AACnD,wBAAI,CAAC,SAAS;AAEb,kCAAY,aAAa,MAAM,MAAM,kBAAkB,YAAY;AAAA;AAAA;AAIrE,sBAAI,aAAa,MAAM,MAAM,IAAI,YAAY,cAAc,IAAI;AAC/D,sBAAI,yBAAyB,SAAS,KAAK,OAAM,UAAS,UAAU;AACnE,wBAAI;AACJ,wBAAI,KAAK;AACR,kCAAY,UAAU,YAAY,WAAW,4CAA4C,qBAAqB,MAAM,aAAa;AAAA,2BAC3H;AACN,oCAAc,SAAQ;AACtB,kCAAY,UAAU,YAAY,WAAW,4CAA4C,6BAA6B,cAAc,aAAa,MAAM,YAAY;AAAA;AAEpK,wBAAG,OAAO;AAAU,6BAAO,GAAG,KAAK;AACnC,wBAAG,YAAY,SAAS;AAAO,8BAAO,MAAK;AAC3C,wBAAG,CAAC,aAAa;AAChB,yBAAG,IAAI,UAAU,qDAAqD,OAAO;AAC7E;AAAA;AAED,wBAAI,OAAO,YAAY,QAAQ,sBAAsB,IACpD,OAAO,YAAY,QAAQ,gBAAgB,MAAM,YAAY,QAAQ,qBAAqB;AAC3F,wBAAG,CAAC,QAAQ,CAAC,MAAM;AAClB,yBAAG,IAAI,UAAU,sDAAsD,cAAc,sEAAsE,OAAO;AAClK;AAAA;AAED,wBAAG,MAAM;AACR,0BAAG,MAAK,SAAS,kBAAkB;AAClC,2BAAG,IAAI,UAAU,kDAAkD,OAAO;AAC1E;AAAA;AAED,0BAAI;AACH,gCAAO,KAAK,MAAM;AAAA,+BACX,GAAN;AACD,2BAAG,IAAI,UAAU,yDAAyD,EAAE,SAAS,OAAO;AAC5F;AAAA;AAAA;AAGF,uBAAG,MAAM,OAAM;AAAA;AAEhB,8BAAY,UAAU,YAAY,WAAW,4CAA4C,2BAA2B,YAAY,UAAU,eAAe,KAAK,UAAU,cAAc,eAAgB,WAAU,SAAS;AACzN,sBAAG,SAAS;AAEX,wBAAI,UAAU,eAAe;AAC7B,4BAAQ,kBAAkB;AAC1B,wBAAI,OAAO,MAAM,cAAc,YAAY,MAAM;AACjD,8BAAU,QAAQ,QAAQ,YAAY,SAAS,SAAS,MAAM,kBAAkB;AAAA,yBAC1E;AACN,8BAAU,OAAO,QAAQ,YAAY,SAAS,eAAe,IAAI,YAAY;AAAA;AAAA;AAAA,yBAGtE,YAAY,KAAK;AAC1B,oBAAI,QAAO;AACX,4BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,uCAAuB,SAAS,QAAQ,IAAI;AAAE,wBAAK,mBAAmB,QAAQ,aAAa;AAAA;AAAA,qBACrF;AACN,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,yBAAS,IAAI,UAAU,KAAK,OAAO;AACnC;AAAA;AAID,kBAAG,gBAAgB;AAClB,4BAAY,aAAa,KAAK,YAAY;AAE3C,kBAAI,eAAe,SAAS,mBAAmB,SAAS;AACvD,oBAAI,UAAU,kBAAkB,SAC/B,OAAO,WAAW,UAAU,iBAC5B,WAAW,SAAS,MAAM;AAAE,yBAAO,OAAO,QAAQ,QAAQ;AAAA;AAE3D,oBAAI,iBAAiB,MAAM;AAC3B,oBAAG,YAAY;AAAgB,wBAAM,MAAM,gBAAgB,YAAY;AACvE,4BAAY,UAAU,YAAY,WAAW,oCAAoC,qBAAqB,OAAO,qBAAqB,KAAK,UAAU;AACjJ,oCAAoB,KAAK,UAAU;AACnC,0BAAU,KAAK,QAAQ,UAAU,gBAAgB,mBAAmB,MAAM;AAAA;AAG3E,kBAAI,qCAAqC,OACxC,gBAAgB,KAAK,OAAO,QAAQ,SAAS,wBAC7C,8BAA8B,WAAW,WAAW;AACnD,qDAAqC;AACrC,oBAAI,OAAM,4CAA6C,gBAAgB,MAAQ;AAC/E,4BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,yBAAS,IAAI,UAAU,MAAK,OAAO;AAAA,iBACjC;AAEJ,mCAAqB,aAAa,SAAS,KAAK,uBAAuB,aAAa;AACnF,oBAAG;AAAoC;AACvC,6BAAa;AAEb,oBAAG,KAAK;AACP,8BAAY,UAAU,YAAY,WAAW,uBAAuB,sDAAsD,MAAM,aAAa;AAC7I,2BAAS,2BAA2B;AACpC;AAAA;AAGD,oBAAG,OAAO,0BAA2B,UAAU;AAC9C,sBAAG,sBAAsB,WAAW,GAAG;AACtC,6BAAS,IAAI,UAAU,yBAAyB,OAAO;AAAA,6BAC9C,sBAAsB,SAAS,kBAAkB;AAC1D,6BAAS,IAAI,UAAU,qDAAqD,sBAAsB,SAAS,WAAW,OAAO;AAAA,6BACpH,0BAA0B,eAAe,0BAA0B,QAAQ;AAEpF,6BAAS,IAAI,UAAU,2CAA2C,OAAO;AAAA,6BAC/D,sBAAsB,OAAO,OAAQ,CAAE,gBAAe,YAAY,QAAQ,qBAAqB,KAAK;AAC9G,6BAAS,IAAI,UAAU,4GAA6G,OAAO;AAAA,yBACrI;AACN,6BAAS,MAAM,EAAC,OAAO;AAAA;AAExB;AAAA;AAED,oBAAG,OAAO,0BAA2B,UAAU;AAC9C,sBAAI,OAAM,iHAAiH,OAAO;AAClI,8BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,2BAAS,IAAI,UAAU,MAAK,OAAO;AACnC;AAAA;AAED,oBAAI,aAAa,KAAK,UAAU,uBAAuB;AACvD,oBAAG,aAAa,oBAAoB,CAAC,YAAY,wBAAwB;AACxE,2BAAS,IAAI,UAAU,+EAA+E,aAAa,WAAW,OAAO;AACrI;AAAA;AAED,oBAAG,YAAY,uBAAuB;AAErC,2BAAS,MAAM;AACf;AAAA;AAED,oBAAG,CAAE,cAAa,wBAAwB;AACzC,sBAAI,OAAM;AACV,8BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,2BAAS,IAAI,UAAU,MAAK,OAAO;AACnC;AAAA;AAGD,6BAAa,uBAAuB,SAAS,MAAK,eAAe,SAAS,UAAU;AACnF,sBAAG,MAAK;AACP,gCAAY,UAAU,YAAY,WAAW,uBAAuB,kDAAkD,MAAM,aAAa;AACzI,6BAAS,2BAA2B;AACpC;AAAA;AAED,sBAAG,CAAC;AAAU,oCAAgB,KAAK,MAAM;AACzC,8BAAY,UAAU,YAAY,WAAW,mBAAmB;AAChE,2BAAS,MAAM;AAAA;AAAA;AAAA;AAuClB,iBAAK,UAAU,qBAAqB,SAAS,aAAa,aAAa,UAAU;AAEhF,kBAAG,OAAO,eAAgB,cAAc,CAAC,UAAU;AAClD,2BAAW;AACX,8BAAc,cAAc;AAAA,yBACnB,OAAO,eAAgB,cAAc,CAAC,UAAU;AACzD,2BAAW;AACX,8BAAc;AAAA;AAEf,kBAAG,CAAC,YAAY,KAAK,OAAO,QAAQ,UAAU;AAC7C,uBAAO,MAAM,UAAU,MAAM,sBAAsB;AAAA;AAIpD,4BAAc,eAAe,KAAK;AAClC,4BAAc,eAAe,MAAM,KAAK,KAAK;AAE7C,kBAAI,MAAM,YAAY;AACtB,kBAAG,CAAC,KAAK;AACR,yBAAS,IAAI,UAAU,oBAAoB,OAAO;AAClD;AAAA;AAED,kBAAI,WAAW,IAAI,MAAM,MACxB,UAAU,SAAS,IACnB,YAAY,SAAS;AAEtB,kBAAG,CAAC,WAAW;AACd,yBAAS,IAAI,UAAU,yBAAyB,OAAO;AACvD;AAAA;AAGD,kBAAG,YAAY,aAAa,IAAI;AAC/B,yBAAS,IAAI,UAAU,0CAAqC,OAAO;AACnE;AAAA;AAGD,kBAAG,gBAAgB,aAAa;AAC/B,4BAAY,aAAa,KAAK,YAAY;AAAA;AAG3C,kBAAI,UAAU,MAAM,MAAM,EAAE,WAAoB,cAC/C,WAAW,YAAY,YAAY,IACnC,MAAM,YAAY,OAAO,IACzB,aAAa,YAAY,cAAc,IACvC,QAAO;AAER,cAAC,UAAS,aAAa;AACtB,oBAAG,QAAQ,WAAW;AACrB;AACA;AAAA;AACA;AACD,sBAAK,aAAa,eAAe,YAAY,WAAW,SAAS,KAAK,MAAM;AAC3E,sBAAG,KAAK;AAAC,6BAAS;AAAM;AAAA;AACxB,0BAAQ,YAAY;AACpB;AAAA;AAAA,iBAEC,WAAW;AAMb,oBAAI,QAAQ,QAAQ,SAAU,SAAQ,QAAQ,WAC7C,YAAY,QAAQ;AAErB,oBAAI,WACF,QAAQ,UAAU,OAClB,MAAM,OACN,aAAa,OACb,WAAW,OACX,YAAY,OACZ,QAAQ;AAOV,wBAAQ,MAAM,QAAQ,OAAO,KAAK,UAAU;AAE5C,4BAAY,UAAU,YAAY,WAAW,0BAA0B;AACvE,yBAAS,MAAM;AAAA;AAAA;AAQjB,iBAAK,UAAU,gBAAgB,SAAS,UAAU;AACjD,kBAAG,KAAK,UAAU;AACjB,yBAAS,MAAM,EAAC,KAAK,KAAK;AAAA;AAE1B,qBAAK,4BAA4B,OAAO,SAAS,KAAK,cAAc;AACnE,sBAAG,KAAK;AACP,6BAAS;AACT;AAAA;AAED,2BAAS,MAAM,EAAC,cAAc,aAAa;AAAA;AAAA;AAQ9C,iBAAK,UAAU,iBAAiB,SAAS,UAAU;AAClD,kBAAG,KAAK,UAAU,SAAS;AAC1B,yBAAS,MAAM,EAAC,eAAe,WAAW,KAAK;AAAA,qBACzC;AACN,qBAAK,4BAA4B,OAAO,SAAS,KAAK,cAAc;AACnE,sBAAG,KAAK;AACP,6BAAS;AACT;AAAA;AAED,2BAAS,MAAM,EAAC,eAAe,YAAY,SAAS,aAAa;AAAA;AAAA;AAAA;AAWpE,iBAAK,UAAU,eAAe,SAAS,WAAW,UAAU;AAC3D,kBAAI,CAAC,KAAK,qBAAsB,cAAa,KAAK,YAAY,YAAY;AACzE,qBAAK,OAAO,KAAK;AAAA,qBACX;AACN,yBAAS,MAAM,KAAK;AAAA;AAAA;AAItB,iBAAK,UAAU,0BAA0B,WAAW;AACnD,qBAAO,MAAM,QAAS,MAAK,OAAO,oBAAoB;AAAA;AAGvD,iBAAK,UAAU,kBAAkB,WAAW;AAC3C,qBAAO,KAAK,OAAO,qBAAqB;AAAA;AAGzC,iBAAK,UAAU,oBAAoB,SAAS,aAAa;AACxD,mBAAK,SAAS;AACd,mBAAK,MAAM,YAAY;AACvB,mBAAK,WAAW,SAAS,YAAY;AACrC,mBAAK,cAAc,eAAe;AAClC,kBAAG,cAAc,aAAa;AAC7B,qBAAK,iBAAiB,YAAY;AAAA;AAAA;AAIpC,iBAAK,UAAU,oBAAoB,SAAS,aAAa,aAAa;AACrE,mBAAK,SAAS;AAEd,kBAAG,aAAa;AAIf,qBAAK,cAAc;AAAA;AAGpB,kBAAG,aAAa;AAEf,oBAAG,YAAY,OAAO;AAErB,8BAAY,eAAgB,OAAO,YAAY,UAAW,WAAY,EAAC,OAAO,YAAY,UAAS,YAAY;AAAA;AAGhH,oBAAG,YAAY,cAAc;AAC5B,uBAAK,eAAe,YAAY;AAAA;AAGjC,oBAAG,cAAc,aAAa;AAC7B,uBAAK,iBAAiB,YAAY;AAAA;AAGnC,qBAAK,cAAc;AAAA;AAAA;AAMrB,iBAAK,UAAU,8BAA8B,SAAS,gBAAgB,UAAU;AAC/E,kBAAI,QAAO,MACV,QAAQ,KAAK;AAEd,kBAAG,OAAO;AACT,oBAAG,KAAK,uBAAuB,MAAM,WAAW;AAE/C,2BAAS,IAAI,UAAU,yCAAyC,MAAM,WAAW,6BAA6B,KAAK,WAAW,KAAK,OAAO;AAC1I;AAAA;AAKD,oBAAG,CAAC,KAAK,qBAAqB,CAAC,MAAM,WAAY,MAAM,WAAW,KAAK,2BAA4B;AAClG,8BAAY,UAAU,YAAY,WAAW,mBAAmB,mCAAmC,MAAM;AACzG,2BAAS,MAAM;AACf;AAAA;AAGD,4BAAY,UAAU,YAAY,WAAW,mBAAmB;AAChE,qBAAK,eAAe;AAAA;AAGrB,cAAC,MAAK,0BAA2B,MAAK,yBAAyB,qBAAqB,KAAK;AACzF,kBAAG,KAAK,0BAA0B,QAAQ,CAAC,gBAAgB;AAC1D;AAAA;AAID,kBAAI,iBAAiB,KAAK,wBAAwB;AAClD,mBAAK,aAAa,KAAK,aAAa,KAAK,aAAa,SAAS,KAAK,eAAe;AAClF,oBAAG,MAAK,wBAAwB,gBAAgB;AAC/C,8BAAY,UAAU,YAAY,WAAW,sCAAsC;AACnF;AAAA;AAED,sBAAK,wBAAwB;AAC7B,oBAAI,YAAY,MAAK,0BAA0B;AAC/C,sBAAK,yBAAyB;AAC9B,oBAAG,KAAK;AACP,4BAAU;AACV;AAAA;AAED,0BAAU,MAAO,MAAK,eAAe;AAAA;AAAA;AAMvC,iBAAK,UAAU,mBAAmB,SAAS,UAAU;AACpD,kBAAG,CAAE,QAAO,aAAc,YAAY,aAAa,OAAO;AACzD,sBAAM,IAAI,UAAU,4CAA4C,OAAO;AAAA,yBAC9D,aAAa,KAAK;AAC3B,sBAAM,IAAI,UAAU,+SAA0S,OAAO;AAAA,qBAC/T;AACN,oBAAI,MAAM,KAAK,sBAAsB;AACrC,oBAAG;AAAK,wBAAM;AAAA;AAAA;AAKhB,iBAAK,UAAU,wBAAwB,SAAS,UAAU;AACzD,kBAAG,KAAK,uBAAuB,WAAW;AAGzC,oBAAI,MAAM,8CAA8C,KAAK,WAAW,iBAAiB;AACzF,oBAAI,MAAM,IAAI,UAAU,KAAK,OAAO;AACpC,4BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,uBAAO;AAAA,qBACD;AAGN,qBAAK,WAAW,KAAK,YAAY,WAAW;AAC5C,uBAAO;AAAA;AAAA;AAIT,iBAAK,UAAU,yBAAyB,SAAS,eAAe;AAC/D,qBAAO,KAAK,YACV,KAAK,aAAa,OACnB,iBACC,kBAAkB,OAClB,KAAK,aAAa;AAAA;AAGrB,iBAAK,aAAa,SAAS,OAAO;AACjC,qBAAO,MAAM,QAAS,MAAM,QAAQ,SAAW,MAAM,OAAO;AAAA;AAG7D,mBAAO;AAAA;AAGqB,cAAI,cAAe;AAKhD,cAAI,8BAA+B,WAAW;AAE7C,qCAAyB;AACxB,mBAAK,KAAK;AACV,mBAAK,eAAe;AACpB,mBAAK,WAAW;AAChB,mBAAK,aAAa;AAClB,mBAAK,WAAW;AAChB,mBAAK,WAAW;AAChB,mBAAK,sBAAsB;AAC3B,mBAAK,OAAO;AAAA,gBACX,WAAW;AAAA,gBACX,OAAO;AAAA,gBACP,OAAO;AAAA;AAAA;AAQT,0BAAc,UAAU,SAAS,WAAW;AAC3C,qBAAO;AAAA,gBACN,IAAI,KAAK;AAAA,gBACT,cAAc,KAAK;AAAA,gBACnB,UAAU,KAAK;AAAA,gBACf,YAAY,KAAK;AAAA,gBACjB,UAAU,KAAK;AAAA,gBACf,UAAU,KAAK;AAAA,gBACf,qBAAqB,KAAK;AAAA,gBAC1B,MAAM;AAAA,kBACL,WAAW,KAAK,KAAK;AAAA,kBACrB,OAAO,KAAK,KAAK;AAAA,kBACjB,OAAO,KAAK,KAAK;AAAA;AAAA;AAAA;AAKpB,0BAAc,UAAU,WAAW,WAAW;AAC7C,kBAAI,SAAS;AACb,kBAAG,KAAK;AACP,0BAAU,UAAU,KAAK;AAC1B,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,kBAAkB,KAAK;AAClC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,2BAA2B,KAAK,UAAU,KAAK;AAC1D,kBAAG,KAAK,KAAK;AACZ,0BAAU,sBAAsB,KAAK,UAAU,KAAK,KAAK;AAC1D,kBAAG,KAAK,KAAK;AACZ,0BAAU,kBAAkB,KAAK,KAAK;AACvC,kBAAG,KAAK,KAAK;AACZ,0BAAU,kBAAkB,KAAK,UAAU,KAAK,KAAK;AACtD,kBAAG,KAAK,KAAK;AACZ,0BAAU,qBAAqB,KAAK,KAAK;AAC1C,wBAAU;AACV,qBAAO;AAAA;AAGR,0BAAc,gBAAgB,MAAM;AAEpC,0BAAc,mBAAmB,SAAS,MAAM,QAAQ;AACvD,kBAAG,QAAQ;AACV,uBAAO,MAAM,WAAW,MAAM;AAAA;AAG/B,kBAAG,MAAM,QAAQ,OAAO;AACvB,uBAAO,cAAc,gBAAgB;AAAA,qBAC/B;AACN,uBAAO,cAAc,WAAW;AAAA;AAAA;AAIlC,0BAAc,aAAa,SAAS,QAAQ;AAC3C,qBAAO,QAAQ,OAAO,SAAS,UAAU,WAAW,OAAO;AAC3D,qBAAO,MAAM,MAAM,IAAI,iBAAiB;AAAA;AAGzC,0BAAc,kBAAkB,SAAS,QAAQ;AAChD,kBAAI,QAAQ,OAAO,QAAQ,SAAS,IAAI,MAAM;AAC9C,uBAAQ,IAAI,GAAG,IAAI,OAAO;AAAK,uBAAO,KAAK,cAAc,WAAW,OAAO;AAC3E,qBAAO;AAAA;AAGR,mBAAO;AAAA;AAGqB,cAAI,gBAAiB;AAUlD,cAAI,oBAAqB,WAAW;AACnC,gBAAI,UAAU,SAAS;AAEvB,gCAAoB;AAAA;AAEpB,qCAAyB,MAAM,SAAS,QAAQ,aAAa,YAAY;AACxE,kBAAI,UAAU,qBAAqB;AAClC,qBAAK,KAAK,eAAe,SAAS,KAAK,aAAa;AACnD,sBAAG;AACF,gCAAY;AAAA;AAEZ,+BAAW,MAAM,MAAM,aAAa,UAAU;AAAA;AAAA,qBAE1C;AACN,qBAAK,KAAK,cAAc,SAAS,KAAK,YAAY;AACjD,sBAAG;AACF,gCAAY;AAAA;AAEZ,+BAAW,SAAS,MAAM,MAAM,YAAY;AAAA;AAAA;AAAA;AAKhD,gCAAoB,UAAU,QAAQ;AACrC,qBAAO,SAAS,KAAK,MAAM,cAAc,UAAU,iBAAiB;AACnE,oBAAG,OAAO,CAAC,MAAM;AAChB,2BAAS;AACT;AAAA;AAGD,oBAAG,CAAC,UAAU;AACb,sBAAI;AACH,2BAAO,MAAM,WAAW,MAAM;AAAA,2BACvB,GAAN;AACD,6BAAS;AACT;AAAA;AAAA;AAIF,oBAAG,KAAK,eAAe,QAAW;AAEjC,2BAAS,KAAK,MAAM,cAAc,MAAM;AACxC;AAAA;AAGD,oBAAI,oBAAoB,KAAK,YAC5B,WAAW,KAAK,UAChB,iBAAiB,KAAK;AAEvB,oBAAG,oBAAoB,OAAO,qBAAqB,KAAK;AAEvD,sBAAI,aAAc,YAAY,SAAS,SAAU;AACjD,sBAAG,CAAC,YAAY;AACf,iCAAa,IAAI,MAAM,2BAA2B;AAClD,+BAAW,aAAa;AAAA;AAEzB,2BAAS,YAAY,UAAU,gBAAgB,MAAM;AACrD;AAAA;AAGD,yBAAS,KAAK,UAAU,gBAAgB,MAAM;AAAA;AAAA;AAIhD,iCAAqB,QAAQ;AAC5B,kBAAI,aAAa;AACjB,kBAAI,QAAQ;AACX,yBAAS,UAAU,QAAQ;AAC1B,6BAAW,KAAK,SAAS,MAAM,OAAO;AAAA;AAAA;AAGxC,qBAAO,WAAW,KAAK;AAAA;AAGxB,0CAA8B,MAAM,QAAQ;AAC3C,qBAAO,OAAQ,UAAS,MAAM,MAAM,YAAY;AAAA;AAGjD,wCAA4B,UAAU,QAAQ,MAAM,QAAQ;AAC3D,qBAAO,SAAS,KAAK,MAAM,SAAS,UAAU,YAAY;AACzD,oBAAI,KAAK;AACR,8BAAY,UAAU,YAAY,WAAW,cAAc,SAAS,MAAM,qBAAqB,qBAAqB,MAAM,UAAU,cAAc,MAAM,aAAa;AAAA,uBAC/J;AACN,8BAAY,UAAU,YAAY,WAAW,cAAc,SAAS,MACnE,eAAe,qBAAqB,MAAM,UAAU,gBAAgB,YAAY,WAAW,mBAAmB,aAAa,aAAc,aAAY,SAAS,QAAQ,KAAK,aAAa;AAAA;AAE1L,oBAAI,UAAU;AAAE,2BAAS,KAAK,MAAM,SAAS,UAAU;AAAA;AAAA;AAAA;AAIzD,kBAAM,WAAW,UAAU,oBAAoB,SAAS,QAAQ;AAC/D,uBAAS,UAAU,SAAS,MAAM,MAAM,aAAa,YAAY,UAAU,UAAU;AACpF,yBAAS,MAAM,QAAQ,MAAM,MAAM,MAAM,aAAa,YAAY,UAAU;AAAA;AAAA;AAI9E,kBAAM,WAAW,UAAU,iBAAiB,SAAS,QAAQ;AAC5D,uBAAS,UAAU,SAAS,MAAM,MAAM,MAAM,aAAa,YAAY,UAAU,UAAU;AAC1F,yBAAS,MAAM,QAAQ,MAAM,MAAM,MAAM,aAAa,YAAY,UAAU;AAAA;AAAA;AAI9E,qBAAS,QAAQ,SAAS,QAAQ,MAAM,MAAM,MAAM,aAAa,YAAY,UAAU,UAAU;AAChG,kBAAI,YAAY,UAAU,YAAY,YAAY;AACjD,2BAAW,mBAAmB,UAAU,QAAQ,MAAM;AAAA;AAGvD,kBAAG,UAAU;AACZ,2BAAY,YAAY,WAAW,UAAU;AAC7C,gBAAC,cAAc,cAAc,IAAK,cAAc;AAAA;AAGjD,iCAAmB,SAAS,QAAQ;AACnC,oBAAI,YAAY,UAAU,YAAY,YAAY;AACjD,8BAAY,UAAU,YAAY,WAAW,cAAc,SAAS,MAAM,cAAc,qBAAqB,MAAM;AAAA;AAGpH,oBAAI,OAAO,CAAC,MAAM,MAAM,SAAS,MAAM,QAAQ,SAAS,KAAK,KAAK,UAAS,UAAU,YAAY;AAChG,sBAAG,OAAO,YAAY,WAAW,MAAM;AAEtC,yBAAK,KAAK,UAAU,MAAM,MAAM,SAAS,MAAK;AAC7C,0BAAG,MAAK;AACP,iCAAS;AACT;AAAA;AAGD,sCAAgB,MAAM,aAAa,YAAY,UAAU;AAAA;AAE1D;AAAA;AAED,2BAAS,KAAK,KAAK,UAAS,UAAU;AAAA;AAEvC,oBAAI,CAAC,MAAM;AACV,uBAAK,OAAO,GAAG;AAAA;AAGhB,oBAAI,YAAY,UAAU,YAAY,YAAY;AACjD,sBAAI,cAAc;AAClB,sBAAK,SAAQ,mBAAmB,IAAI,QAAQ,aAAa,GAAG;AAC3D,wBAAI;AACH,oCAAc,QAAQ,OAAO;AAAA,6BACrB,WAAP;AACD,kCAAY,UAAU,YAAY,WAAW,cAAc,SAAS,MAAM,qCAAqC,MAAM,aAAa;AAAA;AAAA;AAGpI,8BAAY,UAAU,YAAY,WAAW,cAAc,SAAS,MAAM,cAAc,qBAAqB,MAAM,UAAU,aAAa;AAAA;AAE3I,0BAAU,QAAQ,MAAM,MAAM;AAAA;AAG/B,8BAAgB,MAAM,aAAa,YAAY,UAAU;AAAA;AAG1D,mBAAO;AAAA;AAGqB,cAAI,kBAAmB;AAQpD,cAAI,sCAAuC,WAAW;AAErD,kCAAsB,SAAS;AAC9B,kBAAI,WAAW,QAAQ,MAAM;AAC7B,qBAAO,YAAY,MAAM,iBAAiB,SAAS;AAAA;AAGpD,mCAAuB,YAAY;AAClC,kBAAG,OAAO,cAAe;AACxB,6BAAa,WAAW,MAAM;AAE/B,kBAAI,YAAY;AAChB,uBAAQ,IAAI,GAAG,IAAI,WAAW,QAAQ,KAAK;AAC1C,oBAAI,YAAY,WAAW,GAAG,MAAM;AACpC,oBAAG,WAAW;AACb,sBAAI,SAAS,aAAa,UAAU;AACpC,sBAAG;AACF,8BAAU,UAAU,MAAM;AAAA;AAAA;AAG7B,qBAAO;AAAA;AAGR,uCAA2B,MAAM,MAAM,SAAS,UAAU,aAAa,0BAA0B;AAChG,mBAAK,OAAO;AACZ,mBAAK,OAAO;AACZ,mBAAK,UAAU;AACf,mBAAK,WAAW;AAChB,mBAAK,cAAc;AACnB,mBAAK,2BAA2B,4BAA4B;AAAA;AAG7D,kBAAM,WAAW,UAAU,oBAAoB,SAAS,QAAQ;AAC/D,gCAAkB,UAAU,UAAU,SAAS,QAAQ,UAAU;AAChE,oBAAI,QAAO;AACX,gCAAgB,QAAQ,MAAK,MAAM,MAAK,MAAM,MAAK,SAAS,QAAQ,MAAK,UAAU,SAAS,KAAK,MAAM,SAAS,UAAU,YAAY;AACrI,wBAAK,WAAW,KAAK,MAAM,SAAS,UAAU,YAAY;AAAA;AAAA;AAAA;AAK7D,kBAAM,WAAW,UAAU,iBAAiB,SAAS,QAAQ;AAC5D,gCAAkB,UAAU,UAAU,SAAS,QAAQ,MAAM,UAAU;AACtE,oBAAI,QAAO;AACX,gCAAgB,QAAQ,MAAK,MAAM,MAAK,MAAM,MAAM,MAAK,SAAS,QAAQ,MAAK,UAAU,SAAS,KAAK,SAAS,SAAS,UAAU,YAAY;AAC9I,sBAAG,UAAU;AACZ,0BAAK,WAAW,KAAK,SAAS,SAAS,UAAU,YAAY;AAAA;AAAA;AAAA;AAAA;AAMjE,mCAAuB,KAAK,MAAM,QAAQ;AAKzC,qBAAO,CAAE,WAAW,SAAQ,OAAO,IAAI,SAAS;AAAA;AAGjD,8BAAkB,UAAU,aAAa,SAAS,KAAK,MAAM,SAAS,UAAU,YAAY,UAAU;AACrG,kBAAG,OAAO,cAAc,KAAK,MAAM,KAAK,2BAA2B;AAClE,4BAAY,UAAU,YAAY,WAAW,kCAAkC,8CAA8C,MAAM,aAAa;AAChJ,yBAAS;AACT;AAAA;AAED,kBAAI,OAAO,YAAY;AACvB,kBAAI;AACH,wBAAQ,KAAK,YAAY,MAAM,SAAS;AAAA,uBACjC,GAAN;AAGD,yBAAS,OAAO;AAChB;AAAA;AAGD,kBAAG,WAAY,cAAc,QAAQ,WAAW,QAAQ,UAAW;AAClE,4BAAY,cAAc;AAAA;AAG3B,kBAAG,KAAK,0BAA0B;AACjC,yBAAS,MAAM,IAAI,sBAAsB,MAAM,OAAO,SAAS,YAAY,WAAW;AAAA,qBAChF;AACN,yBAAS,MAAM,IAAI,gBAAgB,MAAM,OAAO;AAAA;AAAA;AAIlD,qCAAyB,UAAU,OAAO,WAAW;AACpD,mBAAK,WAAW;AAChB,mBAAK,QAAQ;AAEb,kBAAG,WAAW;AACb,oBAAI,QAAO;AACX,oBAAG,WAAW,WAAW;AACxB,uBAAK,QAAQ,SAAS,IAAI;AACzB,wBAAG,CAAC,MAAM,MAAK,SAAS,KAAK,QAAQ,UAAU;AAC9C,6BAAO,MAAM,UAAU,OAAM,SAAS;AAAA;AAEvC,0BAAK,IAAI,UAAU,OAAO;AAAA;AAAA;AAG5B,oBAAG,aAAa,WAAW;AAC1B,uBAAK,UAAU,SAAS,IAAI;AAC3B,wBAAG,CAAC,MAAM,MAAK,SAAS,KAAK,QAAQ,UAAU;AAC9C,6BAAO,MAAM,UAAU,OAAM,WAAW;AAAA;AAEzC,0BAAK,IAAI,UAAU,SAAS;AAAA;AAAA;AAG9B,qBAAK,OAAO,SAAS,IAAI;AACxB,sBAAG,CAAC,MAAM,MAAK,SAAS,KAAK,QAAQ,UAAU;AAC9C,2BAAO,MAAM,UAAU,OAAM,QAAQ;AAAA;AAEtC,sBAAG,UAAU,WAAW;AACvB,0BAAK,IAAI,UAAU,MAAM;AAAA,yBACnB;AACN,uBAAG,MAAM;AAAA;AAAA;AAIX,qBAAK,UAAU,WAAW;AAAE,yBAAQ,UAAU;AAAA;AAC9C,qBAAK,SAAS,WAAW;AAAE,yBAAO,CAAC,KAAK;AAAA;AAAA;AAAA;AAM1C,4BAAgB,UAAU,MAAM,SAAS,QAAQ,UAAU;AAC1D,kBAAI,MAAM,KAAK;AACf,8BAAgB,IAAI,IAAI,MAAM,IAAI,MAAM,IAAI,SAAS,QAAQ,IAAI,UAAU,SAAS,KAAK,MAAM,SAAS,UAAU,YAAY;AAC7H,oBAAI,WAAW,KAAK,MAAM,SAAS,UAAU,YAAY;AAAA;AAAA;AAI3D,2CAA+B,UAAU,OAAO,SAAS,YAAY,WAAW,KAAK;AACpF,8BAAgB,KAAK,MAAM,UAAU,OAAO;AAC5C,mBAAK,aAAa;AAClB,mBAAK,UAAU,aAAa,OAAO,cAAc;AACjD,mBAAK,UAAU;AACf,mBAAK,YAAY,OAAO,IAAI;AAC5B,mBAAK,eAAe,OAAO,IAAI;AAAA;AAEhC,kBAAM,SAAS,uBAAuB;AAEtC,mBAAO;AAAA;AAGqB,cAAI,oBAAqB;AAKtD,cAAI,kDAAmD,WAAW;AAEjE,+CAAmC;AAClC,mBAAK,UAAU;AACf,mBAAK,WAAW;AAChB,mBAAK,WAAW;AAAA;AAOjB,oCAAwB,UAAU,SAAS,WAAW;AACrD,qBAAO;AAAA,gBACN,SAAS,KAAK;AAAA,gBACd,UAAU,KAAK;AAAA,gBACf,UAAU,KAAK;AAAA;AAAA;AAIjB,oCAAwB,UAAU,WAAW,WAAW;AACvD,kBAAI,SAAS;AACb,kBAAG,KAAK;AACP,0BAAU,eAAe,KAAK;AAC/B,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,wBAAU;AACV,qBAAO;AAAA;AAGR,oCAAwB,gBAAgB,MAAM;AAE9C,oCAAwB,mBAAmB,SAAS,MAAM,QAAQ;AACjE,kBAAG,QAAQ;AACV,uBAAO,MAAM,WAAW,MAAM;AAAA;AAG/B,kBAAG,MAAM,QAAQ,OAAO;AACvB,uBAAO,wBAAwB,gBAAgB;AAAA,qBACzC;AACN,uBAAO,wBAAwB,WAAW;AAAA;AAAA;AAI5C,oCAAwB,aAAa,SAAS,QAAQ;AACrD,qBAAO,MAAM,MAAM,IAAI,2BAA2B;AAAA;AAGnD,oCAAwB,kBAAkB,SAAS,QAAQ;AAC1D,kBAAI,QAAQ,OAAO,QAAQ,SAAS,IAAI,MAAM;AAC9C,uBAAQ,IAAI,GAAG,IAAI,OAAO;AAAK,uBAAO,KAAK,wBAAwB,WAAW,OAAO;AACrF,qBAAO;AAAA;AAGR,mBAAO;AAAA;AAGqB,cAAI,0BAA2B;AAW5D,cAAI,YAAa,WAAW;AAC3B,gBAAI,OAAO,WAAW;AAAA;AAEtB,0BAAc,MAAM;AACnB,mBAAK,OAAO;AACZ,mBAAK,QAAQ,IAAI,MAAM;AAAA;AAGxB,2BAAe,MAAM;AACpB,mBAAK,OAAO;AACZ,mBAAK,sBAAsB,IAAI,oBAAoB;AACnD,mBAAK,uBAAuB,IAAI,qBAAqB;AAAA;AAGtD,kBAAM,UAAU,UAAU,SAAS,WAAW,SAAS,UAAU;AAChE,kBAAI,OAAO,KAAK;AAChB,kBAAI,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACzD,cAAc,MAAM,MAAM,EAAC,aAAuB,UAClD,UAAU,MAAM,mBAAmB,SACnC,SAAS;AAEV,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,WAAW;AAAA;AAEzC,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,4BAAc,MAAM,WAAW,aAAa;AAC5C,8BAAgB,KAAK,MAAM,iBAAiB,aAAa,SAAS,QAAQ,OAAO,SAAS,KAAK;AAAE,yBAAS;AAAA;AAAA;AAG3G,yCAA6B,MAAM;AAClC,mBAAK,OAAO;AAAA;AAGb,gCAAoB,UAAU,OAAO,SAAS,QAAQ,UAAU;AAC/D,kBAAI,OAAO,KAAK;AAChB,kBAAI,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACzD,cAAc,cAAc,WAAW,SACvC,UAAU,MAAM,mBAAmB,SACnC,SAAS;AAEV,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,QAAQ;AAAA;AAEtC,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,4BAAc,MAAM,WAAW,aAAa;AAC5C,8BAAgB,IAAI,MAAM,+BAA+B,mBAAmB,OAAO,KAAK,aAAa,SAAS,QAAQ,OAAO,SAAS,KAAK,MAAM,UAAS,UAAU;AACnK,yBAAS,KAAK,CAAC,OAAO,cAAc,iBAAiB,MAAM,CAAC,YAAY;AAAA;AAAA;AAI1E,gCAAoB,UAAU,MAAM,SAAS,mBAAmB,UAAU;AACzE,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,UAAU,MAAM,kBAAkB,SAClC,WAAW,kBAAkB,MAAM;AAEpC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,OAAO;AAAA;AAErC,2BAAW;AAAA;AAGZ,kBAAG,OAAO,aAAa,YAAY,CAAC,SAAS,QAAQ;AACpD,yBAAS,IAAI,UAAU,wFAAwF,KAAO;AACtH;AAAA;AAGD,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,8BAAgB,IAAI,MAAM,+BAA+B,mBAAmB,WAAW,SAAS,IAAI,OAAO,SAAS,KAAK,MAAM,UAAS,UAAU;AACjJ,yBAAS,KAAK,CAAC,OAAO,cAAc,iBAAiB,MAAM,CAAC,YAAY;AAAA;AAAA;AAI1E,gCAAoB,UAAU,OAAO,SAAS,QAAQ,UAAU;AAC/D,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY,QACvD,UAAU,MAAM,kBAAkB;AAEnC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,QAAQ;AAAA;AAEtC,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,cAAC,IAAI,kBAAkB,MAAM,6BAA6B,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AAC9G,uBAAO,cAAc,iBAAiB,MAAM,CAAC,YAAY;AAAA,iBACtD,IAAI,QAAQ;AAAA;AAGjB,gCAAoB,UAAU,SAAS,SAAS,mBAAmB,UAAU;AAC5E,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,UAAU,MAAM,kBAAkB,SAClC,SAAS,IACT,WAAW,kBAAkB,MAAM;AAEpC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,UAAU;AAAA;AAExC,2BAAW;AAAA;AAGZ,kBAAG,OAAO,aAAa,YAAY,CAAC,SAAS,QAAQ;AACpD,yBAAS,IAAI,UAAU,2FAA2F,KAAO;AACzH;AAAA;AAGD,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,8BAAgB,UAAU,MAAM,+BAA+B,mBAAmB,WAAW,SAAS,QAAQ,OAAO,SAAS,KAAK;AAAE,yBAAS;AAAA;AAAA;AAG/I,gCAAoB,UAAU,cAAc,SAAS,QAAQ,UAAU;AACtE,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,UAAU,MAAM,kBAAkB;AAEnC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,eAAe;AAAA;AAE7C,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,8BAAgB,UAAU,MAAM,6BAA6B,SAAS,QAAQ,OAAO,SAAS,KAAK;AAAE,yBAAS;AAAA;AAAA;AAG/G,0CAA8B,MAAM;AACnC,mBAAK,OAAO;AAAA;AAGb,iCAAqB,UAAU,OAAO,SAAS,cAAc,UAAU;AACtE,kBAAI,OAAO,KAAK;AAChB,kBAAI,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACzD,cAAc,wBAAwB,WAAW,eACjD,UAAU,MAAM,mBAAmB,SACnC,SAAS;AAEV,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,QAAQ;AAAA;AAEtC,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,4BAAc,MAAM,WAAW,aAAa;AAC5C,8BAAgB,KAAK,MAAM,8BAA8B,aAAa,SAAS,QAAQ,OAAO,SAAS,KAAK,MAAM,UAAS,UAAU;AACpI,yBAAS,KAAK,CAAC,OAAO,wBAAwB,iBAAiB,MAAM,CAAC,YAAY;AAAA;AAAA;AAIpF,iCAAqB,UAAU,OAAO,SAAS,QAAQ,UAAU;AAChE,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY,QACvD,UAAU,MAAM,kBAAkB;AAEnC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,QAAQ;AAAA;AAEtC,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,cAAC,IAAI,kBAAkB,MAAM,8BAA8B,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AAC/G,uBAAO,wBAAwB,iBAAiB,MAAM,CAAC,YAAY;AAAA,iBAChE,IAAI,QAAQ;AAAA;AAGjB,iCAAqB,UAAU,cAAc,SAAS,QAAQ,UAAU;AACvE,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,UAAU,MAAM,kBAAkB;AAEnC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,eAAe;AAAA;AAE7C,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,8BAAgB,UAAU,MAAM,8BAA8B,SAAS,QAAQ,OAAO,SAAS,KAAK;AAAE,yBAAS;AAAA;AAAA;AAIhH,iCAAqB,UAAU,SAAS,qBAAqB,UAAU;AAEvE,iCAAqB,UAAU,eAAe,SAAS,QAAQ,UAAU;AACxE,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY,QACvD,UAAU,MAAM,kBAAkB;AAEnC,kBAAG,OAAO,aAAa,YAAY;AAClC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,gBAAgB;AAAA;AAE9C,2BAAW;AAAA;AAGZ,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,QAAQ,EAAC,UAAU;AAEhC,cAAC,IAAI,kBAAkB,MAAM,kBAAkB,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AACnG,oBAAI,IAAI,CAAC,YAAY;AAErB,oBAAG,GAAG;AACL,yBAAO,MAAM,WAAW,MAAM;AAAA;AAG/B,yBAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,uBAAK,KAAK,OAAO,KAAK;AAAA;AAEvB,uBAAO;AAAA,iBACJ,IAAI,QAAQ;AAAA;AAGjB,mBAAO;AAAA;AAGqB,cAAI,OAAQ;AAOzC,cAAI,8BAA8B,OAAO,UAAU;AAEnD,cAAI,4BAA6B,WAAW;AAG3C,oCAAwB;AACvB,mBAAK,MAAM;AACX,mBAAK,SAAS,OAAO,OAAO;AAC5B,mBAAK,UAAU;AACf,mBAAK,aAAa,OAAO,OAAO;AAAA;AAIjC,kCAAsB,WAAW,UAAU,MAAM;AAChD,kBAAI;AACH,yBAAS,MAAM,WAAW;AAAA,uBACnB,GAAN;AACD,4BAAY,UAAU,YAAY,WAAW,uBAAuB,oCAAoC,IAAI,eAAgB,MAAK,EAAE;AAAA;AAAA;AAUrI,oCAAwB,iBAAiB,UAAU,aAAa;AAC/D,kBAAI,WAAW,KAAK,WAAW;AAE/B,mBAAK,uBAAuB,GAAG,uBAAuB,gBAAgB,QAAQ,wBAAwB;AACrG,4BAAY,gBAAgB;AAC5B,oBAAI,aAAa;AAAE,8BAAY,UAAU;AAAA;AAEzC,oBAAI,MAAM,QAAQ,YAAY;AAC7B,yBAAQ,OAAM,MAAM,WAAW,WAAW,eAAe,IAAI;AAC5D,8BAAU,OAAO,KAAK;AAAA;AAIvB,sBAAI,eAAgB,UAAU,WAAW,GAAI;AAC5C,2BAAO,gBAAgB,sBAAsB;AAAA;AAAA,2BAEpC,MAAM,SAAS,YAAY;AAErC,uBAAK,aAAa,WAAW;AAC5B,wBAAI,4BAA4B,KAAK,WAAW,cAAc,MAAM,QAAQ,UAAU,aAAa;AAClG,qCAAe,CAAC,YAAY,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAa3C,yBAAa,UAAU,KAAK,SAAS,OAAO,UAAU;AACrD,kBAAG,UAAU,UAAU,KAAK,OAAO,SAAU,YAAY;AACxD,qBAAK,IAAI,KAAK;AAAA,yBACL,MAAM,WAAW,QAAQ;AAClC,qBAAK,IAAI,KAAK;AAAA,yBACL,MAAM,QAAQ,QAAQ;AAC/B,oBAAI,QAAO;AACX,sBAAM,WAAW,OAAO,SAAS,IAAI;AACpC,wBAAK,GAAG,IAAI;AAAA;AAAA,qBAEP;AACN,oBAAI,YAAa,KAAK,OAAO,UAAW,MAAK,OAAO,SAAS;AAC7D,0BAAU,KAAK;AAAA;AAAA;AAYjB,yBAAa,UAAU,MAAM,SAAS,OAAO,UAAU;AACtD,kBAAG,UAAU,UAAU,KAAM,MAAM,WAAW,UAAU,MAAM,WAAW,WAAY;AACpF,qBAAK,MAAM;AACX,qBAAK,SAAS,OAAO,OAAO;AAC5B,qBAAK,UAAU;AACf,qBAAK,aAAa,OAAO,OAAO;AAChC;AAAA;AAED,kBAAG,UAAU,UAAU,GAAG;AACzB,oBAAG,OAAO,SAAU,YAAY;AAE/B,6BAAW;AACX,0BAAQ;AAAA;AAAA;AAKV,kBAAG,YAAY,MAAM,WAAW,QAAQ;AACvC,+BAAe,CAAC,KAAK,KAAK,KAAK,QAAQ,KAAK,SAAS,KAAK,aAAa;AACvE;AAAA;AAGD,kBAAG,MAAM,QAAQ,QAAQ;AACxB,oBAAI,QAAO;AACX,sBAAM,WAAW,OAAO,SAAS,IAAI;AACpC,wBAAK,IAAI,IAAI;AAAA;AAAA;AAKf,kBAAG,UAAU;AACZ,+BAAe,CAAC,KAAK,QAAQ,KAAK,aAAa,UAAU;AAAA,qBACnD;AACN,uBAAO,KAAK,OAAO;AACnB,uBAAO,KAAK,WAAW;AAAA;AAAA;AASzB,yBAAa,UAAU,YAAY,SAAS,OAAO;AAClD,kBAAG,OAAO;AACT,oBAAI,YAAa,KAAK,OAAO,UAAU;AACvC,oBAAG,KAAK,WAAW;AAClB,wBAAM,UAAU,KAAK,MAAM,WAAW,KAAK,WAAW;AACvD,uBAAO,UAAU,SAAS,YAAY;AAAA;AAEvC,qBAAO,KAAK,IAAI,SAAS,KAAK,MAAM;AAAA;AAQrC,yBAAa,UAAU,OAAO,SAAS,OAAwB;AAC9D,kBAAI,OAAO,MAAM,UAAU,MAAM,KAAK,WAAW;AACjD,kBAAI,YAAY,EAAC;AACjB,kBAAI,YAAY;AAEhB,kBAAG,KAAK,QAAQ,QAAQ;AACvB,sBAAM,UAAU,KAAK,MAAM,WAAW,KAAK;AAC3C,qBAAK,UAAU;AAAA;AAEhB,kBAAG,KAAK,IAAI,QAAQ;AACnB,sBAAM,UAAU,KAAK,MAAM,WAAW,KAAK;AAAA;AAE5C,kBAAI,sBAAsB,KAAK,WAAW;AAC1C,kBAAG,qBAAqB;AACvB,sBAAM,UAAU,KAAK,MAAM,WAAW;AACtC,uBAAO,KAAK,WAAW;AAAA;AAExB,kBAAI,kBAAkB,KAAK,OAAO;AAClC,kBAAG,iBAAiB;AACnB,sBAAM,UAAU,KAAK,MAAM,WAAW;AAAA;AAGvC,oBAAM,WAAW,WAAW,SAAS,UAAU;AAC9C,6BAAa,WAAW,UAAU;AAAA;AAAA;AASpC,yBAAa,UAAU,OAAO,SAAS,OAAO,UAAU;AACvD,kBAAI,WAAW,UAAU,QAAQ,QAAO;AACxC,kBAAI,cAAa,KAAM,aAAa,KAAK,OAAO,UAAU,eAAgB,SAAS,SAAS;AAC3F,uBAAO,IAAI,SAAS,QAAQ,SAAS,SAAS;AAC7C,wBAAK,KAAK,OAAO;AAAA;AAAA;AAGnB,kBAAG,UAAU,UAAU,KAAK,OAAO,SAAU,YAAY;AACxD,qBAAK,QAAQ,KAAK;AAAA,yBACT,MAAM,WAAW,QAAQ;AAClC,qBAAK,QAAQ,KAAK;AAAA,yBACT,MAAM,QAAQ,QAAO;AAC9B,oBAAI,kBAAkB,WAAW;AAChC,sBAAI,OAAO,MAAM,UAAU,MAAM,KAAK;AACtC,wBAAM,WAAW,OAAO,SAAS,IAAI;AACpC,0BAAK,IAAI,IAAI;AAAA;AAEd,2BAAS,MAAM,MAAM;AAAA;AAEtB,sBAAM,WAAW,OAAO,SAAS,IAAI;AACpC,wBAAK,GAAG,IAAI;AAAA;AAAA,qBAEP;AACN,oBAAI,YAAa,KAAK,WAAW,UAAW,MAAK,WAAW,SAAS;AACrE,0BAAU,KAAK;AAAA;AAAA;AAYjB,yBAAa,UAAU,YAAY,SAAS,aAAa,cAAc,UAAgC;AACtG,kBAAI,YAAY,EAAC,OAAM,eACtB,QAAO,MACP,eAAe,MAAM,UAAU,MAAM,KAAK,WAAW;AAEtD,kBAAI,OAAO,gBAAiB,YAAc,OAAO,iBAAkB,UAAW;AAC7E,sBAAM;AAAA;AAEP,kBAAG,OAAO,aAAa,cAAc,SAAS,SAAS;AACtD,uBAAO,IAAI,SAAS,QAAQ,SAAS,SAAS;AAC7C,+BAAa,UAAU,UAAU,MAAM,OAAM,CAAC,aAAa,cAAc,SAAS,OAAO;AAAA;AAAA;AAG3F,kBAAG,gBAAgB,cAAc;AAChC,6BAAa,WAAW,UAAU;AAAA,qBAC5B;AACN,qBAAK,KAAK,aAAa;AAAA;AAAA;AAIzB,mBAAO;AAAA;AAGqB,cAAI,eAAgB;AAOjD,cAAI,gBAAiB,WAAW;AAC/B,gBAAI,SAAS,oBAAoB;AACjC,gBAAI,OAAO,oBAAoB;AAE/B,gBAAI,oBAAoB;AACxB,gBAAI,oBAAoB;AACxB,gBAAI,eAAe;AACnB,gBAAI,sBAAsB;AAO1B,oCAAwB,OAAO,UAAU;AACxC,qBAAO,OAAO,YAAY,OAAO;AAAA;AASlC,qCAAyB,iBAAiB;AACzC,qBAAQ,kBAAkB,sBAAuB,CAAC;AAAA;AAOnD,0CAA8B,QAAQ;AACrC,kBAAG,OAAO,cAAc,SAAS,OAAO,SAAS,OAAO;AACvD,oBAAG,OAAO,cAAc,OAAO,OAAO,cAAc,KAAK;AACxD;AAAA;AAED,sBAAM,IAAI,MAAM,4BAA4B,OAAO,YAAY;AAAA;AAAA;AAIjE,qCAAyB,QAAQ;AAEhC,qBAAO,OAAO,QAAQ,KAAK,KAAK,QAAQ,KAAK;AAAA;AAM9C,gBAAI,aAAa,OAAO,MAAM;AAK9B,kCAAsB,QAAQ,OAAO;AAAE,kBAAI,SAAS,OAAO,MAAM;AAAS,qBAAO,KAAK;AAAQ,qBAAO;AAAA;AACrG,gBAAI,eAAe,CAAE,aAAa,IAAI;AACtC,qBAAQ,IAAI,GAAG,KAAK,IAAI;AAAK,2BAAa,KAAK,aAAa,GAAG;AAO/D,8BAAkB,gBAAgB;AACjC,qBAAQ,OAAO,kBAAmB,WAAY,OAAO,KAAK,gBAAgB,YAAY;AAAA;AAoBvF,8BAAkB;AAAA;AAYlB,oCAAwB;AACvB,mBAAK,YAAY;AACjB,mBAAK,YAAY;AACjB,mBAAK,OAAO;AACZ,mBAAK,MAAM;AACX,mBAAK,KAAK;AAAA;AAEX,mBAAO,eAAe;AAEtB,wCAA4B,QAAQ;AAInC,qBAAO,OAAO,aAAa,OAAO,OAAO,OAAO,aAAa,OAAO;AAAA;AAYrE,mBAAO,mBAAmB,SAAS,QAAQ;AAC1C,kBAAI;AAEJ,kBAAI,OAAO,WAAY,cAAgB,OAAO,WAAY,UAAW;AACpE,4BAAY,WAAW,0CAA0C;AACjE,oBAAG,OAAO,WAAY,YAAY;AACjC,yBAAO,kBAAkB,SAAS,MAAK;AACtC,2BAAO,MAAM,OAAO,iBAAiB,EAAC,KAAK;AAAA;AAAA,2BAEnC,OAAO,UAAU,OAAO,YAAY;AAC7C,4BAAU,GAAG,MAAM,OAAO,iBAAiB,EAAC,KAAK;AAAA,uBAC3C;AACN,wBAAM,IAAI,MAAM;AAAA;AAEjB;AAAA;AAGD,kBAAG,CAAC,OAAO,KAAK;AACf,sBAAM,IAAI,MAAM;AAAA;AAGjB,kBAAI,OAAO,OAAO,QAAS,UAAU;AACpC,sBAAM,YAAY,aAAa,gBAAgB,OAAO;AAAA,qBAChD;AACN,sBAAM,OAAO;AAAA;AAGd,kBAAI,eAAe,IAAI;AACvB,2BAAa,MAAM;AACnB,2BAAa,YAAY,OAAO,aAAa;AAC7C,2BAAa,YAAY,IAAI,SAAS;AACtC,2BAAa,OAAO,OAAO,QAAQ;AAEnC,kBAAG,OAAO,aAAa,OAAO,cAAc,aAAa,WAAW;AACnE,sBAAM,IAAI,MAAM,6CAA6C,OAAO,YAAY,qDAAqD,aAAa;AAAA;AAGnJ,mCAAqB;AACrB,qBAAO;AAAA;AASR,mBAAO,oBAAoB,SAAS,WAAW,UAAU;AACxD,kBAAG,UAAU,UAAU,KAAK,OAAO,aAAc,YAAY;AAC5D,2BAAW;AACX,4BAAY;AAAA;AAEb,6BAAgB,cAAa,qBAAqB,GAAG;AAAA;AAQtD,mBAAO,YAAY,SAAS,QAAQ;AACnC,kBAAI,eAAgB,mBAAmB,UACpB,SACA,OAAO,iBAAiB;AAE3C,kBAAI,KAAK,OAAO,MAAM,eAAe;AACrC,qBAAO,EAAC,cAA4B,QAAQ,IAAI,UAAU,cAAc;AAAA;AAGzE,+BAAmB,QAAQ,IAAI;AAC9B,kBAAI,YAAY,KAAK,YAAY,OAAO,YAAY,MAAM,OAAO,OAAO,aAAa,MAAM,OAAO;AAClG,kBAAI,MAAM,KAAK,MAAM,OAAO;AAC5B,kBAAI,KAAK,KAAK,KAAK;AACnB,kBAAI,MAAM,KAAK,MAAM,OAAO;AAC5B,mBAAK,gBAAgB,OAAO,eAAe,WAAW,KAAK;AAC3D,mBAAK,cAAc,GAAG;AAAA;AAGvB,sBAAU,UAAU,UAAU,SAAS,WAAW,UAAU;AAC3D,0BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,kBAAI,kBAAkB,UAAU,QAC/B,eAAe,gBAAgB,kBAC/B,KAAK,KAAK;AACX,kBAAI,YAAY,KAAK,cAAc,OAAO,OAAO,OAAO,CAAC,WAAW,aAAa,eAAe;AAChG,kBAAI,aAAa,OAAO,OAAO,CAAC,IAAI,SAAS;AAC7C,qBAAO,SAAS,MAAM;AAAA;AAGvB,sBAAU,UAAU,UAAU,SAAS,YAAY;AAClD,kBAAI,cAAc,KAAK,aACtB,gBAAgB,OAAO,iBAAiB,KAAK,WAAW,KAAK,KAAK,WAAW,MAAM,GAAG,eACtF,YAAY,SAAS,cAAc,OAAO,WAAW,MAAM,gBAC3D,QAAQ,cAAc;AACvB,kBAAG,SAAS,MAAM;AACjB,4BAAY,OAAO,OAAO,CAAC,WAAW,SAAS;AAChD,qBAAO;AAAA;AAGR,sBAAU,UAAU,QAAQ,WAAW;AACtC,kBAAG,KAAK,IAAI;AACX,oBAAI,KAAK,KAAK;AACd,qBAAK,KAAK;AACV,uBAAO;AAAA;AAGR,kBAAI,cAAc,eAAe;AAIjC,qBAAO,SAAS,KAAK,cAAc,OAAO;AAAA;AAG3C,mBAAO;AAAA;AAGqB,cAAI,cAAe;AAShD,cAAI,kBAAmB,WAAW;AAEjC,+BAAmB;AAClB,mBAAK,OAAO;AACZ,mBAAK,KAAK;AACV,mBAAK,YAAY;AACjB,mBAAK,WAAW;AAChB,mBAAK,eAAe;AACpB,mBAAK,gBAAgB;AACrB,mBAAK,OAAO;AACZ,mBAAK,WAAW;AAChB,mBAAK,SAAS;AACd,mBAAK,OAAO;AAAA;AAOb,oBAAQ,UAAU,SAAS,WAAW;AACrC,kBAAI,SAAS;AAAA,gBACZ,MAAM,KAAK;AAAA,gBACX,IAAI,KAAK;AAAA,gBACT,UAAU,KAAK;AAAA,gBACf,cAAc,KAAK;AAAA,gBACnB,eAAe,KAAK;AAAA,gBACpB,UAAU,KAAK;AAAA,gBACf,QAAQ,KAAK;AAAA;AAMd,kBAAI,OAAO,KAAK;AAChB,kBAAG,QAAQ,YAAY,SAAS,OAAO;AACtC,oBAAG,UAAU,SAAS,GAAG;AAExB,sBAAI,WAAW,KAAK;AACpB,yBAAO,WAAW,WAAY,WAAW,YAAa;AACtD,yBAAO,YAAY,aAAa;AAAA,uBAC1B;AAIN,yBAAO,YAAY,SAAS;AAAA;AAAA;AAG9B,qBAAO,OAAO;AACd,qBAAO;AAAA;AAGR,oBAAQ,UAAU,WAAW,WAAW;AACvC,kBAAI,SAAS;AACb,kBAAG,KAAK;AACP,0BAAU,YAAY,KAAK;AAC5B,kBAAG,KAAK;AACP,0BAAU,UAAU,KAAK;AAC1B,kBAAG,KAAK;AACP,0BAAU,iBAAiB,KAAK;AACjC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,oBAAoB,KAAK;AACpC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,eAAe,KAAK,UAAU,KAAK;AAC9C,kBAAG,KAAK,MAAM;AACb,oBAAI,OAAO,KAAK,QAAS;AACxB,4BAAU,YAAY,KAAK;AAAA,yBACnB,YAAY,SAAS,KAAK;AAClC,4BAAU,qBAAqB,YAAY,aAAa,KAAK;AAAA;AAE7D,4BAAU,mBAAmB,KAAK,UAAU,KAAK;AAAA;AAEnD,kBAAG,KAAK;AACP,0BAAU,cAAc,KAAK,UAAU,KAAK;AAC7C,wBAAU;AACV,qBAAO;AAAA;AAGR,oBAAQ,UAAU,SAAS,KAAK,SAAS,UAAU;AAClD,kBAAI,OAAO,IAAI,MACd,WAAW,IAAI,UACf,SAAS,QAAQ;AAElB,yBAAW,WAAY,WAAW,MAAO;AACzC,kBAAG,CAAC,YAAY,SAAS,OAAO;AAC/B,uBAAO,YAAY,WAAW,OAAO;AACrC,2BAAW,WAAW;AAAA;AAEvB,qBAAO,QAAQ,MAAM,SAAS,KAAK,OAAM;AACxC,oBAAI,KAAK;AACR,2BAAS;AACT;AAAA;AAED,oBAAI,OAAO;AACX,oBAAI,WAAW,WAAW,YAAY,OAAO;AAC7C,yBAAS,MAAM;AAAA;AAAA;AAIjB,oBAAQ,SAAS,SAAS,KAAK,SAAS,UAAU;AACjD,kBAAI,OAAO,IAAI,MAAM,UACpB,iBAAiB,OAAO,QAAS,YAAY,YAAY,SAAS,SAAS,SAAS,QAAQ,SAAS;AAEtG,kBAAI,CAAC,gBAAgB;AACpB,oBAAI,MAAM,SAAS,SAAS,MAAM,QAAQ,OAAO;AAChD,sBAAI,OAAO,KAAK,UAAU;AAC1B,sBAAI,WAAY,YAAW,IAAI,YAAa,WAAW,UAAW;AAAA,uBAC5D;AACN,wBAAM,IAAI,UAAU,4BAA4B,OAAO;AAAA;AAAA;AAIzD,kBAAG,WAAW,QAAQ,QAAQ,QAAQ;AACrC,wBAAQ,QAAQ,KAAK,SAAS;AAAA,qBACxB;AACN,yBAAS,MAAM;AAAA;AAAA;AAIjB,oBAAQ,cAAc,SAAS,UAAU,SAAS,UAAU;AAC3D,kBAAI,YAAY;AAChB,uBAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACzC,wBAAQ,OAAO,SAAS,IAAI,SAAS,SAAS,KAAK,KAAK;AACvD,sBAAI,KAAK;AACR,6BAAS;AACT;AAAA;AAED;AACA,sBAAI,aAAa,SAAS,QAAQ;AACjC,6BAAS,MAAM;AAAA;AAAA;AAAA;AAAA;AAMnB,oBAAQ,YAAY,MAAM;AAE1B,oBAAQ,SAAS,SAAS,SAAS,SAAS;AAE3C,kBAAG,CAAC,WAAW,CAAC,QAAQ,gBAAgB;AACvC,oBAAI,iBAAiB;AACrB,0BAAU;AAAA,kBACT;AAAA,kBACA,SAAS;AAAA,kBACT,4BAA4B;AAAA;AAAA;AAI9B,kBAAI,cAAc,QAAQ;AAC1B,kBAAI,WAAW,QAAQ;AACvB,kBAAG,UAAU;AACZ,oBAAI,SAAS,SAAS,MAAM,MAC3B,4BAA4B,qBAAqB,OAAO,QACxD,OAAO,QAAQ;AAEhB,oBAAI;AACH,yBAAO,8BAA6B,sBAAsB,GAAG;AAC5D,wBAAI,QAAQ,OAAO,EAAE,oBAAoB,MAAM;AAC/C,wBAAG,CAAC;AAAO;AACX,wBAAI,QAAQ,MAAM;AAClB,4BAAO;AAAA,2BACD;AACJ,+BAAO,YAAY,aAAa,OAAO;AACvC,4BAAG,8BAA8B,OAAO,QAAQ;AAC/C,wCAAc;AAAA;AAEf;AAAA,2BACI;AACJ,+BAAO,YAAY,WAAW;AAC9B;AAAA,2BACI;AACJ,+BAAO,KAAK,MAAM;AAClB;AAAA,2BACI;AACJ,4BAAG,QAAQ,kBAAkB,QAAQ,QAAQ,eAAe,QAAQ;AACnE,8BAAI,iBAAiB,MAAM,IAAI,SAAS,QAAQ,eAAe;AAE/D,8BAAG,kBAAkB,OAAO,WAAW;AACtC,kCAAM,IAAI,MAAM;AAAA;AAEjB,iCAAO,OAAO,QAAQ;AACtB;AAAA,+BACM;AACN,gCAAM,IAAI,MAAM;AAAA;AAAA,2BAEb;AACJ,4BAAG,CAAC,QAAQ,WAAW,CAAC,QAAQ,QAAQ,QAAQ;AAC/C,gCAAM,IAAI,UAAU,yEAAyE,OAAO;AAAA;AAErG,4BAAG,OAAO,eAAe,aAAa;AACrC,gCAAM,IAAI,UAAU,gFAAgF,OAAO;AAAA;AAE5G,4BAAI;AACH,8BAAI,YAAY,QAAQ;AACxB,8BAAG,OAAO,cAAc,UAAU;AACjC,wCAAY,YAAY,WAAW;AAAA;AAMpC,sCAAY,YAAY,SAAS;AACjC,iCAAO,YAAY,SAAS;AAE5B,iCAAO,YAAY,mBAAmB,QAAQ,QAAQ,OAAO,OAAO,MAAM;AAC1E,wCAAc;AAAA,iCACP,GAAN;AACD,gCAAM,IAAI,UAAU,qCAAqC,GAAG,OAAO;AAAA;AAEpE;AAAA;AAEA,8BAAM,IAAI,MAAM;AAAA;AAElB;AAAA;AAAA,yBAEM,GAAN;AACD,wBAAM,IAAI,UAAU,0BAA0B,QAAQ,uCAAkC,EAAE,UAAU,UAAK,EAAE,QAAQ,OAAO;AAAA,0BACzH;AACD,0BAAQ,WAAY,8BAA8B,IAAK,OAAO,OAAO,MAAM,GAAG,4BAA4B,KAAK;AAC/G,0BAAQ,OAAO;AAAA;AAAA;AAGjB,sBAAQ,6BAA6B;AAAA;AAGtC,oBAAQ,mBAAmB,SAAS,MAAM,SAAS,QAAQ;AAC1D,kBAAG,QAAQ;AACV,uBAAO,MAAM,WAAW,MAAM;AAAA;AAG/B,uBAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,oBAAI,MAAM,KAAK,KAAK,QAAQ,WAAW,KAAK;AAC5C,oBAAI;AACH,0BAAQ,OAAO,KAAK;AAAA,yBACZ,GAAP;AACD,8BAAY,UAAU,YAAY,WAAW,8BAA8B,EAAE;AAAA;AAAA;AAG/E,qBAAO;AAAA;AAGR,oBAAQ,aAAa,SAAS,QAAQ;AACrC,qBAAO,MAAM,MAAM,IAAI,WAAW;AAAA;AAGnC,oBAAQ,kBAAkB,SAAS,QAAQ;AAC1C,kBAAI,QAAQ,OAAO,QAAQ,SAAS,IAAI,MAAM;AAC9C,uBAAQ,IAAI,GAAG,IAAI,OAAO;AAAK,uBAAO,KAAK,QAAQ,WAAW,OAAO;AACrE,qBAAO;AAAA;AAGR,4CAAgC,SAAS;AACxC,kBAAG,WAAW,QAAQ,UAAU,CAAC,QAAQ,OAAO,eAAe;AAC9D,oBAAG,CAAC;AAAa,wBAAM,IAAI,MAAM;AACjC,oBAAI,SAAS,YAAY,UAAU,QAAQ;AAC3C,wBAAQ,SAAS,OAAO;AACxB,wBAAQ,gBAAgB,OAAO;AAAA;AAAA;AAIjC,oBAAQ,cAAc,SAAS,SAAS,SAAS;AAChD,kBAAI,MAAM,QAAQ,WAAW;AAC7B,qCAAuB;AAGvB,kBAAI;AACH,wBAAQ,OAAO,KAAK;AAAA,uBACb,GAAN;AACD,4BAAY,UAAU,YAAY,WAAW,yBAAyB,EAAE;AAAA;AAEzE,qBAAO;AAAA;AAGR,oBAAQ,mBAAmB,SAAS,cAAc,SAAS;AAC1D,qCAAuB;AACvB,qBAAO,MAAM,OAAO,cAAc,SAAS,SAAS;AACnD,uBAAO,QAAQ,YAAY,SAAS;AAAA;AAAA;AAItC,oCAAwB,KAAK;AAC5B,kBAAI,OAAO;AACX,kBAAG,IAAI,MAAM;AACZ,wBAAQ,IAAI,KAAK;AAAA;AAElB,kBAAG,IAAI,UAAU;AAChB,wBAAQ,IAAI,SAAS;AAAA;AAEtB,kBAAG,IAAI,QAAQ;AACd,wBAAQ,KAAK,UAAU,IAAI,QAAQ;AAAA;AAEpC,kBAAG,IAAI,MAAM;AACZ,wBAAQ,MAAM,cAAc,IAAI;AAAA;AAEjC,qBAAO;AAAA;AACP;AAID,oBAAQ,kBAAkB,SAAS,UAAU;AAC5C,kBAAI,KAAK,QAAQ;AACjB,uBAAQ,IAAE,GAAG,IAAE,SAAS,QAAQ,KAAK;AACpC,sBAAM,SAAS;AACf,yBAAU,IAAI,QAAS,KAAI,OAAO,eAAe;AAAA;AAElD,qBAAO;AAAA;AAGR,mBAAO;AAAA;AAGqB,cAAI,gBAAiB;AASlD,cAAI,kCAAmC,WAAW;AACjD,gBAAI,UAAU,SAAS;AAEvB,mCAAuB,cAAc;AACpC,qBAAO,MAAM,WAAW,gBAAgB,SAAS;AAAA;AAGlD,uCAA2B;AAC1B,mBAAK,SAAS;AACd,mBAAK,KAAK;AACV,mBAAK,YAAY;AACjB,mBAAK,WAAW;AAChB,mBAAK,eAAe;AACpB,mBAAK,OAAO;AACZ,mBAAK,WAAW;AAChB,mBAAK,OAAO;AAAA;AAGb,4BAAgB,UAAU;AAAA,cACzB;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA;AAQD,4BAAgB,UAAU,gBAAgB,WAAW;AACpD,qBAAO,KAAK,GAAG,UAAU,KAAK,aAAa,QAAQ,OAAO,KAAK;AAAA;AAIhE,4BAAgB,UAAU,UAAU,WAAW;AAC9C,kBAAI,QAAQ,KAAK,GAAG,MAAM;AAC1B,qBAAO;AAAA,gBACN,cAAc,MAAM;AAAA,gBACpB,WAAW,SAAS,MAAM,IAAI;AAAA,gBAC9B,OAAO,SAAS,MAAM,IAAI;AAAA;AAAA;AAQ5B,4BAAgB,UAAU,SAAS,WAAW;AAC7C,kBAAI,SAAS;AAAA,gBACZ,UAAU,KAAK;AAAA,gBAEf,QAAQ,cAAc,KAAK;AAAA,gBAC3B,UAAU,KAAK;AAAA;AAMhB,kBAAI,OAAO,KAAK;AAChB,kBAAG,QAAQ,YAAY,SAAS,OAAO;AACtC,oBAAG,UAAU,SAAS,GAAG;AAExB,sBAAI,WAAW,KAAK;AACpB,yBAAO,WAAW,WAAY,WAAW,YAAa;AACtD,yBAAO,YAAY,aAAa;AAAA,uBAC1B;AAIN,yBAAO,YAAY,SAAS;AAAA;AAAA;AAG9B,qBAAO,OAAO;AACd,qBAAO;AAAA;AAGR,4BAAgB,UAAU,WAAW,WAAW;AAC/C,kBAAI,SAAS;AACb,wBAAU,cAAc,KAAK;AAC7B,kBAAG,KAAK;AACP,0BAAU,UAAU,KAAK;AAC1B,kBAAG,KAAK;AACP,0BAAU,iBAAiB,KAAK;AACjC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK;AACP,0BAAU,oBAAoB,KAAK;AACpC,kBAAG,KAAK;AACP,0BAAU,gBAAgB,KAAK;AAChC,kBAAG,KAAK,MAAM;AACb,oBAAI,OAAO,KAAK,QAAS;AACxB,4BAAU,YAAY,KAAK;AAAA,yBACnB,YAAY,SAAS,KAAK;AAClC,4BAAU,qBAAqB,YAAY,aAAa,KAAK;AAAA;AAE7D,4BAAU,mBAAmB,KAAK,UAAU,KAAK;AAAA;AAEnD,wBAAU;AACV,qBAAO;AAAA;AAER,4BAAgB,SAAS,cAAc;AACvC,4BAAgB,SAAS,cAAc;AAEvC,4BAAgB,mBAAmB,SAAS,MAAM,SAAS,QAAQ;AAClE,kBAAG,QAAQ;AACV,uBAAO,MAAM,WAAW,MAAM;AAAA;AAG/B,uBAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,oBAAI,MAAM,KAAK,KAAK,gBAAgB,WAAW,KAAK,IAAI;AACxD,oBAAI;AACH,kCAAgB,OAAO,KAAK;AAAA,yBACpB,GAAP;AACD,8BAAY,UAAU,YAAY,WAAW,sCAAsC,EAAE;AAAA;AAAA;AAGvF,qBAAO;AAAA;AAIR,4BAAgB,aAAa,SAAS,QAAQ,iBAAiB;AAC9D,kBAAG,iBAAiB;AACnB,uBAAO,SAAS,gBAAgB,QAAQ,OAAO;AAAA;AAEhD,qBAAO,MAAM,MAAM,IAAI,mBAAmB;AAAA;AAG3C,4BAAgB,kBAAkB,SAAS,QAAQ;AAClD,kBAAI,QAAQ,OAAO,QAAQ,SAAS,IAAI,MAAM;AAC9C,uBAAQ,IAAI,GAAG,IAAI,OAAO;AAAK,uBAAO,KAAK,gBAAgB,WAAW,OAAO;AAC7E,qBAAO;AAAA;AAGR,4BAAgB,cAAc,SAAS,SAAS,SAAS;AACxD,kBAAI,MAAM,gBAAgB,WAAW,SAAS;AAG9C,kBAAI;AACH,gCAAgB,OAAO,KAAK;AAAA,uBACrB,GAAN;AACD,4BAAY,UAAU,YAAY,WAAW,iCAAiC,EAAE;AAAA;AAEjF,qBAAO;AAAA;AAGR,4BAAgB,mBAAmB,SAAS,cAAc,SAAS;AAClE,qBAAO,MAAM,OAAO,cAAc,SAAS,SAAS;AACnD,uBAAO,gBAAgB,YAAY,SAAS;AAAA;AAAA;AAI9C,4BAAgB,kBAAkB,cAAc;AAEhD,mBAAO;AAAA;AAGqB,cAAI,kBAAmB;AAUpD,cAAI,oBAAqB,WAAW;AACnC,4BAAgB;AAAA;AAChB,8BAAkB,SAAS;AAC1B,mBAAK,UAAU;AACf,mBAAK,WAAW,QAAQ,WAAW;AAAA;AAEpC,kBAAM,SAAS,UAAU;AAEzB,qBAAS,UAAU,MAAM,SAAS,QAAQ,UAAU;AACnD,0BAAY,UAAU,YAAY,WAAW,kBAAkB,eAAe,KAAK,QAAQ;AAE3F,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,QAAQ,KAAK,QAAQ,UAAU;AACtC,2BAAO,MAAM,UAAU,MAAM,OAAO;AAAA;AAErC,6BAAW;AAAA;AAAA;AAGb,kBAAI,OAAO,KAAK,QAAQ,MACvB,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY,QACvD,UAAU,MAAM,kBAAkB;AAEnC,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAI,UAAU,KAAK,QAAQ;AAC3B,cAAC,IAAI,kBAAkB,MAAM,KAAK,UAAU,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AAChG,uBAAO,gBAAgB,iBAAiB,MAAM,SAAS,CAAC,YAAY;AAAA,iBACjE,IAAI,QAAQ;AAAA;AAGjB,qBAAS,UAAU,UAAU,SAAS,QAAQ,UAAU;AACvD,0BAAY,UAAU,YAAY,WAAW,sBAAsB,eAAe,KAAK,QAAQ;AAC/F,mBAAK,SAAS,QAAQ;AAAA;AAGvB,qBAAS,UAAU,WAAW,SAAS,QAAQ,UAAU;AAExD,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,QAAQ,KAAK,QAAQ,UAAU;AACtC,2BAAO,MAAM,UAAU,MAAM,YAAY;AAAA;AAE1C,6BAAW;AAAA;AAAA;AAGb,kBAAI,OAAO,KAAK,QAAQ,MACvB,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY,QACvD,UAAU,MAAM,kBAAkB,SAClC,UAAU,KAAK;AAEhB,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAI,UAAU,KAAK,QAAQ;AAC3B,cAAC,IAAI,kBAAkB,MAAM,KAAK,WAAW,YAAY,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AAC7G,uBAAO,gBAAgB,iBAAiB,MAAM,SAAS,CAAC,YAAY;AAAA,iBACjE,IAAI,QAAQ;AAAA;AAGjB,mBAAO;AAAA;AAGqB,cAAI,kBAAmB;AAcpD,cAAI,kBAAmB,WAAW;AACjC,4BAAgB;AAAA;AAChB,gBAAI,uBAAuB;AAG3B,6BAAiB,MAAM,MAAM,gBAAgB;AAC5C,0BAAY,UAAU,YAAY,WAAW,aAAa,qBAAqB;AAC/E,2BAAa,KAAK;AAClB,mBAAK,OAAO;AACZ,mBAAK,OAAO;AACZ,mBAAK,WAAW,eAAe,mBAAmB;AAClD,mBAAK,WAAW,IAAI,gBAAgB;AACpC,mBAAK,WAAW;AAAA;AAEjB,kBAAM,SAAS,SAAS;AAExB,oBAAQ,UAAU,aAAa,SAAS,SAAS;AAChD,mBAAK,iBAAiB,UAAU,WAAW;AAC3C,kBAAG,QAAQ,QAAQ;AAClB,oBAAG,CAAC;AAAa,wBAAM,IAAI,MAAM;AACjC,oBAAI,SAAS,YAAY,UAAU,QAAQ;AAC3C,wBAAQ,SAAS,OAAO;AACxB,wBAAQ,gBAAgB,OAAO;AAAA,yBACtB,YAAY,SAAS;AAG9B,wBAAQ,SAAS;AACjB,wBAAQ,gBAAgB;AAAA;AAAA;AAI1B,oBAAQ,UAAU,UAAU,SAAS,QAAQ,UAAU;AACtD,0BAAY,UAAU,YAAY,WAAW,qBAAqB,eAAe,KAAK;AAEtF,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,2BAAO,MAAM,UAAU,MAAM,WAAW;AAAA;AAEzC,6BAAW;AAAA;AAAA;AAIb,mBAAK,SAAS,QAAQ;AAAA;AAGvB,oBAAQ,UAAU,WAAW,SAAS,QAAQ,UAAU;AACvD,kBAAI,OAAO,KAAK,MACf,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY,QACvD,UAAU,MAAM,kBAAkB,SAClC,UAAU;AAEX,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,kBAAI,UAAU,KAAK;AACnB,cAAC,IAAI,kBAAkB,MAAM,KAAK,WAAW,aAAa,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AAC9G,uBAAO,cAAc,iBAAiB,MAAM,SAAS,CAAC,YAAY;AAAA,iBAC/D,IAAI,QAAQ;AAAA;AAGjB,iCAAqB,UAAU;AAC9B,qBAAO,MAAM,SAAS,UAAU,SAAS,SAAS;AACjD,uBAAO,CAAC,QAAQ;AAAA;AAAA;AAIlB,oBAAQ,UAAU,UAAU,WAAW;AACtC,kBAAI,WAAW,UAAU,QACxB,QAAQ,UAAU,IAClB,SAAS,UAAU,IACnB,WAAW,UAAU,WAAW,IAChC,UACA,QACA,QAAO;AAER,kBAAG,OAAO,aAAc,YAAY;AACnC,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,WAAW;AAAA;AAEzC,2BAAW;AAAA;AAGZ,kBAAG,OAAO,UAAU,YAAY,UAAU,MAAM;AAE/C,2BAAW,CAAC,cAAc,WAAW,EAAC,MAAM,OAAO,MAAM;AACzD,yBAAS,UAAU;AAAA,yBACV,MAAM,SAAS,QAAQ;AAChC,2BAAW,CAAC,cAAc,WAAW;AACrC,yBAAS,UAAU;AAAA,yBACV,MAAM,QAAQ,QAAQ;AAC/B,2BAAW,cAAc,gBAAgB;AACzC,yBAAS,UAAU;AAAA,qBACb;AACN,sBAAM,IAAI,UAAU,iGAAiG,OAAO;AAAA;AAG7H,kBAAG,OAAO,WAAW,YAAY,CAAC,QAAQ;AAEzC,yBAAS;AAAA;AAGV,kBAAI,OAAO,KAAK,MACf,UAAU,KAAK,SACf,SAAS,QAAQ,oBAAoB,YAAY,QACjD,2BAA2B,KAAK,QAAQ,0BACxC,UAAU,MAAM,mBAAmB;AAEpC,kBAAG,QAAQ;AACV,sBAAM,MAAM,SAAS,QAAQ;AAE9B,kBAAG,4BAA4B,YAAY,WAAW;AACrD,oBAAI,YAAY,MAAM,aAAa;AACnC,sBAAM,WAAW,UAAU,SAAS,SAAS,OAAO;AACnD,0BAAQ,KAAK,YAAY,MAAM,MAAM;AAAA;AAAA;AAIvC,4BAAc,YAAY,UAAU,KAAK,gBAAgB,SAAS,KAAK;AACtE,oBAAG,KAAK;AACP,2BAAS;AACT;AAAA;AAID,oBAAI,OAAO,cAAc,gBAAgB,WACxC,iBAAiB,QAAQ;AAC1B,oBAAG,OAAO,gBAAgB;AACzB,2BAAS,IAAI,UAAU,2EAA2E,OAAO,sBAAsB,iBAAiB,WAAW,OAAO;AAClK;AAAA;AAGD,sBAAK,SAAS,cAAc,UAAU,UAAU,SAAS,SAAS,QAAQ;AAAA;AAAA;AAI5E,oBAAQ,UAAU,WAAW,SAAS,aAAa,SAAS,QAAQ,UAAU;AAC7E,8BAAgB,KAAK,KAAK,MAAM,KAAK,WAAW,aAAa,aAAa,SAAS,QAAQ,OAAO;AAAA;AAGnG,mBAAO;AAAA;AAGqB,cAAI,iBAAkB;AAKnD,cAAI,cAAe,WAAW;AAE7B,kCAAsB,QAAQ;AAC7B,mBAAK,QAAS,UAAU,OAAO,SAAU;AACzC,mBAAK,OAAQ,UAAU,OAAO,QAAS;AACvC,mBAAK,mBAAoB,UAAU,OAAO,oBAAqB;AAC/D,mBAAK,SAAU,UAAU,OAAO,UAAW;AAC3C,mBAAK,UAAW,UAAU,OAAO,WAAY;AAAA;AAG9C,qCAAyB,QAAQ;AAChC,kBAAI,QAAO;AACX,2BAAa,KAAK,MAAM;AACxB,mBAAK,WAAW;AAChB,kBAAI,UAAU,OAAO,UAAU;AAC9B,qBAAK,WAAW;AAChB,sBAAM,qBAAqB,OAAO,UAAU,SAAS,MAAM;AAC1D,wBAAK,SAAS,QAAQ,IAAI,aAAa,OAAO,SAAS;AAAA;AAAA;AAAA;AAK1D,mCAAuB,QAAQ;AAC9B,mBAAK,OAAQ,UAAU,OAAO,QAAS;AACvC,mBAAK,MAAO,UAAU,OAAO,OAAQ;AACrC,mBAAK,OAAQ,UAAU,OAAO,QAAS;AACvC,mBAAK,SAAU,UAAU,OAAO,UAAW;AAC3C,mBAAK,UAAW,UAAU,OAAO,WAAY;AAAA;AAG9C,kCAAsB,QAAQ;AAC7B,mBAAK,YAAa,UAAU,OAAO,aAAc;AACjD,mBAAK,SAAU,UAAU,OAAO,UAAW;AAC3C,mBAAK,UAAW,UAAU,OAAO,WAAY;AAAA;AAG9C,qCAAyB,QAAQ;AAChC,mBAAK,QAAQ,IAAI,cAAc,UAAU,OAAO;AAChD,mBAAK,MAAM,IAAI,cAAc,UAAU,OAAO;AAC9C,mBAAK,MAAM,IAAI,cAAc,UAAU,OAAO;AAAA;AAG/C,kCAAsB,QAAQ;AAC7B,mBAAK,WAAW,IAAI,gBAAgB,UAAU,OAAO;AACrD,mBAAK,WAAW,IAAI,gBAAgB,UAAU,OAAO;AACrD,mBAAK,MAAM,IAAI,gBAAgB,UAAU,OAAO;AAAA;AAGjD,oCAAwB,QAAQ;AAC/B,mBAAK,WAAW,IAAI,aAAa,UAAU,OAAO;AAClD,mBAAK,OAAO,IAAI,aAAa,UAAU,OAAO;AAC9C,mBAAK,UAAU,IAAI,aAAa,UAAU,OAAO;AACjD,mBAAK,cAAc,IAAI,aAAa,UAAU,OAAO;AACrD,mBAAK,gBAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,YAAY,IAAI,aAAa,UAAU,OAAO;AACnD,mBAAK,OAAO,IAAI,aAAa,UAAU,OAAO;AAC9C,mBAAK,MAAM,IAAI,aAAa,UAAU,OAAO;AAAA;AAG9C,uCAA2B,QAAQ;AAClC,mBAAK,MAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,UAAgB,IAAI,eAAe,UAAU,OAAO;AACzD,mBAAK,WAAgB,IAAI,eAAe,UAAU,OAAO;AAAA;AAG1D,kCAAsB,QAAQ;AAC7B,mBAAK,MAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,eAAgB,IAAI,kBAAkB,UAAU,OAAO;AAC5D,mBAAK,eAAgB,IAAI,kBAAkB,UAAU,OAAO;AAAA;AAG7D,+BAAmB,QAAQ;AAC1B,mBAAK,WAAY,UAAU,OAAO,YAAa;AAC/C,kBAAI,gBAAgB,UAAU,OAAO;AACrC,mBAAK,gBAAgB;AAAA,gBACpB,SAAS,iBAAiB,cAAc,WAAW;AAAA,gBACnD,WAAW,iBAAiB,cAAc,aAAa;AAAA,gBACvD,YAAY,iBAAiB,cAAc,cAAc;AAAA,gBACzD,QAAQ,iBAAiB,cAAc,UAAU;AAAA;AAElD,mBAAK,kBAAmB,UAAU,OAAO,mBAAoB;AAAA;AAG9D,oCAAwB,QAAQ;AAC/B,mBAAK,YAAa,UAAU,OAAO,aAAc;AACjD,mBAAK,UAAW,UAAU,OAAO,WAAY;AAC7C,mBAAK,SAAU,UAAU,OAAO,UAAW;AAAA;AAG5C,uCAA2B,QAAQ;AAClC,kBAAI,QAAO;AACX,mBAAK,QAAQ;AACb,kBAAI,UAAU,OAAO,OAAO;AAC3B,qBAAK,QAAQ;AACb,sBAAM,qBAAqB,OAAO,OAAO,SAAS,MAAM;AACvD,wBAAK,MAAM,QAAQ,IAAI,eAAe,OAAO,MAAM;AAAA;AAAA;AAAA;AAKtD,2BAAe,QAAQ;AACtB,gCAAkB,KAAK,MAAM;AAC7B,mBAAK,YAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,cAAgB,IAAI,gBAAgB,UAAU,OAAO;AAC1D,mBAAK,WAAgB,IAAI,cAAc,UAAU,OAAO;AACxD,mBAAK,cAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,gBAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,eAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,eAAgB,IAAI,aAAa,UAAU,OAAO;AACvD,mBAAK,OAAgB,IAAI,UAAU,UAAU,OAAO;AACpD,mBAAK,YAAgB,IAAI,kBAAkB,UAAU,OAAO;AAC5D,mBAAK,aAAiB,UAAU,OAAO,cAAe;AACtD,mBAAK,OAAiB,UAAU,OAAO,QAAS;AAChD,mBAAK,aAAiB,UAAU,OAAO,cAAe;AAAA;AAGvD,kBAAM,aAAa,SAAS,QAAQ;AACnC,qBAAO,IAAI,MAAM;AAAA;AAGlB,mBAAO;AAAA;AAGqB,cAAI,QAAS;AAe1C,cAAI,YAAa,WAAW;AAC3B,gBAAI,OAAO,WAAW;AAAA;AACtB,gBAAI,UAAU,SAAS;AAEvB,0BAAc,SAAS;AACtB,kBAAG,CAAE,iBAAgB,OAAM;AAC1B,uBAAO,IAAI,KAAK;AAAA;AAIjB,kBAAG,CAAC,SAAS;AACZ,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,sBAAM,IAAI,MAAM;AAAA;AAEjB,wBAAU,cAAc,iBAAiB;AAEzC,kBAAG,QAAQ,KAAK;AACf,4BAAY,OAAO,QAAQ,IAAI,OAAO,QAAQ,IAAI;AAAA;AAEnD,0BAAY,UAAU,YAAY,WAAW,UAAU,oCAAoC,MAAM,QAAQ;AAEzG,mBAAK,UAAU,cAAc,iBAAiB;AAG9C,kBAAG,QAAQ,KAAK;AACf,oBAAI,WAAW,QAAQ,IAAI,MAAM;AACjC,oBAAG,CAAC,UAAU;AACb,sBAAI,MAAM;AACV,8BAAY,UAAU,YAAY,WAAW,UAAU;AACvD,wBAAM,IAAI,MAAM;AAAA;AAEjB,wBAAQ,UAAU,SAAS;AAC3B,wBAAQ,YAAY,SAAS;AAAA;AAG9B,kBAAG,cAAc,SAAS;AACzB,oBAAG,CAAE,QAAO,QAAQ,aAAc,YAAY,QAAQ,aAAa;AAClE,wBAAM,IAAI,UAAU,4CAA4C,OAAO;AAAA,yBAChE,QAAQ,aAAa;AAC5B,wBAAM,IAAI,UAAU,sLAAiL,OAAO;AAAA;AAG9M,0BAAY,UAAU,YAAY,WAAW,UAAU,wBAAwB,cAAc;AAE7F,mBAAK,UAAU,KAAK,YAAY,SAAS,MAAM;AAAE,uBAAO,cAAc,cAAc,WAAW,OAAO,MAAM,cAAc,QAAQ,SAAS;AAAA;AAC3I,mBAAK,mBAAmB;AAExB,mBAAK,mBAAmB;AACxB,mBAAK,OAAO,IAAI,YAAY,MAAM;AAClC,mBAAK,WAAW,IAAI,SAAS;AAC7B,mBAAK,OAAO,IAAI,KAAK;AAAA;AAGtB,iBAAK,UAAU,QAAQ,SAAS,QAAQ,UAAU;AAEjD,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,QAAQ,UAAU;AACzB,2BAAO,MAAM,UAAU,MAAM,SAAS;AAAA;AAEvC,6BAAW;AAAA;AAAA;AAGb,kBAAI,UAAU,MAAM,qBACnB,SAAS,KAAK,QAAQ,oBAAoB,YAAY,QACtD,WAAW,UAAU,sBAAsB,SAAY;AAExD,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAEnC,cAAC,IAAI,kBAAkB,MAAM,UAAU,SAAS,UAAU,SAAS,MAAM,UAAS,UAAU;AAC3F,oBAAI,cAAe,WAAW,OAAO,KAAK,MAAM;AAChD,yBAAQ,IAAI,GAAG,IAAI,YAAY,QAAQ;AAAK,8BAAY,KAAK,MAAM,WAAW,YAAY;AAC1F,uBAAO;AAAA,iBACJ,IAAI,QAAQ;AAAA;AAGjB,iBAAK,UAAU,OAAO,SAAS,QAAQ,UAAU;AAEhD,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,QAAQ,UAAU;AACzB,2BAAO,MAAM,UAAU,MAAM,QAAQ;AAAA;AAEtC,6BAAW;AAAA;AAAA;AAGb,kBAAI,UAAU,MAAM;AACpB,kBAAG,KAAK,QAAQ;AACf,sBAAM,MAAM,SAAS,KAAK,QAAQ;AACnC,kBAAI,QAAO;AACX,kBAAI,UAAU,SAAS,MAAM;AAAE,uBAAO,MAAK,UAAU,QAAQ;AAAA;AAC7D,wBAAU,IAAI,MAAM,SAAS,SAAS,QAAQ,SAAS,KAAK,KAAK,UAAS,UAAU;AACnF,oBAAG,KAAK;AACP,2BAAS;AACT;AAAA;AAED,oBAAG,CAAC;AAAU,wBAAM,KAAK,MAAM;AAC/B,oBAAI,OAAO,IAAI;AACf,oBAAG,CAAC,MAAM;AACT,wBAAM,IAAI,MAAM;AAChB,sBAAI,aAAa;AACjB,2BAAS;AACT;AAAA;AAGD,sBAAK,mBAAoB,OAAO,MAAM;AACtC,yBAAS,MAAM;AAAA;AAAA;AAIjB,iBAAK,UAAU,UAAU,SAAS,QAAQ,MAAM,QAAQ,MAAM,eAAe,UAAU;AACtF,kBAAI,YAAY,KAAK,QAAQ,mBAC5B,UAAU,YAAY,QAAQ,SAAQ,KAAK,WAC3C,UAAU,YAAY,QAAQ,SAAS,KAAK,OAC5C,SAAS,YAAY,YAAY,QACjC,WAAW,UAAU,sBAAsB,SAAY;AACxD,uBAAS,UAAU;AACnB,uBAAS,OAAO;AAChB,kBAAI,UAAU,UAAU,QAAQ,MAAM,kBAAkB,UAAU,MAAM,mBAAmB;AAE3F,kBAAG,aAAa,QAAW;AAC1B,oBAAG,KAAK,QAAQ,UAAU;AACzB,yBAAO,MAAM,UAAU,MAAM,WAAW,CAAC,QAAQ,MAAM,QAAQ,MAAM;AAAA;AAEtE,2BAAW;AAAA;AAGZ,kBAAG,OAAO,SAAS,UAAU;AAC5B,uBAAO,QAAQ;AAAA;AAEhB,kBAAG,KAAK,QAAQ,SAAS;AACxB,sBAAM,MAAM,SAAS,KAAK,QAAQ;AAAA;AAEnC,kBAAG,eAAe;AACjB,sBAAM,MAAM,SAAS;AAAA;AAEtB,kBAAI,oBAAoB,IAAI,kBAAkB,MAAM,MAAM,SAAS,UAAU,SAAS,SAAS,UAAS,UAAU;AACjH,uBAAO,MAAM,YAAY,WAAW,UAAU,QAAQ;AAAA,iBACpB;AAEnC,kBAAG,CAAC,MAAM,MAAM,UAAU,SAAS,SAAS;AAC3C,sBAAM,IAAI,UAAU,wBAAwB,QAAQ,OAAO;AAAA;AAG5D,kBAAG,MAAM,MAAM,UAAU,iBAAiB,SAAS;AAClD,kCAAkB,QAAQ,QAAQ,MAAM;AAAA,qBAClC;AACN,kCAAkB,QAAQ,QAAQ;AAAA;AAAA;AAIpC,iBAAK,UAAU,SAAS,SAAS,YAAY;AAC5C,0BAAY,OAAO,WAAW,OAAO,WAAW;AAAA;AAGjD,8BAAkB,MAAM;AACvB,mBAAK,OAAO;AACZ,mBAAK,MAAM,OAAO,OAAO;AAAA;AAG1B,qBAAS,UAAU,MAAM,SAAS,MAAM,gBAAgB;AACvD,qBAAO,OAAO;AACd,kBAAI,UAAU,KAAK,IAAI;AACvB,kBAAG,CAAC,SAAS;AACZ,qBAAK,IAAI,QAAQ,UAAU,IAAI,eAAe,KAAK,MAAM,MAAM;AAAA,yBACtD,gBAAgB;AACzB,wBAAQ,WAAW;AAAA;AAGpB,qBAAO;AAAA;AAKR,qBAAS,UAAU,UAAU,SAAS,MAAM;AAC3C,qBAAO,KAAK,IAAI,OAAO;AAAA;AAGxB,mBAAO;AAAA;AAGR,oBAAU,UAAU,SAAS,SAAS;AACrC,sBAAU,cAAc,iBAAiB;AACzC,oBAAQ,WAAW;AACnB,mBAAO,IAAI,UAAU;AAAA;AAGtB,oBAAU,YAAY;AAEO,cAAI,cAAe;AAQhD,cAAI,kCAAmC,WAAW;AAEjD,uCAA2B;AAC1B,mBAAK,SAAS;AACd,mBAAK,QAAQ;AACb,mBAAK,KAAK;AACV,mBAAK,YAAY;AACjB,mBAAK,QAAQ;AACb,mBAAK,QAAQ;AACb,mBAAK,eAAe;AACpB,mBAAK,gBAAgB;AACrB,mBAAK,mBAAmB;AACxB,mBAAK,UAAU;AACf,mBAAK,gBAAgB;AACrB,mBAAK,YAAY;AACjB,mBAAK,WAAW;AAChB,mBAAK,WAAW;AAChB,mBAAK,OAAO;AACZ,mBAAK,SAAS;AAAA;AAGf,gBAAI,UAAU,gBAAgB,SAAS;AAAA,cACtC,aAAc;AAAA,cACd,OAAQ;AAAA,cACR,QAAS;AAAA,cACT,WAAY;AAAA,cACZ,aAAc;AAAA,cACd,cAAe;AAAA,cACf,gBAAiB;AAAA,cACjB,SAAU;AAAA,cACV,UAAW;AAAA,cACX,SAAU;AAAA,cACV,UAAW;AAAA,cACX,YAAa;AAAA,cACb,UAAW;AAAA,cACX,YAAa;AAAA,cACb,YAAa;AAAA,cACb,WAAY;AAAA,cACZ,QAAS;AAAA,cACT,QAAS;AAAA;AAGV,4BAAgB,eAAe,CAAE,YAAY,WAAW,aAAa;AAErE,4BAAgB,aAAa;AAC7B,kBAAM,WAAW,MAAM,UAAU,gBAAgB,QAAQ,OAAO,SAAS,MAAM;AAC9E,8BAAgB,WAAW,QAAQ,SAAS;AAAA;AAG7C,gBAAI,QAAQ;AAAA,cAEX,gBAAsB,KAAK;AAAA,cAC3B,eAAsB,KAAK;AAAA,cAC3B,WAAsB,KAAK;AAAA,cAC3B,aAAsB,KAAK;AAAA,cAC3B,iBAAsB,KAAK;AAAA,cAE3B,YAAsB,KAAK;AAAA,cAC3B,WAAsB,KAAK;AAAA,cAC3B,aAAsB,KAAK;AAAA,cAC3B,sBAAsB,KAAK;AAAA;AAE5B,gBAAI,YAAY,MAAM,UAAU;AAChC,kBAAM,WAAW,MAAM,WAAW,MAAM,UAAU,MAAM,YAAY,MAAM;AAE1E,4BAAgB,UAAU,UAAU,SAAS,MAAM;AAClD,qBAAS,MAAK,QAAQ,MAAM,SAAS;AAAA;AAGtC,4BAAgB,UAAU,UAAU,SAAS,MAAM;AAClD,qBAAO,KAAK,QAAQ,KAAK,QAAQ,MAAM;AAAA;AAGxC,4BAAgB,UAAU,UAAU,WAAW;AAC9C,qBAAO,KAAK,SAAU,KAAK,QAAQ,MAAM;AAAA;AAG1C,4BAAgB,UAAU,qBAAqB,SAAS,OAAO;AAC9D,kBAAI,QAAO;AACX,oBAAM,WAAW,OAAO,SAAS,MAAM;AACtC,sBAAK,QAAQ;AAAA;AAAA;AAIf,4BAAgB,UAAU,uBAAuB,WAAW;AAC3D,kBAAI,QAAQ,IACX,QAAO;AACR,oBAAM,WAAW,gBAAgB,cAAc,SAAS,MAAM;AAC7D,oBAAG,MAAK,QAAQ,OAAO;AACtB,wBAAM,KAAK;AAAA;AAAA;AAGb,qBAAO,MAAM,SAAS,IAAI,QAAQ;AAAA;AAGnC,4BAAgB,YAAY,MAAM;AAElC,4BAAgB,cAAc,SAAS,YAAY,QAAQ;AAC1D,kBAAI,eAAe,MAAM,WAAW,YAAY;AAChD,qBAAO,gBAAgB,iBAAiB;AAAA;AAGzC,4BAAgB,mBAAmB,SAAS,cAAc;AACzD,kBAAI,QAAQ,aAAa;AACzB,kBAAG;AAAO,6BAAa,QAAQ,UAAU,WAAW;AACpD,kBAAI,WAAW,aAAa;AAC5B,kBAAG;AAAU,yBAAQ,IAAI,GAAG,IAAI,SAAS,QAAQ;AAAK,2BAAS,KAAK,cAAc,WAAW,SAAS;AACtG,kBAAI,WAAW,aAAa;AAC5B,kBAAG;AAAU,yBAAQ,IAAI,GAAG,IAAI,SAAS,QAAQ;AAAK,2BAAS,KAAK,gBAAgB,WAAW,SAAS,IAAI;AAC5G,qBAAO,MAAM,MAAM,IAAI,mBAAmB;AAAA;AAG3C,4BAAgB,aAAa,SAAS,QAAQ;AAC7C,qBAAO,MAAM,MAAM,IAAI,mBAAmB;AAAA;AAG3C,mCAAuB,OAAO;AAC7B,kBAAI,SAAS;AACb,kBAAI,OAAO;AACV,yBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACtC,yBAAO,KAAK,MAAM,GAAG;AAAA;AAAA;AAGvB,qBAAO,OAAO,OAAO,KAAK,QAAQ;AAAA;AAGnC,gBAAI,mBAAmB,iGAAiG,MAAM;AAE9H,4BAAgB,YAAY,SAAS,KAAK;AACzC,kBAAI,SAAS;AACb,kBAAG,IAAI,WAAW;AACjB,0BAAU,cAAc,gBAAgB,WAAW,IAAI,WAAW;AAEnE,kBAAI;AACJ,uBAAS,cAAc,GAAG,cAAc,iBAAiB,QAAQ,eAAe;AAC/E,4BAAY,iBAAiB;AAC7B,oBAAG,IAAI,eAAe;AACrB,4BAAU,OAAO,YAAY,MAAM,IAAI;AAAA;AAGzC,kBAAG,IAAI;AACN,0BAAU,gBAAgB,cAAc,cAAc,gBAAgB,IAAI;AAC3E,kBAAG,IAAI;AACN,0BAAU,gBAAgB,cAAc,gBAAgB,gBAAgB,IAAI;AAC7E,kBAAG,IAAI;AACN,0BAAU,aAAa,UAAU,WAAW,IAAI,OAAO;AACxD,kBAAG,IAAI,QAAQ,IAAI,KAAK;AACvB,0BAAU,aAAa,IAAI,KAAK;AACjC,kBAAG,IAAI;AACN,0BAAU,aAAa,MAAM,UAAU,WAAW,SAAS,MAAM;AAChE,yBAAO,IAAI,QAAQ;AAAA,mBACjB,KAAK;AACT,kBAAG,IAAI,QAAQ;AACd,oBAAI,oBAAoB;AACxB,sBAAM,qBAAqB,IAAI,QAAQ,SAAS,MAAM;AACrD,sBAAI,kBAAkB,SAAS,GAAG;AACjC,yCAAqB;AAAA;AAEtB,uCAAqB,OAAO,MAAM,IAAI,OAAO;AAAA;AAE9C,oBAAI,kBAAkB,SAAS,GAAG;AACjC,4BAAU,eAAe,oBAAoB;AAAA;AAAA;AAG/C,wBAAU;AACV,qBAAO;AAAA;AAIR,4BAAgB,cAAc,SAAS,GAAG,GAAG;AAC5C,kBAAI,KAAK,GAAG;AACX,oBAAK,GAAE,WAAW,QAAQ,WAAW,EAAE,WAAW,QAAQ,aACxD,EAAE,WAAW,EAAE,UACf,EAAE,YAAY,EAAE,WAChB,EAAE,OAAO,EAAE,IAAK;AACjB,sBAAI,EAAE,WAAW,QAAQ,UAAU;AAClC,2BAAO;AAAA,6BACG,EAAE,SAAS,WAAW,EAAE,SAAS,QAAQ;AACnD,6BAAS,IAAI,GAAG,IAAI,EAAE,SAAS,QAAQ,KAAK;AAC3C,0BAAI,WAAW,EAAE,SAAS;AAC1B,0BAAI,WAAW,EAAE,SAAS;AAC1B,0BAAK,UAAS,UAAU,SAAS,OAAO,SAAS,SAAS,OAAO,MAAM,YACrE,UAAS,UAAU,SAAS,OAAO,SAAS,SAAS,OAAO,MAAM,SAAS;AAC5E,+BAAO;AAAA;AAAA;AAIT,2BAAO;AAAA;AAAA;AAAA;AAKV,qBAAO;AAAA;AAGR,mBAAO;AAAA;AAGqB,cAAI,kBAAmB;AAOpD,cAAI,4BAA6B,WAAW;AAC3C,oCAAwB;AACvB,2BAAa,KAAK;AAClB,mBAAK,WAAW;AAAA;AAEjB,kBAAM,SAAS,cAAc;AAE7B,yBAAa,UAAU,QAAQ,WAAW;AACzC,qBAAO,KAAK,SAAS;AAAA;AAGtB,yBAAa,UAAU,OAAO,SAAS,SAAS;AAC/C,mBAAK,SAAS,KAAK;AAAA;AAGpB,yBAAa,UAAU,QAAQ,WAAW;AACzC,qBAAO,KAAK,SAAS;AAAA;AAGtB,yBAAa,UAAU,OAAO,WAAW;AACxC,qBAAO,KAAK,SAAS,KAAK,SAAS,SAAS;AAAA;AAG7C,yBAAa,UAAU,UAAU,WAAW;AAC3C,qBAAO,KAAK,SAAS;AAAA;AAGtB,yBAAa,UAAU,SAAS,SAAS,UAAU;AAClD,mBAAK,SAAS,KAAK,MAAM,KAAK,UAAU;AAAA;AAGzC,yBAAa,UAAU,UAAU,SAAS,UAAU;AACnD,mBAAK,SAAS,QAAQ,MAAM,KAAK,UAAU;AAAA;AAG5C,yBAAa,UAAU,mBAAmB,SAAS,QAAQ,OAAO,KAAK;AACtE,0BAAY,UAAU,YAAY,WAAW,mCAAmC,cAAc,SAAS,eAAe;AACtH,oBAAM,OAAO;AACb,kBAAI,WAAW,KAAK;AACpB,kBAAI,QAAQ,SAAS;AACrB,kBAAG,OAAO;AACT,oBAAI,cAAc,MAAM,QAAQ;AAChC,oBAAI,YAAY,SAAS;AACzB,oBAAG,YAAY,aAAa;AAC3B,sBAAI,mBAAmB,SAAS,OAAO,GAAI,YAAY;AACvD,2BAAQ,IAAI,GAAG,IAAI,iBAAiB,QAAQ,KAAK;AAChD,qCAAiB,GAAG,SAAS;AAAA;AAAA;AAG/B,oBAAG,SAAS,UAAU;AACrB,uBAAK,KAAK;AAAA;AAAA;AAIb,yBAAa,UAAU,sBAAsB,SAAS,KAAK;AAC1D,mBAAK,iBAAiB,GAAG,OAAO,oBAAoB,OAAO,WAAW;AAAA;AAGvE,yBAAa,UAAU,QAAQ,WAAW;AACzC,0BAAY,UAAU,YAAY,WAAW,wBAAwB,cAAc,KAAK,SAAS,SAAS;AAC1G,mBAAK,WAAW;AAChB,mBAAK,KAAK;AAAA;AAGX,mBAAO;AAAA;AAGqB,cAAI,eAAgB;AAUjD,cAAI,oBAAqB,WAAW;AACnC,gBAAI,UAAU,gBAAgB;AAE9B,8BAAkB,WAAW;AAC5B,2BAAa,KAAK;AAClB,mBAAK,YAAY;AACjB,mBAAK,eAAe,IAAI;AACxB,kBAAI,QAAO;AACX,wBAAU,GAAG,OAAO,SAAS,QAAQ,OAAO;AAAE,sBAAK,MAAM,QAAQ;AAAA;AACjE,wBAAU,GAAG,QAAQ,SAAS,QAAQ,OAAO,KAAK;AAAE,sBAAK,OAAO,QAAQ,OAAO;AAAA;AAAA;AAEhF,kBAAM,SAAS,UAAU;AAEzB,qBAAS,UAAU,QAAQ,SAAS,QAAQ,OAAO;AAClD,0BAAY,UAAU,YAAY,WAAW,oBAAoB,cAAc,SAAS,eAAe;AACvG,mBAAK,aAAa,iBAAiB,QAAQ;AAAA;AAG5C,qBAAS,UAAU,SAAS,SAAS,QAAQ,OAAO,KAAK;AACxD,0BAAY,UAAU,YAAY,WAAW,qBAAqB,cAAc,SAAS,eAAe,QAAQ,aAAa,MAAM,aAAa;AAChJ,kBAAG,CAAC,KAAK;AACR,sBAAM,IAAI,UAAU,kDAAkD,OAAO;AAAA;AAE9E,mBAAK,aAAa,iBAAiB,QAAQ,OAAO;AAAA;AAGnD,qBAAS,UAAU,WAAW,SAAS,UAAU;AAChD,kBAAI,eAAe,KAAK;AACxB,kBAAG,aAAa,YAAY,GAAG;AAC9B;AACA;AAAA;AAED,2BAAa,KAAK,QAAQ;AAAA;AAG3B,qBAAS,UAAU,OAAO,SAAS,gBAAgB;AAClD,kBAAG,eAAe,aAAa;AAC9B,qBAAK,aAAa,KAAK;AAAA;AAExB,kBAAI,YAAY,UAAU,YAAY,YAAY;AACjD,4BAAY,UAAU,YAAY,WAAW,mBAAmB,kBAAkB,gBAAgB,UAAU,eAAe;AAAA;AAE5H,6BAAe,gBAAgB;AAC/B,mBAAK,UAAU,KAAK,eAAe;AAAA;AAGpC,qBAAS,UAAU,eAAe,WAAW;AAC5C,qBAAO,KAAK;AAAA;AAGb,qBAAS,UAAU,qBAAqB,WAAW;AAClD,qBAAO,KAAK,aAAa;AAAA;AAG1B,qBAAS,UAAU,uBAAuB,WAAW;AACpD,qBAAO,KAAK,aAAa;AAAA;AAG1B,qBAAS,UAAU,SAAS,WAAW;AACtC,kBAAI,YAAY,KAAK;AACrB,mBAAK,SAAS,WAAW;AACxB,0BAAU;AAAA;AAAA;AAIZ,oCAAwB,SAAS,UAAU;AAC1C,mBAAK,UAAU;AACf,mBAAK,WAAW;AAChB,mBAAK,SAAS;AACd,kBAAI,SAAS,QAAQ;AACrB,mBAAK,gBAAgB;AACrB,mBAAK,cAAe,UAAU,QAAQ,WAAW,UAAU,QAAQ;AAAA;AAEpE,qBAAS,iBAAiB;AAE1B,mBAAO;AAAA;AAGqB,cAAI,WAAY;AAG7C,cAAI,wBAAyB,WAAW;AAGvC,4CAA+B,UAAU,SAAS,SAAS,QAAQ;AAClE,mBAAK,WAAW;AAChB,mBAAK,UAAU;AACf,kBAAG;AAAS,qBAAK,UAAU;AAC3B,kBAAG;AAAQ,qBAAK,SAAS;AAAA;AAG1B,mBAAO;AAAA;AAGqB,cAAI,wBAAyB;AAM1D,cAAI,kBAAkB;AAAA,YACrB,cAAc,UAAU,WAAW;AAAA,cAClC,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA,YAEV,WAAW,UAAU,WAAW;AAAA,cAC/B,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA,YAEV,QAAQ,UAAU,WAAW;AAAA,cAC5B,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA,YAEV,SAAS,UAAU,WAAW;AAAA,cAC7B,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA,YAEV,QAAQ,UAAU,WAAW;AAAA,cAC5B,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA,YAEV,sBAAsB,UAAU,WAAW;AAAA,cAC1C,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA,YAEV,mBAAmB,UAAU,WAAW;AAAA,cACvC,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA;AAAA;AAIX,0BAAgB,cAAc,SAAS,KAAK;AAC3C,gBAAI,CAAC,IAAI,cAAc,CAAC,IAAI,QAAQ,IAAI,cAAc,KAAK;AAC1D,qBAAO;AAAA;AAER,gBAAI,YAAY;AAChB,kBAAM,YAAY,iBAAiB,QAAQ,SAAS,SAAS;AAC5D,kBAAI,QAAQ,QAAQ,QAAQ,QAAQ,IAAI,MAAM;AAC7C,4BAAY;AAAA;AAAA;AAGd,mBAAO;AAAA;AAGqB,cAAI,kBAAmB;AASpD,cAAI,8BAA+B,WAAW;AAC7C,qCAAyB;AAAA;AAEzB,gBAAI,SAAS,cAAc,SAAS;AAAA,cACnC;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA;AAID,0BAAc,SAAS,SAAS,OAAO,SAAS,aAAa,MAAM;AAClE,kBAAI,UAAU,MAAM,gBAAgB;AAEpC,kBAAI,QAAQ;AAAA,gBACX,UAAU;AAAA,gBACV,MAAM,MAAM,MAAM;AAAA,kBACjB,WAAW,cAAc;AAAA,mBACvB;AAAA,gBACH,UAAU;AAAA,gBACV;AAAA,gBACA,SAAS,cAAc;AAAA,gBACvB,aAAa,eAAe,CAAE;AAAA,gBAC9B;AAAA,gBACA,SAAS;AAAA,kBACR,SAAS;AAAA,oBACR,cAAc,SAAS;AAAA;AAAA,kBAExB,KAAK,SAAS;AAAA;AAAA;AAIhB,0BAAY,UAAU,YAAY,WAAW,iBAAiB,gCAAgC;AAC9F,wBAAU,QAAQ,MAAM,cAAc,mBAAmB,cAAc,uBAAuB,KAAK,UAAU,QAAQ,IAAI,SAAS,KAAK,KAAK;AAC3I,4BAAY,UAAU,YAAY,WAAW,iBAAiB,4CAC5D,OAAM,MAAM,aAAa,OAAO,MAAM,YAAY;AAAA;AAAA;AAKtD,mBAAO;AAAA;AAGqB,cAAI,gBAAiB;AAKlD,cAAI,wBAAyB,WAAW;AACvC,gBAAI,kBACH,gBACA,OAAO;AAOR,gBAAI;AACH,qBAAO,eAAe,QAAQ,MAAM;AACpC,qBAAO,eAAe,WAAW;AACjC,iCAAmB;AAAA,qBACZ,GAAN;AACD,iCAAmB;AAAA;AAGpB,gBAAI;AACH,qBAAO,aAAa,QAAQ,MAAM;AAClC,qBAAO,aAAa,WAAW;AAC/B,+BAAiB;AAAA,qBACV,GAAN;AACD,+BAAiB;AAAA;AAGlB,kCAAsB;AAAA;AAEtB,sCAA0B,SAAS;AAClC,qBAAO,UAAU,OAAO,iBAAiB,OAAO;AAAA;AAGjD,yBAAa,MAAM,OAAO,KAAK,SAAS;AACvC,kBAAI,eAAe,EAAC;AACpB,kBAAG,KAAK;AACP,6BAAa,UAAU,MAAM,QAAQ;AAAA;AAEtC,qBAAO,iBAAiB,SAAS,QAAQ,MAAM,KAAK,UAAU;AAAA;AAG/D,yBAAa,MAAM,SAAS;AAC3B,kBAAI,UAAU,iBAAiB,SAAS,QAAQ;AAChD,kBAAG,CAAC;AAAS,uBAAO;AACpB,kBAAI,eAAe,KAAK,MAAM;AAC9B,kBAAG,aAAa,WAAY,aAAa,UAAU,MAAM,OAAQ;AAChE,iCAAiB,SAAS,WAAW;AACrC,uBAAO;AAAA;AAER,qBAAO,aAAa;AAAA;AAGrB,4BAAgB,MAAM,SAAS;AAC9B,qBAAO,iBAAiB,SAAS,WAAW;AAAA;AAG7C,gBAAG,gBAAgB;AAClB,yBAAW,MAAS,SAAS,MAAM,OAAO,KAAK;AAAE,uBAAO,IAAI,MAAM,OAAO,KAAK;AAAA;AAC9E,yBAAW,MAAS,SAAS,MAAM;AAAE,uBAAO,IAAI,MAAM;AAAA;AACtD,yBAAW,SAAS,SAAS,MAAM;AAAE,uBAAO,OAAO,MAAM;AAAA;AAAA;AAG1D,gBAAG,kBAAkB;AACpB,yBAAW,aAAgB,SAAS,MAAM,OAAO,KAAK;AAAE,uBAAO,IAAI,MAAM,OAAO,KAAK;AAAA;AACrF,yBAAW,aAAgB,SAAS,MAAM;AAAE,uBAAO,IAAI,MAAM;AAAA;AAC7D,yBAAW,gBAAgB,SAAS,MAAM;AAAE,uBAAO,OAAO,MAAM;AAAA;AAAA;AAGjE,mBAAO;AAAA;AAGqB,cAAI,aAAc;AAU/C,cAAI,sBAAuB,WAAW;AACrC,gBAAI,UAAU,gBAAgB;AAC9B,gBAAI,eAAe,gBAAgB,WAAW,EAAC,QAAQ,QAAQ;AAC/D,gBAAI,oBAAoB,gBAAgB,WAAW,EAAC,QAAQ,QAAQ;AACpE,gBAAI,OAAO,WAAW;AAAA;AAetB,+BAAmB,mBAAmB,MAAM,QAAQ;AACnD,2BAAa,KAAK;AAClB,mBAAK,oBAAoB;AACzB,gCAAkB,0BAA0B;AAC5C,mBAAK,OAAO;AACZ,mBAAK,SAAS;AACd,mBAAK,WAAW,OAAO,QAAQ;AAC/B,mBAAK,SAAS,OAAO;AACrB,mBAAK,cAAc;AACnB,mBAAK,aAAa;AAClB,mBAAK,aAAa;AAClB,mBAAK,kBAAkB;AACvB,mBAAK,YAAY;AACjB,mBAAK,eAAe;AAAA;AAErB,kBAAM,SAAS,WAAW;AAE1B,sBAAU,UAAU,UAAU,WAAW;AAAA;AAEzC,sBAAU,UAAU,QAAQ,WAAW;AACtC,kBAAG,KAAK,aAAa;AACpB,qBAAK;AAAA;AAEN,mBAAK,OAAO,UAAU,gBAAgB;AAAA;AAGvC,sBAAU,UAAU,aAAa,SAAS,KAAK;AAG9C,kBAAG,KAAK,aAAa;AACpB,qBAAK;AAAA;AAEN,mBAAK,OAAO,gBAAgB,OAAO,gBAAgB;AAAA;AAGpD,sBAAU,UAAU,OAAO,SAAS,KAAK;AAExC,kBAAG,KAAK,aAAa;AACpB,qBAAK;AAAA;AAEN,mBAAK,OAAO,UAAU,OAAO,gBAAgB;AAAA;AAG9C,sBAAU,UAAU,SAAS,SAAS,OAAO,KAAK;AACjD,kBAAG,KAAK,YAAY;AACnB;AAAA;AAGD,mBAAK,aAAa;AAClB,mBAAK,cAAc;AACnB,mBAAK,kBAAkB;AACvB,2BAAa,KAAK;AAClB,mBAAK,YAAY;AACjB,mBAAK,KAAK,OAAO;AACjB,mBAAK;AAAA;AAGN,sBAAU,UAAU,oBAAoB,SAAS,SAAS;AACzD,kBAAI,YAAY,UAAU,YAAY,YAAY;AACjD,4BAAY,UAAU,YAAY,WAAW,iCAAiC,iBAAiB,KAAK,YAAY,OAAO,gBAAgB,UAAU,WAAW,sBAAsB,KAAK,kBAAkB;AAAA;AAE1M,mBAAK;AAEL,sBAAO,QAAQ;AAAA,qBACV,QAAQ;AACZ,8BAAY,UAAU,YAAY,WAAW,iCAAiC,KAAK,YAAY,gCAAgC,KAAK,kBAAkB;AACtJ,uBAAK,KAAK,aAAa,QAAQ;AAC/B;AAAA,qBACI,QAAQ;AACZ,uBAAK,UAAU;AACf,uBAAK,KAAK,aAAa,QAAQ,OAAO,QAAQ,cAAc,QAAQ,mBAAmB;AACvF;AAAA,qBACI,QAAQ;AACZ,uBAAK,QAAQ;AACb;AAAA,qBACI,QAAQ;AACZ,uBAAK,aAAa;AAClB;AAAA,qBACI,QAAQ;AACZ,uBAAK,KAAK,OAAO,QAAQ,WAAW,QAAQ;AAC5C;AAAA,qBACI,QAAQ;AACZ,uBAAK,KAAK,QAAQ,QAAQ,WAAW,QAAQ,OAAO,QAAQ;AAC5D;AAAA,qBACI,QAAQ;AACZ,sBAAG,QAAQ,iBAAiB,QAAW;AAEtC,yBAAK,KAAK,QAAQ,QAAQ,cAAc;AACxC;AAAA;AAGD,uBAAK,kBAAkB,iBAAiB,SAAS;AACjD;AAAA,qBACI,QAAQ;AACZ,uBAAK,KAAK,UAAU,SAAS,KAAK;AACjC,wBAAG,KAAK;AACP,kCAAY,UAAU,YAAY,WAAW,iCAAiC,yEAAyE,MAAM,aAAa;AAAA;AAAA;AAG5K;AAAA,qBACI,QAAQ;AACZ,8BAAY,UAAU,YAAY,WAAW,iCAAiC,2CAA2C,KAAK,kBAAkB,eAAe,aAAa,MAAM,QAAQ,QAAQ,SAAU,SAAQ,UAAW,gBAAiB,QAAQ,UAAW;AACnQ,sBAAG,QAAQ,YAAY,QAAW;AACjC,yBAAK,aAAa;AAClB;AAAA;AAGD,uBAAK,kBAAkB,iBAAiB,SAAS;AACjD;AAAA;AAGA,uBAAK,kBAAkB,iBAAiB,SAAS;AAAA;AAAA;AAInD,sBAAU,UAAU,YAAY,SAAS,SAAS;AACjD,mBAAK,cAAc;AACnB,kBAAI,kBAAkB,QAAQ,kBAAkB;AAChD,kBAAG,iBAAiB;AACnB,qBAAK,kBAAkB,kBAAkB,KAAK,SAAS;AACvD,qBAAK;AAAA;AAAA;AAKP,sBAAU,UAAU,eAAe,SAAS,SAAS;AAGpD,kBAAI,MAAM,WAAW,QAAQ;AAC7B,0BAAY,UAAU,YAAY,WAAW,4BAA4B,WAAW,MAAM,aAAa;AACvG,mBAAK,OAAO,gBAAgB;AAAA;AAG7B,sBAAU,UAAU,eAAe,SAAS,SAAS;AAIpD,kBAAI,MAAM,WAAW,QAAQ;AAC7B,0BAAY,UAAU,YAAY,WAAW,4BAA4B,WAAW,MAAM,aAAa;AACvG,mBAAK,OAAO,UAAU;AAAA;AAGvB,sBAAU,UAAU,UAAU,SAAS,SAAS;AAC/C,kBAAI,MAAM,WAAW,QAAQ;AAC7B,0BAAY,UAAU,YAAY,WAAW,uBAAuB,WAAW,MAAM,aAAa;AAClG,mBAAK,OAAO,UAAU;AAAA;AAGvB,sBAAU,UAAU,eAAe,WAAW;AAC7C,0BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,mBAAK,KAAK;AAAA;AAGX,sBAAU,UAAU,oBAAoB,WAAW;AAClD,0BAAY,UAAU,YAAY,WAAW,iCAAiC;AAC9E,mBAAK,KAAK;AAAA;AAGX,sBAAU,UAAU,OAAO,SAAS,IAAI;AACvC,kBAAI,MAAM,EAAC,QAAQ,gBAAgB,OAAO;AAC1C,kBAAG;AAAI,oBAAI,KAAK;AAChB,mBAAK,KAAK,gBAAgB,WAAW;AAAA;AAGtC,sBAAU,UAAU,UAAU,WAAW;AACxC,0BAAY,UAAU,YAAY,WAAW,uBAAuB;AACpE,mBAAK,aAAa;AAClB,mBAAK;AAAA;AAGN,sBAAU,UAAU,aAAa,WAAW;AAC3C,kBAAG,CAAC,KAAK,iBAAiB;AAAE;AAAA;AAC5B,mBAAK,eAAe,KAAK,kBAAkB,eAAe,MAAM;AAChE,mBAAK,aAAa,KAAK,kBAAkB;AAAA;AAG1C,sBAAU,UAAU,eAAe,SAAS,SAAS;AACpD,kBAAI,QAAO;AACX,kBAAG,CAAC,KAAK,WAAW;AACnB,qBAAK,YAAY,WAAW,WAAW;AACtC,wBAAK;AAAA,mBACH;AAAA;AAAA;AAIL,sBAAU,UAAU,oBAAoB,WAAW;AAClD,mBAAK,YAAY;AACjB,kBAAI,YAAY,MAAM,QAAQ,KAAK,cAClC,gBAAgB,KAAK,kBAAkB;AACxC,kBAAG,iBAAiB,GAAG;AACtB,oBAAI,MAAM,uCAAuC,YAAY;AAC7D,4BAAY,UAAU,YAAY,WAAW,iCAAiC;AAC9E,qBAAK,WAAW,IAAI,UAAU,KAAK,OAAO;AAAA,qBACpC;AACN,qBAAK,aAAa,gBAAgB;AAAA;AAAA;AAIpC,sBAAU,UAAU,gBAAgB,WAAW;AAAA;AAE/C,mBAAO;AAAA;AAGqB,cAAI,sBAAuB;AAYxD,cAAI,gCAAiC,WAAW;AAE/C,gBAAI,WAAW,GACd,WAAW,GACX,gBAAgB,GAChB,kBAAkB;AAGnB,yCAA6B,KAAK;AACjC,kBAAI,2BAA2B,CAAC,OAAO,OAAO;AAC9C,kBAAG,IAAI,MAAM;AACZ,oBAAG,YAAY,WAAW;AAAM,yBAAO;AACvC,oBAAG,MAAM,MAAM,0BAA0B,IAAI;AAAO,yBAAO;AAC3D,uBAAQ,IAAI,QAAQ,OAAS,IAAI,OAAO;AAAA,qBAClC;AAEN,uBAAO;AAAA;AAAA;AAIT,iDAAqC,KAAK;AAGzC,kBAAG,oBAAoB,MAAM;AAC5B,uBAAO,CAAC,gBAAgB,WAAW,EAAC,QAAQ,gBAAgB,OAAO,OAAO,OAAO;AAAA,qBAC3E;AACN,uBAAO,CAAC,gBAAgB,WAAW,EAAC,QAAQ,gBAAgB,OAAO,cAAc,OAAO;AAAA;AAAA;AAO1F,oCAAwB,mBAAmB,MAAM,QAAQ;AAExD,qBAAO,SAAS;AAChB,qBAAO,aAAa;AACpB,kCAAoB,KAAK,MAAM,mBAAmB,MAAM;AAExD,mBAAK,SAAU,YAAY,SAAU,OAAO,SAAS;AACrD,mBAAK,cAAc;AACnB,mBAAK,cAAc;AACnB,mBAAK,kBAAkB;AACvB,mBAAK,eAAe;AAAA;AAErB,kBAAM,SAAS,gBAAgB;AAE/B,2BAAe,WAAW;AAC1B,2BAAe,WAAW;AAC1B,2BAAe,gBAAgB;AAC/B,2BAAe,kBAAkB;AAGjC,2BAAe,UAAU,UAAU,WAAW;AAC7C,0BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,kCAAoB,UAAU,QAAQ,KAAK;AAC3C,kBAAI,QAAO,MAAM,SAAS,KAAK,QAAQ,UAAU,OAAO;AACxD,kBAAI,OAAO,cAAc,QAAQ,SAAS,OAAO;AACjD,kBAAI,OAAO,cAAc,QAAQ;AACjC,kBAAI,cAAc,QAAQ,MAAM,aAAa;AAE7C,mBAAK,UAAU,cAAc,OAAO,MAAM,OAAO;AACjD,kBAAI,aAAa,KAAK,UAAU;AAChC,0BAAY,UAAU,YAAY,WAAW,4BAA4B,UAAU;AACnF,mBAAK,KAAK,cAAc,SAAS,KAAK,YAAY;AACjD,oBAAG,KAAK;AACP,wBAAK,WAAW;AAChB;AAAA;AAED,oBAAG,MAAK,YAAY;AACnB;AAAA;AAED,sBAAK,aAAa;AAClB,oBAAI,gBAAgB,MAAK,OAAO,iBAAiB;AACjD,oBAAG,YAAY;AAAe,wBAAK,SAAS,cAAc;AAC1D,4BAAY,UAAU,YAAY,WAAW,4BAA4B,mBAAmB,MAAM,cAAc;AAGhH,oBAAI,eAAe,OAClB,iBAAiB,MAAK,cAAc,MAAK,cAAc,YAAY,MAAM,eAAe,MAAO,MAAK,SAAS,kBAAkB;AAEhI,+BAAe,GAAG,QAAQ,SAAS,MAAM;AACxC,sBAAG,CAAC,MAAK,aAAa;AAErB;AAAA;AAED,sBAAG,CAAC,cAAc;AACjB,mCAAe;AACf,0BAAK,KAAK;AAAA;AAEX,wBAAK,OAAO;AAAA;AAEb,+BAAe,GAAG,YAAY,SAAS,MAAK,OAAO,SAAS;AAC3D,sBAAG,CAAC,MAAK,aAAa;AAErB,2BAAM,QAAO,IAAI,UAAU,qBAAqB,OAAO;AAAA;AAExD,wBAAK,cAAc;AAGnB,sBAAG,CAAC,gBAAgB,CAAC,MAAK;AACzB,mCAAe;AACf,0BAAK,KAAK;AAAA;AAEX,wBAAK;AACL,sBAAG,MAAK;AACP,wBAAG,KAAI,MAAM;AAIZ,4BAAK,OAAO,4BAA4B;AAAA,2BAClC;AAGN,4BAAK,WAAW;AAAA;AAEjB;AAAA;AAED,wBAAM,SAAS,WAAW;AACzB,0BAAK;AAAA;AAAA;AAGP,+BAAe;AAAA;AAAA;AAIjB,2BAAe,UAAU,eAAe,WAAW;AAClD,0BAAY,UAAU,YAAY,WAAW;AAC7C,mBAAK,0BAA0B;AAAA;AAGhC,2BAAe,UAAU,oBAAoB,WAAW;AACvD,0BAAY,UAAU,YAAY,WAAW;AAC7C,mBAAK,0BAA0B;AAAA;AAGhC,2BAAe,UAAU,4BAA4B,SAAS,SAAS;AACtE,kBAAI,uBAAuB,UAAU,KAAK,WAAW,KAAK;AAC1D,kBAAG,sBAAsB;AACxB,oBAAI,QAAO,MACV,UAAU,KAAK,cAAc,sBAAsB,MAAM,KAAK,YAAY,MAAM;AAEjF,wBAAQ,GAAG,YAAY,SAAU,KAAK;AACrC,sBAAG,KAAK;AACP,gCAAY,UAAU,YAAY,WAAW,2BAA4B,WAAU,YAAY,iBAAiB,4BAA4B,MAAM,aAAa;AAC/J,0BAAK,OAAO,gBAAgB;AAAA;AAAA;AAG9B,wBAAQ;AAAA;AAAA;AAIV,2BAAe,UAAU,UAAU,WAAW;AAC7C,0BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,kBAAG,CAAC,KAAK,YAAY;AACpB,qBAAK,aAAa;AAClB,oBAAG,KAAK,aAAa;AACpB,8BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,uBAAK,YAAY;AACjB,uBAAK,cAAc;AAAA;AAIpB,qBAAK,OAAO,gBAAgB,gBAAgB;AAC5C,oBAAI,QAAO;AACX,sBAAM,SAAS,WAAW;AACzB,wBAAK,KAAK;AAAA;AAAA;AAAA;AAKb,2BAAe,UAAU,YAAY,SAAS,SAAS;AAEtD,kBAAG,KAAK,YAAY;AACnB;AAAA;AAKD,kBAAI,gBAAgB,QAAQ;AAC5B,kCAAoB,UAAU,UAAU,KAAK,MAAM;AAEnD,kBAAI,oBAAqB,KAAK,UAAU;AACxC,0BAAY,UAAU,YAAY,WAAW,8BAA8B,eAAe,oBAAoB,uBAAuB,QAAQ;AAC7I,mBAAK,UAAU,oBAAoB;AACnC,mBAAK,UAAU,oBAAoB;AACnC,mBAAK,WAAW,oBAAoB;AACpC,mBAAK,gBAAgB,oBAAoB;AAAA;AAG1C,2BAAe,UAAU,OAAO,SAAS,SAAS;AACjD,kBAAG,KAAK,aAAa;AAEpB,qBAAK,eAAe,KAAK,gBAAgB;AACzC,qBAAK,aAAa,KAAK;AACvB;AAAA;AAGD,kBAAI,eAAe,KAAK,gBAAgB;AACxC,2BAAa,KAAK;AAClB,mBAAK,eAAe;AAEpB,mBAAK,UAAU;AAAA;AAGhB,2BAAe,UAAU,iBAAiB,WAAW;AACpD,kBAAI,eAAe,KAAK;AAExB,kBAAG,CAAC,cAAc;AACjB;AAAA;AAGD,mBAAK,eAAe;AACpB,mBAAK,UAAU;AAAA;AAGhB,2BAAe,UAAU,YAAY,SAAS,OAAO;AACpD,kBAAI,QAAO,MACV,cAAc,KAAK,cAAc,MAAK,cAAc,MAAK,SAAS,MAAM,MAAK,YAAY,KAAK,cAAc,QAAQ;AAErH,0BAAY,GAAG,YAAY,SAAS,KAAK,MAAM;AAC9C,oBAAG;AAAK,8BAAY,UAAU,YAAY,WAAW,8BAA8B,wBAAwB,MAAM,aAAa;AAC9H,sBAAK,cAAc;AAKnB,oBAAG,KAAK;AACP,sBAAG,IAAI,MAAM;AAIZ,0BAAK,OAAO,4BAA4B;AAAA,yBAClC;AAGN,0BAAK,WAAW;AAAA;AAEjB;AAAA;AAGD,oBAAG,MAAM;AACR,wBAAK,OAAO;AAAA;AAGb,oBAAG,MAAK,cAAc;AACrB,wBAAM,SAAS,WAAW;AAIzB,wBAAG,CAAC,MAAK,aAAa;AACrB,4BAAK;AAAA;AAAA;AAAA;AAAA;AAKT,0BAAY;AAAA;AAGb,2BAAe,UAAU,OAAO,WAAW;AAE1C,kBAAG,KAAK;AACP;AAGD,kBAAG,CAAC,KAAK;AACR;AAED,kBAAI,QAAO,MACV,cAAc,KAAK,cAAc,KAAK,cAAc,KAAK,SAAS,MAAM,KAAK,YAAY,MAAO,MAAK,SAAS,kBAAkB;AAEjI,0BAAY,GAAG,QAAQ,SAAS,MAAM;AACrC,sBAAK,OAAO;AAAA;AAEb,0BAAY,GAAG,YAAY,SAAS,KAAK;AACxC,sBAAK,cAAc;AAGnB,sBAAK;AACL,oBAAG,KAAK;AACP,sBAAG,IAAI,MAAM;AAIZ,0BAAK,OAAO,4BAA4B;AAAA,yBAClC;AAGN,0BAAK,WAAW;AAAA;AAEjB;AAAA;AAED,sBAAM,SAAS,WAAW;AACzB,wBAAK;AAAA;AAAA;AAGP,0BAAY;AAAA;AAGb,2BAAe,UAAU,SAAS,SAAS,cAAc;AACxD,kBAAI;AACH,oBAAI,QAAQ,KAAK,eAAe;AAChC,oBAAG,SAAS,MAAM;AACjB,2BAAQ,IAAI,GAAG,IAAI,MAAM,QAAQ;AAChC,yBAAK,kBAAkB,gBAAgB,iBAAiB,MAAM;AAAA,uBACxD,GAAP;AACD,4BAAY,UAAU,YAAY,WAAW,2BAA2B,iDAAiD,EAAE;AAAA;AAAA;AAI7H,2BAAe,UAAU,gBAAgB,SAAS,cAAc;AAC/D,qBAAO,KAAK,UAAU;AAAA;AAGvB,2BAAe,UAAU,iBAAiB,SAAS,cAAc;AAChE,kBAAG,OAAO,gBAAiB;AAC1B,+BAAe,KAAK,MAAM;AAC3B,qBAAO;AAAA;AASR,2BAAe,UAAU,gBAAgB,SAAS,cAAc;AAC/D,mBAAK,aAAa,EAAC,cAAc,aAAa;AAAA;AAG/C,mBAAO;AAAA;AAGqB,cAAI,iBAAkB;AAUnD,cAAI,wCAAwC,SAAS,mBAAmB;AACvE,gBAAI,OAAO,oBAAoB;AAC/B,gBAAI,QAAQ,oBAAoB;AAChC,gBAAI,MAAM,oBAAoB;AAC9B,gBAAI,OAAO,oBAAoB;AAC/B,gBAAI,OAAO,WAAU;AAAA;AACrB,gBAAI,YAAY;AAMhB,wCAA4B,oBAAmB,MAAM,QAAQ;AAC5D,6BAAe,KAAK,MAAM,oBAAmB,MAAM;AACnD,mBAAK,YAAY;AACjB,mBAAK,aAAa;AAClB,mBAAK,kBAAkB;AACvB,mBAAK,YAAY;AAAA;AAElB,iBAAK,SAAS,oBAAoB;AAElC,+BAAmB,cAAc,WAAW;AAAE,qBAAO;AAAA;AACrD,8BAAkB,oBAAoB,aAAa;AAEnD,+BAAmB,aAAa,SAAS,oBAAmB,MAAM,QAAQ,UAAU;AACnF,kBAAI,YAAY,IAAI,mBAAmB,oBAAmB,MAAM;AAChE,kBAAI,UAAU,SAAS,KAAK;AAAE,yBAAS,EAAC,OAAO,KAAK,OAAO,OAAO;AAAA;AAClE,wBAAU,GAAG,CAAC,UAAU,iBAAiB;AACzC,wBAAU,GAAG,cAAc,WAAW;AACrC,4BAAY,UAAU,YAAY,WAAW,mCAAmC,sBAAsB;AACtG,0BAAU,IAAI,CAAC,UAAU,iBAAiB;AAC1C,yBAAS,MAAM;AAAA;AAEhB,wBAAU;AAAA;AAGX,+BAAmB,UAAU,WAAW,WAAW;AAClD,qBAAO,6BAA6B,KAAK,UAAU,mBAAmB,KAAK,cAAc,cAAc,KAAK,SAAS,cAAc,KAAK;AAAA;AAGzI,+BAAmB,UAAU,WAAW,SAAS,KAAK;AACrD,kBAAI,OAAO,MAAM,eAAe,aAC/B,SAAQ,KAAK;AAEd,kBAAG,CAAC;AACH,yBAAQ,KAAK,QAAQ,IAAK,OAAM,QAAO,MAAM,MAAM,EAAE,WAAW;AAEjE,qBAAO;AAAA;AAGR,+BAAmB,UAAU,UAAU,WAAW;AACjD,kBAAI,QAAO;AACX,mBAAK,cAAc,WAAW;AAC7B,oBAAG,MAAK;AACP,wBAAK,UAAU;AAChB,oBAAG,MAAK;AACP,wBAAK,WAAW;AAAA;AAElB,6BAAe,UAAU,QAAQ,KAAK;AAAA;AAIvC,+BAAmB,UAAU,UAAU,SAAS,KAAK,QAAQ,MAAM,aAAa,UAAU;AACzF,kBAAI,MAAM,KAAK,cAAc,KAAK,QAAQ,MAAM;AAChD,kBAAI,KAAK,YAAY;AACrB,kBAAI;AACJ,qBAAO;AAAA;AAGR,+BAAmB,UAAU,gBAAgB,SAAS,KAAK,SAAS,QAAQ,MAAM,aAAa;AAC9F,qBAAO,IAAI,SAAQ,KAAK,SAAS,QAAQ,MAAM,aAAa,KAAK,QAAQ,KAAK,UAAU;AAAA;AAGzF,+BAAmB,UAAU,aAAa,WAAW;AACpD,gBAAE,KAAK;AAAA;AAGR,+BAAmB,UAAU,gBAAgB,WAAW;AACvD,kBAAG,EAAE,KAAK,mBAAmB,GAAG;AAC/B,qBAAK,KAAK;AAAA;AAAA;AAIZ,+BAAmB,UAAU,gBAAgB,SAAS,UAAU;AAC/D,kBAAG,KAAK,mBAAmB,GAAG;AAC7B;AACA;AAAA;AAED,mBAAK,KAAK,aAAa;AAAA;AAGxB,8BAAiB,KAAK,SAAS,QAAQ,MAAM,aAAa,QAAQ,UAAU,WAAW;AACtF,2BAAa,KAAK;AAClB,kBAAG,OAAO,OAAQ;AAAU,sBAAM,IAAI,MAAM;AAC5C,kBAAI,MAAO,IAAI,YAAY;AAC3B,mBAAK,SAAS,MAAM,QAAQ;AAC5B,mBAAK,cAAc;AACnB,mBAAK,WAAW;AAChB,mBAAK,YAAY;AACjB,mBAAK,kBAAkB;AACvB,mBAAK,MAAM,KAAK,MAAM;AAEtB,kBAAI,SAAS,OACZ,cAAe,UAAU,YAAa,0BAA0B;AAEjE,wBAAU,UAAU,MAAM,MAAM,IAAI,WAAW;AAC/C,sBAAQ,YAAY;AAEpB,kBAAG,MAAM;AACR,yBAAS;AACT,oBAAG,CAAC,OAAO,SAAS,OAAO;AAC1B,sBAAG,OAAO,QAAS;AAAU,2BAAO,KAAK,UAAU;AACnD,yBAAO,OAAO,KAAK;AAAA;AAEpB,qBAAK,OAAO;AACZ,wBAAQ,oBAAoB,KAAK;AACjC,wBAAQ,kBAAkB;AAAA;AAE3B,kBAAI,iBAAiB,KAAK,iBAAiB;AAAA,gBAC1C,UAAU,IAAI;AAAA,gBACd,MAAM,IAAI;AAAA,gBACV,MAAM,IAAI,OAAO,MAAM,cAAc;AAAA,gBACrC;AAAA,gBACA;AAAA;AAED,kBAAG;AACF,+BAAe,QAAQ,UAAU,SAAS;AAAA;AAE5C,kBAAM,SAAS,UAAS;AAExB,qBAAQ,UAAU,OAAO,WAAW;AACnC,kBAAI,UAAW,KAAK,eAAe,eAAe,WAAY,KAAK,SAAS,qBAAqB,KAAK,SAAS,aAC9G,QAAO;AAER,kBAAI,QAAQ,KAAK,QAAQ,WAAW,WAAW;AAAE,sBAAK;AAAA,iBAAY,UACjE,MAAM,KAAK,MAAM,KAAK,OAAO,QAAQ,KAAK;AAE3C,kBAAI,GAAG,SAAS,KAAK,aAAa,SAAS,KAAK;AAC/C,sBAAM,IAAI,UAAU,oBAAoB,IAAI,SAAS,MAAM;AAC3D,6BAAa;AACb,sBAAK,QAAQ;AACb,sBAAK,SAAS;AAAA;AAGf,kBAAI,GAAG,YAAY,SAAS,KAAK;AAChC,6BAAa;AACb,sBAAK,QAAQ;AAEb,oBAAI,aAAa,IAAI;AACrB,oBAAG,cAAc,KAAK;AAErB,sBAAI;AACJ,wBAAK;AACL;AAAA;AAGD,oBAAI,GAAG,SAAS,MAAK,aAAa,SAAS,KAAK;AAC/C,wBAAM,IAAI,UAAU,qBAAqB,IAAI,SAAS,MAAM;AAC5D,wBAAK,SAAS;AAAA;AAGf,sBAAK,MAAM;AAEX,oBAAG,MAAK,eAAe,eAAe,mBAAmB,aAAa,KAAK;AAC1E,wBAAK;AAAA,uBACC;AACN,wBAAK;AAAA;AAAA;AAIP,kBAAG,KAAK;AACP,qBAAK,UAAU;AAEhB,kBAAI,IAAI,KAAK;AAAA;AAGd,qBAAQ,UAAU,aAAa,WAAW;AACzC,kBAAI,MAAM,KAAK,KACd,UAAU,IAAI,SACd,QAAO;AAGR,mBAAK,SAAS;AACd,mBAAK,iBAAiB;AAEtB,+BAAiB,OAAO;AACvB,oBAAI;AACH,0BAAQ,KAAK,MAAM;AAAA,yBACZ,GAAN;AACD,sBAAI,MAAM,0CAA0C,EAAE;AACtD,8BAAY,UAAU,YAAY,WAAW,2CAA2C;AACxF,wBAAK,SAAS,IAAI,UAAU,KAAK,MAAM;AACvC;AAAA;AAED,sBAAK,KAAK,QAAQ;AAAA;AAGnB,kBAAI,GAAG,QAAS,KAAK,SAAS,SAAS,MAAM;AAC5C,oBAAI,YAAY,OAAO,MAAM,MAAM,OAClC,SAAS,MAAK;AAEf,oBAAG,UAAU,SAAS,KAAK,OAAO,SAAS,GAAG;AAE7C,yBAAO,KAAK,UAAU;AACtB,wBAAK,SAAS;AACd,0BAAQ,OAAO,KAAK;AAAA;AAIrB,oBAAI,mBAAmB,UAAU;AACjC,oBAAG,iBAAiB,QAAQ;AAC3B,wBAAK,OAAO,KAAK;AAAA;AAIlB,0BAAU,IAAI;AAAA;AAGf,kBAAI,GAAG,OAAO,WAAY;AACzB,sBAAK,iBAAiB;AACtB,wBAAQ,SAAS,WAAW;AAC3B,wBAAK;AAAA;AAAA;AAAA;AAKR,qBAAQ,UAAU,YAAY,WAAW;AACxC,kBAAI,MAAM,KAAK,KACd,SAAS,IACT,QAAO;AAER,kBAAI,GAAG,QAAQ,SAAS,OAAO;AAC9B,uBAAO,KAAK;AAAA;AAGb,kBAAI,GAAG,OAAO,WAAY;AACzB,wBAAQ,SAAS,WAAW;AAC3B,sBAAI,OAAO,OAAO,OAAO,SACxB,aAAa,IAAI;AAElB,sBAAI;AACH,2BAAO,KAAK,MAAM,OAAO;AAAA,2BAClB,GAAN;AACD,wBAAI,MAAM,0CAA0C,EAAE;AACtD,gCAAY,UAAU,YAAY,WAAW,0CAA0C;AACvF,0BAAK,SAAS,IAAI,UAAU,KAAK,MAAM;AACvC;AAAA;AAOD,sBAAG,aAAa,OAAO,MAAM,QAAQ,OAAO;AAC3C,0BAAK,SAAS,MAAM;AACpB;AAAA;AAGD,sBAAI,MAAM,KAAK,SAAS,UAAU,WAAW,KAAK;AAClD,sBAAG,CAAC,KAAK;AACR,0BAAM,IAAI,UAAU,0CAA0C,aAAa,iBAAiB,MAAM,QAAQ,OAAO,MAAM;AAAA;AAExH,wBAAK,SAAS;AAAA;AAAA;AAAA;AAKjB,qBAAQ,UAAU,WAAW,SAAS,KAAK,MAAM;AAChD,kBAAG,CAAC,KAAK,iBAAiB;AACzB,qBAAK,kBAAkB;AACvB,oBAAG;AACF,uBAAK,KAAK,QAAQ;AACnB,qBAAK,KAAK,YAAY,KAAK;AAC3B,oBAAG,KAAK;AAGP,sBAAG,KAAK,UAAU,CAAC,KAAK;AACvB,wBAAG,KAAK,UAAU,KAAK;AAAK,2BAAK,IAAI,eAAe,QAAQ,KAAK;AAAA;AAAA;AAEnE,oBAAG,KAAK,WAAW;AAClB,uBAAK,UAAU;AAAA;AAAA;AAAA;AAKlB,qBAAQ,UAAU,QAAQ,WAAW;AACpC,0BAAY,UAAU,YAAY,WAAW,sCAAsC;AACnF,kBAAI,QAAQ,KAAK;AACjB,kBAAG,OAAO;AACT,6BAAa;AACb,qBAAK,QAAQ;AAAA;AAEd,kBAAI,MAAM,KAAK;AACf,kBAAG,KAAK;AACP,4BAAY,UAAU,YAAY,WAAW,sCAAsC;AACnF,oBAAI,eAAe,SAAS,KAAK;AACjC,oBAAI,GAAG,SAAS;AAChB,oBAAI;AACJ,qBAAK,MAAM;AAAA;AAEZ,mBAAK,SAAS,EAAC,YAAY,KAAK,MAAM,OAAO,SAAS;AAAA;AAGvD,mBAAO;AAAA;AAGqB,cAAI,qBAAsB;AAK1B,cAAI,gBAAiB;AAAA,YAChD;AAAA;AAYF,cAAI,wCAAwC,SAAS,mBAAmB;AACvE,gBAAI,YAAY,SAAS;AACzB,gBAAI,YAAY;AAGhB,wCAA4B,oBAAmB,MAAM,QAAQ;AAC5D,mBAAK,YAAY;AAEjB,qBAAO,aAAa,SAAS;AAC7B,kCAAoB,KAAK,MAAM,oBAAmB,MAAM;AACxD,mBAAK,SAAS,cAAc,QAAQ,OAAO,SAAS,OAAO,MAAM;AAAA;AAElE,kBAAM,SAAS,oBAAoB;AAEnC,+BAAmB,cAAc,WAAW;AAC3C,qBAAO,CAAC,CAAC;AAAA;AAGV,gBAAG,mBAAmB;AACrB,gCAAkB,oBAAoB,aAAa;AAEpD,+BAAmB,aAAa,SAAS,oBAAmB,MAAM,QAAQ,UAAU;AACnF,kBAAI,YAAY,IAAI,mBAAmB,oBAAmB,MAAM;AAChE,kBAAI,UAAU,SAAS,KAAK;AAAE,yBAAS,EAAC,OAAO,KAAK,OAAO,OAAO;AAAA;AAClE,wBAAU,GAAG,CAAC,UAAU,iBAAiB;AACzC,wBAAU,GAAG,UAAU,WAAW;AACjC,4BAAY,UAAU,YAAY,WAAW,mCAAmC,sBAAsB;AACtG,0BAAU,IAAI,CAAC,UAAU,iBAAiB;AAC1C,yBAAS,MAAM;AAAA;AAEhB,wBAAU;AAAA;AAGX,+BAAmB,UAAU,kBAAkB,SAAS,KAAK,eAAe;AAC3E,mBAAK,MAAM,MAAM,MAAM,cAAc;AACrC,qBAAO,IAAI,UAAU,KAAK;AAAA;AAG3B,+BAAmB,UAAU,WAAW,WAAW;AAClD,qBAAO,6BAA6B,KAAK;AAAA;AAG1C,+BAAmB,UAAU,UAAU,WAAW;AACjD,0BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,kCAAoB,UAAU,QAAQ,KAAK;AAC3C,kBAAI,QAAO,MAAM,SAAS,KAAK,QAAQ,UAAU,OAAO;AACxD,kBAAI,WAAW,QAAQ,MAAM,WAAW;AACxC,kBAAI,QAAQ,WAAW,KAAK,SAAS,MAAM,cAAc,QAAQ,WAAW;AAC5E,0BAAY,UAAU,YAAY,WAAW,gCAAgC,UAAU;AACvF,mBAAK,KAAK,cAAc,SAAS,KAAK,YAAY;AACjD,oBAAG,MAAK,YAAY;AACnB;AAAA;AAED,oBAAI,WAAW;AAAI,yBAAQ,SAAS;AAAY,8BAAY,MAAM,QAAQ,OAAO,WAAW,SAAS;AACrG,4BAAY,UAAU,YAAY,WAAW,gCAAgC,gBAAgB,WAAW,WAAW;AACnH,oBAAG,KAAK;AACP,wBAAK,WAAW;AAChB;AAAA;AAED,oBAAI,gBAAgB,OAAO,iBAAiB;AAC5C,oBAAI;AACH,sBAAI,eAAe,MAAK,eAAe,MAAK,gBAAgB,OAAO;AACnE,+BAAa,aAAa,SAAS;AACnC,+BAAa,SAAS,WAAW;AAAE,0BAAK;AAAA;AACxC,+BAAa,UAAU,SAAS,IAAI;AAAE,0BAAK,UAAU;AAAA;AACrD,+BAAa,YAAY,SAAS,IAAI;AAAE,0BAAK,SAAS,GAAG;AAAA;AACzD,+BAAa,UAAU,SAAS,IAAI;AAAE,0BAAK,UAAU;AAAA;AACrD,sBAAG,aAAa,IAAI;AAGnB,iCAAa,GAAG,QAAQ,WAAW;AAAE,4BAAK;AAAA;AAAA;AAAA,yBAEpC,GAAN;AACD,8BAAY,UAAU,YAAY,WAAW,gCAAgC,oDAAqD,GAAE,SAAS,EAAE;AAC/I,wBAAK,WAAW;AAAA;AAAA;AAAA;AAKnB,+BAAmB,UAAU,OAAO,SAAS,SAAS;AACrD,kBAAI,eAAe,KAAK;AACxB,kBAAG,CAAC,cAAc;AACjB,4BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E;AAAA;AAED,kBAAI;AACH,6BAAa,KAAK,gBAAgB,UAAU,SAAS,KAAK,OAAO;AAAA,uBACzD,GAAP;AACD,oBAAI,MAAM,uDAAuD,MAAM,aAAa;AACpF,4BAAY,UAAU,YAAY,WAAW,6BAA6B;AAG1E,qBAAK,OAAO,gBAAgB,IAAI,UAAU,KAAK,KAAO;AAAA;AAAA;AAIxD,+BAAmB,UAAU,WAAW,SAAS,MAAM;AACtD,0BAAY,UAAU,YAAY,WAAW,iCAAiC,6BAA6B,KAAK,SAAS,cAAc,OAAO;AAC9I,kBAAI;AACH,qBAAK,kBAAkB,gBAAgB,YAAY,MAAM,KAAK;AAAA,uBACtD,GAAP;AACD,4BAAY,UAAU,YAAY,WAAW,iCAAiC,mDAAmD,EAAE;AAAA;AAAA;AAIrI,+BAAmB,UAAU,WAAW,WAAW;AAClD,0BAAY,UAAU,YAAY,WAAW,iCAAiC;AAC9E,mBAAK,KAAK;AAAA;AAGX,+BAAmB,UAAU,YAAY,SAAS,IAAI;AACrD,kBAAI,UAAU,MAAM;AACpB,kBAAG,OAAO,MAAO,UAAU;AAE1B,2BAAW,GAAG;AACd,uBAAO,GAAG;AAAA,qBAC2B;AAErC,uBAAO;AACP,2BAAY,QAAQ;AAAA;AAErB,qBAAO,KAAK;AACZ,kBAAG,UAAU;AACZ,4BAAY,UAAU,YAAY,WAAW,kCAAkC;AAC/E,oBAAI,MAAM,IAAI,UAAU,oBAAoB,OAAO;AACnD,qBAAK,OAAO,gBAAgB;AAAA,qBACtB;AACN,oBAAI,MAAM,iDAAiD,MAC1D,MAAM,IAAI,UAAU,KAAK,OAAO;AACjC,4BAAY,UAAU,YAAY,WAAW,kCAAkC;AAC/E,qBAAK,OAAO,gBAAgB;AAAA;AAE7B,mBAAK,KAAK;AAAA;AAGX,+BAAmB,UAAU,YAAY,SAAS,KAAK;AACtD,0BAAY,UAAU,YAAY,WAAW,gCAAgC,2BAA2B,IAAI;AAI5G,kBAAI,QAAO;AACX,oBAAM,SAAS,WAAW;AACzB,sBAAK,WAAW;AAAA;AAAA;AAIlB,+BAAmB,UAAU,UAAU,WAAW;AACjD,0BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,mBAAK,aAAa;AAClB,kBAAI,eAAe,KAAK;AACxB,kBAAG,cAAc;AAIhB,6BAAa,YAAY,WAAW;AAAA;AACpC,uBAAO,KAAK;AAGZ,sBAAM,SAAS,WAAW;AACzB,8BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,+BAAa;AAAA;AAAA;AAAA;AAKhB,mBAAO;AAAA;AAGqB,cAAI,qBAAsB;AAuBvD,cAAI,sCAAuC,WAAW;AACrD,gBAAI,iBAAiB,CAAC,CAAE,QAAO,eAAgB,eAAe,WAAW;AACzE,gBAAI,qBAAqB,CAAC,CAAE,QAAO,eAAgB,eAAe,WAAW;AAC7E,gBAAI,UAAU,gBAAgB;AAC9B,gBAAI,iBAAiB,SAAS;AAC9B,gBAAI,OAAO,WAAW;AAAA;AACtB,gBAAI,2BAA2B,cAAc;AAC7C,gBAAI,mBAAmB,yBAAyB,yBAAyB,SAAS;AAClF,gBAAI,0BAA0B;AAE9B,gBAAI,sBAAsB;AAC1B,6CAAiC;AAChC,qBAAO,sBAAsB,WAAW,WAAW;AAAA;AAEpD,2CAA+B,OAAO;AACrC,qBAAO,sBAAsB,WAAW,WAAW,qBAAqB;AAAA;AAEzE,+CAAmC;AAClC,qBAAO,sBAAsB,WAAW,cAAc;AAAA;AAGvD,yCAA6B,GAAG,GAAG;AAClC,qBAAO,MAAM,WAAW,0BAA0B,EAAE,aACjD,MAAM,WAAW,0BAA0B,EAAE;AAAA;AAGjD,qCAAyB,SAAS,MAAM,MAAM,eAAe;AAC5D,mBAAK,UAAU;AACf,mBAAK,OAAO;AACZ,mBAAK,OAAO;AACZ,mBAAK,gBAAgB;AACrB,mBAAK,SAAS,QAAQ,oBAAoB,YAAY;AAEtD,mBAAK,mBAAmB;AACxB,mBAAK,aAAa;AAAA;AAGnB,4BAAgB,UAAU,mBAAmB,SAAS,YAAY;AACjE,kBAAI,SAAS,aAAa,MAAM,KAAK,cAAc;AACnD,kBAAI,UAAU,KAAK;AACnB,sBAAO,KAAK;AAAA,qBACN;AACJ,yBAAO,UAAU,KAAK;AACtB;AAAA,qBACI;AACJ,yBAAO,SAAS,KAAK;AACrB,sBAAG,KAAK,eAAe,QAAW;AACjC,2BAAO,aAAa,KAAK;AAAA,6BAChB,KAAK,qBAAqB,QAAW;AAC9C,2BAAO,mBAAmB,KAAK;AAAA;AAEhC;AAAA,qBACI;AACJ,sBAAI,QAAQ,QAAQ,QAAQ,MAAM;AAClC,sBAAG,OAAO;AACT,2BAAO,UAAU,MAAM;AACvB,wBAAI,gBAAgB,MAAM;AAC1B,wBAAG,MAAM,gBAAgB;AACxB,6BAAO,aAAa;AAAA,2BACd;AACN,6BAAO,mBAAmB;AAAA;AAAA;AAG5B;AAAA;AAAA;AAGF,kBAAG,QAAQ,aAAa,QAAW;AAClC,uBAAO,WAAW,QAAQ;AAAA;AAE3B,kBAAG,QAAQ,iBAAiB,OAAO;AAClC,uBAAO,OAAO;AAAA;AAEf,kBAAG,KAAK,WAAW,QAAW;AAC7B,uBAAO,SAAS,KAAK;AAAA;AAEtB,kBAAG,KAAK,WAAW,QAAW;AAC7B,uBAAO,SAAS,KAAK;AAAA;AAEtB,kBAAG,KAAK,eAAe,QAAW;AACjC,uBAAO,aAAa,KAAK;AAAA;AAE1B,qBAAO,IAAI,cAAc;AACzB,qBAAO,QAAQ,cAAc;AAC7B,kBAAG,QAAQ,oBAAoB,QAAW;AACzC,sBAAM,MAAM,QAAQ,QAAQ;AAAA;AAE7B,qBAAO;AAAA;AAGR,4BAAgB,UAAU,WAAW,WAAW;AAC/C,kBAAI,SAAS,WAAW,KAAK;AAC7B,kBAAG,KAAK,MAAM;AAAE,0BAAW,WAAW,KAAK;AAAA;AAC3C,kBAAG,KAAK,eAAe;AAAE,0BAAW,oBAAoB,KAAK;AAAA;AAC7D,kBAAG,KAAK,qBAAqB,QAAW;AAAE,0BAAW,uBAAuB,KAAK;AAAA;AACjF,kBAAG,KAAK,YAAY;AAAE,0BAAW,iBAAiB,KAAK;AAAA;AACvD,kBAAG,KAAK,QAAQ;AAAE,0BAAW,aAAa,KAAK;AAAA;AAC/C,wBAAU;AAEV,qBAAO;AAAA;AAIR,uCAA2B,UAAU,SAAS;AAC7C,2BAAa,KAAK;AAClB,mBAAK,WAAW;AAChB,mBAAK,UAAU;AACf,kBAAI,WAAW,QAAQ;AACvB,kBAAI,QAAO;AAIX,kBAAI,oBAAoB,SAAS,2BAA2B,SAAS;AACrE,mBAAK,SAAS;AAAA,gBACb,aAAe,EAAC,OAAO,eAAiB,UAAU,OAAO,aAAa,MAAO,YAAY,OAAO,WAAW;AAAA,gBAC3G,YAAe,EAAC,OAAO,cAAiB,UAAU,OAAO,aAAa,MAAO,YAAY,OAAO,YAAY,mBAAmB,WAAW;AAAA,gBAC1I,WAAe,EAAC,OAAO,aAAiB,UAAU,OAAO,aAAa,OAAO,YAAY,MAAO,WAAW;AAAA,gBAC3G,eAAe,EAAC,OAAO,aAAiB,UAAU,OAAO,aAAa,MAAO,YAAY,OAAO,kBAAkB,MAAM,WAAW;AAAA,gBACnI,cAAe,EAAC,OAAO,gBAAiB,UAAU,OAAO,aAAa,MAAO,YAAY,OAAO,YAAY,SAAS,0BAA0B,WAAW;AAAA,gBAC1J,WAAe,EAAC,OAAO,aAAiB,UAAU,OAAO,aAAa,OAAO,YAAY,OAAO,YAAY,SAAS,uBAAuB,WAAW;AAAA,gBACvJ,SAAe,EAAC,OAAO,WAAiB,UAAU,OAAO,aAAa,OAAO,YAAY,OAAO,YAAY,SAAS,wBAAwB,WAAW;AAAA,gBACxJ,QAAe,EAAC,OAAO,UAAiB,UAAU,MAAO,aAAa,OAAO,YAAY,OAAO,WAAW;AAAA,gBAC3G,QAAe,EAAC,OAAO,UAAiB,UAAU,MAAO,aAAa,OAAO,YAAY,OAAO,WAAW;AAAA;AAE5G,mBAAK,QAAQ,KAAK,OAAO;AACzB,mBAAK,cAAc;AAEnB,mBAAK,iBAAiB,IAAI;AAC1B,mBAAK,YAAY;AACjB,mBAAK,oBAAoB;AACzB,mBAAK,eAAe;AACpB,mBAAK,gBAAgB;AACrB,mBAAK,aAAa;AAClB,mBAAK,mBAAmB;AACxB,mBAAK,qBAAqB,SAAS;AACnC,mBAAK,kBAAkB;AAEvB,mBAAK,aAAa,MAAM,UAAW,QAAQ,cAAc,cAAc,mBAAoB,kBAAkB;AAK7G,mBAAK,gBAAgB,MAAM,UAAU,cAAc,oBAAoB,KAAK,YAAY;AACxF,mBAAK,oBAAoB,MAAM,UAAU,KAAK,YAAY,cAAc;AACxE,mBAAK,sBAAsB;AAE3B,mBAAK,YAAY,cAAc,SAAS;AACxC,mBAAK,iBAAiB;AACtB,mBAAK,qBAAqB;AAC1B,mBAAK,oBAAoB;AACzB,mBAAK,OAAO;AACZ,mBAAK,2BAA2B;AAChC,mBAAK,eAAe;AACpB,mBAAK,gBAAgB;AACrB,mBAAK,oBAAoB;AACzB,mBAAK,iBAAiB;AAEtB,0BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,0BAAY,UAAU,YAAY,WAAW,gCAAgC,6BAA8B,SAAQ,cAAc,cAAc,qBAAqB;AACpK,0BAAY,UAAU,YAAY,WAAW,gCAAgC,6BAA6B,KAAK,aAAa;AAC5H,0BAAY,UAAU,YAAY,WAAW,gCAAgC,mBAAmB,KAAK,YAAY;AAEjH,kBAAG,CAAC,KAAK,WAAW,QAAQ;AAC3B,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,sBAAM,IAAI,MAAM;AAAA;AAGjB,kBAAI,mBAAmB,SAAS;AAChC,kBAAG,kBAAkB;AAEpB,oBAAG,sBAAsB,OAAO,QAAQ,YAAY,YAAY;AAE/D,mCAAiB,gBAAgB,KAAK,kBAAkB,KAAK;AAAA;AAG9D,oBAAG,QAAQ,kBAAkB,MAAM;AAClC,mCAAiB,gBAAgB,WAAW;AAC3C,gCAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,0BAAK,aAAa,EAAC,OAAO;AAAA;AAAA;AAK5B,iCAAiB,UAAU,WAAW;AACrC,sBAAG,MAAK,SAAS,MAAK,OAAO,gBAAgB,MAAK,SAAS,MAAK,OAAO,WAAW;AACjF,gCAAY,UAAU,YAAY,WAAW,6DAAmD;AAChG,0BAAK,aAAa,EAAC,OAAO;AAAA;AAAA;AAG5B,iCAAiB,WAAW,WAAW;AACtC,sBAAG,MAAK,SAAS,MAAK,OAAO,WAAW;AACvC,gCAAY,UAAU,YAAY,WAAW,8DAAoD;AAIjG,0BAAK;AAAA;AAAA;AAAA;AAAA;AAKT,kBAAM,SAAS,mBAAmB;AAMlC,8BAAkB,sBAAsB;AAExC,+BAAmB;AACnB,kBAAM,WAAW,eAAe,SAAU,QAAQ;AACjD,qBAAO;AAAA;AAGR,8BAAkB,UAAU,wBAAwB,SAAS,MAAM,MAAM;AACxE,kBAAI,SAAS,IAAI,gBAAgB,KAAK,SAAS,MAAM,MAAM,KAAK;AAChE,kBAAG,KAAK,YAAY;AACnB,uBAAO,aAAa,KAAK;AAAA,yBAChB,KAAK,qBAAqB,QAAW;AAC9C,uBAAO,mBAAmB,KAAK;AAAA;AAEhC,qBAAO;AAAA;AAGR,8BAAkB,UAAU,qBAAqB,SAAS,UAAU;AACnE,kBAAI,QAAO;AAEX,kCAAoB,QAAQ;AAC3B,oBAAG,MAAK,eAAe;AACtB,yBAAO;AACP;AAAA;AAGD,oBAAG,OAAO,MAAK,QAAQ,YAAY,UAAU;AAC5C,yBAAO;AACP;AAAA;AAGD,oBAAI,YAAY,MAAK,QAAQ,SAC5B,kBAAkB;AACnB,oBAAG,mBAAmB,OAAO,cAAe,YAAY;AACvD,8BAAY,UAAU,YAAY,WAAW,0CAA0C;AACvF,4BAAU,iBAAiB,SAAS,eAAe;AAClD,wBAAG,eAAe;AACjB,4BAAK,QAAQ,UAAU,gBAAgB;AACvC,6BAAO;AAAA,2BACD;AACN,6BAAO;AAAA;AAAA;AAGT;AAAA;AAED,uBAAO;AAAA;AAGR,yBAAW,SAAS,MAAM;AACzB,oBAAI,kBAAkB,MAAK,sBAAsB,MAAM;AACvD,oBAAG,SAAS,WAAW;AACtB,8BAAY,UAAU,YAAY,WAAW,0CAA0C,sDAAsD,MAAK,QAAQ;AAC1J,sBAAI,QAAQ,MAAK,QAAQ,QAAQ,MAAM;AACvC,sBAAG,SAAS,MAAM,IAAI;AACrB,0BAAK,YAAY,MAAM;AAAA;AAAA,uBAElB;AACN,8BAAY,UAAU,YAAY,WAAW,0CAA0C,wBAAwB,gBAAgB;AAAA;AAEhI,yBAAS;AAAA;AAAA;AAUX,8BAAkB,UAAU,gBAAgB,SAAS,iBAAiB,WAAW,UAAU;AAC1F,kBAAI,QAAO,MAAM,OAAO,gBAAgB;AACxC,0BAAY,UAAU,YAAY,WAAW,qCAAqC,YAAY;AAC9F,cAAC,kBAAkB,oBAAoB,WAAY,WAAW,MAAM,KAAK,SAAS,MAAM,iBAAiB,SAAS,YAAY,WAAW;AACxI,oBAAI,QAAQ,MAAK;AACjB,oBAAG,SAAS,MAAK,OAAO,WAAW,SAAS,MAAK,OAAO,UAAU,SAAS,MAAK,OAAO,QAAQ;AAC9F,sBAAG,WAAW;AACb,gCAAY,UAAU,YAAY,WAAW,qCAAqC,gBAAgB,MAAM,QAAQ,sDAAsD;AACtK,8BAAU;AAAA;AAEX,2BAAS;AACT;AAAA;AAGD,oBAAG,YAAY;AACd,8BAAY,UAAU,YAAY,WAAW,qCAAqC,eAAe,YAAY,MAAM,WAAW,QAAQ,YAAY,WAAW,MAAM;AAKnK,sBAAG,YAAY,WAAW,WAAW,UAAU,CAAE,OAAK,eAAe,YAAY,WAAW,MAAK,eAAe;AAC/G,0BAAK,cAAc,WAAW;AAE9B,0BAAK,SAAS,KAAK,eAAe,MAAM,MAAM,SAAS,KAAK;AAC3D,0BAAG,KAAK;AACP,8BAAK,wBAAwB;AAC7B;AAAA;AAED,4BAAK,cAAc,iBAAiB,WAAW;AAAA;AAAA,6BAEvC,WAAW,UAAU,UAAU;AAExC,0BAAK,YAAY,EAAC,OAAO,UAAU,OAAO,WAAW;AACrD,6BAAS;AAAA,6BACA,WAAW,UAAU,gBAAgB;AAC9C,wBAAG,CAAC,gBAAgB,YAAY,WAAW,QAAQ;AAElD,4BAAK,YAAY,EAAC,OAAO,MAAK,OAAO,WAAW,WAAW,OAAO,WAAW;AAC7E,+BAAS;AAAA,2BACH;AAEN,+BAAS;AAAA;AAAA;AAGX;AAAA;AAGD,4BAAY,UAAU,YAAY,WAAW,qCAAqC,sBAAsB,YAAY;AACpH,sBAAK,oBAAoB,WAAW;AACpC,yBAAS,MAAM;AAAA;AAAA;AAWjB,8BAAkB,UAAU,sBAAsB,SAAS,WAAW,iBAAiB;AACtF,kBAAI,OAAO,gBAAgB;AAC3B,0BAAY,UAAU,YAAY,WAAW,2CAA2C,iBAAiB,YAAY,cAAc;AAEnI,oBAAM,eAAe,KAAK,oBAAoB;AAC9C,mBAAK,kBAAkB,KAAK;AAE5B,kBAAI,QAAO;AACX,wBAAU,KAAK,aAAa,SAAS,OAAO,cAAc,mBAAmB,oBAAoB;AAChG,oBAAG,QAAQ,aAAa,MAAK,gBAAgB;AAE5C,sBAAG,UAAU,cAAc,oBAAoB,MAAM,MAAM,MAAK,2BAA2B,mBAAmB;AAC7G,+BAAW,WAAW;AACrB,4BAAK,4BAA4B,OAAO,WAAW,cAAc,mBAAmB;AAAA,uBAClF,MAAK,QAAQ,SAAS;AAAA,yBACnB;AACN,0BAAK,4BAA4B,OAAO,WAAW,cAAc,mBAAmB;AAAA;AAAA,uBAE/E;AACN,wBAAK,kBAAkB,OAAO,WAAW,cAAc,mBAAmB;AAI1E,wBAAM,SAAS,WAAW;AACzB,0BAAK,YAAY;AAAA;AAAA;AAInB,oBAAG,SAAS,aAAa,MAAK,QAAQ,SAAS;AAG9C,wBAAK,QAAQ,UAAU;AACvB,wBAAK;AAAA;AAAA;AAIP,wBAAU,GAAG,CAAC,gBAAgB,UAAU,WAAW,SAAS,OAAO;AAClE,sBAAK,oBAAoB,WAAW,KAAK,OAAO;AAAA;AAGjD,mBAAK,KAAK,qBAAqB;AAAA;AAYhC,8BAAkB,UAAU,8BAA8B,SAAS,OAAO,WAAW,cAAc,mBAAmB,2BAA2B;AAChJ,kBAAI,QAAO,MACV,mBAAmB,KAAK,kBAAkB,KAAK,eAAe,gBAC9D,UAAU,WAAW;AACpB,0BAAU;AACV,sBAAM,eAAe,MAAK,mBAAmB;AAAA;AAG/C,kBAAG,KAAK,UAAU,KAAK,OAAO,aAAa,KAAK,UAAU,KAAK,OAAO,YAAY;AAEjF,4BAAY,UAAU,YAAY,WAAW,mDAAmD,+BAA+B,KAAK,MAAM,QAAS,MAAK,UAAU,KAAK,OAAO,gBAAgB,8CAA8C,MAAM,yDAAyD,UAAU;AACrT;AACA;AAAA;AAGD,kBAAG,oBAAoB,CAAC,oBAAoB,WAAW,mBAAmB;AACzE,4BAAY,UAAU,YAAY,WAAW,mDAAmD,wBAAwB,UAAU,YAAY,iDAAiD,iBAAiB,YAAY;AAC5N;AACA;AAAA;AAGD,0BAAY,UAAU,YAAY,WAAW,mDAAmD,+CAA+C;AAE/I,mBAAK,SAAS,SAAS,cAAc,SAAS,KAAK;AAClD,oBAAI;AACJ,oBAAG,KAAK;AACP,8BAAY,UAAU,YAAY,WAAW,mDAAmD,+CAA+C,YAAY,aAAa;AACxK;AAAA;AAGD,oBAAG,CAAC,UAAU,aAAa;AAE1B,8BAAY,UAAU,YAAY,WAAW,mDAAmD,wBAAwB,UAAU,YAAY;AAC9I;AACA;AAAA;AAGD,oBAAG,MAAK,UAAU,MAAK,OAAO,WAAW;AACxC,8BAAY,UAAU,YAAY,WAAW,mDAAmD;AAChG,wBAAK,QAAQ,MAAK,OAAO;AACzB,gCAAc,MAAK;AAAA,2BACV,MAAK,UAAU,MAAK,OAAO,YAAY;AAIhD,8BAAY,UAAU,YAAY,WAAW,mDAAmD,+BAA+B,MAAK,MAAM,QAAS,OAAK,UAAU,MAAK,OAAO,gBAAgB,8CAA8C,MAAM,yDAAyD,UAAU;AACrT;AACA;AAAA;AAOD,oBAAI,kBAAkB,iBAAiB,MAAK,cAC3C,eAAe,kBAAkB,4BAA4B;AAE9D,oBAAG,iBAAiB;AACnB,8BAAY,UAAU,YAAY,WAAW,mDAAmD,sFAAuF,OAAK,cAAc,MAAK,oBAAoB,SAAU,cAAa,cAAc,aAAa,oBAAoB,yBAAyB;AAAA;AAGnU,4BAAY,UAAU,YAAY,WAAW,mDAAmD,oCAAoC;AACpI,sBAAK,KAAK,WAAW,cAAc,SAAS,SAAS,eAAc,kBAAkB;AAMpF,sBAAG,SAAS;AACX,wBAAG,MAAK,UAAU,MAAK,OAAO,eAAe;AAC5C,kCAAY,UAAU,YAAY,WAAW,mDAAmD,gEAAgE,YAAY,aAAa;AACzL,4BAAK;AAAA;AAEN;AAAA;AAED,sBAAI,gBAAgB,WAAW;AAC9B,gCAAY,UAAU,YAAY,WAAW,mDAAmD,uCAAuC;AACvI,0BAAK,kBAAkB,OAAO,WAAW,eAAc,mBAAmB;AAM1E,wBAAG,MAAK,UAAU,MAAK,OAAO,eAAe;AAC5C,kCAAY,UAAU,YAAY,WAAW,mDAAmD,2FAA2F;AAC3L,4BAAK,QAAQ,MAAK,OAAO;AAAA,2BACnB;AACN,kCAAY,UAAU,YAAY,WAAW,mDAAmD,iDAAiD,MAAK,MAAM,QAAQ;AAAA;AAErK,wBAAG,MAAK,MAAM,YAAY;AACzB,4BAAK;AAAA;AAAA;AAgBP,sBAAG,aAAa;AAGf,gCAAY,SAAS;AAAA,yBACf;AACN;AAAA;AAAA;AAAA;AAAA;AAeJ,8BAAkB,UAAU,oBAAoB,SAAS,OAAO,WAAW,cAAc,mBAAmB,oBAAoB;AAC/H,0BAAY,UAAU,YAAY,WAAW,yCAAyC,iBAAiB;AACvG,kBAAG,OAAO;AACT,4BAAY,UAAU,YAAY,WAAW,yCAAyC,aAAa;AAAA;AAEpG,kBAAG,cAAc;AAChB,4BAAY,UAAU,YAAY,WAAW,yCAAyC,qBAAqB;AAAA;AAE5G,kBAAG,mBAAmB;AACrB,4BAAY,UAAU,YAAY,WAAW,yCAAyC,0BAA0B,KAAK,UAAU;AAAA;AAEhI,kBAAG,oBAAoB;AACtB,4BAAY,UAAU,YAAY,WAAW,yCAAyC,eAAgB,oBAAmB,cAAc,mBAAmB;AAAA;AAG3J,mBAAK,2BAA2B;AAIhC,kBAAI,gBAAgB,KAAK,OACxB,iBAAiB,KAAK,OAAO,UAAU;AACxC,0BAAY,UAAU,YAAY,WAAW,yCAAyC,qBAAqB,cAAc;AACzH,kBAAG,cAAc,SAAS,KAAK,OAAO,QAAQ,SAAS,cAAc,SAAS,KAAK,OAAO,OAAO,SAAS,cAAc,SAAS,KAAK,OAAO,OAAO,OAAO;AAC1J,4BAAY,UAAU,YAAY,WAAW,yCAAyC;AACtF,0BAAU;AACV,uBAAO;AAAA;AAIR,oBAAM,eAAe,KAAK,mBAAmB;AAI7C,kBAAG,CAAC,UAAU,aAAa;AAC1B,4BAAY,UAAU,YAAY,WAAW,yCAAyC,qCAAqC,YAAY;AACvI,uBAAO;AAAA;AAKR,kBAAI,yBAAyB,KAAK;AAClC,mBAAK,iBAAiB,IAAI,SAAS;AACnC,mBAAK,OAAO,UAAU,OAAO;AAE7B,kBAAI,gBAAgB,kBAAkB;AACtC,kBAAG,iBAAiB,KAAK,iBAAiB,eAAgB;AACzD,qBAAK,cAAc,cAAc,mBAAmB,oBAAoB,CAAC,CAAC;AAAA;AAQ3E,mBAAK,0BAA0B,mBAAmB;AAClD,kBAAI,QAAO;AACX,oBAAM,SAAS,WAAW;AACzB,0BAAU,GAAG,aAAa,SAAS,cAAc,eAAe,oBAAmB;AAClF,wBAAK,0BAA0B,oBAAmB;AAClD,wBAAK,KAAK,UAAU,IAAI,sBAAsB,gBAAgB,gBAAgB,MAAM;AAAA;AAAA;AAMtF,kBAAG,cAAc,UAAU,KAAK,OAAO,UAAU,OAAO;AACvD,oBAAG,OAAO;AAET,uBAAK,cAAc,KAAK,SAAS,WAAW,cAAc;AAG1D,uBAAK,KAAK,UAAU,IAAI,sBAAsB,gBAAgB,gBAAgB,MAAM;AAAA;AAAA,qBAE/E;AACN,qBAAK,YAAY,EAAC,OAAO,aAAa;AACtC,qBAAK,cAAc,KAAK,SAAS,WAAW,cAAc,SAAS;AAAA;AAKpE,mBAAK,KAAK,oBAAoB;AAG9B,kBAAG,wBAAwB;AAC1B,oBAAG,uBAAuB,aAAa,UAAU,GAAG;AAKnD,8BAAY,UAAU,YAAY,WAAW,yCAAyC,6CAA6C,uBAAuB,UAAU,YAAY,kBAAkB,UAAU,YAAY,sBAAsB,uBAAuB,aAAa,UAAU;AAAA;AAE7R,oBAAG,uBAAuB,cAAc,WAAW;AAClD,sBAAI,MAAM,2HAA2H,UAAU,YAAY,eAAe,IAAI,QAAQ;AACtL,8BAAY,UAAU,YAAY,WAAW,yCAAyC;AACtF,gCAAc,OAAO,SAAS,KAAK;AAAA,uBAC7B;AACN,yCAAuB;AAAA;AAAA;AAMzB,oBAAM,eAAe,KAAK,mBAAmB,SAAS,kBAAkB;AACvE,oBAAG,qBAAqB,WAAW;AAClC,sBAAI,OAAM,0GAA0G,UAAU,YAAY,eAAe,IAAI,QAAQ;AACrK,8BAAY,UAAU,YAAY,WAAW,yCAAyC;AACtF,gCAAc,OAAO,SAAS,MAAK;AACnC,wBAAM,eAAe,MAAK,mBAAmB;AAAA,uBACvC;AACN,mCAAiB;AAAA;AAAA;AAGnB,oBAAM,eAAe,KAAK,oBAAoB,SAAS,mBAAmB;AACzE,oBAAG,sBAAsB,WAAW;AACnC,sBAAI,OAAM,2GAA2G,UAAU,YAAY,eAAe,IAAI,QAAQ;AACtK,8BAAY,UAAU,YAAY,WAAW,yCAAyC;AACtF,gCAAc,OAAO,SAAS,MAAK;AACnC,wBAAM,eAAe,MAAK,oBAAoB;AAAA,uBACxC;AACN,oCAAkB;AAAA;AAAA;AAIpB,qBAAO;AAAA;AAQR,8BAAkB,UAAU,sBAAsB,SAAS,WAAW,OAAO,OAAO;AACnF,kBAAI,kBAAkB,KAAK,gBAC1B,YAAY,mBAAmB,gBAAgB,mBAAmB,WAClE,aAAa,MAAM,eAAe,KAAK,mBAAmB,YAC1D,cAAc,MAAM,eAAe,KAAK,oBAAoB,YAC5D,qCAAqC,KAAK;AAE3C,0BAAY,UAAU,YAAY,WAAW,2CAA2C,iBAAiB;AACzG,0BAAY,UAAU,YAAY,WAAW,2CAA2C,aAAa,QAAS,aAAY,iBAAiB,aAAa,kBAAkB,cAAc,mBAAmB,MAAO,sCAAqC,KAAK;AAC5P,kBAAG,SAAS,MAAM;AACjB,4BAAY,UAAU,YAAY,WAAW,2CAA2C,eAAe,MAAM;AAE9G,kBAAG,WAAW;AACb,4BAAY,UAAU,YAAY,WAAW,2CAA2C,sCAAsC,KAAK,eAAe,aAAa,UAAU;AACzK,qBAAK,qBAAqB,gBAAgB;AAK1C,sBAAM,SAAS,WAAW;AACzB,kCAAgB;AAAA;AAEjB,qBAAK,iBAAiB,KAAK,OAAO;AAClC,6BAAa,KAAK;AAAA;AAGnB,mBAAK,KAAK,sBAAsB;AAWhC,kBAAI,aAAa,sCACf,cAAc,UAAU,YAAc,UAAU,aAChD,oBAAoB,QAAQ,cAAc,KAAK,kBAAkB,WAAW,GAAI;AAYjF,oBAAG,UAAU,kBAAkB,SAAS,MAAM,aAAa,OAAO,KAAK,UAAU,SAAS,GAAG;AAC5F,uBAAK;AACL,uBAAK,oBAAoB;AAEzB,uBAAK,YAAY,EAAC,OAAc,OAAc,kBAAkB;AAChE;AAAA;AAID,oBAAI,qBAAsB,UAAU,YAAY,YAAY,WAAW,SAAU,iBAAiB;AAClG,qBAAK,YAAY,EAAC,OAAO,oBAAoB;AAC7C;AAAA;AAGD,kBAAG,aAAc,UAAU,kBAAoB,KAAK,UAAU,KAAK,OAAO,eAAgB;AASzF,4BAAY,UAAU,YAAY,WAAW,2CAA2C;AACxF,qBAAK;AACL,qBAAK,qBAAqB,KAAK,OAAO;AACtC,qBAAK,YAAY,EAAC,OAAO,cAAc;AAAA;AAAA;AAOzC,8BAAkB,UAAU,qCAAqC,WAAW;AAC3E,qBAAO,MAAM,QAAQ,KAAK,sBACzB,KAAK,kBAAkB,MAAM,SAAS,WAAW;AAChD,uBAAO,CAAC,UAAU;AAAA;AAAA;AAQrB,8BAAkB,UAAU,OAAO,SAAS,WAAW,uBAAuB,UAAU;AACvF,kBAAI,UAAU,WAAW,WAAY;AACpC,0BAAU,IAAI;AACd,yBAAS,IAAI,UAAU,qCAAqC,KAAO;AAAA,iBACjE,KAAK,QAAQ,SAAS;AAGzB,kBAAI,cAAc,gBAAgB,WAAW;AAAA,gBAC5C,QAAQ,QAAQ;AAAA,gBAChB,eAAe,KAAK;AAAA;AAGrB,kBAAG,sBAAsB,YAAY;AACpC,4BAAY,aAAa,sBAAsB;AAAA,yBACtC,sBAAsB,qBAAqB,QAAW;AAC/D,4BAAY,mBAAmB,sBAAsB;AAAA;AAEtD,wBAAU,KAAK;AAEf,wBAAU,KAAK,QAAQ,SAAS,cAAc,cAAc;AAC3D,6BAAa;AACb,yBAAS,MAAM,cAAc;AAAA;AAAA;AAI/B,8BAAkB,UAAU,gBAAgB,SAAS,cAAc,mBAAmB,oBAAoB,oBAAoB;AAK7H,kBAAI,QAAO;AAGX,kBAAI,aAAa,KAAK,cACrB,gBAAgB,cAAe,eAAe,cAC9C,iBAAiB,CAAC,cAAc;AACjC,kBAAG,iBAAiB,gBAAiB;AACpC,4BAAY,UAAU,YAAY,WAAW,qCAAqC;AAClF,qBAAK,YAAY;AAAA;AAKlB,kBAAG,KAAK,iBAAiB,cAAe;AACvC,4BAAY,UAAU,YAAY,WAAW,qCAAqC;AAKlF,sBAAM,SAAS,WAAW;AACzB,wBAAK,SAAS,SAAS;AAAA;AAAA,yBAEf,KAAK,QAAQ,uBAAuB;AAM7C,4BAAY,UAAU,YAAY,WAAW,qCAAqC;AAClF,6BAAa,KAAK;AAClB,qBAAK,SAAS,SAAS;AACvB,qBAAK,0BAA0B,WAAW,WAAW;AACpD,wBAAK,SAAS,SAAS,2BAA2B;AAAA,mBAChD;AAAA;AAEJ,mBAAK,SAAS,WAAW,KAAK,KAAK,eAAe;AAClD,mBAAK,SAAS,WAAW,MAAM,KAAK,gBAAgB,kBAAkB;AACtE,kBAAI,0BAA0B,iBAAiB,CAAC;AAChD,mBAAK,oBAAoB,oBAAoB;AAAA;AAG9C,8BAAkB,UAAU,kBAAkB,WAAW;AACxD,mBAAK,SAAS,WAAW,KAAK,KAAK,eAAe;AAClD,mBAAK,SAAS,WAAW,MAAM,KAAK,gBAAgB;AACpD,mBAAK;AACL,mBAAK,YAAY;AACjB,mBAAK;AAAA;AAMN,8BAAkB,UAAU,sBAAsB,SAAS,oBAAoB,OAAO;AACrF,kBAAI,aAAa,mBAAmB,YACnC,mBAAmB,mBAAmB;AACvC,0BAAY,UAAU,YAAY,WAAW,2CAA2C,0CAA0C,mBAAmB,oBAAoB,aAAa,eAAe,QAAQ,kBAAkB,KAAK;AACpO,kBAAG,eAAe,QAAW;AAC5B,oBAAG,cAAc,KAAK,cAAc,CAAC,OAAO;AAC3C,8BAAY,UAAU,YAAY,WAAW,2CAA2C,sCAAsC,aAAa,iCAAiC,KAAK,aAAa;AAC9L,yBAAO;AAAA;AAER,qBAAK,SAAS,WAAW,aAAa,KAAK,aAAa;AACxD,qBAAK;AACL;AAAA;AAED,kBAAG,qBAAqB,QAAW;AAClC,oBAAG,oBAAoB,KAAK,oBAAoB,CAAC,OAAO;AACvD,8BAAY,UAAU,YAAY,WAAW,2CAA2C,4CAA4C,mBAAmB,uCAAuC,KAAK,mBAAmB;AACtN,yBAAO;AAAA;AAER,qBAAK,SAAS,WAAW,SAAS,KAAK,mBAAmB;AAC1D,qBAAK;AAAA;AAAA;AAIP,8BAAkB,UAAU,wBAAwB,WAAW;AAC9D,mBAAK,SAAS,WAAW,SAAS,KAAK,mBAAmB;AAC1D,mBAAK,SAAS,WAAW,aAAa,KAAK,aAAa;AACxD,mBAAK;AAAA;AAGN,8BAAkB,UAAU,iBAAiB,WAAW;AACvD,mBAAK,SAAS,WAAW,cAAc,KAAK,gBAAgB,MAAO,MAAK,cAAc,KAAK,oBAAoB,MAAM,KAAK;AAAA;AAG3H,8BAAkB,UAAU,mBAAmB,WAAW;AACzD,mBAAK,SAAS,WAAW,cAAc;AAAA;AAGxC,8BAAkB,UAAU,gCAAgC,WAAW;AACtE,kBAAG,CAAC,KAAK,gBAAgB,CAAC,KAAK,cAAc;AAAE;AAAA;AAE/C,kBAAI,YAAY,MAAM,QAAQ,KAAK;AACnC,kBAAG,YAAY,KAAK,qBAAqB,KAAK,iBAAiB;AAC9D,4BAAY,UAAU,YAAY,WAAW,qDAAqD,2CAA2C,YAAY;AACzJ,qBAAK;AACL,qBAAK,OAAO,WAAW,YAAY;AACnC,qBAAK,OAAO,WAAW,cAAc;AAAA;AAAA;AAQvC,8BAAkB,UAAU,oBAAoB,WAAW;AAC1D,kBAAG,oBAAoB;AACtB,oBAAI,cAAc,KAAK,SAAS,WAAW;AAC3C,oBAAG,aAAa;AACf,wCAAsB;AAAA,oBACrB;AAAA,oBACA,gBAAgB,MAAM;AAAA,oBACtB,UAAU,OAAO;AAAA,oBACjB,UAAU,KAAK,SAAS,KAAK;AAAA,qBAC3B,KAAK;AAAA;AAAA;AAAA;AASX,8BAAkB,UAAU,sBAAsB,WAAW;AAC5D;AAAA;AAOD,8BAAkB,UAAU,WAAW,WAAW;AACjD,qBAAO,KAAK,eAAe,KAAK;AAAA;AAGjC,8BAAkB,UAAU,gBAAgB,WAAW;AACtD,qBAAO,gBAAgB,KAAK,MAAM;AAAA;AAGnC,8BAAkB,UAAU,cAAc,WAAW;AACpD,qBAAO,KAAK,MAAM,eAAe,KAAK,MAAM;AAAA;AAG7C,8BAAkB,UAAU,mBAAmB,SAAS,aAAa;AACpE,kBAAI,WAAW,YAAY,YAAY,WAAW,YAAY,YAAY,YAAY;AACtF,0BAAY,UAAU,UAAU,oBAAoB,YAAY,UAAW,aAAY,SAAU,eAAe,YAAY,SAAU;AACtI,0BAAY,UAAU,YAAY,WAAW,sCAAsC,wBAAwB,YAAY,UAAU,gBAAiB,aAAY,UAAU,YAAY,OAAO;AAC3L,kBAAI,WAAW,KAAK,QAAQ,KAAK,OAAO,YAAY;AACpD,kBAAG,YAAY,QAAQ;AACtB,qBAAK,cAAc,YAAY;AAC/B,qBAAK,SAAS,WAAW,cAAc,YAAY;AAAA;AAEpD,kBAAG,SAAS,YAAY,SAAS,UAAU,aAAa;AAIvD,qBAAK;AAAA;AAEN,mBAAK,KAAK,mBAAmB;AAAA;AAO9B,8BAAkB,UAAU,uBAAuB,SAAS,iBAAiB;AAC5E,0BAAY,UAAU,YAAY,WAAW,4CAA4C,sBAAsB,gBAAgB;AAE/H,kBAAG,KAAK,iBAAiB;AACxB,4BAAY,UAAU,YAAY,WAAW,4CAA4C;AACzF,6BAAa,KAAK;AAAA;AAGnB,kBAAI,QAAO;AACX,mBAAK,kBAAkB,WAAW,WAAW;AAC5C,oBAAG,MAAK,iBAAiB;AACxB,wBAAK,kBAAkB;AACvB,8BAAY,UAAU,YAAY,WAAW,uBAAuB,gBAAgB,QAAQ,kBAAkB,2BAA2B,gBAAgB;AACzJ,wBAAK,YAAY,EAAC,OAAO,gBAAgB;AAAA;AAAA,iBAExC,gBAAgB;AAAA;AAGpB,8BAAkB,UAAU,wBAAwB,WAAW;AAC9D,0BAAY,UAAU,YAAY,WAAW,6CAA6C;AAC1F,kBAAG,KAAK,iBAAiB;AACxB,6BAAa,KAAK;AAClB,qBAAK,kBAAkB;AAAA;AAAA;AAIzB,8BAAkB,UAAU,oBAAoB,WAAW;AAC1D,kBAAI,QAAO;AACX,kBAAG,KAAK;AACP;AACD,mBAAK,eAAe,WAAW,WAAW;AACzC,oBAAG,MAAK,cAAc;AACrB,wBAAK,eAAe;AACpB,8BAAY,UAAU,YAAY,WAAW,2CAA2C;AACxF,wBAAK,OAAO,WAAW,YAAY;AACnC,wBAAK,OAAO,WAAW,cAAc;AACrC,wBAAK,YAAY,EAAC,OAAO;AAAA;AAAA,iBAExB,KAAK;AAAA;AAGT,8BAAkB,UAAU,oBAAoB,SAAS,OAAO;AAC/D,kBAAG,UAAU,kBAAkB,UAAU,eAAe,UAAU;AACjE,qBAAK;AAAA;AAGP,8BAAkB,UAAU,qBAAqB,WAAW;AAC3D,mBAAK,OAAO,WAAW,YAAY;AACnC,mBAAK,OAAO,WAAW,cAAc;AACrC,kBAAG,KAAK,cAAc;AACrB,6BAAa,KAAK;AAClB,qBAAK,eAAe;AAAA;AAAA;AAItB,8BAAkB,UAAU,kBAAkB,SAAS,UAAU;AAChE,kBAAI,QAAO;AACX,mBAAK,aAAa,WAAW,WAAW;AACvC,4BAAY,UAAU,YAAY,WAAW,yCAAyC;AACtF,sBAAK,aAAa;AAClB,sBAAK,aAAa,EAAC,OAAO;AAAA,iBACxB;AAAA;AAGJ,8BAAkB,UAAU,mBAAmB,WAAW;AACzD,kBAAG,KAAK,YAAY;AACnB,6BAAa,KAAK;AAClB,qBAAK,aAAa;AAAA;AAAA;AAIpB,8BAAkB,UAAU,cAAc,SAAS,WAAW;AAC7D,kBAAI,QAAQ,UAAU,OACrB,QAAO;AAUR,kBAAI,mBAAoB,UAAU,kBAChC,MAAK,UAAU,KAAK,OAAO,aAC3B,KAAK,UAAU,KAAK,OAAO,iBAC3B,UAAU,oBACT,KAAK,UAAU,KAAK,OAAO,cAC3B,UAAU,SAAS,YAAY,WAAW,UAAU,UACpD,CAAE,MAAK,eAAe,YAAY,WAAW,KAAK;AAErD,0BAAY,UAAU,YAAY,WAAW,mCAAmC,gBAAgB,QAAS,oBAAmB,wCAAwC;AAEpK,kBAAG,SAAS,KAAK,MAAM;AACtB;AAID,mBAAK;AACL,mBAAK;AACL,mBAAK,kBAAkB,UAAU;AAGjC,kBAAG,KAAK,MAAM;AACb;AAGD,kBAAI,WAAW,KAAK,OAAO,UAAU,QACpC,SAAS,IAAI,sBAAsB,KAAK,MAAM,OAAO,SAAS,OAAO,SAAS,YAAa,UAAU,SAAS,gBAAgB,SAAS;AAExI,kBAAG,kBAAkB;AACpB,oBAAI,gBAAgB,WAAW;AAC9B,sBAAG,MAAK,UAAU,MAAK,OAAO,cAAc;AAC3C,0BAAK,2BAA2B,MAAM;AACtC,0BAAK,aAAa,EAAC,OAAO;AAAA;AAAA;AAG5B,oBAAI,YAAY,KAAK,4BAA6B,MAAM,QAAQ,KAAK,2BAA2B;AAChG,oBAAG,aAAc,YAAY,KAAO;AACnC,8BAAY,UAAU,YAAY,WAAW,mCAAmC,qCAAqC,YAAY,6BAA8B,OAAO,aAAa;AACnL,6BAAW,eAAe,MAAO;AAAA,uBAC3B;AACN,wBAAM,SAAS;AAAA;AAAA,yBAEP,UAAU,kBAAkB,UAAU,aAAa;AAC5D,qBAAK,gBAAgB,SAAS;AAAA;AAK/B,kBAAI,UAAU,kBAAkB,CAAC,oBAC9B,UAAU,eACX,SAAS,UAAU;AAGlB,sBAAM,SAAS,WAAW;AACzB,wBAAK;AAAA;AAAA;AAIT,kBAAG,SAAS,eAAe,CAAC,KAAK,gBAAgB;AAChD,4BAAY,UAAU,YAAY,WAAW,mCAAmC;AAAA;AAIjF,mBAAK,iBAAiB;AACtB,kBAAG,KAAK,MAAM,YAAY;AACzB,qBAAK;AAAA,yBACI,CAAC,KAAK,MAAM,aAAa;AAClC,qBAAK,SAAS,SAAS,gCAAgC,OAAO,OAAO;AACrE,qBAAK,mBAAmB,OAAO;AAAA;AAAA;AAIjC,8BAAkB,UAAU,eAAe,SAAS,SAAS;AAC5D,kBAAI,QAAQ,QAAQ,OAAO,QAAO;AAClC,0BAAY,UAAU,YAAY,WAAW,oCAAoC,sBAAsB,QAAQ,sBAAsB,KAAK,MAAM;AAChJ,kBAAG,SAAS,KAAK,MAAM;AACtB;AAGD,mBAAK;AACL,mBAAK;AAGL,mBAAK,kBAAkB;AAEvB,kBAAG,SAAS,gBAAgB,KAAK,MAAM,SAAS;AAAa;AAC7D,kBAAG,SAAS,aAAa,KAAK,MAAM,SAAS;AAAU;AAEvD,kBAAI,WAAW,KAAK,OAAO,QAC1B,SAAS,IAAI,sBAAsB,KAAK,MAAM,OAAO,SAAS,OAAO,MAAO,QAAQ,SAAS,gBAAgB,SAAS;AAEvH,mBAAK,iBAAiB;AAEtB,kBAAG,SAAS,cAAc;AACzB,sBAAM,SAAS,WAAW;AAAE,wBAAK;AAAA;AAAA;AAElC,kBAAG,SAAS,WAAW;AACtB,qBAAK;AAAA;AAAA;AAKP,8BAAkB,UAAU,eAAe,WAAW;AACrD,kBAAG,KAAK,UAAU,KAAK,OAAO,YAAY;AACzC,4BAAY,UAAU,YAAY,WAAW,oCAAoC,qDAAqD,KAAK,MAAM;AACjJ;AAAA;AAGD,kBAAI,OAAO,KAAK,SAAS,MACxB,QAAO;AAQR,kBAAI,eAAe,EAAE,KAAK;AAE1B,kBAAI,UAAU,WAAW;AACxB,sBAAK;AACL,sBAAK,mBAAmB,SAAS,iBAAiB;AACjD,sBAAG,iBAAiB,MAAK,gBAAgB;AACxC;AAAA;AAED,wBAAK,YAAY,iBAAiB;AAAA;AAAA;AAIpC,0BAAY,UAAU,YAAY,WAAW,oCAAoC;AACjF,mBAAK;AACL,mBAAK,qBAAqB,KAAK,OAAO;AAEtC,kBAAG,KAAK,WAAW,SAAS;AAC3B;AAAA,qBACM;AACN,oBAAI,SAAS,SAAS,KAAK;AAC1B,sBAAG,iBAAiB,MAAK,gBAAgB;AACxC;AAAA;AAED,sBAAG,KAAK;AACP,0BAAK,wBAAwB;AAAA,yBACvB;AACN;AAAA;AAAA;AAGF,oBAAG,KAAK,eAAe,YAAY,WAAW,KAAK,cAAc;AAEhE,uBAAK,eAAe,MAAM,MAAM;AAAA,uBAC1B;AACN,uBAAK,4BAA4B,OAAO;AAAA;AAAA;AAAA;AAwB3C,8BAAkB,UAAU,cAAc,SAAS,iBAAiB,cAAc;AACjF,kBAAI,QAAQ,KAAK,MAAM;AAEvB,kBAAG,UAAU,KAAK,OAAO,WAAW,SAAS,UAAU,KAAK,OAAO,UAAU,OAAO;AAInF,4BAAY,UAAU,YAAY,WAAW,mCAAmC,+EAA+E;AAAA,yBACtJ,KAAK,kBAAkB,QAAQ;AACxC,4BAAY,UAAU,YAAY,WAAW,mCAAmC,gBAAgB,KAAK,kBAAkB,GAAG,aAAa;AAAA,yBAC9H,SAAS,KAAK,OAAO,UAAU,OAAO;AAC/C,qBAAK,gBAAgB;AAAA,yBACZ,KAAK,WAAW,SAAS,KAAK,KAAK,0BAA0B;AACtE,qBAAK,kBAAkB;AAAA,qBACjB;AACN,qBAAK,YAAY,iBAAiB;AAAA;AAAA;AAKpC,8BAAkB,UAAU,oBAAoB,SAAS,iBAAiB;AACzE,kBAAI,aAAa,KAAK,0BACrB,QAAO,MACP,2BAA2B;AAE5B,kBAAG,CAAC,MAAM,MAAM,KAAK,YAAY,aAAa;AAC7C,qBAAK;AACL,qBAAK,YAAY;AAAA;AAGlB,0BAAY,UAAU,YAAY,WAAW,yCAAyC,wDAAwD;AAE9I,kBAAI,oBAAoB,WAAW,WAAW;AAC7C,2CAA2B;AAC3B,oBAAG,CAAE,OAAK,MAAM,UAAU,MAAK,OAAO,UAAU,QAAQ;AACvD,8BAAY,UAAU,YAAY,WAAW,yCAAyC,0CAA0C,aAAa;AAG7I,wBAAK;AAEL,wBAAK;AAAA;AAEN,sBAAK,YAAY;AAAA,iBACf,KAAK,QAAQ,SAAS;AAIzB,8BAAgB,OAAO,MAAK,UAAU;AACtC,oBAAK,cAAc,iBAAiB,YAAY,SAAS,OAAO,WAAW;AAC1E,6BAAa;AACb,oBAAG,4BAA4B,WAAW;AAIzC,4BAAU;AACV,4BAAU;AACV,wBAAM,eAAe,KAAK,mBAAmB;AAAA,2BACpC,CAAC,aAAa,CAAC,OAAO;AAE/B,wBAAK;AACL,wBAAK,YAAY;AAAA;AAAA;AAAA;AAcpB,8BAAkB,UAAU,cAAc,SAAS,iBAAiB,cAAc;AACjF,kBAAI,QAAO,MACV,SAAS,SAAS,KAAK;AACtB,sBAAK,YAAY,EAAC,OAAO,MAAK,OAAO,WAAW,WAAW,OAAO;AAAA,iBAEnE,iBAAiB,KAAK,UAAU,SAChC,gBAAgB,SAAS,OAAO,WAAW;AAC1C,oBAAG,iBAAiB,MAAK,gBAAgB;AACxC;AAAA;AAED,oBAAG,CAAC,aAAa,CAAC,OAAO;AACxB;AAAA;AAAA;AAIH,0BAAY,UAAU,YAAY,WAAW,mCAAmC,2CAA2C,KAAK;AAGhI,kBAAI,OAAO,eAAe;AAC1B,kBAAG,CAAC,MAAM;AACT,uBAAO,IAAI,UAAU,yCAAyC,OAAO;AACrE;AAAA;AAED,8BAAgB,OAAO;AAGvB,0CAA4B;AAE3B,oBAAG,CAAC,eAAe,QAAQ;AAC1B,yBAAO,IAAI,UAAU,yDAAyD,OAAO;AACrF;AAAA;AAKD,0BAAU,kBAAkB,SAAS,KAAK,cAAc;AACvD,sBAAG,iBAAiB,MAAK,gBAAgB;AACxC;AAAA;AAGD,sBAAG,KAAK;AACP,2BAAO;AACP;AAAA;AAED,sBAAG,CAAC,cAAc;AAEjB,2BAAO,IAAI,UAAU,2CAA2C,OAAO;AACvE;AAAA;AAKD,kCAAgB,OAAO,MAAM,oBAAoB;AACjD,wBAAK,cAAc,iBAAiB,MAAK,eAAe;AAAA;AAAA;AAI1D,kBAAG,KAAK,qBAAqB,eAAe,QAAQ;AACnD,qBAAK,oBAAoB;AACzB;AACA;AAAA;AAGD,mBAAK,cAAc,iBAAiB,KAAK,eAAe;AAAA;AAIzD,8BAAkB,UAAU,0BAA0B,WAAW;AAIhE,kBAAI,UAAU,KAAK,eAAe,eAAe;AACjD,kBAAI,kBAAkB,MAAM,WAAW,KAAK,mBAAmB;AAC/D,qBAAO,KAAK,kBAAkB,MAAM,kBAAkB;AAAA;AAIvD,8BAAkB,UAAU,kBAAkB,SAAS,iBAAiB;AACvE,kBAAI,uBAAuB,KAAK,2BAC/B,QAAO;AACR,0BAAY,UAAU,YAAY,WAAW,uCAAuC,4BAA4B,MAAM,QAAQ;AAE9H,kBAAG,CAAC,qBAAqB,QAAQ;AAChC;AAAA;AAGD,oBAAM,WAAW,sBAAsB,SAAS,kBAAkB;AAEjE,oBAAI,yBAAyB,MAAK,sBAAsB,gBAAgB,MAAM;AAC9E,sBAAK,cAAc,wBAAwB,kBAAkB;AAAA;AAAA;AAK/D,8BAAkB,UAAU,YAAY,WAAW;AAClD,0BAAY,UAAU,YAAY,WAAW,iCAAiC;AAC9E,mBAAK;AACL,mBAAK,qBAAqB,KAAK,OAAO;AAEtC,oBAAM,eAAe,KAAK,mBAAmB,SAAS,WAAW;AAChE,4BAAY,UAAU,YAAY,WAAW,iCAAiC,gCAAgC;AAC9G,oBAAG;AAAW,4BAAU;AAAA;AAGzB,oBAAM,eAAe,KAAK,oBAAoB,SAAS,WAAW;AACjE,4BAAY,UAAU,YAAY,WAAW,iCAAiC,sCAAsC;AACpH,oBAAG;AAAW,4BAAU;AAAA;AAGzB,kBAAG,KAAK,gBAAgB;AACvB,4BAAY,UAAU,YAAY,WAAW,iCAAiC,+BAA+B,KAAK,eAAe;AACjI,qBAAK,eAAe,eAAe;AAAA;AAKpC,mBAAK,YAAY,EAAC,OAAO;AAAA;AAG1B,8BAAkB,UAAU,gBAAgB,SAAS,cAAc,UAAU;AAC5E,kBAAI,QAAO;AACX,sBAAO,KAAK,MAAM;AAAA,qBACZ;AACJ,8BAAY,UAAU,YAAY,WAAW,qCAAqC;AAMlF,sBAAI,MAAK,kBAAkB,UAAU,KAAK,mBAAmB,WAC5D,MAAK,UAAU,MAAK,OAAO,eAAe;AAC1C,yBAAK,wBAA2C;AAChD,wBAAI,kBAAkB,KAAK,eAAe,eAAe;AACzD,0BAAM,SAAS,WAAW;AACzB,0BAAG,MAAK,MAAM,UAAU,aAAa;AACpC,8BAAK,gBAAgB;AAAA;AAAA;AAAA;AAMxB,uBAAK,eAAe,eAAe,cAAc;AAEjD,sBAAI,UAAU,gBAAgB,WAAW;AAAA,oBACxC,QAAQ,QAAQ;AAAA,oBAChB,MAAM;AAAA,sBACL,aAAa,aAAa;AAAA;AAAA;AAG5B,uBAAK,KAAK;AAKV,sBAAI,kBAAkB,WAAW;AAChC,0BAAK,IAAI;AACT,6BAAS,MAAM;AAAA;AAEhB,sBAAI,kBAAkB,SAAS,aAAa;AAC3C,wBAAG,YAAY,YAAY,UAAU;AACpC,4BAAK,IAAI;AACT,4BAAK,IAAI;AACT,+BAAS,YAAY,UAAU,MAAK;AAAA;AAAA;AAGtC,uBAAK,KAAK,qBAAqB;AAC/B,uBAAK,GAAG,mBAAmB;AAC3B;AAAA,qBAEI;AACJ,8BAAY,UAAU,YAAY,WAAW,qCAC5C;AACD,uBAAK;AAAA;AAIL,8BAAY,UAAU,YAAY,WAAW,qCAC5C,yBAAyB,KAAK,MAAM,QAAQ;AAC7C,sBAAI,WAAW,SAAS,aAAa;AACpC,4BAAO,YAAY;AAAA,2BACb;AACJ,8BAAK,IAAI;AACT,iCAAS,MAAM;AACf;AAAA,2BACI;AAAA,2BACA;AAAA,2BACA;AACJ,8BAAK,IAAI;AACT,iCAAS,YAAY,UAAU,MAAK;AACpC;AAAA;AAGA;AAAA;AAAA;AAGH,wBAAK,GAAG,mBAAmB;AAC3B,sBAAG,KAAK,MAAM,UAAU,cAAc;AAGrC,0BAAK;AAAA,yBACC;AACN,0BAAK,aAAa,EAAC,OAAO;AAAA;AAAA;AAAA;AAK9B,8BAAkB,UAAU,0BAA0B,SAAS,cAAc;AAC5E,0BAAY,UAAU,YAAY,WAAW,+CAA+C,iCAAkC,gBAAe,iCAAiC;AAG9K,mBAAK;AAEL,oBAAM,eAAe,KAAK,mBAAmB,SAAS,WAAW;AAChE,4BAAY,UAAU,YAAY,WAAW,+CAA+C,sCAAsC;AAClI,oBAAG;AAAW,4BAAU;AAAA;AAEzB,mBAAK,oBAAoB;AAEzB,oBAAM,eAAe,KAAK,oBAAoB,SAAS,WAAW;AACjE,4BAAY,UAAU,YAAY,WAAW,+CAA+C,sCAAsC;AAClI,oBAAG;AAAW,4BAAU;AAAA;AAEzB,mBAAK,qBAAqB;AAE1B,kBAAG,KAAK,kBAAkB,CAAC,cAAc;AACxC,4BAAY,UAAU,YAAY,WAAW,+CAA+C,qCAAqC,KAAK,eAAe;AACrJ,qBAAK,eAAe,eAAe;AAAA;AAAA;AAUrC,8BAAkB,UAAU,OAAO,SAAS,KAAK,YAAY,UAAU;AACtE,yBAAW,YAAY;AACvB,kBAAI,QAAQ,KAAK;AAEjB,kBAAG,MAAM,YAAY;AACpB,4BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,qBAAK,SAAS,IAAI,eAAe,KAAK;AACtC;AAAA;AAED,kBAAI,cAAe,cAAc,MAAM,eAAgB,MAAM;AAC7D,kBAAG,CAAC,aAAa;AAChB,oBAAI,MAAM,qCAAqC,aAAa,iBAAiB,MAAM;AACnF,4BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,yBAAS,KAAK,eAAe,IAAI,UAAU,KAAK,KAAO;AACvD;AAAA;AAED,kBAAG,YAAY,UAAU,YAAY,YAAY;AAChD,4BAAY,UAAU,YAAY,WAAW,4BAA4B,mBAAmB,gBAAgB,UAAU;AAAA;AAEvH,mBAAK,MAAM,KAAK;AAAA;AAGjB,8BAAkB,UAAU,WAAW,SAAS,gBAAgB;AAC/D,kBAAI,MAAM,eAAe;AAGzB,kBAAG,eAAe,eAAe,CAAC,eAAe,eAAe;AAC/D,oBAAI,YAAY,KAAK;AACrB,qBAAK;AAAA;AAEN,kBAAI;AACH,qBAAK,eAAe,KAAK;AAAA,uBAClB,GAAN;AACD,4BAAY,UAAU,YAAY,WAAW,gCAAgC,+CAA+C,EAAE;AAAA;AAAA;AAIhI,gCAAoB,MAAM,KAAK,SAAS;AACvC,kBAAI;AACJ,kBAAG,KAAK,YAAY,IAAI,SAAS;AAEhC,uBAAO;AAAA;AAER,kBAAI,UAAS,KAAK,YAAY,QAAQ,YAAY,WAAW,QAAQ,SAAS;AAE7E,uBAAO;AAAA;AAER,kBAAG,WAAW,IAAI,QAAQ;AAEzB,uBAAO;AAAA;AAER,kBAAI,OAAQ,WAAW,QAAQ,WAAY,aAAa,YACvD,WAAW,KAAK,MAAM,OAAO,IAAI,QACjC,OAAO,cAAc,gBAAgB;AACtC,kBAAG,OAAO,SAAS;AAElB,uBAAO;AAAA;AAER,kBAAG,CAAC,MAAM,QAAQ,UAAU,aAAa;AAExC,uBAAO;AAAA;AAER,kBAAG,CAAC,MAAM,SAAS,UAAU,SAAS,KAAK;AAC1C,uBAAO,CAAC,IAAI;AAAA,kBACT;AAEH,uBAAO;AAAA;AAGR,mBAAK,QAAQ;AACb,qBAAO;AAAA;AACP;AAED,8BAAkB,UAAU,QAAQ,SAAS,KAAK,UAAU;AAC3D,0BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E,kBAAI,aAAa,KAAK,eAAe;AACrC,kBAAI,UAAU,KAAK,QAAQ;AAI3B,kBAAG,cAAc,CAAC,WAAW,iBAAiB,WAAW,WAAW,SAAS,KAAK,UAAU;AAC3F,oBAAG,CAAC,WAAW,QAAQ;AACtB,6BAAW,WAAW,iBAAiB,CAAC,WAAW;AACnD,6BAAW,SAAS;AAAA;AAErB,2BAAW,SAAS,KAAK;AAAA,qBACnB;AACN,qBAAK,eAAe,KAAK,IAAI,eAAe,KAAK;AAAA;AAAA;AAInD,8BAAkB,UAAU,qBAAqB,WAAW;AAC3D,0BAAY,UAAU,YAAY,WAAW,0CAA0C,aAAa,KAAK,eAAe,UAAU;AAClI,kBAAI;AACJ,qBAAM,iBAAiB,KAAK,eAAe;AAC1C,qBAAK,SAAS;AAAA;AAGhB,8BAAkB,UAAU,uBAAuB,SAAS,iBAAiB;AAC5E,kBAAG,mBAAmB,gBAAgB,QAAQ;AAC7C,4BAAY,UAAU,YAAY,WAAW,4CAA4C,cAAc,gBAAgB,SAAS;AAChI,qBAAK,eAAe,QAAQ;AAAA;AAAA;AAI9B,8BAAkB,UAAU,qBAAqB,SAAS,KAAK;AAC9D,kBAAI,YAAY,KAAK,eAAe;AACpC,kBAAG,YAAY,GAAG;AACjB,4BAAY,UAAU,YAAY,WAAW,0CAA0C,aAAa,YAAY,6BAA6B,MAAM,aAAa;AAChK,qBAAK,eAAe,oBAAoB;AAAA;AAAA;AAI1C,8BAAkB,UAAU,mBAAmB,SAAS,SAAS,WAAW;AAC3E,kBAAI,oBAAoB,KAAK,kBAAkB,cAAc,KAAK,eAAe,gBAChF,qBAAqB,MAAM,MAAM,KAAK,mBAAmB,cAAc,KAAK,SAAS,KAAK,OAAO,eACjG,gBAAgB,QAAQ,WAAW,QAAQ,WAAW,QAAQ,WAAW,QAAQ;AAKlF,kBAAG,qBAAqB,oBAAoB;AAC3C,oBAAG,eAAe;AACjB,sBAAI,aAAa,KAAK,oBAAoB;AAC1C,sBAAG,YAAY;AACd;AAAA;AAED,sBAAG,gBAAgB,YAAY,SAAS,KAAK,gBAAgB;AAC5D,gCAAY,UAAU,YAAY,WAAW,wCAAwC,2GAA2G,QAAQ;AACxM;AAAA;AAED,uBAAK,gBAAgB;AAAA;AAEtB,qBAAK,SAAS,SAAS,iBAAiB;AAAA,qBAClC;AAIN,oBAAG,MAAM,WAAW,CAAC,QAAQ,KAAK,QAAQ,MAAM,QAAQ,QAAQ,QAAQ,UAAU,IAAI;AACrF,uBAAK,SAAS,SAAS,iBAAiB;AAAA,uBAClC;AACN,8BAAY,UAAU,YAAY,WAAW,wCAAwC,sBAAsB,KAAK,UAAU,WAAW;AAAA;AAAA;AAAA;AAKxI,8BAAkB,UAAU,OAAO,SAAS,WAAW,UAAU;AAEhE,kBAAG,WAAW;AACb,4BAAY,UAAU,YAAY,WAAW,4BAA4B,iBAAiB;AAE1F,oBAAI,YAAY,WAAY;AAC3B,4BAAU,IAAI,aAAa;AAC3B,2BAAS,IAAI,UAAU,0CAA0C,KAAO;AAAA;AAGzE,oBAAI,YAAY,MAAM,OACrB,KAAK,MAAM;AAEZ,oBAAI,cAAc,SAAU,YAAY;AACvC,sBAAG,eAAe,IAAI;AACrB,8BAAU,IAAI,aAAa;AAC3B,iCAAa;AACb,wBAAI,eAAe,MAAM,QAAQ;AACjC,6BAAS,MAAM;AAAA;AAAA;AAIjB,oBAAI,QAAQ,WAAW,WAAW,KAAK,QAAQ,SAAS;AAExD,0BAAU,GAAG,aAAa;AAC1B,0BAAU,KAAK;AACf;AAAA;AAID,kBAAG,KAAK,MAAM,UAAU,aAAa;AACpC,yBAAS,IAAI,UAAU,yCAAyC,KAAO;AACvE;AAAA;AAKD,kBAAI,YAAY,OAAO,QAAO;AAE9B,kBAAI,iBAAiB,SAAS,KAAK,cAAc;AAChD,sBAAK,IAAI,oBAAoB;AAC7B,oBAAG,CAAC,WAAW;AACd,8BAAY;AACZ,2BAAS,KAAK;AAAA;AAAA;AAIhB,kBAAI,oBAAoB,WAAW;AAClC,oBAAG,CAAC,WAAW;AAEd,8BAAY;AAEZ,wBAAM,SAAS,WAAW;AACzB,0BAAK,KAAK,MAAM;AAAA;AAAA;AAAA;AAKnB,mBAAK,GAAG,oBAAoB;AAC5B,mBAAK,KAAK,KAAK,eAAe,gBAAgB;AAAA;AAG/C,8BAAkB,UAAU,QAAQ,SAAS,OAAO;AACnD,mBAAK,eAAe,eAAe,KAAK;AAAA;AAGzC,8BAAkB,UAAU,4BAA4B,SAAS,WAAW;AAC3E,mBAAK,mBAAmB,KAAK;AAAA;AAG9B,8BAAkB,UAAU,yBAAyB,WAAW;AAC/D,qBAAO,KAAK,uBAAwB,kBAAkB,WAAW,IAAI;AAAA;AAGtE,8BAAkB,UAAU,6BAA6B,SAAS,WAAW;AAC5E,kBAAG,MAAM,MAAM,cAAc,mBAAmB,UAAU,YAAY;AACrE,qBAAK,sBAAsB,UAAU;AACrC,oBAAG,gBAAgB;AAClB,6BAAW,IAAI,yBAAyB,UAAU;AAAA;AAAA;AAAA;AAKrD,8BAAkB,UAAU,+BAA+B,WAAW;AACrE,mBAAK,sBAAsB;AAC3B,kBAAG,gBAAgB;AAClB,2BAAW,OAAO;AAAA;AAAA;AAOpB,8BAAkB,UAAU,0BAA0B,SAAS,KAAK;AACnE,kBAAG,IAAI,SAAS,OAAO;AAEtB,qBAAK,YAAY,EAAC,OAAO,UAAU,OAAO;AAAA,yBACjC,IAAI,eAAe,KAAK;AACjC,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,+CAA+C;AAC5F,qBAAK,YAAY,EAAC,OAAO,UAAU,OAAO,IAAI,UAAU,KAAK,OAAO,KAAK;AAAA,qBACnE;AACN,oBAAI,MAAM;AACV,4BAAY,UAAU,YAAY,WAAW,6CAA6C;AAC1F,qBAAK,YAAY,EAAC,OAAO,KAAK,MAAM,WAAW,OAAO,IAAI,UAAU,KAAK,OAAO,KAAK;AAAA;AAAA;AAIvF,8BAAkB,UAAU,4BAA4B,SAAS,mBAAmB,WAAW;AAC9F,kBAAG,CAAC,mBAAmB;AACtB;AAAA;AAED,mBAAK,oBAAoB;AACzB,kBAAG,kBAAkB,gBAAgB;AACpC,qBAAK,QAAQ,iBAAiB,kBAAkB;AAAA;AAEjD,kBAAI,WAAW,kBAAkB;AACjC,kBAAG,UAAU;AACZ,oBAAI,MAAM,KAAK,SAAS,KAAK,sBAAsB;AACnD,oBAAG,KAAK;AACP,8BAAY,UAAU,YAAY,WAAW,iDAAiD,IAAI;AAElG,4BAAU,KAAK;AACf;AAAA;AAAA;AAGF,kBAAI,qBAAqB,kBAAkB;AAC3C,kBAAG,oBAAoB;AACtB,qBAAK,qBAAqB;AAAA;AAE3B,mBAAK,kBAAkB,kBAAkB;AACzC,mBAAK,KAAK,qBAAqB;AAAA;AAGhC,mBAAO;AAAA;AAGqB,cAAI,oBAAqB;AAStD,cAAI,wBAAyB,WAAW;AACvC,4BAAgB;AAAA;AAGhB,gCAAoB,MAAM,SAAS;AAClC,2BAAa,KAAK;AAClB,mBAAK,OAAO;AACZ,mBAAK,oBAAoB,IAAI,kBAAkB,MAAM;AACrD,mBAAK,QAAQ,KAAK,kBAAkB,MAAM;AAC1C,mBAAK,MAAM;AACX,mBAAK,KAAK;AACV,mBAAK,SAAS;AACd,mBAAK,aAAa;AAClB,mBAAK,cAAc;AACnB,mBAAK,cAAc;AAEnB,kBAAI,QAAO;AACX,mBAAK,kBAAkB,GAAG,mBAAmB,SAAS,aAAa;AAClE,oBAAI,QAAQ,MAAK,QAAQ,YAAY;AACrC,sBAAM,SAAS,WAAW;AACzB,wBAAK,KAAK,OAAO;AAAA;AAAA;AAGnB,mBAAK,kBAAkB,GAAG,UAAU,SAAS,aAAa;AACzD,sBAAM,SAAS,WAAW;AACzB,wBAAK,KAAK,UAAU;AAAA;AAAA;AAAA;AAIvB,kBAAM,SAAS,YAAY;AAE3B,uBAAW,UAAU,YAAY,SAAS,OAAO,UAAU;AAC1D,qBAAO,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO,KAAK,OAAO,UAAU,IAAI,sBAAsB,QAAW;AAAA;AAGtH,uBAAW,UAAU,UAAU,WAAW;AACzC,0BAAY,UAAU,YAAY,WAAW,wBAAwB;AACrE,mBAAK,kBAAkB,aAAa,EAAC,OAAO;AAAA;AAG7C,uBAAW,UAAU,OAAO,SAAS,UAAU;AAC9C,0BAAY,UAAU,YAAY,WAAW,qBAAqB;AAClE,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,yBAAO,MAAM,UAAU,MAAM,QAAQ;AAAA;AAEtC,2BAAW;AAAA;AAEZ,mBAAK,kBAAkB,KAAK,MAAM;AAAA;AAGnC,uBAAW,UAAU,QAAQ,WAAW;AACvC,0BAAY,UAAU,YAAY,WAAW,sBAAsB,qBAAqB,KAAK;AAC7F,mBAAK,kBAAkB,aAAa,EAAC,OAAO;AAAA;AAG7C,mBAAO;AAAA;AAGqB,cAAI,oBAAqB;AAGtD,cAAI,qBAAsB,WAAW;AAGpC,yCAA4B,UAAU,SAAS,SAAS,QAAQ;AAC/D,mBAAK,WAAW;AAChB,mBAAK,UAAU;AACf,kBAAG,YAAY;AAAY,qBAAK,UAAU;AAC1C,kBAAG;AAAQ,qBAAK,SAAS;AAAA;AAG1B,mBAAO;AAAA;AAGqB,cAAI,qBAAsB;AAcvD,cAAI,oCAAqC,WAAW;AACnD,gBAAI,OAAO,WAAW;AAAA;AAEtB,+BAAmB,MAAM;AACxB,qBAAO,KAAK,WAAW,MAAM,KAAK;AAAA;AAGnC,iCAAqB,kBAAkB;AACtC,qBAAO,iBAAiB,QAAQ,SAAS,KAAK;AAAA;AAG/C,2CAA+B,kBAAkB;AAChD,kBAAI,WAAW,iBAAiB,QAAQ;AAKxC,kBAAI,WAAW,SAAS,KAAK;AAC7B,qBAAQ,EAAC,YAAa,aAAa,QAAS,SAAS,WAAW,UAAU;AAAA;AAI3E,kCAAsB,SAAS,UAAU,QAAQ;AAChD,sBAAO,QAAQ;AAAA,qBACT;AAAA,qBACA;AACJ;AACA;AAAA,qBACI;AAAA,qBACA;AAAA,qBACA;AAAA,qBACA;AACJ,0BAAQ,OAAO,SAAS,KAAK;AAC5B,wBAAG;AAAK,+BAAS;AAAA;AACZ;AAAA;AAEN;AAAA;AAEA,2BAAS,UAAU,WAAW,gBAAgB,kBAAkB,QAAQ;AAAA;AAAA;AAI3E,sCAA0B,SAAS,SAAS;AAC3C,8BAAgB,KAAK,MAAM;AAC3B,mBAAK,eAAe;AACpB,mBAAK,UAAU,IAAI,YAAY;AAC/B,mBAAK,aAAa,IAAI,YAAY;AAClC,mBAAK,gBAAgB,IAAI;AACzB,mBAAK,kBAAkB;AAAA;AAExB,kBAAM,SAAS,kBAAkB;AAEjC,6BAAiB,UAAU,QAAQ,SAAS,MAAM,UAAU;AAC3D,kBAAG,sBAAsB,OAAO;AAC/B,sBAAM,IAAI,UAAU,0DAA0D,OAAO;AAAA;AAEtF,qBAAO,KAAK,qBAAqB,QAAW,MAAM,SAAS;AAAA;AAG5D,6BAAiB,UAAU,SAAS,SAAS,MAAM,UAAU;AAC5D,kBAAG,sBAAsB,OAAO;AAC/B,sBAAM,IAAI,UAAU,sDAAsD,OAAO;AAAA;AAElF,qBAAO,KAAK,qBAAqB,QAAW,MAAM,UAAU;AAAA;AAG7D,6BAAiB,UAAU,cAAc,SAAS,UAAU,MAAM,UAAU;AAC3E,qBAAO,KAAK,qBAAqB,UAAU,MAAM,SAAS;AAAA;AAG3D,6BAAiB,UAAU,eAAe,SAAS,UAAU,MAAM,UAAU;AAC5E,qBAAO,KAAK,qBAAqB,UAAU,MAAM,UAAU;AAAA;AAG5D,6BAAiB,UAAU,uBAAuB,SAAS,UAAU,MAAM,QAAQ,UAAU;AAC5F,kBAAI,CAAC,UAAU;AACd,oBAAI,OAAO,SAAQ,YAAY;AAC9B,6BAAW;AACX,yBAAO;AAAA,uBACD;AACN,sBAAG,KAAK,QAAQ,SAAS,QAAQ,UAAU;AAC1C,2BAAO,MAAM,UAAU,MAAM,wBAAwB,CAAC,UAAU,MAAM;AAAA;AAEvE,6BAAW;AAAA;AAAA;AAIb,kBAAI,UAAU,KAAK;AACnB,kBAAG,CAAC,QAAQ,kBAAkB,eAAe;AAC5C,yBAAS,QAAQ,kBAAkB;AACnC;AAAA;AAGD,0BAAY,UAAU,YAAY,WAAW,sBAAsB,SAAS,YAC1E,eAAe,QAAQ,OAAO,gBAAiB,aAAY,gBAAgB,YAAY;AAEzF,kBAAI,WAAW,gBAAgB,WAAW;AAAA,gBACzC;AAAA,gBACA;AAAA;AAED,kBAAI,UAAU;AACb,yBAAS,WAAW;AAAA;AAGrB,kBAAI,QAAO;AACX,8BAAgB,OAAO,UAAU,QAAQ,gBAAgB,SAAS,KAAK;AACtE,oBAAI,KAAK;AACR,2BAAS;AACT;AAAA;AAED,wBAAO,QAAQ;AAAA,uBACT;AACJ,4BAAQ,aAAa,UAAU;AAC/B;AAAA,uBACI;AAAA,uBACA;AACJ,4BAAQ;AAAA,uBACJ;AACJ,0BAAK,gBAAgB,KAAK;AAAA,sBACzB;AAAA,sBACA;AAAA;AAED;AAAA;AAEA,0BAAM,IAAI,UAAU,eAAe,SAAS,gCAAgC,QAAQ,QAAQ,UAAU;AACtG,wBAAI,OAAO;AACX,6BAAS;AAAA;AAAA;AAAA;AAKb,6BAAiB,UAAU,QAAQ,SAAS,MAAM,UAAU;AAC3D,kBAAG,sBAAsB,OAAO;AAC/B,sBAAM,IAAI,UAAU,0EAA0E,OAAO;AAAA;AAEtG,qBAAO,KAAK,YAAY,QAAW,MAAM;AAAA;AAG1C,6BAAiB,UAAU,cAAc,SAAS,UAAU,MAAM,UAAU;AAC3E,kBAAI,CAAC,UAAU;AACd,oBAAI,OAAO,SAAQ,YAAY;AAC9B,6BAAW;AACX,yBAAO;AAAA,uBACD;AACN,sBAAG,KAAK,QAAQ,SAAS,QAAQ,UAAU;AAC1C,2BAAO,MAAM,UAAU,MAAM,eAAe,CAAC,UAAU;AAAA;AAExD,6BAAW;AAAA;AAAA;AAIb,kBAAI,UAAU,KAAK;AACnB,kBAAG,CAAC,QAAQ,kBAAkB,eAAe;AAC5C,yBAAS,QAAQ,kBAAkB;AACnC;AAAA;AAGD,0BAAY,UAAU,YAAY,WAAW,kCAAkC,wBAAwB,KAAK,QAAQ,OAAO,gBAAgB;AAC3I,kBAAI,WAAW,gBAAgB,WAAW;AAAA,gBACzC,QAAS;AAAA,gBACT;AAAA;AAED,kBAAI,UAAU;AAAE,yBAAS,WAAW;AAAA;AAEpC,sBAAO,QAAQ;AAAA,qBACT;AACJ,0BAAQ,aAAa,UAAU;AAC/B;AAAA,qBACI;AACJ,uBAAK,gBAAgB,KAAK;AAAA,oBACzB;AAAA,oBACA;AAAA;AAED;AAAA,qBACI;AAAA,qBACA;AAGJ,sBAAI,MAAM,IAAI,UAAU,yDAAyD;AACjF,2BAAS;AACT;AAAA;AAIA,2BAAS,gBAAgB;AAAA;AAAA;AAI5B,6BAAiB,UAAU,MAAM,WAAiC;AACjE,kBAAI,OAAO,MAAM,UAAU,MAAM,KAAK;AACtC,kBAAG,KAAK,UAAU,KAAK,OAAO,KAAK,MAAO;AACzC,qBAAK,QAAQ;AAEd,kBAAI,SAAS,KAAK,IACjB,WAAW,KAAK,IAChB,cAAc,CAAC,UAAW,kBAAiB,SAAS,OAAO,cAAc;AAE1E,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,QAAQ,SAAS,QAAQ,UAAU;AAC1C,yBAAO,MAAM,UAAU,MAAM,OAAO;AAAA;AAErC,2BAAW;AAAA;AAGZ,qCAAuB,SAAS;AAC/B,yBAAS,MAAM,SAAS,QAAQ,KAAK,UAAU,QAAQ;AAAA;AAIxD,kBAAG,KAAK,QAAQ,UAAU,aAAa;AACtC,oBAAG,aAAa;AACf,2BAAS,UAAU,WAAW;AAAA,oBAC7B,YAAY;AAAA,oBACZ,MAAM;AAAA,oBACN,SAAS;AAAA;AAAA,uBAEJ;AACN,gCAAc,KAAK;AAAA;AAEpB;AAAA;AAGD,kBAAI,QAAO;AACX,2BAAa,KAAK,SAAS,UAAU,WAAW;AAC/C,oBAAI,UAAU,MAAK;AACnB,oBAAG,aAAa;AACf,0BAAQ,SAAS,WAAW;AAC3B,kCAAc;AAAA;AAAA,uBAET;AACN,gCAAc;AAAA;AAAA;AAAA;AAKjB,6BAAiB,UAAU,UAAU,SAAS,QAAQ,UAAU;AAC/D,0BAAY,UAAU,YAAY,WAAW,8BAA8B,eAAe,KAAK;AAE/F,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,QAAQ,SAAS,QAAQ,UAAU;AAC1C,2BAAO,MAAM,UAAU,MAAM,WAAW;AAAA;AAEzC,6BAAW;AAAA;AAAA;AAIb,kBAAG,UAAU,OAAO,aAAa;AAChC,oBAAG,KAAK,QAAQ,UAAU,YAAY;AACrC,yBAAO,OAAO;AACd,yBAAO,cAAc,KAAK,QAAQ,WAAW;AAAA,uBACvC;AACN,2BAAS,IAAI,UAAU,kEAAkE,KAAK,QAAQ,OAAO,KAAO;AAAA;AAAA;AAItH,8BAAgB,UAAU,SAAS,KAAK,MAAM,QAAQ;AAAA;AAGvD,6BAAiB,UAAU,cAAc,SAAS,aAAa,QAAQ,mBAAmB;AACzF,0BAAY,UAAU,YAAY,WAAW,kCAAkC,2BAA2B,YAAY,SAAS,wCAAwC;AACvK,kBAAI,YAAY,OAAO,UAAU,KAAK,SAAS,YAAY,KAAK,YAC/D,oBAAoB,IAAI,SAAS,KAAK,QAAQ,kBAAkB;AAEjE,kBAAG,QAAQ;AACV,qBAAK,QAAQ;AACb,oBAAG,qBAAsB,SAAQ,kBAAkB,MAAM,oBAAoB;AAC5E,+BAAa,MAAM;AAAA;AAAA;AAIrB,uBAAQ,IAAI,GAAG,IAAI,YAAY,QAAQ,KAAK;AAC3C,oBAAI,WAAW,gBAAgB,WAAW,YAAY;AACtD,wBAAO,SAAS;AAAA,uBACV;AACJ,wBAAG,QAAQ,OAAO,WAAW;AAC5B,wCAAkB,KAAK;AAAA;AAExB,wBAAG,SAAS,iBAAiB,UAAU,CAAC,SAAS,iBAAiB;AACjE,gCAAU,OAAO;AAAA;AAElB;AAAA,uBACI;AAAA,uBACA;AAAA,uBACA;AACJ,wBAAG,QAAQ,IAAI,WAAW;AACzB,wCAAkB,KAAK;AAAA;AAExB,wBAAG,SAAS,iBAAiB,QAAQ;AACpC,gCAAU,IAAI;AAAA;AAEf;AAAA;AAAA;AAIH,kBAAG,UAAU,CAAC,YAAY;AACzB,wBAAQ;AAER,qBAAK;AACL,qBAAK,QAAQ,cAAc,gBAAgB,YAAY,MAAM;AAC7D,qBAAK,QAAQ,oBAAoB;AAAA;AAIlC,uBAAQ,IAAI,GAAG,IAAI,kBAAkB,QAAQ,KAAK;AACjD,oBAAI,WAAW,kBAAkB;AACjC,qBAAK,cAAc,KAAK,SAAS,QAAQ;AAAA;AAAA;AAI3C,6BAAiB,UAAU,aAAa,SAAS,aAAa;AAC7D,0BAAY,UAAU,YAAY,WAAW,iCAAiC,eAAe,KAAK,QAAQ,OAAO,qBAAqB;AAEtI,kBAAG,aAAa;AACf,qBAAK,QAAQ;AAAA,qBACP;AACN,qBAAK,kBAAkB,KAAK,QAAQ;AACpC,qBAAK,QAAQ;AACb,qBAAK;AAAA;AAIN,kBAAI,kBAAkB,KAAK,iBAC1B,mBAAmB,gBAAgB;AAEpC,kBAAG,kBAAkB;AACpB,qBAAK,kBAAkB;AACvB,oBAAI,gBAAgB;AACpB,oBAAI,cAAc;AAClB,4BAAY,UAAU,YAAY,WAAW,+BAA+B,aAAa,mBAAmB;AAC5G,yBAAQ,IAAI,GAAG,IAAI,kBAAkB,KAAK;AACzC,sBAAI,QAAQ,gBAAgB;AAC5B,gCAAc,KAAK,MAAM;AACzB,8BAAY,KAAK,MAAM;AAAA;AAExB,qBAAK,QAAQ,aAAa,eAAe;AAAA;AAAA;AAI3C,6BAAiB,UAAU,oBAAoB,SAAS,OAAO,aAAa,KAAK;AAChF,sBAAO;AAAA,qBACD;AACJ,uBAAK,WAAW;AAChB;AAAA,qBACI;AAAA,qBACA;AACJ,uBAAK;AACL,uBAAK,QAAQ;AAAA,qBAET;AACJ,uBAAK,oBAAoB;AACzB;AAAA;AAAA;AAIH,6BAAiB,UAAU,sBAAsB,SAAS,KAAK;AAC9D,kBAAG,KAAK,gBAAgB,QAAQ;AAC/B,4BAAY,UAAU,YAAY,WAAW,uCAAuC,qBAAqB,KAAK,QAAQ,OAAO,aAAa,MAAM,aAAa;AAC7J,yBAAQ,IAAI,GAAG,IAAI,KAAK,gBAAgB,QAAQ;AAC/C,sBAAI;AACH,yBAAK,gBAAgB,GAAG,SAAS;AAAA,2BAC1B,GAAN;AAAA;AACH,qBAAK,kBAAkB;AAAA;AAAA;AAIzB,6BAAiB,UAAU,kBAAkB,WAAW;AACvD,mBAAK,WAAW;AAAA;AAGjB,6BAAiB,UAAU,0BAA0B,WAAW;AAC/D,kBAAI,QAAO,MAAM,UAAU,KAAK,SAAS,YAAY,KAAK,YACzD,YAAY,SAAS,KAAK;AACzB,oBAAG,KAAK;AACP,sBAAI,MAAM,oCAAoC,IAAI;AAClD,sBAAI,aAAa,IAAI,UAAU,KAAK,OAAO;AAC3C,8BAAY,UAAU,YAAY,WAAW,8CAA8C;AAC3F,sBAAI,SAAS,IAAI,mBAAmB,MAAK,QAAQ,OAAO,MAAK,QAAQ,OAAO,MAAM;AAClF,wBAAK,QAAQ,KAAK,UAAU;AAAA;AAAA;AAI/B,uBAAQ,cAAa,UAAU,KAAK;AACnC,oBAAG,CAAE,eAAa,QAAQ,MAAM;AAC/B,sBAAI,QAAQ,UAAU,IAAI;AAC1B,8BAAY,UAAU,YAAY,WAAW,8CAA8C,+BAA+B,MAAM,WAAW;AAC3I,uBAAK,qBAAqB,MAAM,UAAU,MAAM,MAAM,SAAS;AAC/D,yBAAO,UAAU,IAAI;AAAA;AAAA;AAAA;AAKxB,6BAAiB,UAAU,oBAAoB,SAAS,OAAO;AAC9D,kBAAI,gBAAgB,KAAK;AACzB,oBAAM,WAAW,OAAO,SAAS,MAAM;AACtC,oBAAI,WAAW,gBAAgB,WAAW;AAAA,kBACzC,QAAQ;AAAA,kBACR,cAAc,KAAK;AAAA,kBACnB,UAAU,KAAK;AAAA,kBACf,MAAM,KAAK;AAAA,kBACX,UAAU,KAAK;AAAA,kBACf,WAAW,MAAM;AAAA;AAElB,8BAAc,KAAK,SAAS;AAAA;AAAA;AAK9B,6BAAiB,UAAU,KAAK,WAAW;AAC1C,0BAAY,WAAW,eAAe;AACtC,mBAAK,UAAU,MAAM,MAAM;AAAA;AAI5B,6BAAiB,UAAU,MAAM,WAAW;AAC3C,0BAAY,WAAW,gBAAgB;AACvC,mBAAK,YAAY,MAAM,MAAM;AAAA;AAG9B,6BAAiB,UAAU,YAAY,WAA8C;AACpF,kBAAI,OAAO,gBAAgB,oBAAoB;AAC/C,kBAAI,QAAQ,KAAK;AACjB,kBAAI,WAAW,KAAK;AACpB,kBAAI,WAAW,KAAK;AACpB,kBAAI,UAAU,KAAK;AACnB,kBAAI,QAAO;AAEX,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,QAAQ,SAAS,QAAQ,UAAU;AAC1C,yBAAO,MAAM,UAAU,MAAM,aAAa,CAAC,OAAO;AAAA;AAEnD,2BAAW;AAAA;AAGZ,kBAAG,QAAQ,UAAU,UAAU;AAC9B,yBAAS,UAAU,WAAW,gBAAgB,kBAAkB;AAChE;AAAA;AAGD,mBAAK,cAAc,GAAG,OAAO;AAC7B,sBAAQ,OAAO;AAAA;AAGhB,6BAAiB,UAAU,cAAc,WAAkC;AAC1E,kBAAI,OAAO,gBAAgB,oBAAoB;AAC/C,kBAAI,QAAQ,KAAK;AACjB,kBAAI,WAAW,KAAK;AACpB,mBAAK,cAAc,IAAI,OAAO;AAAA;AAG/B,iCAAqB,UAAU;AAC9B,2BAAa,KAAK;AAClB,mBAAK,WAAW;AAChB,mBAAK,MAAM,OAAO,OAAO;AACzB,mBAAK,iBAAiB;AACtB,mBAAK,kBAAkB;AAAA;AAExB,kBAAM,SAAS,aAAa;AAE5B,wBAAY,UAAU,MAAM,SAAS,KAAK;AACzC,qBAAO,KAAK,IAAI;AAAA;AAGjB,wBAAY,UAAU,YAAY,SAAS,UAAU;AACpD,kBAAI,MAAM,KAAK,KAAK,SAAS;AAC7B,uBAAQ,OAAO,KAAK;AACnB,oBAAI,OAAO,IAAI;AACf,oBAAG,KAAK,YAAY,YAAY,KAAK,UAAU;AAC9C,yBAAO,KAAK;AAAA;AAEd,qBAAO;AAAA;AAGR,wBAAY,UAAU,OAAO,SAAS,QAAQ;AAC7C,kBAAI,MAAM,KAAK,KACd,WAAW,UAAU,OAAO,UAC5B,eAAe,UAAU,OAAO,cAChC,SAAS;AAEV,uBAAQ,OAAO,KAAK;AACnB,oBAAI,OAAO,IAAI;AACf,oBAAG,KAAK,WAAW;AAAU;AAC7B,oBAAG,YAAY,YAAY,KAAK;AAAU;AAC1C,oBAAG,gBAAgB,gBAAgB,KAAK;AAAc;AACtD,uBAAO,KAAK;AAAA;AAEb,qBAAO;AAAA;AAGR,+BAAmB,MAAM,UAAU;AAElC,kBAAG,KAAK,mBAAmB,SAAS,iBAAiB;AACpD,uBAAO,KAAK,YAAY,SAAS;AAAA;AAIlC,kBAAI,gBAAgB,KAAK,WACxB,oBAAoB,SAAS;AAC9B,kBAAG,cAAc,cAAc,kBAAkB,WAAW;AAC3D,uBAAO,cAAc,QAAQ,kBAAkB;AAAA,qBACzC;AACN,uBAAO,cAAc,YAAY,kBAAkB;AAAA;AAAA;AAIrD,wBAAY,UAAU,MAAM,SAAS,MAAM;AAC1C,kBAAG,KAAK,WAAW,WAAW,KAAK,WAAW,UAAU;AACvD,uBAAO,gBAAgB,WAAW;AAClC,qBAAK,SAAS;AAAA;AAEf,kBAAI,MAAM,KAAK,KAAK,MAAM,UAAU;AAEpC,kBAAG,KAAK;AACP,uBAAO,KAAK,gBAAgB;AAG7B,kBAAI,eAAe,IAAI;AACvB,kBAAG,gBAAgB,CAAC,UAAU,MAAM,eAAe;AAClD,uBAAO;AAAA;AAER,kBAAI,OAAO;AACX,qBAAO;AAAA;AAIR,wBAAY,UAAU,SAAS,WAAW;AACzC,kBAAI,MAAM,KAAK,KAAK,SAAS;AAC7B,uBAAQ,OAAO,KAAK;AACnB,oBAAI,OAAO,IAAI;AACf,oBAAG,KAAK,UAAU;AACjB,yBAAO,KAAK;AAAA;AAEd,qBAAO;AAAA;AAGR,wBAAY,UAAU,SAAS,SAAS,MAAM;AAC7C,kBAAI,MAAM,KAAK,KAAK,MAAM,UAAU;AACpC,kBAAI,eAAe,IAAI;AAEvB,kBAAG,gBAAgB,CAAC,UAAU,MAAM,eAAe;AAClD,uBAAO;AAAA;AAIR,kBAAG,KAAK,gBAAgB;AACvB,uBAAO,gBAAgB,WAAW;AAClC,qBAAK,SAAS;AACd,oBAAI,OAAO;AAAA,qBACL;AACN,uBAAO,IAAI;AAAA;AAGZ,qBAAO;AAAA;AAGR,wBAAY,UAAU,YAAY,WAAW;AAC5C,kBAAI,MAAM,KAAK,KAAK,iBAAiB,KAAK;AAC1C,0BAAY,UAAU,YAAY,WAAW,2BAA2B,eAAe,KAAK,SAAS,QAAQ,OAAO,wBAAwB;AAE5I,kBAAG,CAAC,KAAK,gBAAgB;AACxB,qBAAK,kBAAkB,MAAM,KAAK;AAClC,qBAAK,cAAc;AAAA;AAAA;AAIrB,wBAAY,UAAU,UAAU,WAAW;AAC1C,kBAAI,MAAM,KAAK,KAAK,iBAAiB,KAAK;AAC1C,0BAAY,UAAU,YAAY,WAAW,yBAAyB,eAAe,KAAK,SAAS,QAAQ,OAAO,wBAAwB;AAC1I,kBAAG,gBAAgB;AAGlB,yBAAQ,cAAa,KAAK;AACzB,sBAAI,QAAQ,IAAI;AAChB,sBAAG,MAAM,WAAW,UAAU;AAC7B,2BAAO,IAAI;AAAA;AAAA;AAKb,qBAAK,SAAS,kBAAkB,MAAM,YAAY,KAAK;AACvD,yBAAQ,cAAa,KAAK,iBAAiB;AAC1C,yBAAO,IAAI;AAAA;AAEZ,qBAAK,kBAAkB;AAGvB,qBAAK,cAAc;AAAA;AAEpB,mBAAK,KAAK;AAAA;AAGX,wBAAY,UAAU,WAAW,SAAS,UAAU;AACnD,kBAAI,iBAAiB,KAAK;AAC1B,0BAAY,UAAU,YAAY,WAAW,0BAA0B,eAAe,KAAK,SAAS,QAAQ,OAAO,wBAAwB;AAC3I,kBAAG,CAAC,gBAAgB;AACnB;AACA;AAAA;AAED,mBAAK,KAAK,QAAQ;AAAA;AAGnB,wBAAY,UAAU,QAAQ,SAAS,UAAU;AAChD,mBAAK,MAAM;AACX,mBAAK,cAAc;AACnB,mBAAK,kBAAkB;AAAA;AAGxB,wBAAY,UAAU,gBAAgB,SAAS,YAAY;AAC1D,0BAAY,UAAU,YAAY,WAAW,+BAA+B,kBAAkB;AAC9F,mBAAK,iBAAiB;AACtB,mBAAK,SAAS,eAAe,CAAC;AAAA;AAG/B,mBAAO;AAAA;AAGqB,cAAI,mBAAoB;AAerD,cAAI,kCAAmC,WAAW;AACjD,gBAAI,UAAU,gBAAgB;AAC9B,gBAAI,OAAO,WAAW;AAAA;AACtB,gBAAI,gBAAgB;AACpB,gBAAI,SAAS;AAGb,qCAAyB,UAAU,MAAM,SAAS;AACjD,0BAAY,UAAU,YAAY,WAAW,qBAAqB,qBAAqB;AACvF,6BAAe,KAAK,MAAM,UAAU,MAAM;AAC1C,mBAAK,WAAW;AAChB,mBAAK,WAAW,IAAI,iBAAiB,MAAM,SAAS;AACpD,mBAAK,oBAAoB,SAAS,WAAW;AAC7C,mBAAK,QAAQ;AACb,mBAAK,gBAAgB,IAAI;AACzB,mBAAK,oBAAoB;AACzB,mBAAK,aAAa;AAAA,gBACjB,cAAc;AAAA;AAEf,mBAAK,WAAW;AAChB,mBAAK,cAAc;AACnB,mBAAK,kBAAkB;AACvB,mBAAK,QAAQ;AAEb,mBAAK,wBAAwB;AAC7B,mBAAK,gBAAgB;AACrB,mBAAK,mBAAmB;AAAA,gBACvB,gBAAgB,KAAK;AAAA,gBACrB,SAAS,SAAS,QAAQ,WAAW;AAAA,gBACrC,4BAA4B;AAAA;AAE7B,mBAAK,eAAe;AAAA,gBACnB,WAAW;AAAA,gBACX,8BAA8B;AAAA,gBAC9B,iCAAiC;AAAA;AAIlC,mBAAK,qBAAqB,IAAI;AAAA;AAE/B,kBAAM,SAAS,iBAAiB;AAEhC,4BAAgB,oBAAoB,SAAS,OAAO;AACnD,qBAAO;AAAA,gBACN,YAAY;AAAA,gBACZ,MAAM;AAAA,gBACN,SAAS,kDAAkD;AAAA;AAAA;AAI7D,4BAAgB,cAAc;AAAA,cAC7B,aAAa;AAAA,cACb,MAAM;AAAA;AAGP,4BAAgB,sBAAsB,SAAS,MAAM;AAEpD,qBAAO,MAAM,UAAU,MAAM,KAAK;AAClC,kBAAG,OAAO,KAAK,OAAO,YAAY;AACjC,qBAAK,QAAQ;AAAA;AAEd,kBAAG,KAAK,KAAK,SAAS,MAAM,QAAW;AACtC,qBAAK;AAAA;AAEN,qBAAO;AAAA;AAGR,4BAAgB,UAAU,aAAa,SAAS,SAAS,UAAU;AAClE,kBAAG,CAAC,UAAU;AACb,oBAAI,KAAK,KAAK,QAAQ,UAAU;AAC/B,yBAAO,MAAM,UAAU,MAAM,cAAc;AAAA;AAG5C,2BAAW,SAAS,MAAI;AACvB,sBAAG,MAAK;AACP,gCAAY,UAAU,YAAY,WAAW,gCAAgC,yBAAyB,KAAI;AAAA;AAAA;AAAA;AAI7G,kBAAI,MAAM,uBAAuB;AACjC,kBAAG,KAAK;AACP,yBAAS;AACT;AAAA;AAED,6BAAe,UAAU,WAAW,KAAK,MAAM;AAC/C,kBAAI,KAAK;AACR,qBAAK,iBAAiB,iBAAiB,KAAK;AAC7C,kBAAG,KAAK,4BAA4B,UAAU;AAO7C,qBAAK;AACL,qBAAK,mBAAmB,KAAK,SAAS,aAAa;AAClD,0BAAO,KAAK;AAAA,yBACN;AAAA,yBACA;AACJ,+BAAS;AACT;AAAA;AAEA,+BAAS,YAAY;AACrB;AAAA;AAAA;AAAA,qBAGG;AACN;AAAA;AAAA;AAIF,4CAAgC,SAAS;AACxC,kBAAG,WAAW,YAAY,WAAW,CAAC,MAAM,SAAS,QAAQ,SAAS;AACrE,uBAAO,IAAI,UAAU,oCAAoC,KAAO;AAAA;AAEjE,kBAAG,WAAW,WAAW,SAAQ;AAChC,oBAAG,CAAC,MAAM,QAAQ,QAAQ,QAAO;AAChC,yBAAO,IAAI,UAAU,kCAAkC,KAAO;AAAA;AAE/D,yBAAQ,IAAI,GAAG,IAAI,QAAQ,MAAM,QAAQ,KAAI;AAC5C,sBAAI,cAAc,QAAQ,MAAM;AAChC,sBAAG,CAAC,eAAe,OAAO,gBAAgB,YAAY,CAAC,MAAM,MAAM,gBAAgB,cAAc,OAAO,UAAU,YAAY,KAAK,eAAc;AAChJ,2BAAO,IAAI,UAAU,2BAA2B,aAAa,KAAO;AAAA;AAAA;AAAA;AAAA;AAMxE,4BAAgB,UAAU,8BAA8B,SAAS,SAAS;AACzE,qBAAQ,MAAK,UAAU,cAAc,KAAK,UAAU,gBAAiB,SAAQ,UAAU,QAAQ;AAAA;AAGhG,4BAAgB,UAAU,UAAU,WAAW;AAC9C,kBAAI,WAAW,UAAU,QACxB,WAAW,UAAU,IACrB,WAAW,UAAU,WAAW;AAEjC,kBAAG,OAAO,aAAc,YAAY;AACnC,oBAAG,KAAK,SAAS,QAAQ,UAAU;AAClC,yBAAO,MAAM,UAAU,MAAM,WAAW;AAAA;AAEzC,2BAAW;AACX,kBAAE;AAAA;AAEH,kBAAG,CAAC,KAAK,kBAAkB,eAAe;AACzC,yBAAS,KAAK,kBAAkB;AAChC;AAAA;AAED,kBAAG,YAAY,GAAG;AACjB,oBAAG,MAAM,SAAS;AACjB,6BAAW,CAAC,cAAc,WAAW;AAAA,yBAC9B,MAAM,QAAQ;AACrB,6BAAW,cAAc,gBAAgB;AAAA;AAEzC,wBAAM,IAAI,UAAU,iGAAiG,OAAO;AAAA,qBACvH;AACN,2BAAW,CAAC,cAAc,WAAW,EAAC,MAAM,UAAU,IAAI,MAAM,UAAU;AAAA;AAE3E,kBAAI,QAAO,MACV,iBAAiB,KAAK,SAAS,QAAQ;AACxC,4BAAc,YAAY,UAAU,KAAK,gBAAgB,SAAS,KAAK;AACtE,oBAAI,KAAK;AACR,2BAAS;AACT;AAAA;AAGD,oBAAI,OAAO,cAAc,gBAAgB;AACzC,oBAAG,OAAO,gBAAgB;AACzB,2BAAS,IAAI,UAAU,2EAA2E,OAAO,sBAAsB,iBAAiB,WAAW,OAAO;AAClK;AAAA;AAED,sBAAK,SAAS,UAAU;AAAA;AAAA;AAI1B,4BAAgB,UAAU,WAAW,SAAS,UAAU,UAAU;AACjE,0BAAY,UAAU,YAAY,WAAW,6BAA6B,qBAAqB,SAAS;AACxG,kBAAI,QAAQ,KAAK;AACjB,sBAAO;AAAA,qBACD;AAAA,qBACA;AACJ,2BAAS,UAAU,WAAW,gBAAgB,kBAAkB;AAChE;AAAA;AAEA,8BAAY,UAAU,YAAY,WAAW,6BAA6B,uCAAuC;AACjH,sBAAI,MAAM,IAAI;AACd,sBAAI,SAAS,QAAQ;AACrB,sBAAI,UAAU,KAAK;AACnB,sBAAI,WAAW;AACf,uBAAK,YAAY,KAAK;AACtB;AAAA;AAAA;AAIH,4BAAgB,UAAU,UAAU,SAAS,UAAU;AACtD,0BAAY,UAAU,YAAY,WAAW,6BAA6B;AAC1E,kBAAI,gBAAgB,KAAK;AACzB,uBAAQ,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACxC,oBAAI,UAAU,SAAS;AACvB,8BAAc,KAAK,QAAQ,MAAM;AAAA;AAAA;AAInC,4BAAgB,UAAU,SAAS,SAAS,OAAO,UAAU;AAC5D,kBAAG,OAAO,UAAW,YAAY;AAChC,2BAAW;AACX,wBAAQ;AAAA;AAET,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,SAAS,QAAQ,UAAU;AAClC,yBAAO,MAAM,UAAU,MAAM,UAAU;AAAA;AAExC,2BAAW,SAAS,KAAK;AACxB,sBAAG,KAAK;AACP,gCAAY,UAAU,YAAY,WAAW,4BAA4B,4BAA4B,IAAI;AAAA;AAAA;AAAA;AAI5G,kBAAG,OAAO;AACT,4BAAY,WAAW,+BAA+B;AAGtD,qBAAK,kBAAkB;AAAA,yBACb,KAAK,UAAU,YAAY;AACrC;AACA;AAAA;AAGD,mBAAK,QAAQ,OAAO,MAAM;AAAA;AAG3B,4BAAgB,UAAU,UAAU,SAAS,eAAe,cAAc,UAAU;AACnF,kBAAG,CAAC,UAAU;AACb,2BAAW,SAAS,KAAK;AACxB,sBAAI,KAAK;AACR,gCAAY,UAAU,YAAY,WAAW,6BAA6B,4BAA4B,IAAI;AAAA;AAAA;AAAA;AAK7G,kBAAI,oBAAoB,KAAK;AAC7B,kBAAG,CAAC,kBAAkB,eAAe;AACpC,yBAAS,kBAAkB;AAC3B;AAAA;AAGD,kBAAI,KAAK,UAAU,eAAe,eAAe;AAChD,qBAAK,aAAa,aAAa;AAAA;AAGhC,mBAAK,KAAK,SAAS,aAAa;AAC/B,wBAAO,KAAK;AAAA,uBACN;AACJ;AACA;AAAA,uBACI;AAAA,uBACA;AAAA,uBACA;AACJ,6BAAS,YAAY,UAAU,kBAAkB,cAAc,IAAI,UAAU,+CAA+C,KAAK,OAAO,KAAO;AAC/I;AAAA,uBACI;AACJ,6BAAS,IAAI,UAAU,4DAA4D,KAAO;AAC1F;AAAA;AAAA;AAAA;AAKJ,4BAAgB,UAAU,aAAa,WAAW;AACjD,0BAAY,UAAU,YAAY,WAAW,gCAAgC;AAC7E,mBAAK,cAAc,eAAe;AAClC,kBAAI,YAAY,gBAAgB,WAAW,EAAC,QAAQ,QAAQ,QAAQ,SAAS,KAAK,MAAM,QAAQ,KAAK,eAAe;AACpH,kBAAG,KAAK,iBAAiB;AACxB,0BAAU,mBAAmB,KAAK;AAAA,yBACzB,KAAK,eAAe,OAAO;AACpC,0BAAU,mBAAmB,MAAM,eAAe,KAAK,eAAe;AAAA;AAEvE,kBAAG,KAAK,eAAe;AACtB,0BAAU,QAAQ;AAAA;AAEnB,kBAAG,KAAK,aAAa,iCAAiC;AACrD,0BAAU,gBAAgB,KAAK,aAAa;AAAA;AAE7C,mBAAK,YAAY,WAAW;AAAA;AAG7B,4BAAgB,UAAU,SAAS,SAAS,UAAU;AACrD,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,SAAS,QAAQ,UAAU;AAClC,yBAAO,MAAM,UAAU,MAAM,UAAU;AAAA;AAExC,2BAAW;AAAA;AAEZ,kBAAI,oBAAoB,KAAK;AAC7B,kBAAG,CAAC,kBAAkB,eAAe;AACpC,yBAAS,kBAAkB;AAC3B;AAAA;AAED,sBAAO,KAAK;AAAA,qBACe;AACG,uBAAK,YAAY;AACjB;AACA;AAAA,qBACxB;AACJ;AACA;AAAA,qBACI;AACJ,2BAAS,IAAI,UAAU,4CAA4C,OAAO;AAC1E;AAAA;AAEA,uBAAK,aAAa;AAAA,qBACd;AACJ,uBAAK,KAAK,SAAS,aAAa;AAC/B,4BAAO,KAAK;AAAA,2BACN;AACJ;AACA;AAAA,2BACI;AAAA,2BACA;AAAA,2BACA;AACJ,iCAAS,YAAY,UAAU,kBAAkB,cAAc,IAAI,UAAU,+CAA+C,KAAK,OAAO,KAAO;AAC/I;AAAA,2BACI;AACJ,iCAAS,IAAI,UAAU,4DAA4D,KAAO;AAC1F;AAAA;AAAA;AAAA;AAAA;AAMN,4BAAgB,UAAU,aAAa,SAAS,UAAU;AACzD,0BAAY,UAAU,YAAY,WAAW,4BAA4B;AACzE,mBAAK,cAAc,eAAe;AAClC,kBAAI,MAAM,gBAAgB,WAAW,EAAC,QAAQ,QAAQ,QAAQ,SAAS,KAAK;AAC5E,mBAAK,YAAY,KAAM,YAAY;AAAA;AAGpC,4BAAgB,UAAU,YAAY,WAA8C;AACnF,kBAAI,OAAO,gBAAgB,oBAAoB;AAC/C,kBAAI,QAAQ,KAAK;AACjB,kBAAI,WAAW,KAAK;AACpB,kBAAI,WAAW,KAAK;AAEpB,kBAAG,CAAC,UAAU;AACb,oBAAG,KAAK,SAAS,QAAQ,UAAU;AAClC,yBAAO,MAAM,UAAU,MAAM,aAAa,CAAC,OAAO;AAAA;AAEnD,2BAAW;AAAA;AAGZ,kBAAG,KAAK,UAAU,UAAU;AAC3B,yBAAS,UAAU,WAAW,gBAAgB,kBAAkB;AAChE;AAAA;AAGD,mBAAK,cAAc,GAAG,OAAO;AAE7B,qBAAO,KAAK,OAAO;AAAA;AAGpB,4BAAgB,UAAU,cAAc,WAAkC;AACzE,kBAAI,OAAO,gBAAgB,oBAAoB;AAC/C,kBAAI,QAAQ,KAAK;AACjB,kBAAI,WAAW,KAAK;AACpB,mBAAK,cAAc,IAAI,OAAO;AAAA;AAG/B,4BAAgB,UAAU,OAAO,WAAW;AAE3C,sBAAO,KAAK;AAAA,qBACN;AAAA,qBACA;AAAA,qBACA;AACJ,wBAAM,IAAI,UAAU,2CAA2C;AAAA;AAAA;AAGjE,kBAAI,oBAAoB,KAAK;AAC7B,kBAAG,CAAC,kBAAkB,eAAe;AACpC,sBAAM,kBAAkB;AAAA;AAIzB,kBAAI,cAAc,gBAAgB,WAAW,EAAC,QAAQ,QAAQ,MAAM,SAAS,KAAK;AAClF,kBAAG,KAAK,mBAAmB;AAC1B,4BAAY,gBAAgB,KAAK;AAAA;AAElC,gCAAkB,KAAK;AAAA;AAGxB,4BAAgB,UAAU,cAAc,SAAS,KAAK,UAAU;AAC/D,mBAAK,kBAAkB,KAAK,KAAK,KAAK,SAAS,QAAQ,eAAe;AAAA;AAGvE,4BAAgB,UAAU,eAAe,SAAS,UAAU,UAAU;AACrE,kBAAI,MAAM,gBAAgB,WAAW;AAAA,gBACpC,QAAQ,QAAQ;AAAA,gBAChB,SAAS,KAAK;AAAA,gBACd,UAAW,MAAM,QAAQ,YACxB,gBAAgB,gBAAgB,YAChC,CAAC,gBAAgB,WAAW;AAAA;AAE9B,mBAAK,YAAY,KAAK;AAAA;AAGvB,4BAAgB,UAAU,YAAY,SAAS,SAAS;AACvD,kBAAI,mBAAmB,SAAS;AAChC,sBAAO,QAAQ;AAAA,qBACV,QAAQ;AACZ,uBAAK,wBAAwB;AAC7B,uBAAK,WAAW,eAAe,QAAQ;AACvC,uBAAK,QAAQ,QAAQ;AACrB,uBAAK,SAAS,QAAQ,UAAU;AAChC,sBAAI,iBAAiB,QAAQ;AAC7B,uBAAK,QAAS,kBAAkB,MAAM,eAAe,mBAAoB;AACzE,sBAAI,UAAU,QAAQ,QAAQ;AAC9B,sBAAI,cAAc,QAAQ,QAAQ;AAClC,sBAAG,KAAK,UAAU,YAAY;AAG7B,yBAAK,cAAc,eAAe;AAClC,wBAAG,CAAC,SAAS;AAEZ,2BAAK,SAAS,WAAW;AAAA;AAE1B,wBAAI,SAAS,IAAI,mBAAmB,KAAK,OAAO,KAAK,OAAO,SAAS,QAAQ;AAC7E,yBAAK,mBAAmB,KAAK,UAAU;AACvC,wBAAG,CAAC,WAAW,KAAK,eAAe,kBAAkB;AACpD,2BAAK,KAAK,UAAU;AAAA;AAAA,6BAEZ,KAAK,UAAU,aAAa;AAErC,yBAAK;AAAA,yBACC;AACN,yBAAK,YAAY,YAAY,QAAQ,OAAO,SAAS;AAAA;AAEtD;AAAA,qBAEI,QAAQ;AACZ,sBAAI,MAAM,QAAQ,QAAQ,UAAU,WAAW,QAAQ,SAAS,IAAI,UAAU,oBAAoB,OAAO;AACzG,sBAAG,KAAK,UAAU,aAAa;AACF,wBAAI,KAAK,kBAAkB,iBAAiB,KAAK,kBAAkB,cAAc,YAAY,KAAK,MAAM;AACtG,2BAAK,kBAAkB,gBAAgB;AAAA;AAErE,yBAAK,YAAY,YAAY;AAAA,6BACpB,KAAK,UAAU,aAAa;AAIrC,yBAAK,YAAY,aAAa;AAAA,yBACxB;AACN,yBAAK,aAAa,aAAa;AAAA;AAEhC;AAAA,qBAEI,QAAQ;AAEZ,2BAAS;AACT,sCAAoB,KAAK,oBAAoB,QAAQ;AAGrD,sBAAG,CAAC,QAAQ;AAAU;AAAA,qBAClB,QAAQ;AACZ,sBAAI,WAAW,QAAQ,UACtB,KAAK,QAAQ,IACb,eAAe,QAAQ,cACvB,YAAY,QAAQ;AAErB,sBAAI,UAAU,KAAK;AACnB,2BAAQ,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACxC,wBAAI;AACH,0BAAI,cAAc,SAAS;AAC3B,sCAAgB,OAAO,aAAa;AAAA,6BAC5B,GAAP;AACD,kCAAY,UAAU,YAAY,WAAW,+BAA+B,EAAE;AAAA;AAE/E,wBAAG,CAAC,YAAY;AAAc,kCAAY,eAAe;AACzD,wBAAG,CAAC,YAAY;AAAW,kCAAY,YAAY;AACnD,wBAAG,CAAC,YAAY;AAAI,kCAAY,KAAK,KAAK,MAAM;AAAA;AAEjD,uBAAK,SAAS,YAAY,UAAU,QAAQ;AAC5C;AAAA,qBAEI,QAAQ;AAGZ,sBAAG,KAAK,UAAU,YAAY;AAC7B,gCAAY,UAAU,YAAY,WAAW,+BAA+B,cAAc,QAAQ,KAAK,gCAAgC,KAAK,OAAO,0CAA0C,KAAK,QAAQ;AAC1M;AAAA;AAGD,sBAAI,WAAW,QAAQ,UACtB,eAAe,SAAS,IACxB,cAAc,SAAS,SAAS,SAAS,IACzC,KAAK,QAAQ,IACb,eAAe,QAAQ,cACvB,YAAY,QAAQ;AAErB,sBAAG,aAAa,UAAU,aAAa,OAAO,SAAS,aAAa,OAAO,MAAM,SAAS,KAAK,aAAa,WAAW;AACtH,wBAAI,MAAM,gFAAgF,QAAQ,KAAK,wBAAwB,KAAK,OAAO;AAC3I,gCAAY,UAAU,YAAY,WAAW,+BAA+B;AAC5E,yBAAK,4BAA4B,IAAI,UAAU,KAAK,OAAO;AAC3D;AAAA;AAGD,2BAAQ,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACxC,wBAAI,MAAM,SAAS;AACnB,wBAAI;AACH,oCAAc,OAAO,KAAK,KAAK;AAAA,6BACvB,GAAP;AAED,kCAAY,UAAU,YAAY,WAAW,+BAA+B,EAAE;AAC9E,8BAAO,EAAE;AAAA,6BACH;AAEJ,+BAAK,4BAA4B;AACjC;AAAA,6BACI;AAAA,6BAEA;AAEJ,+BAAK,YAAY,UAAU;AAC3B;AAAA;AAAA;AAGH,wBAAG,CAAC,IAAI;AAAc,0BAAI,eAAe;AACzC,wBAAG,CAAC,IAAI;AAAW,0BAAI,YAAY;AACnC,wBAAG,CAAC,IAAI;AAAI,0BAAI,KAAK,KAAK,MAAM;AAAA;AAEjC,uBAAK,aAAa,YAAY,YAAY;AAC1C,uBAAK,aAAa,+BAA+B,QAAQ;AACzD,uBAAK,QAAQ;AACb;AAAA,qBAEI,QAAQ;AAEZ,sBAAI,MAAM,QAAQ;AAClB,sBAAG,OAAO,IAAI,QAAQ,OAAO;AAE5B,yBAAK;AAAA,yBACC;AACN,yBAAK,YAAY,UAAU,UAAU,WAAW;AAAA;AAEjD;AAAA;AAGA,8BAAY,UAAU,YAAY,WAAW,+BAA+B,gDAAgD,QAAQ,SAAS;AAC7I,uBAAK,kBAAkB,MAAM,gBAAgB;AAAA;AAAA;AAI/C,4BAAgB,UAAU,8BAA8B,SAAS,QAAQ;AACxE,kBAAI,QAAO;AACX,kBAAG,CAAC,KAAK,aAAa,iCAAiC;AACtD,4BAAY,UAAU,YAAY,WAAW,+BAA+B;AAC5E,qBAAK,aAAa,kCAAkC;AACpD,qBAAK,QAAQ,MAAM,QAAQ,WAAW;AACrC,wBAAK,aAAa,kCAAkC;AAAA;AAAA;AAAA;AAKvD,4BAAgB,UAAU,aAAa,WAAW;AACjD,0BAAY,UAAU,YAAY,WAAW,8BAA8B,gCAAgC,KAAK;AAAA;AAGjH,4BAAgB,UAAU,cAAc,SAAS,OAAO,QAAQ,SAAS,aAAa;AACrF,0BAAY,UAAU,YAAY,WAAW,+BAA+B,YAAY,KAAK,OAAO,uBAAuB,KAAK,QAAQ,uBAAuB;AAC/J,mBAAK;AAEL,kBAAG,UAAU,KAAK,OAAO;AACxB;AAAA;AAED,mBAAK,SAAS,kBAAkB,OAAO,aAAa;AACpD,kBAAG,UAAU,eAAe,KAAK,kBAAkB,MAAM,YAAY;AACpE,qBAAK;AAAA,qBACC;AACN,qBAAK;AAAA;AAEN,kBAAG,QAAQ;AACV,qBAAK,cAAc;AAAA;AAEpB,kBAAI,SAAS,IAAI,mBAAmB,KAAK,OAAO,OAAO,SAAS;AAChE,kBAAI,WAAW,UAAU,WAAW,YAAY,YAAY,YAAY;AACxE,0BAAY,UAAU,UAAU,gCAAgC,KAAK,OAAO,KAAK,QAAS,UAAU,eAAe,SAAU;AAG7H,kBAAG,UAAU,YAAY;AACxB,qBAAK;AACL,qBAAK,cAAc,QAAQ;AAC3B,qBAAK,cAAc,eAAe;AAAA,yBACzB,UAAU,cAAc,UAAU,YAAY,UAAU,aAAa;AAC9E,qBAAK,cAAc,eAAe;AAClC,qBAAK,cAAc,QAAQ;AAAA;AAG5B,kBAAG,UAAU,YAAY;AACxB,qBAAK,gBAAgB;AAAA,yBACZ,UAAU,eAAe,UAAU,UAAU;AACtD,qBAAK,gBAAgB;AAAA;AAGtB,mBAAK,QAAQ;AACb,mBAAK,mBAAmB,KAAK,OAAO;AACpC,mBAAK,KAAK,OAAO;AAAA;AAGlB,4BAAgB,UAAU,eAAe,SAAS,OAAO,QAAQ;AAChE,0BAAY,UAAU,YAAY,WAAW,gCAAgC,YAAY,KAAK,OAAO,eAAe;AACpH,mBAAK,YAAY,OAAO;AAExB,mBAAK;AAAA;AAGN,4BAAgB,UAAU,oBAAoB,WAAW;AAExD,kBAAI,UAAU,KAAK,kBAAkB;AAGrC,kBAAG,CAAE,SAAQ,cAAc,QAAQ,mBAAmB;AACrD,4BAAY,UAAU,YAAY,WAAW,qCAAqC,mCAAmC,KAAK,kBAAkB,MAAM;AAClJ;AAAA;AAGD,0BAAY,UAAU,YAAY,WAAW,qCAAqC,YAAY,KAAK,OAAO,eAAe,KAAK;AAE9H,sBAAO,KAAK;AAAA,qBACN;AACJ,uBAAK;AACL,uBAAK;AACL;AAAA,qBACI;AACJ,uBAAK;AACL,uBAAK;AACL;AAAA,qBACI;AAEJ,uBAAK;AAAA;AAEL;AAAA;AAAA;AAIH,4BAAgB,UAAU,sBAAsB,WAAW;AAC1D,sBAAO,KAAK;AAAA,qBACN;AACJ,sBAAI,MAAM,IAAI,UAAU,4BAA4B,OAAO;AAC3D,uBAAK,YAAY,aAAa;AAC9B;AAAA,qBACI;AACJ,sBAAI,MAAM,IAAI,UAAU,4BAA4B,OAAO;AAC3D,uBAAK,YAAY,YAAY;AAC7B;AAAA;AAEA,uBAAK;AACL;AAAA;AAAA;AAIH,4BAAgB,UAAU,8BAA8B,WAAW;AAClE,kBAAI,QAAO;AACX,kBAAG,CAAC,KAAK,YAAY;AACpB,qBAAK,aAAa,WAAW,WAAW;AACvC,8BAAY,UAAU,YAAY,WAAW,+CAA+C;AAC5F,wBAAK,aAAa;AAClB,wBAAK;AAAA,mBACH,KAAK,SAAS,QAAQ,SAAS;AAAA;AAAA;AAIpC,4BAAgB,UAAU,kBAAkB,WAAW;AACtD,kBAAI,aAAa,KAAK;AACtB,kBAAG,YAAY;AACd,6BAAa;AACb,qBAAK,aAAa;AAAA;AAAA;AAIpB,4BAAgB,UAAU,kBAAkB,WAAW;AACtD,kBAAI,QAAO;AACX,kBAAG,KAAK;AAAY;AAEpB,mBAAK,aAAa,WAAW,WAAW;AAGvC,oBAAG,MAAK,UAAU,eAAe,MAAK,kBAAkB,MAAM,YAAY;AACzE,wBAAK,aAAa;AAClB,8BAAY,UAAU,YAAY,WAAW,uCAAuC;AACpF,wBAAK,aAAa;AAAA;AAAA,iBAEjB,KAAK,SAAS,QAAQ,SAAS;AAAA;AAGnC,4BAAgB,UAAU,mBAAmB,WAAW;AACvD,kBAAG,KAAK,YAAY;AACnB,6BAAa,KAAK;AAClB,qBAAK,eAAe;AAAA;AAAA;AAItB,4BAAgB,UAAU,gBAAgB,SAAS,WAAW,OAAO;AACpE,mBAAK,KAAK,SAAS,cAAc,MAAM,WAAW;AAAA;AAGnD,4BAAgB,UAAU,UAAU,SAAS,QAAQ,UAAU;AAC9D,0BAAY,UAAU,YAAY,WAAW,6BAA6B,eAAe,KAAK;AAE9F,kBAAG,aAAa,QAAW;AAC1B,oBAAG,OAAO,UAAW,YAAY;AAChC,6BAAW;AACX,2BAAS;AAAA,uBACH;AACN,sBAAG,KAAK,KAAK,QAAQ,UAAU;AAC9B,2BAAO,MAAM,UAAU,MAAM,WAAW;AAAA;AAEzC,6BAAW;AAAA;AAAA;AAIb,kBAAG,UAAU,OAAO,aAAa;AAChC,oBAAG,KAAK,UAAU,YAAY;AAC7B,2BAAS,IAAI,UAAU,0DAA0D,KAAO;AACxF;AAAA;AAED,oBAAG,CAAC,KAAK,WAAW,cAAc;AACjC,2BAAS,IAAI,UAAU,sFAAsF,KAAO;AACpH;AAAA;AAED,uBAAO,OAAO;AACd,uBAAO,cAAc,KAAK,WAAW;AAAA;AAGtC,6BAAe,UAAU,SAAS,KAAK,MAAM,QAAQ;AAAA;AAGtD,4BAAgB,UAAU,YAAY,SAAS,OAAO,UAAU;AAC/D,qBAAO,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO,KAAK,OAAO;AAAA;AAIvE,4BAAgB,UAAU,gBAAgB,WAAW;AACpD,kBAAI,IAAI,KAAK;AACb,kBAAG,MAAM,iBAAiB,MAAM,cAAc,MAAM,UAAU;AAC7D,uBAAO;AAAA;AAER,qBAAO,IAAI,UAAU,mKAAmK,GAAG,OAAO;AAAA;AAGnM,mBAAO;AAAA;AAGqB,cAAI,kBAAmB;AAapD,cAAI,oBAAqB,WAAW;AAEnC,8BAAkB,SAAS;AAC1B,kBAAG,CAAE,iBAAgB,WAAU;AAC9B,uBAAO,IAAI,SAAS;AAAA;AAGrB,0BAAY,UAAU,YAAY,WAAW,cAAc;AAC3D,0BAAY,KAAK,MAAM;AACvB,mBAAK,aAAa,IAAI,kBAAkB,MAAM,KAAK;AACnD,mBAAK,WAAW,IAAI,SAAS;AAC7B,kBAAG,QAAQ,gBAAgB;AAC1B,qBAAK;AAAA;AAEP,kBAAM,SAAS,UAAU;AAEzB,qBAAS,UAAU,UAAU,WAAW;AACvC,0BAAY,UAAU,YAAY,WAAW,sBAAsB;AACnE,mBAAK,WAAW;AAAA;AAGjB,qBAAS,UAAU,QAAQ,WAAW;AACrC,0BAAY,UAAU,YAAY,WAAW,oBAAoB;AACjE,mBAAK,WAAW;AAAA;AAGjB,8BAAkB,UAAU;AAC3B,2BAAa,KAAK;AAClB,mBAAK,WAAW;AAChB,mBAAK,MAAM,OAAO,OAAO;AACzB,mBAAK,aAAa,OAAO,OAAO;AAChC,kBAAI,QAAO;AACX,uBAAS,WAAW,kBAAkB,GAAG,oBAAoB,WAAW;AACvE,sBAAK;AAAA;AAAA;AAGP,kBAAM,SAAS,UAAU;AAEzB,qBAAS,UAAU,mBAAmB,SAAS,KAAK;AACnD,kBAAI,cAAc,IAAI;AACtB,kBAAG,gBAAgB,QAAW;AAC7B,4BAAY,UAAU,YAAY,WAAW,+BAA+B,kDAAkD,IAAI;AAClI;AAAA;AAED,kBAAI,UAAU,KAAK,IAAI;AACvB,kBAAG,CAAC,SAAS;AACZ,4BAAY,UAAU,YAAY,WAAW,+BAA+B,8CAA8C;AAC1H;AAAA;AAED,sBAAQ,UAAU;AAAA;AAOnB,qBAAS,UAAU,oBAAoB,WAAW;AACjD,uBAAQ,eAAe,KAAK,KAAK;AAChC,oBAAI,UAAU,KAAK,IAAI;AACvB,oBAAG,QAAQ,UAAU,eAAe,QAAQ,UAAU,aAAa;AAClE,0BAAQ;AAAA,2BACC,QAAQ,UAAU,aAAa;AACxC,0BAAQ;AAAA;AAAA;AAAA;AAKX,qBAAS,UAAU,WAAW,SAAS,QAAQ;AAC9C,uBAAQ,aAAa,KAAK,KAAK;AAC9B,oBAAI,UAAU,KAAK,IAAI;AAGvB,oBAAG,QAAQ,UAAU,YAAY;AAChC,0BAAQ,aAAa,aAAa;AAAA;AAAA;AAAA;AAKrC,qBAAS,UAAU,6BAA6B,WAAW;AAC1D,uBAAQ,aAAa,KAAK,KAAK;AAC9B,oBAAI,UAAU,KAAK,IAAI;AACvB,oBAAG,QAAQ,UAAU,YAAY;AACjC,0BAAQ,wBAAwB;AAAA;AAAA;AAAA;AAKlC,qBAAS,UAAU,6BAA6B,SAAS,cAAc;AACtE,uBAAQ,aAAa,KAAK,KAAK;AAC9B,oBAAI,UAAU,KAAK,IAAI;AACvB,oBAAG,QAAQ,UAAU,cAAc,QAAQ,0BAA0B,OAAO;AAC3E,sBAAI,MAAM,uFAAuF,YAAY,sBAAsB;AACnI,8BAAY,UAAU,YAAY,WAAW,yCAAyC;AACtF,gCAAc,OAAO,SAAS,KAAK;AACnC,0BAAQ,aAAa;AAAA;AACrB;AAAA;AAAA;AAOH,qBAAS,UAAU,kCAAkC,SAAS,iBAAiB,QAAQ;AACtF,kBAAI,gCAAgC;AAAA,gBACnC,WAAa;AAAA,gBACb,UAAa;AAAA,gBACb,UAAa;AAAA,gBACb,aAAa;AAAA;AAEd,kBAAI,oBAAoB,CAAC,aAAa,YAAY,aAAa;AAC/D,kBAAI,iBAAiB,8BAA8B;AAEnD,uBAAQ,aAAa,KAAK,KAAK;AAC9B,oBAAI,UAAU,KAAK,IAAI;AACvB,oBAAG,MAAM,MAAM,mBAAmB,QAAQ,QAAQ;AAChD,0BAAQ,YAAY,gBAAgB;AAAA;AAAA;AAAA;AAKxC,qBAAS,UAAU,MAAM,SAAS,MAAM,gBAAgB;AACvD,qBAAO,OAAO;AACd,kBAAI,UAAU,KAAK,IAAI;AACvB,kBAAG,CAAC,SAAS;AACZ,0BAAU,KAAK,IAAI,QAAQ,IAAI,gBAAgB,KAAK,UAAU,MAAM;AAAA,yBAC3D,gBAAgB;AACzB,oBAAI,QAAQ,4BAA4B,iBAAiB;AACxD,wBAAM,IAAI,UAAU,oJAAoJ,KAAO;AAAA;AAEhL,wBAAQ,WAAW;AAAA;AAEpB,qBAAO;AAAA;AAKR,qBAAS,UAAU,UAAU,SAAS,MAAM;AAC3C,qBAAO,OAAO;AACd,kBAAI,UAAU,KAAK,IAAI;AACvB,kBAAG,CAAC,SAAS;AACZ;AAAA;AAED,kBAAI,aAAa,QAAQ;AACzB,kBAAG,YAAY;AACd,sBAAM;AAAA;AAEP,qBAAO,KAAK,IAAI;AAChB,qBAAO,KAAK,WAAW;AAAA;AAQxB,qBAAS,UAAU,gBAAgB,SAAS,SAAS,WAAW,YAAY;AAC3E,mBAAK,WAAW,QAAQ,QAAQ,KAAK,WAAW,QAAQ,SAAS;AACjE,mBAAK,WAAW,QAAQ,MAAM,aAAa;AAC3C,kBAAG,CAAC,cAAc,KAAK,gBAAgB;AACtC,qBAAK,KAAK;AAAA;AAAA;AAIZ,qBAAS,UAAU,gBAAgB,SAAS,UAAU;AACrD,kBAAG,KAAK,gBAAgB;AACvB;AACA;AAAA;AAED,mBAAK,KAAK,aAAa;AAAA;AAGxB,qBAAS,UAAU,eAAe,WAAW;AAC5C,qBAAO,MAAM,SAAS,MAAM,YAAY,KAAK,YAAY,OAAO,SAAS,YAAY;AACpF,uBAAO,CAAC,MAAM,cAAc,YAAY;AAAA;AAAA;AAI1C,mBAAO;AAAA;AAGR,4BAAkB,UAAU,SAAS,SAAS;AAC7C,sBAAU,cAAc,iBAAiB;AACzC,oBAAQ,WAAW;AACnB,mBAAO,IAAI,kBAAkB;AAAA;AAG9B,4BAAkB,YAAY;AAED,cAAI,kBAAmB;AAGpD,cAAI,kBAAmB,WAAW;AACjC;AAEA,gBAAI,WAAU;AAEd,qBAAQ,UAAU;AAClB,6BAAiB,QAAQ;AACxB,kBAAI,WAAW;AACd,uBAAO;AACR,kBAAI;AACJ,kBAAI;AACJ,kBAAK,kBAAkB,aAAa;AACnC,uBAAO;AACP,uBAAO,IAAI,SAAS;AAAA,yBACT,kBAAkB,UAAU;AACvC,uBAAO;AACP,uBAAO;AAAA;AAER,kBAAI,CAAC;AACJ,uBAAO,KAAK,UAAU;AACvB,kBAAI,QAAQ;AACZ,uBAAS,IAAI,GAAG,IAAI,OAAO,YAAY,KAAK;AAC3C,oBAAI,IAAI,IAAI;AACX,wBAAM,KAAK;AACX;AAAA;AAED,oBAAI,QAAQ,KAAK,SAAS,GAAG,SAAS;AACtC,oBAAI,MAAM,WAAW;AACpB,0BAAQ,MAAM;AACf,sBAAM,KAAK;AAAA;AAEZ,qBAAO,MAAM,OAAO,MAAM,MAAM,KAAK,OAAO;AAAA;AAI7C,qBAAQ,YAAY;AACpB,+BAAmB,MAAM,QAAQ,QAAQ;AACxC,kBAAI,aAAa,KAAK;AACtB,uBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,KAAK;AAC9C,oBAAI,YAAY,OAAO,WAAW;AAGlC,oBAAI,YAAY,KAAM;AACrB,uBAAK,SAAS,UAAU,cAAc,IAAI,MAAO;AACjD;AAAA;AAID,oBAAI,YAAY,MAAO;AACtB,uBAAK,SAAS,UAAU,cAAc,IAAI,KAAO;AACjD,uBAAK,SAAS,UAAU,cAAc,IAAI,KAAO;AACjD;AAAA;AAID,oBAAI,YAAY,OAAS;AACxB,uBAAK,SAAS,UAAU,cAAc,KAAK,KAAO;AAClD,uBAAK,SAAS,UAAU,cAAc,IAAI,KAAO;AACjD,uBAAK,SAAS,UAAU,cAAc,IAAI,KAAO;AACjD;AAAA;AAID,oBAAI,YAAY,SAAU;AACzB,uBAAK,SAAS,UAAU,cAAc,KAAK,IAAO;AAClD,uBAAK,SAAS,UAAU,cAAc,KAAK,KAAO;AAClD,uBAAK,SAAS,UAAU,cAAc,IAAI,KAAO;AACjD,uBAAK,SAAS,UAAU,cAAc,IAAI,KAAO;AACjD;AAAA;AAED,sBAAM,IAAI,MAAM,mBAAmB;AAAA;AAAA;AAKrC,qBAAQ,WAAW;AACnB,8BAAkB,MAAM,QAAQ,QAAQ;AACvC,kBAAI,SAAS;AACb,uBAAS,IAAI,QAAQ,MAAM,SAAS,QAAQ,IAAI,KAAK,KAAK;AACzD,oBAAI,QAAQ,KAAK,SAAS;AAE1B,oBAAK,SAAQ,SAAU,GAAM;AAC5B,4BAAU,OAAO,aAAa;AAC9B;AAAA;AAGD,oBAAK,SAAQ,SAAU,KAAM;AAC5B,4BAAU,OAAO,aAAe,SAAQ,OAAS,IAAM,KAAK,SAAS,EAAE,KAAK;AAC5E;AAAA;AAGD,oBAAK,SAAQ,SAAU,KAAM;AAC5B,4BAAU,OAAO,aAAe,SAAQ,OAAS,KAAQ,MAAK,SAAS,EAAE,KAAK,OAAS,IAAO,MAAK,SAAS,EAAE,KAAK,OAAS;AAC5H;AAAA;AAGD,oBAAK,SAAQ,SAAU,KAAM;AAC5B,4BAAU,OAAO,aAAe,SAAQ,MAAS,KAAQ,MAAK,SAAS,EAAE,KAAK,OAAS,KAAQ,MAAK,SAAS,EAAE,KAAK,OAAS,IAAO,MAAK,SAAS,EAAE,KAAK,OAAS;AAClK;AAAA;AAED,sBAAM,IAAI,MAAM,kBAAkB,MAAM,SAAS;AAAA;AAElD,qBAAO;AAAA;AAIR,qBAAQ,gBAAgB;AACxB,mCAAuB,QAAQ;AAC9B,kBAAI,QAAQ;AACZ,uBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAI,GAAG,KAAK;AAC9C,oBAAI,YAAY,OAAO,WAAW;AAClC,oBAAI,YAAY,KAAM;AACrB,2BAAS;AACT;AAAA;AAED,oBAAI,YAAY,MAAO;AACtB,2BAAS;AACT;AAAA;AAED,oBAAI,YAAY,OAAS;AACxB,2BAAS;AACT;AAAA;AAED,oBAAI,YAAY,SAAU;AACzB,2BAAS;AACT;AAAA;AAED,sBAAM,IAAI,MAAM,mBAAmB;AAAA;AAEpC,qBAAO;AAAA;AAIR,qBAAQ,SAAS,SAAS,OAAO,QAAQ;AACxC,kBAAI,OAAO,OAAO,OAAO;AACzB,kBAAG,QAAQ;AACV,uBAAO;AACR,kBAAI,SAAS,IAAI,YAAY;AAC7B,kBAAI,OAAO,IAAI,SAAS;AACxB,qBAAO,OAAO,MAAM,GAAG;AACvB,qBAAO;AAAA;AAGR,qBAAQ,SAAS;AAEjB,gBAAI,UAAW,MAAK,MAAO,MAAK,KAAK,UAAU,IAAI;AACnD,8BAAkB,MAAM,QAAQ;AAC/B,uBAAS,UAAU;AACnB,qBAAO,KAAK,SAAS,UAAU,UAAU,KAAK,UAAU,SAAS;AAAA;AAGlE,+BAAmB,MAAM,QAAQ;AAChC,uBAAS,UAAU;AACnB,qBAAO,KAAK,UAAU,UAAU,UAAU,KAAK,UAAU,SAAS;AAAA;AAGnE,8BAAkB,MAAM,QAAQ,KAAK;AACpC,kBAAI,MAAM,oBAAoB;AAC7B,qBAAK,SAAS,QAAQ,KAAK,MAAM,MAAM;AACvC,qBAAK,SAAS,SAAS,GAAG,MAAM;AAAA,qBAC1B;AACN,qBAAK,UAAU,QAAQ;AACvB,qBAAK,UAAU,SAAS,GAAG;AAAA;AAAA;AAI7B,+BAAmB,MAAM,QAAQ,KAAK;AACrC,kBAAI,MAAM,qBAAqB;AAC9B,qBAAK,UAAU,QAAQ,KAAK,MAAM,MAAM;AACxC,qBAAK,SAAS,SAAS,GAAG,MAAM;AAAA,qBAC1B;AACN,qBAAK,UAAU,QAAQ;AACvB,qBAAK,UAAU,SAAS,GAAG;AAAA;AAAA;AAgB7B,6BAAiB,MAAM,QAAQ;AAC9B,mBAAK,SAAS,UAAU;AACxB,mBAAK,OAAO;AAAA;AAIb,oBAAQ,UAAU,MAAM,SAAS,QAAQ;AACxC,kBAAI,QAAQ;AACZ,uBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,oBAAI,MAAM,KAAK;AACf,sBAAM,OAAO,KAAK;AAAA;AAEnB,qBAAO;AAAA;AAGR,oBAAQ,UAAU,MAAM,QAAQ,UAAU,MAAM,SAAS,QAAQ;AAChE,kBAAI,QAAQ,IAAI,YAAY;AAC5B,cAAC,IAAI,WAAW,OAAQ,IAAI,IAAI,WAAW,KAAK,KAAK,QAAQ,KAAK,QAAQ,SAAS;AACnF,mBAAK,UAAU;AACf,qBAAO;AAAA;AAGR,oBAAQ,UAAU,MAAM,SAAS,QAAQ;AACxC,kBAAI,QAAQ,SAAS,KAAK,MAAM,KAAK,QAAQ;AAC7C,mBAAK,UAAU;AACf,qBAAO;AAAA;AAGR,oBAAQ,UAAU,QAAQ,SAAS,QAAQ;AAC1C,kBAAI,QAAQ,IAAI,MAAM;AACtB,uBAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,sBAAM,KAAK,KAAK;AAAA;AAEjB,qBAAO;AAAA;AAGR,oBAAQ,UAAU,MAAM,SAAS,QAAQ;AACxC,kBAAI,QAAQ;AAEZ,oBAAM,UAAU,KAAK,KAAK,QAAQ,KAAK;AACvC,mBAAK;AAEL,oBAAM,UAAU,KAAK,IAAI;AACzB,mBAAK,UAAU;AACf,qBAAO;AAAA;AAGR,oBAAQ,UAAU,QAAQ,WAAW;AACpC,kBAAI,OAAO,KAAK,KAAK,SAAS,KAAK;AACnC,kBAAI,OAAO;AAGX,kBAAK,QAAO,SAAU,GAAM;AAC3B,qBAAK;AACL,uBAAO;AAAA;AAIR,kBAAK,QAAO,SAAU,KAAM;AAC3B,yBAAS,OAAO;AAChB,qBAAK;AACL,uBAAO,KAAK,IAAI;AAAA;AAIjB,kBAAK,QAAO,SAAU,KAAM;AAC3B,yBAAS,OAAO;AAChB,qBAAK;AACL,uBAAO,KAAK,MAAM;AAAA;AAInB,kBAAK,QAAO,SAAU,KAAM;AAC3B,yBAAS,OAAO;AAChB,qBAAK;AACL,uBAAO,KAAK,IAAI;AAAA;AAIjB,kBAAK,QAAO,SAAU,KAAM;AAC3B,wBAAQ,KAAK,KAAK,QAAQ,KAAK;AAC/B,qBAAK;AACL,uBAAO;AAAA;AAGR,sBAAQ;AAAA,qBAGF;AACJ,uBAAK;AACL,yBAAO;AAAA,qBAGH;AACJ,uBAAK;AACL,yBAAO;AAAA,qBAGH;AACJ,uBAAK;AACL,yBAAO;AAAA,qBAGH;AACJ,uBAAK;AACL,yBAAO;AAAA,qBAGH;AACJ,2BAAS,KAAK,KAAK,SAAS,KAAK,SAAS;AAC1C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,SAAS,KAAK,SAAS;AAC1C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,0BAAQ,KAAK,KAAK,WAAW,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,WAAW,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,SAAS,KAAK,SAAS;AACzC,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,UAAU,KAAK,SAAS;AAC1C,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,UAAU,KAAK,SAAS;AAC1C,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,UAAU,KAAK,MAAM,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,QAAQ,KAAK,SAAS;AACxC,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,SAAS,KAAK,SAAS;AACzC,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,KAAK,KAAK,SAAS,KAAK,SAAS;AACzC,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,0BAAQ,SAAS,KAAK,MAAM,KAAK,SAAS;AAC1C,uBAAK,UAAU;AACf,yBAAO;AAAA,qBAGH;AACJ,2BAAS;AACT,uBAAK;AACL,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS;AACT,uBAAK;AACL,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS;AACT,uBAAK;AACL,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS;AACT,uBAAK;AACL,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS;AACT,uBAAK;AACL,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,SAAS,KAAK,SAAS;AAC1C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,MAAM;AAAA,qBAGd;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,MAAM;AAAA,qBAGd;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA,qBAGZ;AACJ,2BAAS,KAAK,KAAK,UAAU,KAAK,SAAS;AAC3C,uBAAK,UAAU;AACf,yBAAO,KAAK,IAAI;AAAA;AAElB,oBAAM,IAAI,MAAM,oBAAoB,KAAK,SAAS;AAAA;AAGnD,4BAAgB,QAAQ;AACvB,kBAAI,OAAO,IAAI,SAAS;AACxB,kBAAI,UAAU,IAAI,QAAQ;AAC1B,kBAAI,QAAQ,QAAQ;AACpB,kBAAI,QAAQ,WAAW,OAAO;AAC7B,sBAAM,IAAI,MAAO,OAAO,aAAa,QAAQ,SAAU;AACxD,qBAAO;AAAA;AAGR,oCAAwB,OAAO,QAAQ;AACtC,kBAAI,OAAO;AACX,uBAAS,OAAO,OAAO;AACtB,oBAAI,CAAC,MAAM,eAAe;AAAM;AAChC,qBAAK,KAAK;AAAA;AAEX,qBAAO,KAAK,OAAO,SAAU,GAAG;AAC/B,oBAAI,MAAM,MAAM,IAAI,OAAO,OAAO;AAClC,uBAAQ,EAAC,UAAW,QAAQ,UAAa,QAAQ,SAAW,CAAe,SAAf,cAAuB,CAAC,CAAC,IAAI;AAAA;AAAA;AAI3F,4BAAgB,OAAO,MAAM,QAAQ,QAAQ;AAC5C,kBAAI,OAAO,OAAO;AAIlB,kBAAI,SAAS,UAAU;AACtB,oBAAI,SAAS,cAAc;AAG3B,oBAAI,SAAS,IAAM;AAClB,uBAAK,SAAS,QAAQ,SAAS;AAC/B,4BAAU,MAAM,SAAS,GAAG;AAC5B,yBAAO,IAAI;AAAA;AAIZ,oBAAI,SAAS,KAAO;AACnB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,SAAS,SAAS,GAAG;AAC1B,4BAAU,MAAM,SAAS,GAAG;AAC5B,yBAAO,IAAI;AAAA;AAIZ,oBAAI,SAAS,OAAS;AACrB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,UAAU,SAAS,GAAG;AAC3B,4BAAU,MAAM,SAAS,GAAG;AAC5B,yBAAO,IAAI;AAAA;AAGZ,oBAAI,SAAS,YAAa;AACzB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,UAAU,SAAS,GAAG;AAC3B,4BAAU,MAAM,SAAS,GAAG;AAC5B,yBAAO,IAAI;AAAA;AAAA;AAIb,kBAAG,YAAY,UAAU,YAAY,OAAO,QAAQ;AAEnD,wBAAQ,MAAM;AAAA;AAIf,kBAAI,iBAAiB,aAAa;AACjC,oBAAI,SAAS,MAAM;AAGnB,oBAAI,SAAS,KAAO;AACnB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,SAAS,SAAS,GAAG;AAC1B,kBAAC,IAAI,WAAW,KAAK,QAAS,IAAI,IAAI,WAAW,QAAQ,SAAS;AAClE,yBAAO,IAAI;AAAA;AAIZ,oBAAI,SAAS,OAAS;AACrB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,UAAU,SAAS,GAAG;AAC3B,kBAAC,IAAI,WAAW,KAAK,QAAS,IAAI,IAAI,WAAW,QAAQ,SAAS;AAClE,yBAAO,IAAI;AAAA;AAIZ,oBAAI,SAAS,YAAa;AACzB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,UAAU,SAAS,GAAG;AAC3B,kBAAC,IAAI,WAAW,KAAK,QAAS,IAAI,IAAI,WAAW,QAAQ,SAAS;AAClE,yBAAO,IAAI;AAAA;AAAA;AAIb,kBAAI,SAAS,UAAU;AAItB,oBAAI,KAAK,MAAM,WAAW,OAAO;AAChC,uBAAK,SAAS,QAAQ;AACtB,uBAAK,WAAW,SAAS,GAAG;AAC5B,yBAAO;AAAA;AAIR,oBAAI,SAAS,GAAG;AAEf,sBAAI,QAAQ,KAAM;AACjB,yBAAK,SAAS,QAAQ;AACtB,2BAAO;AAAA;AAGR,sBAAI,QAAQ,KAAO;AAClB,yBAAK,SAAS,QAAQ;AACtB,yBAAK,SAAS,SAAS,GAAG;AAC1B,2BAAO;AAAA;AAGR,sBAAI,QAAQ,OAAS;AACpB,yBAAK,SAAS,QAAQ;AACtB,yBAAK,UAAU,SAAS,GAAG;AAC3B,2BAAO;AAAA;AAGR,sBAAI,QAAQ,YAAa;AACxB,yBAAK,SAAS,QAAQ;AACtB,yBAAK,UAAU,SAAS,GAAG;AAC3B,2BAAO;AAAA;AAGR,sBAAI,QAAQ,qBAAqB;AAChC,yBAAK,SAAS,QAAQ;AACtB,8BAAU,MAAM,SAAS,GAAG;AAC5B,2BAAO;AAAA;AAER,wBAAM,IAAI,MAAM,sBAAsB,MAAM,SAAS;AAAA;AAItD,oBAAI,SAAS,KAAO;AACnB,uBAAK,QAAQ,QAAQ;AACrB,yBAAO;AAAA;AAGR,oBAAI,SAAS,MAAO;AACnB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,QAAQ,SAAS,GAAG;AACzB,yBAAO;AAAA;AAGR,oBAAI,SAAS,QAAS;AACrB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,SAAS,SAAS,GAAG;AAC1B,yBAAO;AAAA;AAGR,oBAAI,SAAS,aAAa;AACzB,uBAAK,SAAS,QAAQ;AACtB,uBAAK,SAAS,SAAS,GAAG;AAC1B,yBAAO;AAAA;AAGR,oBAAI,SAAS,qBAAqB;AACjC,uBAAK,SAAS,QAAQ;AACtB,2BAAS,MAAM,SAAS,GAAG;AAC3B,yBAAO;AAAA;AAER,sBAAM,IAAI,MAAM,yBAA0B,EAAC,OAAO,SAAS,IAAI,OAAO;AAAA;AAIvE,kBAAI,SAAS,aAAa;AACzB,oBAAG;AAAQ,yBAAO;AAClB,qBAAK,SAAS,QAAQ;AACtB,qBAAK,SAAS,SAAS,GAAG;AAC1B,qBAAK,SAAS,SAAS,GAAG;AAC1B,uBAAO;AAAA;AAIR,kBAAI,UAAU,MAAM;AACnB,oBAAG;AAAQ,yBAAO;AAClB,qBAAK,SAAS,QAAQ;AACtB,uBAAO;AAAA;AAIR,kBAAI,SAAS,WAAW;AACvB,qBAAK,SAAS,QAAQ,QAAQ,MAAO;AACrC,uBAAO;AAAA;AAGR,kBAAG,AAAe,OAAO,MAAM,WAA5B;AACF,uBAAO,OAAO,MAAM,UAAU,MAAM,QAAQ;AAG7C,kBAAI,SAAS,UAAU;AACtB,oBAAI,QAAQ,OAAO;AACnB,oBAAI,UAAU,MAAM,QAAQ;AAE5B,oBAAI,SAAS;AACZ,2BAAS,MAAM;AAAA,uBACT;AACN,sBAAI,OAAO,eAAe,OAAO;AACjC,2BAAS,KAAK;AAAA;AAGf,oBAAI;AACJ,oBAAI,SAAS,IAAM;AAClB,uBAAK,SAAS,QAAQ,SAAW,WAAU,MAAO;AAClD,yBAAO;AAAA,2BACG,SAAS,OAAS;AAC5B,uBAAK,SAAS,QAAQ,UAAU,MAAO;AACvC,uBAAK,UAAU,SAAS,GAAG;AAC3B,yBAAO;AAAA,2BACG,SAAS,YAAa;AAChC,uBAAK,SAAS,QAAQ,UAAU,MAAO;AACvC,uBAAK,UAAU,SAAS,GAAG;AAC3B,yBAAO;AAAA;AAGR,oBAAI,SAAS;AACZ,2BAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,4BAAQ,OAAO,MAAM,IAAI,MAAM,SAAS,MAAM;AAAA;AAAA,uBAEzC;AACN,2BAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,wBAAI,MAAM,KAAK;AACf,4BAAQ,OAAO,KAAK,MAAM,SAAS;AACnC,4BAAQ,OAAO,MAAM,MAAM,MAAM,SAAS,MAAM;AAAA;AAAA;AAIlD,uBAAO;AAAA;AAER,kBAAG,SAAS;AACX,uBAAO;AAER,oBAAM,IAAI,MAAM,kBAAkB;AAAA;AAGnC,4BAAgB,OAAO,QAAQ;AAC9B,kBAAI,OAAO,OAAO;AAGlB,kBAAI,SAAS,UAAU;AACtB,oBAAI,SAAS,cAAc;AAC3B,oBAAI,SAAS,IAAM;AAClB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,KAAO;AACnB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,OAAS;AACrB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,YAAa;AACzB,yBAAO,IAAI;AAAA;AAAA;AAIb,kBAAG,YAAY,UAAU,YAAY,OAAO,QAAQ;AAEnD,wBAAQ,MAAM;AAAA;AAIf,kBAAI,iBAAiB,aAAa;AACjC,oBAAI,SAAS,MAAM;AACnB,oBAAI,SAAS,KAAO;AACnB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,OAAS;AACrB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,YAAa;AACzB,yBAAO,IAAI;AAAA;AAAA;AAIb,kBAAI,SAAS,UAAU;AAGtB,oBAAI,KAAK,MAAM,WAAW;AACzB,yBAAO;AAGR,oBAAI,SAAS,GAAG;AAEf,sBAAI,QAAQ;AACX,2BAAO;AAER,sBAAI,QAAQ;AACX,2BAAO;AAER,sBAAI,QAAQ;AACX,2BAAO;AAER,sBAAI,QAAQ;AACX,2BAAO;AAER,sBAAI,QAAQ;AACX,2BAAO;AAER,wBAAM,IAAI,MAAM,sBAAsB,MAAM,SAAS;AAAA;AAGtD,oBAAI,SAAS;AACZ,yBAAO;AAER,oBAAI,SAAS;AACZ,yBAAO;AAER,oBAAI,SAAS;AACZ,yBAAO;AAER,oBAAI,SAAS;AACZ,yBAAO;AAER,oBAAI,SAAS;AACZ,yBAAO;AAER,sBAAM,IAAI,MAAM,yBAAyB,MAAM,SAAS,IAAI,OAAO;AAAA;AAIpE,kBAAI,SAAS;AAAW,uBAAO;AAG/B,kBAAI,UAAU;AAAM,uBAAO,SAAS,IAAI;AACxC,kBAAI,UAAU;AAAW,uBAAO,SAAS,IAAI;AAE7C,kBAAG,AAAe,OAAO,MAAM,WAA5B;AACF,uBAAO,OAAO,MAAM,UAAU;AAG/B,kBAAI,SAAS,UAAU;AACtB,oBAAI,QAAQ,OAAO;AACnB,oBAAI,MAAM,QAAQ,QAAQ;AACzB,2BAAS,MAAM;AACf,2BAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,4BAAQ,OAAO,MAAM,IAAI;AAAA;AAAA,uBAEpB;AACN,sBAAI,OAAO,eAAe,OAAO;AACjC,2BAAS,KAAK;AACd,2BAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAChC,wBAAI,MAAM,KAAK;AACf,4BAAQ,OAAO,OAAO,OAAO,MAAM,MAAM;AAAA;AAAA;AAG3C,oBAAI,SAAS,IAAM;AAClB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,OAAS;AACrB,yBAAO,IAAI;AAAA;AAEZ,oBAAI,SAAS,YAAa;AACzB,yBAAO,IAAI;AAAA;AAEZ,sBAAM,IAAI,MAAM,gCAAgC,OAAO,SAAS;AAAA;AAEjE,kBAAG,SAAS;AACX,uBAAO;AAER,oBAAM,IAAI,MAAM,kBAAkB;AAAA;AAGnC,mBAAO;AAAA;AAGqB,cAAI,eAAgB;AAiBjD,sBAAY,QAAQ;AACpB,sBAAY,cAAc;AAC1B,sBAAY,SAAS;AACrB,sBAAY,WAAW;AACvB,sBAAY,OAAO;AACnB,sBAAY,WAAW;AACvB,sBAAY,UAAU;AACtB,sBAAY,kBAAkB;AAE9B,0BAAgB,QAAQ;AACxB,0BAAgB,cAAc;AAC9B,0BAAgB,SAAS;AACzB,0BAAgB,WAAW;AAC3B,0BAAgB,OAAO;AACvB,0BAAgB,UAAU;AAC1B,0BAAgB,kBAAkB;AAClC,0BAAgB,kBAAkB;AAClC,0BAAgB,oBAAoB;AAEP,cAAI,MAAM,oBAAoB,aAAc;AAAA,YACvE,MAAM;AAAA,YACN,UAAU;AAAA,YACV,SAAS;AAAA;AAAA;AAAA,SAKC;AAAA;AAAA;AAAA;;;ACpoZZ;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,SAAS,MAAM;AAAA,MACf,MAAM,MAAM;AAAA;AAEd,QAAI,wBAAwB,WAAW;AACvC,QAAI,iCAAiC,WAAW;AAChD,QAAI,OAAO,WAAW;AACtB,QAAM,UAAU;AAChB,QAAM,mBAAmB;AACzB,sBAAkB,OAAO,QAAQ,sBAAsB,GAAG;AACxD,UAAI;AACJ,YAAM,cAAc,IAAI;AACxB,mBAAa,WAAW;AACtB,YAAK,IAAG,sBAAsB,GAAG,OAAO,YAAY;AAClD,kBAAQ;AACR,cAAI,MAAM;AACR,kBAAM,YAAY,CAAC,iBAAiB;AACpC,uBAAW,cAAc,aAAa;AACpC,yBAAW;AACX,+BAAiB,KAAK,YAAY;AAAA;AAEpC,gBAAI,WAAW;AACb,uBAAS,IAAI,GAAG,IAAI,iBAAiB,QAAQ,KAAK,GAAG;AACnD,iCAAiB,GAAG,GAAG,iBAAiB,IAAI;AAAA;AAE9C,+BAAiB,SAAS;AAAA;AAAA;AAAA;AAAA;AAKlC,sBAAgB,IAAI;AAClB,YAAI,GAAG;AAAA;AAET,0BAAoB,KAAK,aAAa,sBAAsB,GAAG;AAC7D,cAAM,aAAa,CAAC,KAAK;AACzB,oBAAY,IAAI;AAChB,YAAI,YAAY,SAAS,GAAG;AAC1B,iBAAO,MAAM,QAAQ,sBAAsB;AAAA;AAE7C,YAAI;AACJ,eAAO,MAAM;AACX,sBAAY,OAAO;AACnB,cAAI,YAAY,SAAS,GAAG;AAC1B;AACA,mBAAO;AAAA;AAAA;AAAA;AAIb,aAAO,EAAE,KAAK,QAAQ,WAAW;AAAA;AAEnC,wBAAoB,EAAE,WAAW;AAC/B,aAAQ,IAAG,+BAA+B,GAAG,SAAS;AAAA;AAExD,QAAM,SAAU,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AACpF,UAAI,YAAY;AAChB,YAAM,YAAY,SAAS;AAC3B,gCAA2B,IAAG,sBAAsB,GAAG,WAAW,CAAC,UAAU,aAAa;AAC1F,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI,EAAE,SAAS;AACf,UAAI,EAAE,eAAe;AACrB,UAAI;AACJ,UAAI,QAAQ,cAAc,UAAU,WAAW,aAAa,cAAc;AACxE,mBAAW,UAAU;AACvB,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK;AAClB,UAAI,QAAQ,eAAe,UAAU,WAAW,cAAc,eAAe;AAC3E,mBAAW,WAAW;AACxB;AACE;AACE,cAAI,cAAc,SAAS;AACzB,oBAAQ,IAAI;AACZ,gBAAI,gBAAgB;AAAA,cAClB,OAAO;AAAA,cACP,SAAS,GAAG,OAAO,SAAS;AAAA,cAC5B,KAAK;AAAA;AAEP,mBAAO,IAAI,KAAK,SAAS,QAAQ;AACjC,iBAAK,WAAW,GAAG,aAAa,WAAW;AACzC,sBAAQ,IAAI;AAAA;AAEd,iBAAK,WAAW,GAAG,UAAU,SAAS,KAAK;AACzC,sBAAQ,IAAI,6BAA6B;AAAA;AAE3C,iBAAK,WAAW,GAAG,gBAAgB,WAAW;AAC5C,sBAAQ,IAAI;AAAA;AAEd,iBAAK,WAAW,GAAG,aAAa,WAAW;AACzC,sBAAQ,IAAI;AAAA;AAEd,iBAAK,WAAW,GAAG,UAAU,WAAW;AACtC,sBAAQ,IAAI;AAAA;AAEd,iBAAK,SAAS,IAAI,aAAa,UAAU,SAAS,KAAK;AACrD,sBAAQ,IAAI,uBAAuB;AAAA;AAAA;AAAA;AAAA;AAK3C;AACA,aAAO,GAAG,CAAC,OAAO,mBAAmB,wCAAwC,0BAA0B;AAAA,eAC1F;AAAA,mBACI,yBAAyB;AAAA;AAAA,gBAE5B,qCAAqC,6BAA6B,kCAAkC,gDAAgD,qBAAqB;AAAA,mBACtK;AAAA,oBACC,kCAAkC,wBAAwB,sCAAsC,qBAAqB;AAAA,uBAClH,wCAAwC,qBAAqB;AAAA,uBAC7D,uCAAuC,qBAAqB;AAAA,uBAC5D,sCAAsC,qBAAqB;AAAA,0EACR,qBAAqB;AAAA,kCAC7D,qBAAqB;AAAA;AAAA,iBAEtC,6BAA6B,qCAAqC,iDAAiD,qBAAqB;AAAA,mBACtI;AAAA;AAAA;AAAA;AAAA,iBAIF,6BAA6B,qCAAqC,yDAAyD,qBAAqB;AAAA,mBAC9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAU8C;AAAA;AAAA,EAEhE,OAAO,mBAAmB,2CAA2C,0BAA0B;AAAA,GAC9F;AAAA;AAAA,mBAEgB,0BAA0B,0BAA0B,yBAAyB,sBAAsB,wBAAwB;AAAA;AAAA,sBAExH,4BAA6B,IAAG,sBAAsB,GAAG,QAAQ,qBAAqB,mBAAmB;AAAA,oBAC3G,wBAAwB,4BAA4B;AAAA,yBAC/C,kBAAkB,UAAW,IAAG,sBAAsB,GAAG,SAAS,UAAU;AAAA;AAAA;AAAA,iBAGpF,yBAAyB,sBAAsB,wBAAwB;AAAA;AAAA,sBAElE,4BAA6B,IAAG,sBAAsB,GAAG,QAAQ,sBAAsB,mBAAmB;AAAA,oBAC5G,wBAAwB,4BAA4B;AAAA,yBAC/C,kBAAkB,UAAW,IAAG,sBAAsB,GAAG,SAAS,YAAY;AAAA,mBACpF,0BAA0B,uBAAuB,+BAA+B;AAAA,mBAChF,wBAAwB,4BAA4B;AAAA,wBAC/C,kBAAkB,wBAAwB,eAAgB,IAAG,sBAAsB,GAAG,SAAS,YAAY,wDAAwD;AAAA;AAAA;AAAA;;;ACpL3L;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA,MACX,OAAO,MAAM;AAAA,MACb,IAAI,MAAM;AAAA,MACV,QAAQ,MAAM;AAAA;AAEhB,QAAI,UAAU,WAAW;AACzB,QAAM,QAAQ;AACd,QAAM,KAAK,CAAC,kCAAkC,qCAAqC,6BAA6B;AAChH,QAAM,MAAM;AAAA;AAAA;;;AChCZ;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,SAAS,MAAM;AAAA,MACf,MAAM,MAAM;AAAA;AAEd,QAAI,wBAAwB,WAAW;AACvC,QAAI,iCAAiC,WAAW;AAChD,QAAM,YAAa,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AACvF,UAAI,EAAE,SAAS;AACf,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK;AAClB,aAAO,eAAe,uBAAuB,+BAA+B,wBAAwB,gCAAgC,yBAA0B,IAAG,sBAAsB,GAAG,OAAO,KAAK,SAAS,WAAW;AAAA,sBACtM,8BAA8B,iBAAkB,IAAG,sBAAsB,GAAG,KAAK,QAAQ,KAAK;AAAA,sBAC9F,qBAAsB,IAAG,sBAAsB,GAAG,KAAK,YAAY,KAAK;AAAA;AAE9F,wBAAoB,EAAE,WAAW;AAC/B,aAAQ,IAAG,+BAA+B,GAAG,SAAS;AAAA;AAExD,QAAM,UAAW,IAAG,sBAAsB,GAAG,CAAC,UAAU,SAAS,YAAY,UAAU;AACrF,UAAI,EAAE,SAAS;AACf,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK;AAClB,aAAO,GAAG,OAAO,mBAAmB,2CAA2C,0BAA0B;AAAA,KACrG,IAAG,sBAAsB,GAAG,WAAW,YAAY,SAAS,UAAU,EAAE,QAAQ,IAAI,wBAAwB;AAAA;AAAA;AAAA;AAAA;;;AC7ClH;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA,MACX,OAAO,MAAM;AAAA,MACb,IAAI,MAAM;AAAA,MACV,QAAQ,MAAM;AAAA;AAEhB,QAAI,UAAU,WAAW;AACzB,QAAM,QAAQ;AACd,QAAM,KAAK,CAAC,oCAAoC,6BAA6B;AAC7E,QAAM,MAAM;AAAA;AAAA;;;AChCZ;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA;AAEb,QAAI,OAAO,WAAW;AACtB,YAAQ,IAAI;AACZ,QAAM,qBAAqB,QAAQ,IAAI;AACvC,uBAAmB,EAAE,KAAK,QAAQ,UAAU;AAC1C,cAAQ,IAAI,UAAU;AACtB,cAAQ,IAAI,OAAO;AACnB,cAAQ,IAAI,UAAU;AACtB,UAAI,SAAS,IAAI,IAAI;AACrB,UAAI,MAAM,OAAO,aAAa,IAAI;AAClC,UAAI,OAAO,IAAI,KAAK,KAAK,QAAQ;AACjC,UAAI,cAAc;AAAA,QAChB;AAAA,QACA,KAAK;AAAA;AAEP,UAAI,QAAQ,MAAM,KAAK,KAAK,mBAAmB;AAC/C,cAAQ,IAAI,aAAa;AACzB,aAAO,aAAa;AACpB,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;;;AC/CtB;AAAA;AAAA,QAAI,WAAW,OAAO;AACtB,QAAI,aAAY,OAAO;AACvB,QAAI,mBAAmB,OAAO;AAC9B,QAAI,oBAAoB,OAAO;AAC/B,QAAI,eAAe,OAAO;AAC1B,QAAI,gBAAe,OAAO,UAAU;AACpC,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,QAAI,aAAa,CAAC,QAAQ,UAAS,SAAS;AAC1C,UAAI,YAAW,OAAO,aAAY,YAAY,OAAO,aAAY,YAAY;AAC3E,iBAAS,OAAO,kBAAkB;AAChC,cAAI,CAAC,cAAa,KAAK,QAAQ,QAAQ,QAAQ;AAC7C,uBAAU,QAAQ,KAAK,EAAE,KAAK,MAAM,SAAQ,MAAM,YAAY,CAAE,QAAO,iBAAiB,UAAS,SAAS,KAAK;AAAA;AAErH,aAAO;AAAA;AAET,QAAI,aAAa,CAAC,aAAY;AAC5B,aAAO,WAAW,eAAe,WAAU,YAAW,OAAO,SAAS,aAAa,aAAY,IAAI,WAAW,YAAW,SAAQ,cAAc,aAAa,WAAU,EAAE,KAAK,MAAM,SAAQ,SAAS,YAAY,SAAS,EAAE,OAAO,UAAS,YAAY,UAAU;AAAA;AAEnQ,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA;AAEb,QAAI,OAAO,WAAW;AACtB,QAAM,UAAU,QAAQ,IAAI;AAC5B,QAAM,YAAY,QAAQ,IAAI;AAC9B,QAAM,gBAAgB,QAAQ,IAAI;AAClC,YAAQ,IAAI;AACZ,QAAM,qBAAqB,QAAQ,IAAI;AACvC,uBAAmB,EAAE,KAAK,UAAU;AAClC,UAAI,SAAS,IAAI,IAAI;AACrB,UAAI,OAAO,OAAO,aAAa,IAAI;AACnC,UAAI,eAAe,IAAI,OAAO,QAAQ,YAAY;AAClD,UAAI,WAAW,MAAM,SAAS,MAAM;AACpC,UAAI,OAAO,MAAM,SAAS;AAC1B,UAAI,eAAe,KAAK;AACxB,UAAI,OAAO,MAAM,QAAQ;AACzB,UAAI,YAAY,MAAM,KAAK;AAC3B,aAAO,OAAO;AACd,UAAI,QAAQ,MAAM,4BAA4B,UAAU,OAAO,IAAI;AACnE,aAAO,aAAa;AACpB,UAAI,uBAAuB,yEAAyE,UAAU;AAC9G,UAAI,4BAA4B,MAAM,MAAM,sBAAsB;AAAA,QAChE,QAAQ;AAAA;AAEV,aAAO,4BAA4B,MAAM,0BAA0B;AACnE,cAAQ,IAAI,+BAA+B,KAAK,UAAU,QAAQ,MAAM;AACxE,aAAO;AAAA,QACL,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,UAAU;AAAA;AAAA;AAAA;AAIhB,+CAA2C,OAAO,QAAQ;AACxD,YAAM,OAAO,IAAI,KAAK,SAAS,QAAQ,EAAE,KAAK;AAC9C,UAAI,cAAc;AAAA,QAChB,KAAK;AAAA,QACL,UAAU;AAAA,QACV,SAAS,GAAG;AAAA;AAEd,aAAO,MAAM,KAAK,KAAK,UAAU;AAAA;AAEnC,4BAAwB,MAAM,cAAc;AAC1C,UAAI,aAAa;AACjB,UAAI,WAAW,GAAG;AAClB,aAAO,MAAM,MAAM,UAAU;AAAA,QAC3B,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,gBAAgB;AAAA;AAAA,QAElB,MAAM,cAAc,wBAAwB,2BAA2B,sBAAsB,qBAAqB;AAAA;AAAA;AAGtH,2BAAuB,cAAc;AACnC,UAAI,UAAU,GAAG;AACjB,aAAO,MAAM,MAAM,SAAS;AAAA,QAC1B,SAAS;AAAA,UACP,eAAe,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACjF/B;AAAA;AAAA,QAAI,aAAY,OAAO;AACvB,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA;AAEb,iBAAa,EAAE,KAAK,WAAW;AAC7B,cAAQ,IAAI,sBAAsB,KAAK,UAAU,KAAK,MAAM;AAC5D,aAAO;AAAA,QACL,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACfhB;AAAA;AAAA,QAAI,aAAY,OAAO;AACvB,QAAI,iBAAiB,CAAC,WAAW,WAAU,QAAQ,cAAc,EAAE,OAAO;AAC1E,QAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,qBAAe;AACf,eAAS,QAAQ;AACf,mBAAU,QAAQ,MAAM,EAAE,KAAK,IAAI,OAAO,YAAY;AAAA;AAE1D,aAAS,UAAS;AAAA,MAChB,KAAK,MAAM;AAAA;AAEb,QAAM,YAAY,QAAQ,IAAI;AAC9B,QAAM,UAAU,QAAQ,IAAI;AAC5B,uBAAmB,EAAE,KAAK,WAAW;AACnC,UAAI,SAAS,IAAI,IAAI;AACrB,UAAI,SAAS,OAAO,aAAa,IAAI;AACrC,cAAQ,IAAI,mBAAmB,KAAK,UAAU,QAAQ,MAAM;AAC5D,UAAI,eAAe,IAAI,OAAO,QAAQ,YAAY,MAAM;AACxD,UAAI,gBAAgB;AACpB,UAAI,QAAQ;AACZ,UAAI,cAAc,UAAU,WAAW,WAAW;AAClD,aAAO;AAAA,QACL,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,UAAU,GAAG,mCAAmC,2BAA2B,0BAA0B,sBAAsB,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACvBtJ,IAAM,EAAE,SAAS;AAEjB,QAAQ,UAAU,KAAK;AAAA,EACtB,QAAQ;AAAA,EACR,QAAQ,IAAI,IAAI,CAAC;AAAA,EACjB,GAAG;AAAA,IACF,MAAM,EAAC,QAAO;AAAA,IACd,OAAO,EAAC,QAAO,qBAAoB,MAAK,CAAC,qBAAoB,6BAA4B,qCAAoC,kCAAiC,OAAM,CAAC;AAAA,IACrK,OAAO;AAAA,MACN,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA,MACnC,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA,MACnC,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA,MACnC,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA;AAAA,IAEpC,QAAQ;AAAA,MACP;AAAA,QACC,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,GAAG,CAAC,GAAE;AAAA,QACN,GAAG,CAAC;AAAA;AAAA,MAEL;AAAA,QACC,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA;AAAA,MAE1C;AAAA,QACC,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA;AAAA,MAE1C;AAAA,QACC,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,GAAG,CAAC,GAAE;AAAA,QACN,GAAG,CAAC;AAAA;AAAA,MAEL;AAAA,QACC,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA;AAAA,MAE1C;AAAA,QACC,MAAM;AAAA,QACN,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,MAAM,MAAM,QAAQ,UAAU,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
